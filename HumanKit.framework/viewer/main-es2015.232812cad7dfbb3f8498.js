(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("ION/")},"ION/":function(e,t,n){"use strict";n.r(t);var l=n("8Y7J"),i=function(e){return e.Loft="loft",e.Studio="studio",e.Viewer="viewer",e.All="",e}({}),a=function(e){return e.Bookmark="bookmark",e.Module="module",e}({});const o={production:!0,assetDomain:"assets-human.biodigital.com",supportEmail:"support@biodigital.com",googleAuthKey:"66261904577-061oin26uo7sor0vrqc8dnn105irq82n.apps.googleusercontent.com",facebookAuthKey:"218801781466301",googleAnalyticsId:"UA-1141985-29",application:i.Viewer,exportType:a.Bookmark};var s=n("IheW"),r=n("lJxs");class c{intercept(e,t){return t.handle(e).pipe(Object(r.a)(e=>(e instanceof s.h&&e.body&&e.body.hasOwnProperty("results")&&(e=e.clone({body:e.body.results})),e)))}}var u=n("iInd");class p{parse(e){e=e.replace(/&amp;/g,"&");const t=(new u.c).parse(e);return this.ensureQueryParam(t.queryParams,"dk",e),this.ensureQueryParam(t.queryParams,"uaid",e),t}serialize(e){return(new u.c).serialize(e).replace(/%2F/g,"/")}ensureQueryParam(e,t,n){if(e.hasOwnProperty(t))return e;const l=this.getParameterByName(t,n);return null!==l&&(e[t]=l),e}getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}}class d{}var b=n("mrSG"),g=n("e1JD");class h{}let m=(()=>{class e{constructor(e,t,n){this.hostingURL=e,this.embedded=t,this.widgetConfig=n}}return e.type="[Widget] Setup Widget",e})(),_=(()=>{class e{constructor(e,t){this.interaction=e,this.source=t}}return e.type="[Widget] Log Interaction",e})(),f=(()=>{class e{constructor(e,t){this.interaction=e,this.response=t}}return e.type="[Widget] Log Interaction Success",e})(),y=(()=>{class e{constructor(e,t){this.interaction=e,this.response=t}}return e.type="[Widget] Log Interaction Failure",e})(),v=(()=>{class e{constructor(){}}return e.type="[Widget] Auth",e})(),x=(()=>{class e{constructor(e,t){this.userType=e,this.response=t}}return e.type="[Widget] Auth Success",e})(),O=(()=>{class e{constructor(e,t){this.userType=e,this.response=t}}return e.type="[Widget] Auth Failure",e})(),C=(()=>{class e{constructor(){}}return e.type="[Widget] Reset",e})(),w=(()=>{class e{constructor(e){this.enabled=e}}return e.type="[Widget] Set Input Enabled",e})(),j=(()=>{class e{constructor(e){this.config=e}}return e.type="[Widget] Set API Config",e})();var k=n("LRne"),S=n("JIr8"),P=function(e){return e.InvalidUAID="analytic id does not exist",e.InvalidDeveloperId="Client id invalid",e.InvalidProductKey="app product key",e.MissingUAID="analytic id missing",e.WebOnlyAPI="Api key only compatible with Web Widget",e.AndroidOnlyAPI="Api key only compatible with Mobile Widget SDK for Android",e.IOSOnlyAPI="Api key only compatible with Mobile Widget SDK for iOS",e.MixedAPIKeys="Use of both an app product key and an app api key not allowed",e.ProductKeyNotRegistered='App product key "xxx" has not been registered or is incorrect.  Ensure it has been registered by the system admin',e.ProductKeyInvalidAppBundleID='The app product key "xxx" has not been authorized to be used for app bundle id "yyy".  Confirm the correct values are being used from the system admin',e.ProductKeyBundleIDWhitelist='Use of app product key "xxx" requires the affiliated app bundle id (app_domain) to be white-listed.  Ensure the system admin has white-listed "yyy"',e.ImproperProductKeyUsage='Improper use of app product key "xxx" detected. Contact the system admin if issue continues',e.InvalidPlatformSource="Invalid platform source",e.MissingSource="Missing source",e.MissingPlatform="Missing platform",e.MissingAppDomain="Missing app domain",e.APIKeyMissing="Api key missing",e.APIKeyInvalid="Api key invalid",e.DeveloperDeactivated="Developer account for api key is deactivated",e.BundleIDNotAllowed="App bundle id not allowed",e.BundleIDUnregistered="App bundle id unregistered",e}({});class M{}const H={headers:new s.g({"Content-Type":"application/json; charset=utf-8"})};let I=(()=>{class e{constructor(e){this.http=e}getAnalytic(e){return this.http.get(`/ws/user/analytics?analytic_id=${e}`).pipe(Object(r.a)(()=>({success:!0})),Object(S.a)(e=>Object(k.a)(this.parseError(e))))}sendAnalytic(e){return this.http.post(e instanceof M?"/ws/user/analytics":"/ws/developer/apps/access/key",e,H).pipe(Object(r.a)(()=>({success:!0})),Object(S.a)(e=>Object(k.a)(this.parseError(e))))}parseError(e){const t=e.error.error,n=e.status,l=t&&t.message?t.message:"";return{success:n>=500&&n<=504,message:l,errorCode:Object.values(P).includes(l)?l:null}}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(s.c))},token:e,providedIn:"root"}),e})(),T=(()=>{class e{constructor(e){this.analyticsService=e}authDeveloper(e){return this.analyticsService.sendAnalytic(e)}authUser(e){return this.analyticsService.getAnalytic(e)}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(I))},token:e,providedIn:"root"}),e})();var z=n("nYR2");class F{}class L{}var E=function(e){return e[e.User=0]="User",e[e.Developer=1]="Developer",e}({}),N=function(e){return e.Widget="widget",e.WidgetAPI="widgetapi",e}({}),R=function(e){return e.Init="init",e.View="view",e.ChanceInteraction="interactionc",e.FirstInteraction="interactionf",e}({}),A=n("b36G");const D={userType:E.User,authenticating:!1,authenticated:!1,widgetUrlConfig:{id:"",type:""},widgetApiConfig:null,parentUrl:{full:"",domain:""},embedded:!1,engineVersion:"",engineAPIVersion:"",inputEnabled:!0};let U=(()=>{let e=class{constructor(e,t){this.authService=e,this.analyticsService=t}static getUserType(e){return e.userType}static getWidgetAuthenticating(e){return e.authenticating}static getWidgetAuthenticated(e){return e.authenticated}static getInputEnabled(e){return e.inputEnabled}static getEmbedded(e){return e.embedded}static getParentURL(e){return e.parentUrl.full}static getWidgetUrlConfig(e){return e.widgetUrlConfig}static getWidgetApiUIConfig(e){return e.widgetApiConfig}setupWidget(e,{hostingURL:t,embedded:n,widgetConfig:l}){const i=t.match(/:\/\/(.[^/]+)/);e.patchState({userType:l.uaid?E.User:E.Developer,embedded:n,widgetUrlConfig:l,parentUrl:{full:t,domain:i&&i[1]?i[1]:t}})}authWidget(e,t){const n=e.getState(),{userType:l,widgetUrlConfig:i}=n,a=l===E.User?this.authService.authUser(i.uaid):this.authService.authDeveloper(this.buildDeveloperAnalytic(n,R.Init,N.WidgetAPI));e.patchState({authenticating:!0}),a.pipe(Object(z.a)(()=>e.patchState({authenticating:!1}))).subscribe(t=>{const n=t.success;e.patchState({authenticated:n}),e.dispatch(n?new x(l,t):new O(l,t))})}logWidgetInteraction(e,{interaction:t,source:n}){const l=e.getState(),i=l.userType===E.User?this.buildUserAnalytic(l,t,n):this.buildDeveloperAnalytic(l,t);this.analyticsService.sendAnalytic(i).subscribe(n=>{e.dispatch(n.success?new f(t,n):new y(t,n))})}resetWidget(e,t){e.setState(D)}buildAppActivityData(e){const{engineVersion:t,engineAPIVersion:n,widgetUrlConfig:l}=e,i={engine_version:t,api_version:n};return Object.entries(l).filter(([e])=>"dk"!==e).forEach(([e,t])=>{i[`url_param_${e}`]=t}),Object(A.plainToClass)(L,i)}setInputEnabled(e,t){e.patchState({inputEnabled:t.enabled})}setWidgetApiConfig(e,t){e.patchState({widgetApiConfig:t.config})}buildUserAnalytic(e,t,n){const{widgetUrlConfig:l,parentUrl:i}=e,a=l.uaid,o=i.domain,s=Object.assign({},this.buildAppActivityData(e),{parent_analytic_identifier:a,referer_domain:o,[`${t}_source`]:n}),r={analytic_platform:N.Widget,analytic_type:t,analytic_data:s};return Object(A.plainToClass)(M,r)}buildDeveloperAnalytic(e,t,n=N.Widget){const{widgetUrlConfig:l,parentUrl:i,embedded:a}=e,o=this.buildAppActivityData(e),s={platform:n,app_activity:t,app_productkey:l["app-productkey"],app_userid:l["app-userid"],app_apikey:l.dk,app_domain:i.domain,app_activity_data:o,widget_is_fullscreen:!a};return Object(A.plainToClass)(F,s)}ngxsOnInit(e){e.patchState({engineVersion:Human.VERSION,engineAPIVersion:Human.API_VERSION})}};return Object(b.__decorate)([Object(g.a)(m),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,m]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setupWidget",null),Object(b.__decorate)([Object(g.a)(v),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,v]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"authWidget",null),Object(b.__decorate)([Object(g.a)(_),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,_]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"logWidgetInteraction",null),Object(b.__decorate)([Object(g.a)(C),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,C]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetWidget",null),Object(b.__decorate)([Object(g.a)(w),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,w]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setInputEnabled",null),Object(b.__decorate)([Object(g.a)(j),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,j]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setWidgetApiConfig",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[h]),Object(b.__metadata)("design:returntype",void 0)],e,"getUserType",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[h]),Object(b.__metadata)("design:returntype",void 0)],e,"getWidgetAuthenticating",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[h]),Object(b.__metadata)("design:returntype",void 0)],e,"getWidgetAuthenticated",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[h]),Object(b.__metadata)("design:returntype",void 0)],e,"getInputEnabled",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[h]),Object(b.__metadata)("design:returntype",void 0)],e,"getEmbedded",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[h]),Object(b.__metadata)("design:returntype",void 0)],e,"getParentURL",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[h]),Object(b.__metadata)("design:returntype",void 0)],e,"getWidgetUrlConfig",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[h]),Object(b.__metadata)("design:returntype",void 0)],e,"getWidgetApiUIConfig",null),Object(b.__decorate)([Object(g.g)({name:"widget",defaults:D})],e)})();var B,$=n("XNiG"),V=n("HDdC"),Q=n("1G5W"),G=n("pLZG");!function(e){class t{constructor(e){this.canHover=e}}t.type="[View] Set Can Hover",e.SetCanHover=t;class n{constructor(e){this.canTouch=e}}n.type="[View] Set Can Touch",e.SetCanTouch=n;class l{constructor(e){this.canFullscreen=e}}l.type="[View] Set Can Fullscreen",e.SetCanFullscreen=l;class i{constructor(e){this.layout=e}}i.type="[View] Set Layout",e.SetLayout=i;class a{constructor(e){this.layout=e}}a.type="[View] Set Initial Layout",e.SetInitialLayout=a;class o{constructor(e){this.enabled=e}}o.type="[View] Set Input Enabled",e.SetInputEnabled=o;class s{constructor(e){this.mode=e}}s.type="[View] Set Search Display Mode",e.SetSearchDisplayMode=s;class r{constructor(e){this.active=e}}r.type="[View] Toggle Presentation",e.TogglePresentation=r;class c{constructor(e){this.show=e}}c.type="[View] Toggle Help",e.ToggleHelp=c;class u{constructor(e){this.show=e}}u.type="[View] Toggle Loader",e.ToggleLoader=u;class p{constructor(e){this.loaderType=e}}p.type="[View] Set Loader Mode",e.SetLoaderType=p;class d{constructor(e){this.show=e}}d.type="[View] Toggle Node Info",e.ToggleNodeInfo=d;class b{constructor(e){this.enabled=e}}b.type="[View] Set multi pick mode enabled",e.SetMultiPickModeEnabled=b;class g{constructor(e){this.labelsBreakpoint=e}}g.type="[View] Set label breakpoint",e.SetLabelBreakpoint=g;class h{constructor(e){this.usePrintImage=e}}h.type="[View] Set use print image",e.SetUsePrintImage=h}(B||(B={}));let W=(()=>{class e{constructor(e,t,n){this.store=e,this.router=t,this.analyticsService=n,this.title="Biodigital Human",this.ngUnsubscribe=new $.a,n.init(o.googleAnalyticsId)}ngOnInit(){this.initPageAnalytics(),this.initInputObserver()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initInputObserver(){this.inputEnabled$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.store.dispatch(new B.SetInputEnabled(e))})}initPageAnalytics(){this.router.events.pipe(Object(G.a)(e=>e instanceof u.d),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.analyticsService.logPageView(e.urlAfterRedirects)})}}return Object(b.__decorate)([Object(g.e)(U.getInputEnabled),Object(b.__metadata)("design:type",V.a)],e.prototype,"inputEnabled$",void 0),e})();var J=n("t68o"),q=n("NcP4"),K=n("xYTU"),X=n("D2NE"),Z=n("pMnS"),Y=n("SVse");class ee{constructor(){this.display="block",this.theme="dark",this.isCompact=!1}ngOnInit(){}}var te=l.tb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.field[_ngcontent-%COMP%]{padding-bottom:16px;display:block;width:100%}.field--light[_ngcontent-%COMP%]   .field__label[_ngcontent-%COMP%]{color:#6a82a4}.field--dark[_ngcontent-%COMP%]   .field__label[_ngcontent-%COMP%]{color:#96a8c0}.field--inline[_ngcontent-%COMP%]{display:inline-block;width:auto}.field--compact[_ngcontent-%COMP%]{padding-bottom:0}.field__help[_ngcontent-%COMP%]:not(:empty){padding-top:8px}"]],data:{}});function ne(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"label",[["class","field__label text-uppercase text-10"]],null,null,null,null,null)),(e()(),l.Pb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.label)}))}function le(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,9,"div",[["class","field"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"field--light":0,"field--dark":1,"field--inline":2,"field--compact":3}),(e()(),l.lb(16777216,null,null,1,null,ne)),l.ub(5,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(6,0,null,null,3,"div",[["class","field__input mt-1"]],null,null,null,null,null)),l.Gb(null,0),(e()(),l.vb(8,0,null,null,1,"div",[["class","field__help text-dim text-11"]],null,null,null,null,null)),l.Gb(null,1)],(function(e,t){var n=t.component,l=e(t,3,0,"light"===n.theme,"dark"===n.theme,"inline"===n.display,n.isCompact);e(t,2,0,"field",l),e(t,5,0,n.label)}),null)}var ie=n("s7LF");class ae{get iconClass(){let e=`fas fa-${this.icon}`;return this.size&&(e+=` fa-${this.size}`),e}constructor(){}ngOnInit(){}}var oe=l.tb({encapsulation:2,styles:[[""]],data:{}});function se(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,2,"i",[],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{ngClass:[0,"ngClass"]},null)],(function(e,t){e(t,2,0,t.component.iconClass)}),null)}class re{constructor(){}onClick(e){e.stopPropagation(),e.stopImmediatePropagation()}}var ce=n("Z5h4"),ue=n("r0V8"),pe=n("5GAg"),de=n("omvX");class be{constructor(e){this.changeRef=e,this.toggleType="none",this.isCompact=!1,this.opened=new l.n,this.disabled=!1,this.onChange=()=>{},this.onTouched=()=>{},this.propagateChange=e=>{}}get open(){return this._open}set open(e){e!==this.open&&(this._open=e,this.value=e)}get value(){return this._value}set value(e){e!==this.value&&(this._value=e,this.open=e,this.propagateChange(this.value),this.changeRef.markForCheck())}ngOnInit(){}handleClickHeader(){"none"===this.toggleType||this.disabled||(this.open=!this.open,this.opened.emit(this.open))}writeValue(e){this.value=e}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}var ge=l.tb({encapsulation:0,styles:[[".panel[_ngcontent-%COMP%]{border-top:1px solid #1c2a3f}.theme-light[_nghost-%COMP%]   .panel[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel[_ngcontent-%COMP%]{border-top:1px solid #eaeff5}.panel--static[_ngcontent-%COMP%]   .panel__header[_ngcontent-%COMP%]:hover{cursor:default}.panel--open[_ngcontent-%COMP%]{box-shadow:inset 4px 0 #2d72dc}.theme-light[_nghost-%COMP%]   .panel--open[_ngcontent-%COMP%]   .panel__header[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel--open[_ngcontent-%COMP%]   .panel__header[_ngcontent-%COMP%]{background-color:#fff}.panel--open[_ngcontent-%COMP%]   .panel__label[_ngcontent-%COMP%]{color:#fff}.theme-light[_nghost-%COMP%]   .panel--open[_ngcontent-%COMP%]   .panel__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel--open[_ngcontent-%COMP%]   .panel__label[_ngcontent-%COMP%]{color:#101823}.panel--open[_ngcontent-%COMP%]   .panel__body[_ngcontent-%COMP%]{display:block}.panel--closed[_ngcontent-%COMP%]   .panel__body[_ngcontent-%COMP%]{display:none}.panel--compact[_ngcontent-%COMP%]   .panel__body[_ngcontent-%COMP%]{padding:4px 12px 12px}.panel--compact[_ngcontent-%COMP%]   .panel__header[_ngcontent-%COMP%]{padding:10px 8px}.panel__header[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;word-break:break-word;padding:12px 16px;-webkit-box-pack:justify;justify-content:space-between;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.panel__header[_ngcontent-%COMP%]:hover{cursor:pointer}.panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__label[_ngcontent-%COMP%]{color:#fff}.theme-light[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__label[_ngcontent-%COMP%]{color:#101823}.panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__actions[_ngcontent-%COMP%], .panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__toggle--arrow[_ngcontent-%COMP%]{visibility:visible}.panel__actions[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 1 auto;white-space:nowrap;visibility:hidden}.panel__actions[_ngcontent-%COMP%] + .panel__toggle[_ngcontent-%COMP%]{margin-left:8px}.panel__label[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;color:#d7e0ea;-webkit-box-align:center;align-items:center}.theme-light[_nghost-%COMP%]   .panel__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel__label[_ngcontent-%COMP%]{color:#283853;font-weight:700}.panel__body[_ngcontent-%COMP%]{display:block;padding:12px 12px 16px}.panel__toggle[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-box-flex:0;flex:0 0 16px}.panel__toggle--arrow[_ngcontent-%COMP%]{visibility:hidden}"]],data:{}});function he(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,"div",[["class","panel__toggle panel__toggle--arrow rotate--animate"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"rotate-90":0,"rotate-0":1}),(e()(),l.vb(4,0,null,null,1,"app-icon",[["icon","angle-right"]],null,null,null,se,oe)),l.ub(5,114688,null,0,ae,[],{icon:[0,"icon"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.open,!n.open);e(t,2,0,"panel__toggle panel__toggle--arrow rotate--animate",l),e(t,5,0,"angle-right")}),null)}function me(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"div",[["appEventFence",""],["class","panel__toggle panel__toggle--checkbox"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,1).onClick(n,n.target)&&i),i}),null,null)),l.ub(1,16384,null,0,re,[],null,null),(e()(),l.vb(2,0,null,null,2,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==(e.component.open=n.checked)&&l),l}),ce.b,ce.a)),l.Mb(5120,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(4,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],{checked:[0,"checked"],disabled:[1,"disabled"]},{change:"change"})],(function(e,t){var n=t.component;e(t,4,0,n.open,n.disabled)}),(function(e,t){e(t,2,0,l.Hb(t,4).id,null,l.Hb(t,4).indeterminate,l.Hb(t,4).checked,l.Hb(t,4).disabled,"before"==l.Hb(t,4).labelPosition,"NoopAnimations"===l.Hb(t,4)._animationMode)}))}function _e(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,null,null,null,null,null,null,null)),l.ub(1,16384,null,0,Y.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.lb(16777216,null,null,1,null,he)),l.ub(3,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,me)),l.ub(5,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,1,0,t.component.toggleType),e(t,3,0,"arrow"),e(t,5,0,"checkbox")}),null)}function fe(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,7,"div",[["class","panel__header"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleClickHeader()&&l),l}),null,null)),(e()(),l.vb(1,0,null,null,1,"div",[["class","panel__label text-12"]],null,null,null,null,null)),(e()(),l.Pb(2,null,["",""])),(e()(),l.vb(3,0,null,null,2,"div",[["appEventFence",""],["class","panel__actions"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,4).onClick(n,n.target)&&i),i}),null,null)),l.ub(4,16384,null,0,re,[],null,null),l.Gb(null,0),(e()(),l.lb(16777216,null,null,1,null,_e)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,7,0,"none"!==t.component.toggleType)}),(function(e,t){e(t,2,0,t.component.label)}))}function ye(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,7,"div",[["class","panel"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"panel--static":0,"panel--disabled":1,"panel--open":2,"panel--closed":3,"panel--compact":4}),(e()(),l.lb(16777216,null,null,1,null,fe)),l.ub(5,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(6,0,null,null,1,"div",[["class","panel__body"]],null,null,null,null,null)),l.Gb(null,1)],(function(e,t){var n=t.component,l=e(t,3,0,"none"===n.toggleType,n.disabled,n.open,!1===n.open,n.isCompact);e(t,2,0,"panel",l),e(t,5,0,n.label)}),null)}var ve=n("elxJ"),xe=n("Ourk"),Oe=n("8bJo"),Ce=n("2Q+G"),we=n("gavF"),je=n("2Vo4"),ke=n("Zy1z");class Se{constructor(e){this.changeDetector=e,this.display="normal",this.activeTabChange=new l.n,this._activeTab=new je.a(0),this.tabSize="small",this.ngUnsubscribe=new $.a}get activeTab(){return this._activeTab.value}set activeTab(e){null!=e&&("string"==typeof e&&(e=e.toUpperCase()),this._activeTab.next(e))}get tabItems(){return this._tabItems}set tabItems(e){this._tabItems=e}ngOnInit(){}ngAfterContentInit(){this._tabs.changes.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.mapTabs(),this.changeDetector.markForCheck()}),this.mapTabs(),this._activeTab.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.showTab(e)}),this._activeTab.pipe(Object(ke.a)(),Object(G.a)(([e,t])=>e!==t),Object(Q.a)(this.ngUnsubscribe)).subscribe(([e,t])=>{this.activeTabChange.next(t)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleTabSelect(e){this._activeTab.next(e.index)}mapTabs(){this.tabItems=this._tabs.map((e,t)=>({index:t,label:e.label||`Item ${t}`,tab:e}))}showTab(e){this._tabs.forEach((t,n)=>{switch(typeof e){case"number":t.isActive=e===n;break;case"string":t.isActive=e.toString().toUpperCase()===t.label.toUpperCase()}}),this.changeDetector.markForCheck()}isTabActive(e){return("string"==typeof this._activeTab.value?e.label.toUpperCase():e.index)===this._activeTab.value}}var Pe=l.tb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.tabs__labels[_ngcontent-%COMP%]{margin-bottom:8px}.tabs__label[_ngcontent-%COMP%]{color:#96a8c0;padding:2px 4px 4px;margin-right:8px;font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative}.tabs__label[_ngcontent-%COMP%]:after{content:'';display:block;border-bottom:3px solid #0060c4;margin-top:4px;width:0;-webkit-transition:.25s;transition:.25s ease;position:absolute;bottom:0;left:0}.tabs__label[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.tabs__label--active[_ngcontent-%COMP%]{color:#fff}.tabs__label--active[_ngcontent-%COMP%]:after{width:100%}.tabs--medium[_ngcontent-%COMP%]   .tabs__label[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.tabs--medium[_ngcontent-%COMP%]   .tabs__label--active[_ngcontent-%COMP%]{border-bottom:2px solid #0060c4}.theme-light[_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]{color:#374a68;font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.theme-light[_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]:after, .theme-light   [_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]:after{border-color:#1c5ab9}.theme-light[_nghost-%COMP%]   .tabs__label--active[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .tabs__label--active[_ngcontent-%COMP%], .theme-light[_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]:hover, .theme-light   [_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]:hover{color:#283853}"]],data:{}});function Me(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"a",[["class","tabs__label"]],[[2,"tabs__label--active",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleTabSelect(e.parent.context.$implicit)&&l),l}),null,null)),(e()(),l.vb(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Pb(2,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.isTabActive(t.parent.context.$implicit)),e(t,2,0,t.parent.context.$implicit.label)}))}function He(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Me)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!t.context.$implicit.tab.linkExternal)}),null)}function Ie(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,8,"div",[["class","tabs"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"tabs--small":0,"tabs--medium":1}),(e()(),l.vb(4,0,null,null,2,"div",[["class","tabs__labels"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,He)),l.ub(6,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),(e()(),l.vb(7,0,null,null,1,"div",[["class","tabs__content"]],null,null,null,null,null)),l.Gb(null,0)],(function(e,t){var n=t.component,l=e(t,3,0,"small"==n.tabSize,"medium"==n.tabSize);e(t,2,0,"tabs",l),e(t,6,0,n.tabItems)}),null)}class Te{constructor(e){this.changeDetector=e,this.hide=!1,this._isActive=!1}get isActive(){return this._isActive}set isActive(e){this._isActive=e,this.changeDetector.markForCheck()}ngOnInit(){}}var ze=l.tb({encapsulation:0,styles:[[""]],data:{}});function Fe(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"div",[],null,null,null,null,null)),l.Gb(null,0)],null,null)}function Le(e){return l.Rb(2,[(e()(),l.lb(16777216,null,null,1,null,Fe)),l.ub(1,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.isActive)}),null)}var Ee=function(e){return e.XSmall="xsmall",e.Small="small",e.Medium="medium",e.Large="large",e}({}),Ne=function(e){return e.Default="default",e.Flat="flat",e.Primary="primary",e.Outline="outline",e.Text="text",e}({}),Re=function(e){return e.Default="default",e.Circle="circle",e}({}),Ae=function(e){return e.Dark="dark",e.Light="light",e.Themed="themed",e}({}),De=function(e){return e.Left="left",e.Center="center",e}({});class Ue{constructor(){this.buttonSize=Ee.Medium,this.buttonType=Ne.Default,this.buttonTheme=Ae.Dark,this.buttonShape=Re.Default,this.buttonAlign=De.Center,this.uppercase=!0,this.selected=!1,this.expanded=!1,this.bordered=!0}ngOnInit(){}}var Be=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}button[app-button]{border-color:transparent;background:0 0;border-width:0;padding:0;margin:0}button[app-button]:not([disabled]):hover{cursor:pointer}.app-button{font-size:12px;letter-spacing:.3px;line-height:1.4em;-webkit-box-align:center;align-items:center;border-radius:4px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;padding:0 16px;position:relative;text-align:center;-webkit-transition:background-color .12s;transition:background-color .12s;width:100%}.app-button:after{content:\" \";background-color:#283853;border-radius:4px;display:block;position:absolute;left:0;top:0;bottom:0;right:0;opacity:0;z-index:1;-webkit-transition:opacity 60ms;transition:opacity 60ms}.app-button:not(.app-button--disabled):hover:after{opacity:.7}.app-button__container{position:relative;z-index:2;width:100%}.app-button--uppercase{text-transform:uppercase}.app-button--expanded{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1}.app-button--xsmall{height:24px;min-width:24px;padding:0 8px;font-size:10px;letter-spacing:.25px;line-height:1.4em}.app-button--small{height:32px;min-width:32px;padding:0 12px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.app-button--medium{height:36px;min-width:36px;padding:0 16px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.app-button--large{height:48px;min-width:48px;padding:0 16px;font-size:14px;letter-spacing:.35px;line-height:1.4em}.app-button--no-border,.app-button--no-border:after{border-radius:0!important}.app-button--left{text-align:left}.app-button--themed{color:#374a68;color:var(--app-button-color)}.app-button--themed:hover{color:#1c2a3f;color:var(--app-button-color--hover)}.app-button--themed:after{background-color:#d7e0ea;background-color:var(--app-button-bg--hover)}.app-button--dark{color:#d7e0ea}.app-button--dark:hover{color:#fff}.app-button--dark:after{background-color:#283853}.app-button--dark.app-button--flat{background:#374a68}.app-button--dark.app-button--default{background:0 0}.app-button--dark.app-button--outline{background:0 0;border:1px solid #374a68;-webkit-transition:border-color .12s;transition:border-color .12s}.app-button--dark.app-button--outline:hover{border-color:#96a8c0}.app-button--dark.app-button--outline:hover:after{background-color:transparent;display:none}.app-button--dark.app-button--text{background:0 0;color:#d7e0ea}.app-button--dark.app-button--text:hover{color:#fff}.app-button--dark.app-button--text:hover:after{display:none}.app-button--dark.app-button--selected{background-color:#1c5ab9;color:#fff}.app-button--dark.app-button--selected:hover:after{display:none}.app-button--light{color:#283853}.app-button--light:hover{color:#1c2a3f}.app-button--light:after{background-color:#96a8c0}.app-button--light:not(.app-button--disabled):hover:after{opacity:.6}.app-button--light.app-button--flat{background:#d7e0ea;font-weight:500}.app-button--light.app-button--flat.app-button--selected{background-color:#96a8c0}.app-button--light.app-button--default{background:0 0;color:#131c2a}.app-button--light.app-button--default:not(.app-button--disabled):hover:after{opacity:.2}.app-button--light.app-button--outline{background:0 0;border:1px solid #96a8c0;color:#283853;-webkit-transition:border-color .12s;transition:border-color .12s}.app-button--light.app-button--outline:after{display:none}.app-button--light.app-button--outline:hover{background:rgba(55,74,104,.05);border-color:#374a68;color:#1c2a3f}.app-button--light.app-button--outline:hover:after{background-color:transparent}.app-button--light.app-button--selected{background-color:#eaeff5}.app-button--light.app-button--selected:hover:after{display:none}.app-button--light.app-button--text{color:#6a82a4}.app-button--light.app-button--text:hover{color:#1c2a3f}.app-button--light.app-button--text:hover:after{display:none}.app-button.app-button--primary{background:#de3838;color:#fff}.app-button.app-button--primary:after{background:#f9fafd}.app-button.app-button--primary:hover:after{opacity:.1}.app-button--selected{background-color:#1c5ab9}.app-button--disabled{opacity:.5}.app-button--circle{border-radius:50%}.app-button--circle.app-button--xsmall{width:24px}.app-button--circle.app-button--small{width:32px;padding:0 6px}.app-button--circle.app-button--medium{width:36px;padding:0 8px}.app-button--circle.app-button--large{width:48px}.app-button--circle:after{border-radius:50%}"]],data:{}});function $e(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,5,"div",[["class","app-button"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"app-button--xsmall":0,"app-button--small":1,"app-button--medium":2,"app-button--large":3,"app-button--flat":4,"app-button--default":5,"app-button--primary":6,"app-button--outline":7,"app-button--text":8,"app-button--light":9,"app-button--dark":10,"app-button--themed":11,"app-button--circle":12,"app-button--selected":13,"app-button--uppercase":14,"app-button--disabled":15,"app-button--no-border":16,"app-button--expanded":17,"app-button--left":18}),(e()(),l.vb(4,0,null,null,1,"div",[["class","app-button__container"]],null,null,null,null,null)),l.Gb(null,0)],(function(e,t){var n=t.component,l=e(t,3,1,["xsmall"==n.buttonSize,"small"==n.buttonSize,"medium"==n.buttonSize,"large"==n.buttonSize,"flat"==n.buttonType,"default"==n.buttonType,"primary"==n.buttonType,"outline"==n.buttonType,"text"==n.buttonType,"light"==n.buttonTheme,"dark"==n.buttonTheme,"themed"==n.buttonTheme,"circle"==n.buttonShape,n.selected,n.uppercase,n.disabled,!n.bordered,n.expanded,"left"===n.buttonAlign]);e(t,2,0,"app-button",l)}),null)}var Ve,Qe=n("QQfA"),Ge=n("IP0z"),We=n("P8j/");class Je{constructor(e,t,n,l=1){this.red=e,this.green=t,this.blue=n,this.alpha=l}}!function(e){const t=/(\s*[\d\.]+\s*,){2,15}\s*[\d\.]+\s*/g;function n(e){for(let t=0;t<3;t++)if(parseFloat(`${e[t]}`)>1)return!0;return!1}function l(e){const t=document.createElement("div");t.style.backgroundColor=e,document.documentElement.appendChild(t);const n=window.getComputedStyle(t).backgroundColor.replace(/\s/g,"");return window.document.documentElement.removeChild(t),n}function i(e){const t=e.slice(0,4);3===t.length&&t.push(1);for(let n=0;n<4;n++)t[n]=parseFloat(`${t[n]}`),t[n]<0&&(t[n]=0),t[n]>255&&(t[n]=255);return t[3]>1&&(t[3]=1),t}function a(e){let n;if(Array.isArray(e))n=i(e);else if("string"==typeof e){let a=e.match(t);a?n=i(a[0].split(",")):(a=l(e).match(t))&&(n=i(a[0].split(",")))}return n}function o(e){const t=a(e);if(!t)throw new TypeError("Invalid color input.");const l=s(t);return{1:n(t)?l:t,255:n(t)?t:l}}function s(e){const t=n(e),l=[];for(let n=0;n<3;n++){let i=t?e[n]/255:255*e[n];i=t?Math.round(100*i)/100:Math.round(i),l.push(i)}return 4===e.length&&l.push(e[3]),l}function r(e,t=!1){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,n,l)=>[t,t,n,n,l,l].join("")).replace(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,(e,t,n,l)=>[t,n,l,"ff"].join(""));const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),l=parseInt(n[1],16),i=parseInt(n[2],16),a=parseInt(n[3],16),o=parseInt(n[4],16)/255;if(t){const e=u([l,i,a]);return[e[0],e[1],e[2],o]}return[l,i,a,o]}function c(e){const[t,n,l]=e;return Math.sqrt(t*t*.299+n*n*.587+l*l*.114)}function u(e){return e.map(e=>e/255)}function p(e){return e.map(e=>Math.round(255*e))}function d(e){return`#${e.map(e=>{const t=e.toString(16);return t.length%2?`0${t}`:t}).join("")}`}e.is255=n,e.isLight=function(e,t){return t||(t=[...e]),(c(e)+c(t))/2>140.25},e.getComputedColor=l,e.convertChannels=i,e.convert=a,e.getColor=o,e.getColors=function(e){let n=[];if("string"==typeof e){const n=e.match(t);n&&(e=n.join(",")),e=e.split(",")}if(Array.isArray(e))if(Array.isArray(e[0])&&Array.isArray(e[1]))n=e;else if(e.length<=2)n=1===e.length?e.concat(e):e;else{const t=Math.floor(e.length/2);n=e.length>4?[e.slice(0,t),e.slice(t)]:[e,e]}return n.map(e=>o(e))},e.scaleColor=s,e.hexToRgba=r,e.hexToRgb=function(e,t=!1){const n=r(e,t);return[n[0],n[1],n[2]]},e.rgbToHex=function(e,t=!1){return d(t?p(e):e)},e.rgbToHSP=c,e.rgbaToHex=function(e,t=!1){const n=e[0],l=e[1],i=e[2],a=255*e[3];return d(t?[...p([n,l,i]),a]:[n,l,i,a])},e.rgbToDecimal=u,e.rgbFromDecimal=p}(Ve||(Ve={}));class qe{constructor(){this.size="normal",this.colorSelected=new l.n,this.colorHexSelected=new l.n}get colorHex(){return this.getHexFromColor(this.color)}get backgroundCSS(){if(this.color){const{red:e,green:t,blue:n,alpha:l}=this.color;return`rgba(${255*e}, ${255*t}, ${255*n}, ${l})`}return""}ngOnInit(){}handleColorPickerChange(e){const t=e?this.getColorFromHex(e):null;this.colorSelected.emit(t),this.colorHexSelected.emit(e)}getColorFromHex(e){const t=Ve.hexToRgba(e,!0);return new Je(t[0],t[1],t[2],t[3])}getHexFromColor(e){if(e){const{red:t,green:n,blue:l,alpha:i}=e;return Ve.rgbaToHex([t,n,l,i],!0)}return""}}var Ke=l.tb({encapsulation:0,styles:[[".picker[_ngcontent-%COMP%]{display:inline-block;width:32px;height:32px;border-radius:50%;border:1px solid #6a82a4;background-color:transparent}.picker--small[_ngcontent-%COMP%]{width:24px;height:24px}.picker--large[_ngcontent-%COMP%]{width:48px;height:48px}"]],data:{}});function Xe(e){return l.Rb(2,[(e()(),l.vb(0,16777216,null,null,1,"div",[["class","picker"]],[[2,"picker--small",null],[2,"picker--normal",null],[2,"picker--large",null],[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1).handleClick()&&i),"focus"===t&&(i=!1!==l.Hb(e,1).handleFocus()&&i),"input"===t&&(i=!1!==l.Hb(e,1).handleInput(n)&&i),"colorPickerChange"===t&&(i=!1!==a.handleColorPickerChange(n)&&i),i}),null,null)),l.ub(1,671744,null,0,We.b,[l.r,l.k,l.g,l.Q,l.l,We.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"]},{colorPickerChange:"colorPickerChange"})],(function(e,t){var n=t.component;e(t,1,0,n.colorHex,"hex",n.alphaEnabled?"always":"disabled")}),(function(e,t){var n=t.component;e(t,0,0,"small"===n.size,"normal"===n.size,"large"===n.size,n.backgroundCSS)}))}class Ze{}let Ye=(()=>{class e{constructor(e){this.widgetURL=e}}return e.type="[Publish] Set Widget URL",e})(),et=(()=>{class e{constructor(e){this.dimensions=e}}return e.type="[Publish] Set Dimensions",e})(),tt=(()=>{class e{constructor(e,t,n){this.model=e,this.widgetOptions=t,this.camera=n}}return e.type="[Publish] Get iFrame",e})(),nt=(()=>{class e{constructor(e){this.embed=e}}return e.type="[Publish] Get iFrame Success",e})(),lt=(()=>{class e{constructor(){}}return e.type="[Publish] Get iFrame Fail",e})(),it=(()=>{class e{constructor(e,t,n){this.model=e,this.widgetOptions=t,this.camera=n}}return e.type="[Publish] Get URL",e})(),at=(()=>{class e{constructor(e,t){this.model=e,this.url=t}}return e.type="[Publish] Get URL Success",e})(),ot=(()=>{class e{constructor(e){this.model=e}}return e.type="[Publish] Get URL Fail",e})(),st=(()=>{class e{constructor(e){this.publishing=e}}return e.type="[Publish] Set Publishing",e})(),rt=(()=>{class e{constructor(){}}return e.type="[Publish] Reset Publishing",e})(),ct=(()=>{class e{constructor(e){this.imageData=e}}return e.type="[Publish] Save Publish Image",e})(),ut=(()=>{class e{constructor(e){this.imageURL=e}}return e.type="[Publish] Save Publish Image Success",e})(),pt=(()=>{class e{constructor(){}}return e.type="[Publish] Save Publish Image Fail",e})(),dt=(()=>{class e{constructor(e,t,n,l){this.model=e,this.imageData=t,this.widgetOptions=n,this.camera=l}}return e.type="[Publish] Get Publish Image Code",e})(),bt=(()=>{class e{constructor(e){this.embed=e}}return e.type="[Publish] Get Publish Image Code Success",e})(),gt=(()=>{class e{constructor(){}}return e.type="[Publish] Get Publish Image Code Fail",e})();var ht=n("cp0P");class mt{constructor(){this.background={colors:null},this.uiAnnotations=!1,this.uiAudio=!1,this.uiInfo=!0,this.uiFullscreen=!0,this.uiScrubber=!1,this.uiHelp=!0,this.uiBd="",this.loadRotate=null,this.initial={button:!1,handHint:!1,play:!1},this.disableScroll={alert:!1,overlay:!1},this.uiTour=!1,this.uiNav=!0,this.uiSearch=!0,this.uiTools=!0,this.uiReset=!0,this.uiLabelList=!0,this.uiChapterList=!1,this.all=!1,this.collapseLabel=null,this.uiMenu=!0,this.uiAnatomyDescriptions=!1}}var _t=n("5+tZ"),ft=n("Iab2");const yt={title:"Desktop",type:"desktop",dimensions:{width:700,height:550},orientation:"vertical"};var vt=n("LvDl");let xt=(()=>{class e{constructor(){}roundModel(e,t){const n=Object.assign({},e);return Object.keys(e).filter(t=>"number"==typeof e[t]).forEach(l=>{n[l]=this.roundNumber(e[l],t)}),n}roundNumber(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}}return e.ngInjectableDef=l.Ub({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Ot=.001,Ct=.03;let wt=(()=>{class e{constructor(e){this.numberService=e,this.rotation={vx:0,vy:0},this.pan={x:0,y:0,z:0},this.zoom=0}getEye(){return Human.renderer.camera.eye}setEye(e){Human.renderer.camera.setLookAt({eye:e})}getCamera(){return Human.renderer.camera.getLookAt()}setCamera(e){return Human.renderer.camera.setLookAt(e)}getCameraZoom(){return Human.renderer.camera.getZoom()}captureCamera(){return{lookAt:Human.renderer.camera.getLookAt(),zoom:Human.renderer.camera.getZoom()}}resetCamera(){return new V.a(e=>{Human.init.resetCamera(()=>{e.next(),e.complete()})})}getDirection(e){const t=this.getEye(),n=vec3.create();return n[0]=t.x-e.worldPos[0],n[1]=t.y-e.worldPos[1],n[2]=t.z-e.worldPos[2],vec3.normalize(n,n),n}rotateCameraStatic(e,t){Human.renderer.camera.rotateX(e),Human.renderer.camera.rotateY(t)}panCameraStatic(e,t,n){Human.renderer.camera.pan({x:e,y:t,z:n})}setHumanZoom(e){Human.renderer.camera.zoom(e)}setHumanZoomFactor(e){Human.renderer.camera.setZoom(e)}setCameraRotation(e,t){this.rotation.vx=t,this.rotation.vy=-e}setCameraPan(e,t){this.pan.x=e,this.pan.y=t}setCameraZoom(e){this.zoom=e*Ct}tickCameraRotation(){return this.rotation.vx=this.checkEpsilon(this.rotation.vx),this.rotation.vy=this.checkEpsilon(this.rotation.vy),this.rotation}tickCameraPan(){return this.pan.x=this.checkEpsilon(this.pan.x),this.pan.y=this.checkEpsilon(this.pan.y),this.pan.z=this.checkEpsilon(this.pan.z),this.pan}tickCameraZoom(){return this.zoom=this.checkEpsilon(this.zoom),this.zoom}compareCameras(e,t){return this.compareXYZ(e.eye,t.eye)&&this.compareXYZ(e.look,t.look)&&this.compareXYZ(e.up,t.up)}compareXYZ(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z}roundCamera(e,t){const{eye:n,look:l,up:i}=e;return{eye:this.numberService.roundModel(n,t),look:this.numberService.roundModel(l,t),up:this.numberService.roundModel(i,t)}}checkEpsilon(e){return Math.abs(e)<Ot?0:e}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(xt))},token:e,providedIn:"root"}),e})();var jt=n("+sDk");let kt=(()=>{class e{constructor(e){this.papa=e}importCSV(e){return new V.a(t=>{const{data:n,errors:l}=this.papa.parse(e);l.length?(t.error(l),t.complete()):(t.next(n),t.complete())})}exportCSV(e,t,n=!0){const l=[];return n&&l.push(t.map(e=>e.label)),e.forEach(e=>{const n=t.map(t=>e[t.field]);l.push(n)}),new V.a(e=>{const t=this.papa.unparse(l,{quotes:!0,header:!1});e.next(t),e.complete()})}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(jt.a))},token:e,providedIn:"root"}),e})();var St=n("Cfvw"),Pt=n("wOnQ"),Mt=n.n(Pt),Ht=function(e){return e.JPEG="image/jpeg",e.PNG="image/png",e}({});let It=(()=>{class e{constructor(){}canvasToBlob(e,t,n){return new V.a(l=>{if(e.toBlob)e.toBlob(e=>{l.next(e),l.complete()},t,n);else{const i=e.toDataURL(t,n),a=this.base64ToBlob(i,t);l.next(a),l.complete()}})}fitCanvas(e,{width:t,height:n}){const l=document.createElement("canvas");l.width=t,l.height=n;const i=l.getContext("2d"),a=e.height,o=l.width/l.height*a,s=.5*(e.width-o);return new V.a(t=>{i.drawImage(e,s,0,o,a,0,0,l.width,l.height),t.next(l),t.complete()})}elementToCanvas(e,t=!1){const n=t?{backgroundColor:"transparent"}:{};return Object(St.a)(Mt()(e,n))}combineCanvasElements(e){const t=Math.max(0,...e.map(e=>e.width)),n=Math.max(0,...e.map(e=>e.height)),l=document.createElement("canvas");l.width=t,l.height=n;const i=l.getContext("2d");return e.forEach(e=>{i.drawImage(e,0,0)}),l}base64ToBlob(e,t){const n=atob(e.split(",")[1]),l=new ArrayBuffer(n.length),i=new Uint8Array(l);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return new Blob([l],{type:t})}blobToBase64(e){return new V.a(t=>{const n=new FileReader;n.addEventListener("load",()=>{t.next(n.result),t.complete()}),n.readAsDataURL(e)})}blobToCanvas(e,{width:t,height:n}){return new V.a(l=>{const i=document.createElement("canvas");i.width=t,i.height=n;const a=i.getContext("2d"),o=new Image;o.addEventListener("load",()=>{a.drawImage(o,0,0),l.next(i),l.complete()}),o.src=URL.createObjectURL(e)})}}return e.ngInjectableDef=l.Ub({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Tt={headers:new s.g({"Content-Type":"application/json; charset=utf-8"})},zt=new mt;var Ft=function(e){return e.Single="share.widget.link",e.Bulk="share.widget.export",e}({});const Lt={id:"embedded-human",dimensions:yt.dimensions,fullScreen:!0};let Et=(()=>{class e{constructor(e,t,n,l,i){this.http=e,this.cameraService=t,this.numberService=n,this.exportService=l,this.imageService=i}exportImage(e,t,n){const l=this.imageService.base64ToBlob(e,t);return Object(ft.saveAs)(l,n),Object(k.a)(!0)}exportModels(e,t,n,l,i,a,o=!1){const s=[{label:"Title",field:"title"},{label:"URL",field:"url"},{label:"iFrame",field:"iFrame"},{label:"Author",field:"author"},{label:"Thumbnail URL",field:"thumbnail_url"}];return o&&s.push({label:"Offline Package URL",field:"offline_url"}),this.getExportModels(e,t,n,l,i,a,o).pipe(Object(_t.a)(e=>this.exportService.exportCSV(e,s)),Object(r.a)(e=>{const t=`BioDigital-Widgets-${(new Date).toISOString().split("T")[0]}-export.csv`,n=new Blob([e],{type:"text/csv;charset=utf-8"});return Object(ft.saveAs)(n,t),!0}))}getExportModels(e,t,n,l,i,a,o=!1){const s=a?Object(k.a)(null):this.getUAID(Ft.Bulk),c=o?this.getDownloadURLs(e):Object(k.a)([]);return Object(ht.a)(s,c).pipe(Object(r.a)(([o,s])=>e.map((e,r)=>{const{title:c,author:u,thumbnail_url:p}=e,d=this.getWidgetURL(e,t,n,null,o,i,a);return{title:c,url:d,iFrame:this.getWidgetEmbed(d,l),author:u,thumbnail_url:this.buildThumbnailURL(p),offline_url:s[r]||""}})))}generateWidgetURL(e,t,n,l,i,a,o){return(o||!i?Object(k.a)(null):this.getUAID(i)).pipe(Object(r.a)(i=>this.getWidgetURL(e,t,n,l,i,a,o)))}getWidgetURL(e,t,n,l,i,a="en",o){n=n||zt;const s="bookmark"===e.type,r={};r[s?"be":"m"]=`${s?e.id:e.module_name}`;const c=Object.assign({},r,this.getParamsForUIOptions(n||zt),this.getParamsForLoadingExperience(n||zt),this.getParamsForScrollMode(n||zt),this.getParamsForLoadRotate(n||zt),this.getParamsForUIOptions(n||zt)),u=Object(vt.get)(n,"background.colors");if(Array.isArray(u)&&u.length>=3){const e=u.slice(0,4).map(e=>this.numberService.roundNumber(e,3));c["background.colors"]=`${e}`}if(l){const{eye:e,look:t,up:n}=this.cameraService.roundCamera(l,3);c.camera=`${[e.x,e.y,e.z,t.x,t.y,t.z,n.x,n.y,n.z]}`}o?c.dk=o.app_apikey:i&&(c.uaid=i),a&&"en"!==a&&(c.lang=a);const p=this.isCustomWidget(e.embed_url_path)?e.embed_url_path:t;return this.buildWidgetURL(p,c)}generateWidgetEmbed(e,t,n,l,i,a,o,s){return this.generateWidgetURL(e,t,n,i,a,o,s).pipe(Object(r.a)(e=>this.getWidgetEmbed(e,l)))}getWidgetEmbed(e,t){const{width:n,height:l}=t||Lt.dimensions;return`<iframe\n  id="${Lt.id}"\n  frameBorder="0"\n  width="${n}"\n  height="${l}"\n  allowFullScreen="${Lt.fullScreen}"\n  src="${e}">\n</iframe>`}getImageEmbed(e,t,n){const l=`BioDigital Human: ${e}`.replace(/"/g,"&quot;");return`<a href="${t}" target="_blank"><img src="${n}" alt="${l}" title="${l}" /></a>`}getUAID(e){return this.http.post("/ws/user/analytics",{analytic_type:`${e}`,analytic_platform:"app"},Tt).pipe(Object(r.a)(e=>e.id))}getDownloadURLs(e){const t=e.filter(e=>!e.favorite&&!e.unavailable).map(e=>({type:e.type,id:"module"===e.type?e.module_name:e.id}));return this.http.post("/ws/download/reserve",{content:t},{headers:{"Content-Type":"application/json"}}).pipe(Object(r.a)(t=>{const n=t.tokens;return e.map(e=>{const t=e.type,l="module"===e.type?e.module_name:e.id,i=n.find(e=>e.type===t&&e.id===l);return i&&i.token?this.buildDownloadURL(i.token):""})}),Object(S.a)(()=>Object(k.a)(e.map(()=>""))))}extendWidgetOptions(e,t){const n=this.expandWidgetOptions(t);return this.deepExtendWidgetOptions(e,n),e}getWidgetConfig(e){const t={};return Object.keys(e).forEach(n=>{const l=e[n];if(null!==l){const e=this.getConfigName(n);t[e]=l}}),t}getConfigName(e){const t=this.camelToDashCase(e).replace(/^ui-/g,"");return this.dashCaseToCamelCase(t)}getParamsForLoadingExperience(e){return e.initial.button?{"initial.button":!0}:e.initial.handHint?{"initial.hand":!0}:e.initial.play?{"initial.play":!0}:{}}getParamsForScrollMode(e){return e.disableScroll.alert?{"disable-scroll.alert":!0}:e.disableScroll.overlay?{"disable-scroll":!0}:{"disable-scroll":!1}}getParamsForLoadRotate(e){return"number"==typeof e.loadRotate?{"load-rotate":e.loadRotate}:{}}getParamsForUIOptions(e){return{"ui-info":e.uiInfo,"ui-search":e.uiSearch,"ui-reset":e.uiReset,"ui-fullscreen":e.uiFullscreen,"ui-nav":e.uiNav,"ui-tools":e.uiTools,"ui-help":e.uiHelp,"ui-chapter-list":e.uiChapterList,"ui-label-list":e.uiLabelList,"ui-anatomy-descriptions":e.uiAnatomyDescriptions}}camelToDashCase(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}dashCaseToCamelCase(e){return e.replace(/-([a-z])/g,e=>e[1].toUpperCase())}isCustomWidget(e){return/widgets\/([^\/]+)\//.test(e)}saveUserImage(e){return this.http.post("/ws/user/image/v1-0",{image_src:e},Tt).pipe(Object(r.a)(e=>e.url))}buildWidgetURL(e,t){const n=Object.entries(t).map(([e,t])=>`${e}=${t}`).join("&"),l=e.replace(/^\/|\/$/g,"");return`${window.location.origin}/${l}/?${n}`}buildThumbnailURL(e){return`${window.location.origin}${e}`}buildDownloadURL(e){return`${window.location.origin}/download?t=${e}`}deepExtendWidgetOptions(e,t){Object.entries(e).forEach(([n,l])=>{const i=typeof l;[n,this.camelToDashCase(n),this.getConfigName(n)].forEach(a=>{if(t.hasOwnProperty(a)&&null!==t[a]){const o=t[a],s=typeof o;null===l?e[n]=o:i===s&&("object"===i?this.deepExtendWidgetOptions(l,o):e[n]=o)}})})}expandWidgetOptions(e){const t={};return Object.entries(e).forEach(([n,l])=>{const i=n.split(".");if(i.length>1){const e=i[0],n=i.slice(1).join(".");null!==t[e]&&"object"==typeof t[e]||(t[e]={}),t[e][n]=l}else t[n]=e[n]}),t}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(s.c),l.Vb(wt),l.Vb(xt),l.Vb(kt),l.Vb(It))},token:e,providedIn:"root"}),e})();class Nt{}let Rt=(()=>{class e{constructor(){}}return e.type="[Auth] Is Logged In",e})(),At=(()=>{class e{constructor(){}}return e.type="[Auth] Is Logged In Success",e})(),Dt=(()=>{class e{constructor(){}}return e.type="[Auth] Is Logged In Failure",e})(),Ut=(()=>{class e{constructor(e){this.login=e}}return e.type="[Auth] Login With Biodigital",e})(),Bt=(()=>{class e{constructor(e){this.login=e}}return e.type="[Auth] Login With Google",e})(),$t=(()=>{class e{constructor(e){this.login=e}}return e.type="[Auth] Login With Facebook",e})(),Vt=(()=>{class e{constructor(){}}return e.type="[Auth] Login Success",e})(),Qt=(()=>{class e{constructor(e,t){this.error=e,this.login=t}}return e.type="[Auth] Login Failure",e})(),Gt=(()=>{class e{constructor(){}}return e.type="[Auth] Logout",e})(),Wt=(()=>{class e{constructor(){}}return e.type="[Auth] Logout Success",e})(),Jt=(()=>{class e{constructor(){}}return e.type="[Auth] Logout Failure",e})(),qt=(()=>{class e{constructor(){}}return e.type="[Auth] Get Environment Settings",e})(),Kt=(()=>{class e{constructor(e){this.environmentSettings=e}}return e.type="[Auth] Get Environment Settings Success",e})(),Xt=(()=>{class e{constructor(e){this.error=e}}return e.type="[Auth] Get Environment Settings Failure",e})(),Zt=(()=>{class e{constructor(){}}return e.type="[Auth] Get User Profile",e})(),Yt=(()=>{class e{constructor(e){this.userProfile=e}}return e.type="[Auth] Get User Profile Success",e})(),en=(()=>{class e{constructor(e){this.error=e}}return e.type="[Auth] Get User Profile Failure",e})(),tn=(()=>{class e{constructor(e){this.email=e}}return e.type="[Auth] Check Profile",e})(),nn=(()=>{class e{constructor(e){this.profile=e}}return e.type="[Auth] Check Profile Success",e})(),ln=(()=>{class e{constructor(e){this.error=e}}return e.type="[Auth] Check Profile Failure",e})(),an=(()=>{class e{constructor(e){this.email=e}}return e.type="[Auth] Reset Password",e})(),on=(()=>{class e{constructor(e){this.email=e}}return e.type="[Auth] Reset Password Success",e})(),sn=(()=>{class e{constructor(e){this.error=e}}return e.type="[Auth] Reset Password Failure",e})(),rn=(()=>{class e{constructor(){}}return e.type="[Auth] Check Session",e})(),cn=(()=>{class e{constructor(e){this.value=e}}return e.type="[Auth] Sign Up",e})(),un=(()=>{class e{constructor(){}}return e.type="[Auth] Sign Up Success",e})(),pn=(()=>{class e{constructor(e){this.error=e}}return e.type="[Auth] Sign Up Failure",e})(),dn=(()=>{class e{constructor(e){this.locale=e}}return e.type="[Auth] Set User Locale",e})(),bn=(()=>{class e{constructor(e){this.locale=e}}return e.type="[Auth] Set User Locale Success",e})(),gn=(()=>{class e{constructor(){}}return e.type="[Auth] Check Locale",e})(),hn=(()=>{class e{constructor(){}}return e.type="[Auth] Get User Apps",e})(),mn=(()=>{class e{constructor(e){this.apps=e}}return e.type="[Auth] Set User Apps",e})(),_n=(()=>{class e{constructor(){}}return e.type="[Auth] Check Selected App",e})(),fn=(()=>{class e{constructor(e){this.appId=e}}return e.type="[Auth] Set Selected User App",e})(),yn=(()=>{class e{constructor(e,t){this.type=e,this.mode=t}}return e.type="[Auth] Get User Message",e})(),vn=(()=>{class e{constructor(e){this.message=e}}return e.type="[Auth] Get User Message Success",e})(),xn=(()=>{class e{constructor(e){this.type=e}}return e.type="[Auth] Get User Message Fail",e})(),On=(()=>{class e{constructor(e){this.messageSeenId=e}}return e.type="[Auth] Set Message Viewed",e})(),Cn=(()=>{class e{constructor(){}}return e.type="[Auth] Set Message Viewed Success",e})(),wn=(()=>{class e{constructor(){}}return e.type="[Auth] Set Message Viewed Fail",e})(),jn=(()=>{class e{constructor(){}}return e.type="[Auth] Reset",e})();n("fL5g");let kn=(()=>{class e{constructor(e){this.organizations=e}}return e.type="[Organizations] Set Organizations",e})(),Sn=(()=>{class e{constructor(e){this.organization=e}}return e.type="[Organizations] Select Organization",e})(),Pn=(()=>{class e{constructor(e){this.collection=e}}return e.type="[Organizations] Select Collection",e})(),Mn=(()=>{class e{constructor(e){this.organizationId=e}}return e.type="[Organizations] Get Collections",e})(),Hn=(()=>{class e{constructor(e){this.collections=e}}return e.type="[Organizations] Get Collections Success",e})(),In=(()=>{class e{constructor(e){this.organization=e}}return e.type="[Organizations] Join Organization",e})(),Tn=(()=>{class e{constructor(e){this.organization=e}}return e.type="[Organizations] Join Organization Success",e})(),zn=(()=>{class e{constructor(e){this.organization=e}}return e.type="[Organizations] Join Organization Fail",e})(),Fn=(()=>{class e{constructor(){}}return e.type="[Organizations] Reset",e})();var Ln=function(e){return e.WidgetOptions="widgetOptions",e.Locale="locale",e.GroupRestriction="GroupRestriction",e.UserAppId="userAppId",e.RememberMeEmail="rememberMeEmail",e.LabelConversionSeen="labelConversionSeen",e.DefaultGroupEdit="defaultGroupEdit",e.DefaultCollectionId="defaultCollectionId",e}({});let En=(()=>{class e{constructor(){}getLocalItem(e){return localStorage.getItem(`${e}`)}getLocalJSON(e){const t=this.getLocalItem(e);return t?JSON.parse(t):null}setLocalItem(e,t){const n="object"==typeof t?JSON.stringify(t):`${t}`;try{return localStorage.setItem(`${e}`,n),!0}catch(l){return!1}}removeLocalItem(e){localStorage.removeItem(`${e}`)}getSessionItem(e){const t=sessionStorage.getItem(`${e}`);return t?JSON.parse(t):null}setSessionItem(e,t){const n=JSON.stringify(t);try{return sessionStorage.setItem(`${e}`,n),!0}catch(l){return!1}}removeSessionItem(e){sessionStorage.removeItem(`${e}`)}clearStorage(){this.clearLocalStorage(),this.clearSessionStorage()}clearLocalStorage(){localStorage.clear()}clearSessionStorage(){sessionStorage.clear()}}return e.ngInjectableDef=l.Ub({factory:function(){return new e},token:e,providedIn:"root"}),e})();var Nn=n("2Yyj"),Rn=n.n(Nn),An=n("Kd/A"),Dn=n.n(An),Un=n("Hfs6"),Bn=n.n(Un),$n=n("VLs4"),Vn=n.n($n),Qn=n("1IWC"),Gn=n.n(Qn),Wn=n("Paii"),Jn=n.n(Wn),qn=n("vT00");const Kn={title:"English",lang:"en",id:"en-US"},Xn=[Kn,{title:"Espa\xf1ol",lang:"es",id:"es-ES"},{title:"\u4e2d\u6587(\u7b80\u4f53)",lang:"zh",id:"zh-CN"},{title:"Fran\xe7ais",lang:"fr",id:"fr-FR"},{title:"Deutsch",lang:"de",id:"de-DE"},{title:"Italiano",lang:"it",id:"it-IT"},{title:"\u65e5\u672c\u8a9e",lang:"ja",id:"ja"},{title:"Portugu\xeas",lang:"pt",id:"pt-PT"}];function Zn(){let e="";try{e=localStorage.getItem("locale")}catch(t){}return(Xn.find(t=>t.id===e)||Kn).id}[Rn.a,Dn.a,Bn.a,Vn.a,Gn.a,Jn.a,n.n(qn).a].forEach(e=>{Object(Y.z)(e)});class Yn{static forRoot(){return{ngModule:Yn,providers:[{provide:l.u,useFactory:Zn}]}}}let el=(()=>{class e{constructor(e){this.query=e}}return e.type="[Bookmarks] Load",e})(),tl=(()=>{class e{constructor(e){this.organizationId=e}}return e.type="[Bookmarks] Load Organization Bookmarks",e})(),nl=(()=>{class e{constructor(e,t){this.organizationId=e,this.collectionId=t}}return e.type="[Bookmarks] Load Collection Bookmarks",e})(),ll=(()=>{class e{constructor(e,t){this.id=e,this.type=t}}return e.type="[Bookmarks] Select Bookmark",e})(),il=(()=>{class e{constructor(e){this.bookmark=e}}return e.type="[Bookmarks] Select Bookmark Success",e})(),al=(()=>{class e{constructor(e){this.result=e}}return e.type="[Bookmarks] Load Success",e})(),ol=(()=>{class e{constructor(e){this.bookmarkId=e}}return e.type="[Bookmarks] Delete Bookmark",e})(),sl=(()=>{class e{constructor(e){this.bookmarkId=e}}return e.type="[Bookmarks] Bookmark Delete Success",e})(),rl=(()=>{class e{constructor(e,t){this.bookmarkId=e,this.message=t}}return e.type="[Bookmarks] Bookmark Delete Fail",e})(),cl=(()=>{class e{constructor(e,t,n=!0){this.bookmarkEntry=e,this.inplace=t,this.includeIndex=n}}return e.type="[Bookmarks] Save Bookmark",e})(),ul=(()=>{class e{constructor(e,t,n){this.bookmark=e,this.story=t,this.method=n}}return e.type="[Bookmarks] Bookmark Saved",e})(),pl=(()=>{class e{constructor(e){this.bookmarkEntry=e}}return e.type="[Bookmarks] Bookmark Save Failed",e})(),dl=(()=>{class e{constructor(e){this.bookmark=e}}return e.type="[Bookmarks] Delete Favorite",e})(),bl=(()=>{class e{constructor(e){this.bookmarkId=e}}return e.type="[Bookmarks] Delete Favorite Success",e})(),gl=(()=>{class e{constructor(e){this.bookmarkId=e}}return e.type="[Bookmarks] Delete Favorite Failed",e})(),hl=(()=>{class e{constructor(e,t,n,l,i){this.method=e,this.bookmarkId=t,this.bookmarkEntry=n,this.thumbnails=l,this.chapterIdMap=i}}return e.type="[Bookmarks] Save Bookmark Thumbnails",e})(),ml=(()=>{class e{constructor(){}}return e.type="[Bookmarks] Reset",e})(),_l=(()=>{class e{constructor(){}}return e.type="[Bookmarks] Clear Bookmarks",e})(),fl=(()=>{class e{constructor(e){this.sort=e}}return e.type="[Bookmarks] Sort",e})(),yl=(()=>{class e{constructor(e,t){this.id=e,this.checked=t}}return e.type="[Bookmarks] Check Bookmark",e})(),vl=(()=>{class e{constructor(e){this.ids=e}}return e.type="[Bookmarks] Set Checked Bookmarks",e})(),xl=(()=>{class e{constructor(e,t,n,l,i,a){this.bookmarks=e,this.widgetURL=t,this.userLanguage=n,this.userApp=l,this.widgetOptions=i,this.offlineEnabled=a}}return e.type="[Bookmarks] Export Bookmarks",e})(),Ol=(()=>{class e{constructor(e){this.bookmarks=e}}return e.type="[Bookmarks] Export Bookmarks Success",e})(),Cl=(()=>{class e{constructor(e){this.bookmarks=e}}return e.type="[Bookmarks] Export Bookmarks Error",e})(),wl=(()=>{class e{constructor(e,t,n){this.bookmark=e,this.addCollection=t,this.removeCollection=n}}return e.type="[Bookmarks] Update Bookmark Collection",e})(),jl=(()=>{class e{constructor(e,t,n){this.bookmark=e,this.addCollection=t,this.removeCollection=n}}return e.type="[Bookmarks] Update Bookmark Collection Success",e})(),kl=(()=>{class e{constructor(e,t,n){this.bookmark=e,this.addCollection=t,this.removeCollection=n}}return e.type="[Bookmarks] Update Bookmark Collection Error",e})(),Sl=(()=>{class e{constructor(e,t){this.bookmark=e,this.collection=t}}return e.type="[Bookmarks] Add Bookmark Collection Success",e})(),Pl=(()=>{class e{constructor(e,t){this.bookmark=e,this.collection=t}}return e.type="[Bookmarks] Add Bookmark Collection Error",e})(),Ml=(()=>{class e{constructor(e,t){this.bookmark=e,this.collection=t}}return e.type="[Bookmarks] Remove Bookmark Collection Success",e})(),Hl=(()=>{class e{constructor(e,t){this.bookmark=e,this.collection=t}}return e.type="[Bookmarks] Remove Bookmark Collection Error",e})(),Il=(()=>{class e{constructor(e,t,n=Kn.lang,l,i){this.id=e,this.type=t,this.lang=n,this.groupAccess=l,this.collection=i}}return e.type="[Bookmarks] Copy Bookmark",e})(),Tl=(()=>{class e{constructor(e,t,n,l){this.newId=e,this.sourceId=t,this.groupAccess=n,this.collection=l}}return e.type="[Bookmarks] Copy Bookmark Success",e})(),zl=(()=>{class e{constructor(e,t){this.id=e,this.error=t}}return e.type="[Bookmarks] Copy Bookmark Failure",e})(),Fl=(()=>{class e{constructor(e){this.title=e}}return e.type="[Bookmarks] Set Bookmark Text",e})(),Ll=(()=>{class e{constructor(e){this.category=e}}return e.type="[Bookmarks] Set Selected Category",e})(),El=(()=>{class e{constructor(e){this.view=e}}return e.type="[Edit] Set view",e})(),Nl=(()=>{class e{constructor(){}}return e.type="[Edit] Next view",e})(),Rl=(()=>{class e{constructor(){}}return e.type="[Edit] Previous view",e})(),Al=(()=>{class e{constructor(e){this.show=e}}return e.type="[Edit] Show columns",e})(),Dl=(()=>{class e{constructor(e,t){this.column=e,this.show=t}}return e.type="[Edit] Show column",e})(),Ul=(()=>{class e{constructor(){}}return e.type="[Edit] Reset",e})(),Bl=(()=>{class e{constructor(e,t){this.nodes=e,this.visible=t}}return e.type="[Edit] Set object visibility",e})(),$l=(()=>{class e{constructor(e,t){this.nodes=e,this.pickable=t}}return e.type="[Edit] Set object pickable",e})(),Vl=(()=>{class e{constructor(e){this.layerOrderMode=e}}return e.type="[Edit] Set Layer Order Mode",e})(),Ql=(()=>{class e{constructor(e){this.show=e}}return e.type="[Edit] Show Tree Node Ids",e})(),Gl=(()=>{class e{constructor(e){this.size=e}}return e.type="[Edit] Set Canvas Size",e})(),Wl=(()=>{class e{constructor(){}}return e.type="[Engine] Load",e})(),Jl=(()=>{class e{constructor(e){this.result=e}}return e.type="[Engine] Load Success",e})(),ql=(()=>{class e{constructor(e){this.ready=e}}return e.type="[Engine] Set Ready",e})(),Kl=(()=>{class e{constructor(e){this.display=e}}return e.type="[Engine] Set Display of 3D Scene",e})(),Xl=(()=>{class e{constructor(e){this.scrollMode=e}}return e.type="[Engine] Set Zoom via scroll Allowed",e})(),Zl=(()=>{class e{constructor(e){this.shown=e}}return e.type="[Engine] Set Scroll Alert Shwon",e})(),Yl=(()=>{class e{constructor(e){this.visible=e}}return e.type="[Engine] Set Visibility of 3D Scene",e})(),ei=(()=>{class e{constructor(e,t){this.color=e,this.duration=t}}return e.type="[Engine] Fade",e})(),ti=(()=>{class e{constructor(){}}return e.type="[Engine] Fade Complete",e})(),ni=(()=>{class e{constructor(e){this.graph=e}}return e.type="[Engine] Set Graph",e})(),li=(()=>{class e{constructor(){}}return e.type="[Engine] Clear Graph",e})(),ii=(()=>{class e{constructor(e){this.enabled=e}}return e.type="[Engine] Set Xray Mode",e})(),ai=(()=>{class e{constructor(e){this.cachedColorRecipes=e}}return e.type="[Engine] Set cached color recipes",e})(),oi=(()=>{class e{constructor(e){this.chapterId=e}}return e.type="[Engine] Set Engine Chapter",e})(),si=(()=>{class e{constructor(e){this.chapterInit=e}}return e.type="[Eninge] Set Chapter Init",e})(),ri=(()=>{class e{constructor(e,t,n){this.node=e,this.event=t,this.hit=n}}return e.type="[Engine] Click Node",e})(),ci=(()=>{class e{constructor(e,t=!0,n){this.objectId=e,this.animate=t,this.animationDuration=n}}return e.type="[Engine] Fly To Object",e})(),ui=(()=>{class e{constructor(){}}return e.type="[Engine] Center Camera on Visible Nodes",e})(),pi=(()=>{class e{constructor(e){this.leafVisibilityState=e}}return e.type="[Engine] Synchronize Visible Nodes On Tree",e})(),di=(()=>{class e{constructor(e){this.leafRenderableState=e}}return e.type="[Engine] Synchronize Renderable State of Nodes On Tree",e})(),bi=(()=>{class e{constructor(e){this.leafPickableState=e}}return e.type="[Engine] Synchronize Pickable State of Nodes On Tree",e})(),gi=(()=>{class e{constructor(e){this.show=e}}return e.type="[Engine] Toggle Camera Bar",e})(),hi=(()=>{class e{constructor(e){this.show=e}}return e.type="[Engine] Toggle Labels",e})(),mi=(()=>{class e{constructor(e){this.tool=e}}return e.type="[Engine] Set active tool",e})(),_i=(()=>{class e{constructor(e){this.play=e}}return e.type="[Engine] Play animation",e})(),fi=(()=>{class e{constructor(e){this.enable=e}}return e.type="[Engine] Enable autoplay",e})(),yi=(()=>{class e{constructor(e,t){this.nodes=e,this.layer=t}}return e.type="[Engine] Set object layer order",e})(),vi=(()=>{class e{constructor(e,t){this.nodeId=e,this.displayName=t}}return e.type="[Engine] Set object display name",e})(),xi=(()=>{class e{constructor(){}}return e.type="[Engine] Auto Sort object layer orders",e})(),Oi=(()=>{class e{constructor(){}}return e.type="[Engine] Reset object layer orders",e})(),Ci=(()=>{class e{constructor(e){this.position=e}}return e.type="[Engine] Set Engine Position",e})(),wi=(()=>{class e{constructor(){}}return e.type="[Engine] Reset Engine Position",e})(),ji=(()=>{class e{constructor(e){this.effects=e}}return e.type="[Engine] Set Post Processing Effects",e})(),ki=(()=>{class e{constructor(e){this.properties=e}}return e.type="[Engine] Set Properties",e})(),Si=(()=>{class e{constructor(e){this.mode=e}}return e.type="[Engine] Set Transparency Mode",e})(),Pi=(()=>{class e{constructor(e){this.category=e}}return e.type="[Explore] Load",e})(),Mi=(()=>{class e{constructor(e){this.query=e}}return e.type="[Explore] Search",e})(),Hi=(()=>{class e{constructor(e){this.searching=e}}return e.type="[Explore] Set Searching",e})(),Ii=(()=>{class e{constructor(e){this.searchResults=e}}return e.type="[Explore] Load Success",e})(),Ti=(()=>{class e{constructor(e){this.sort=e}}return e.type="[Explore] Sort",e})(),zi=(()=>{class e{constructor(){}}return e.type="[Explore] Reset Search Results",e})(),Fi=(()=>{class e{constructor(e,t){this.id=e,this.checked=t}}return e.type="[Explore] Check Search Result",e})(),Li=(()=>{class e{constructor(e){this.ids=e}}return e.type="[Explore] Set Checked Search Results",e})(),Ei=(()=>{class e{constructor(e){this.tag=e}}return e.type="[Explore] Select Category",e})(),Ni=(()=>{class e{constructor(){}}return e.type="[Explore] Reset",e})(),Ri=(()=>{class e{constructor(e){this.history=e}}return e.type="[History] Add history",e})(),Ai=(()=>{class e{constructor(e=1){this.count=e}}return e.type="[History] Undo",e})(),Di=(()=>{class e{constructor(e=1){this.count=e}}return e.type="[History] Redo",e})(),Ui=(()=>{class e{constructor(){}}return e.type="[History] Reset",e})(),Bi=(()=>{class e{constructor(){}}return e.type="[History] Clear",e})(),$i=(()=>{class e{constructor(e,t,n,l=!1){this.cacheId=e,this.chapterId=t,this.synchronization=n,this.readOnly=l}}return e.type="[History] Cache Chapter Synchronization",e})(),Vi=(()=>{class e{constructor(e,t){this.cacheId=e,this.chapterId=t}}return e.type="[History] Revert Chapter Synchronization",e})(),Qi=(()=>{class e{constructor(e,t,n,l){this.sourceCacheId=e,this.sourceChapterId=t,this.targetCacheId=n,this.targetChapterId=l}}return e.type="[History] Copy Chapter Synchronization",e})(),Gi=(()=>{class e{constructor(e,t){this.cacheId=e,this.chapterId=t}}return e.type="[History] Remove Chapter Synchronization",e})();var Wi=function(e){return e.Toggle="toggle",e.None="none",e}({});let Ji=(()=>{class e{constructor(e){this.labels=e}}return e.type="[Story Labels] Set Labels",e})(),qi=(()=>{class e{constructor(e){this.label=e}}return e.type="[Story Labels] Add Label",e})(),Ki=(()=>{class e{constructor(e){this.label=e}}return e.type="[Story Labels] Set Contexdt Label",e})(),Xi=(()=>{class e{constructor(e,t){this.sourceChapter=e,this.targetChapter=t}}return e.type="[Story Labels] Copy Labels",e})(),Zi=(()=>{class e{constructor(e){this.label=e}}return e.type="[Story Labels] Remove Label",e})(),Yi=(()=>{class e{constructor(){}}return e.type="[Story Labels] Remove Context Label",e})(),ea=(()=>{class e{constructor(){}}return e.type="[Story Labels] Remove All Labels",e})(),ta=(()=>{class e{constructor(e){this.chapter=e}}return e.type="[Story Labels] Remove All Chapter Labels",e})(),na=(()=>{class e{constructor(e){this.label=e}}return e.type="[Story Labels] Set Label",e})(),la=(()=>{class e{constructor(e){this.label=e}}return e.type="[Story Labels] Select Label",e})(),ia=(()=>{class e{constructor(){}}return e.type="[Story Labels] Reset",e})(),aa=(()=>{class e{constructor(e,t){this.labels=e,this.type=t}}return e.type="[Story Labels] Convert",e})(),oa=(()=>{class e{constructor(e,t=!0,n=!0){this.enable=e,this.enableInfo=t,this.enableActions=n}}return e.type="[Story Labels] Enable Context Label",e})(),sa=(()=>{class e{constructor(e,t){this.labels=e,this.shown=t}}return e.type="[Story Labels] Set Labels Shown",e})(),ra=(()=>{class e{constructor(e){this.shown=e}}return e.type="[Story Labels] Set All Labels Shown",e})(),ca=(()=>{class e{constructor(e,t=Wi.None){this.collapsed=e,this.collapsedMode=t}}return e.type="[Story Labels] Set Labels Collapsed",e})(),ua=(()=>{class e{constructor(e){this.draggable=e}}return e.type="[Story Labels] Set Draggable",e})(),pa=(()=>{class e{constructor(e,t,n=Kn.lang){this.id=e,this.type=t,this.lang=n}}return e.type="[Story] Fetch",e})(),da=(()=>{class e{constructor(e,t,n=Kn.lang){this.id=e,this.type=t,this.lang=n}}return e.type="[Story] Load Current Story",e})(),ba=(()=>{class e{constructor(e){this.story=e}}return e.type="[Story] Replace the Story",e})(),ga=(()=>{class e{constructor(e){this.id=e}}return e.type="[Story] Set the Story ID",e})(),ha=(()=>{class e{constructor(e){this.displayName=e}}return e.type="[Story] Set Story Text",e})(),ma=(()=>{class e{constructor(e){this.tags=e}}return e.type="[Story] Set Story Tags",e})(),_a=(()=>{class e{constructor(e,t,n){this.id=e,this.type=t,this.reset=n}}return e.type="[Story] Set Incoming Story Id",e})(),fa=(()=>{class e{constructor(){}}return e.type="[Story] Load Story Chunk",e})(),ya=(()=>{class e{constructor(e){this.chapterId=e}}return e.type="[Story] Reorder Load Chunks",e})(),va=(()=>{class e{constructor(e){this.chunk=e}}return e.type="[Story] Load Story Chunk Success",e})(),xa=(()=>{class e{constructor(e,t,n,l,i){this.id=e,this.story=t,this.type=n,this.loadType=l,this.chapterIdx=i}}return e.type="[Story] Build Story In Engine From Story Model",e})(),Oa=(()=>{class e{constructor(e){this.lookup=e}}return e.type="[Story] Set Tween Particle Lookup",e})(),Ca=(()=>{class e{constructor(e){this.id=e}}return e.type="[Story] Unload And Destroy Story in Engine",e})(),wa=(()=>{class e{constructor(e,t,n){this.story=e,this.id=t,this.type=n}}return e.type="[Story] Load Success",e})(),ja=(()=>{class e{constructor(e,t){this.id=e,this.type=t}}return e.type="[Story] Load Fail",e})(),ka=(()=>{class e{constructor(e,t,n=Kn.lang){this.id=e,this.type=t,this.lang=n}}return e.type="[Story] Import",e})(),Sa=(()=>{class e{constructor(e,t,n){this.story=e,this.id=t,this.type=n}}return e.type="[Story] Import Success",e})(),Pa=(()=>{class e{constructor(){}}return e.type="[Story] Clear",e})(),Ma=(()=>{class e{constructor(){}}return e.type="[Story] Synchronize Chapters",e})(),Ha=(()=>{class e{constructor(){}}return e.type="[Story Chapter] Next Chapter",e})(),Ia=(()=>{class e{constructor(){}}return e.type="[Story Chapter] Previous Chapter",e})(),Ta=(()=>{class e{constructor(){}}return e.type="[Story Chapter] First Chapter",e})(),za=(()=>{class e{constructor(){}}return e.type="[Story Chapter] Last Chapter",e})(),Fa=(()=>{class e{constructor(e){this.chapter=e}}return e.type="[Story Chapter] Select Chapter",e})(),La=(()=>{class e{constructor(e){this.chapterId=e}}return e.type="[Story Chapter] Select Chapter by chapter id",e})(),Ea=(()=>{class e{constructor(e){this.chapters=e}}return e.type="[Story Chapter] Set Chapters",e})(),Na=(()=>{class e{constructor(e){this.chapter=e}}return e.type="[Story Chapter] Set Chapter",e})(),Ra=(()=>{class e{constructor(e,t){this.chapterId=e,this.background=t}}return e.type="[Story Chapter] Set Chapter Background",e})(),Aa=(()=>{class e{constructor(e){this.background=e}}return e.type="[Story Chapter] Set All Chapters Background",e})(),Da=(()=>{class e{constructor(){}}return e.type="[Story Chapter] Reset Selected Chapter Background",e})(),Ua=(()=>{class e{constructor(e){this.background=e}}return e.type="[Story Chapter] Set Selected Chapter Background",e})(),Ba=(()=>{class e{constructor(e){this.chapterId=e}}return e.type="[Story Chapter] Save Live Scene State to Chapter",e})(),$a=(()=>{class e{constructor(e,t){this.chapter=e,this.chapterId=t}}return e.type="[Story Chapter] Duplicate An Existing Chapter",e})(),Va=(()=>{class e{constructor(e){this.chapter=e}}return e.type="[Story Chapter] Remove Chapter",e})(),Qa=(()=>{class e{constructor(){}}return e.type="[Story Chapter] Reset",e})(),Ga=(()=>{class e{constructor(e,t,n=!1){this.nodes=e,this.visible=t,this.record=n}}return e.type="[Story Chapters] Record Chapter Visibility State",e})(),Wa=(()=>{class e{constructor(e,t,n=!1){this.nodes=e,this.pickable=t,this.record=n}}return e.type="[Story Chapters] Record Chapter Pickable State",e})(),Ja=(()=>{class e{constructor(e,t,n=!1){this.nodes=e,this.stateMap=t,this.record=n}}return e.type="[Story Chapters] Record Chapter Node State",e})(),qa=(()=>{class e{constructor(e,t,n=!1){this.nodes=e,this.paintState=t,this.record=n}}return e.type="[Story Chapters] Record Chapter Paint State",e})(),Ka=(()=>{class e{constructor(e){this.chapter=e}}return e.type="[Story Chapters] Record Shadow Chapter",e})(),Xa=(()=>{class e{constructor(e){this.thumbnails=e}}return e.type="[Story Chapters] Register thumbnail URLs from story",e})(),Za=(()=>{class e{constructor(e,t,n){this.camera=e,this.chapter=t,this.record=n}}return e.type="[Story Chapters] Record chapter camera",e})(),Ya=(()=>{class e{constructor(e,t){this.sourceChapter=e,this.targetChapter=t}}return e.type="[Story Chapters] Copy Thumbnail From Chapter",e})(),eo=(()=>{class e{constructor(e,t,n,l){this.chapterId=e,this.dimensions=t,this.includeLabels=n,this.includeCopyright=l}}return e.type="[Story Chapters] Take picture",e})(),to=(()=>{class e{constructor(e,t,n){this.chapterId=e,this.blob=t,this.dimensions=n}}return e.type="[Story Chapters] Take picture success",e})(),no=(()=>{class e{constructor(e,t){this.chapterId=e,this.modified=t}}return e.type="[Story Chapters] Set chapter modified",e})(),lo=(()=>{class e{constructor(){}}return e.type="[Story Chapters] Reset chapters modified",e})(),io=(()=>{class e{constructor(e){this.theme=e}}return e.type="[Layout] Set theme",e})(),ao=(()=>{class e{constructor(){}}return e.type="[Layout] Reset",e})(),oo=(()=>{class e{constructor(e,t){this.node=e,this.hit=t}}return e.type="[Engine Nodes] Hover Node",e})(),so=(()=>{class e{constructor(e){this.node=e}}return e.type="[Engine Nodes] Select Node",e})(),ro=(()=>{class e{constructor(e,t){this.node=e,this.checked=t}}return e.type="[Engine Nodes] Check Node",e})(),co=(()=>{class e{constructor(){}}return e.type="[Engine Nodes] Check All Nodes",e})(),uo=(()=>{class e{constructor(e){this.nodes=e}}return e.type="[Engine Nodes] Check Inverse Nodes",e})(),po=(()=>{class e{constructor(e){this.node=e}}return e.type="[Engine Nodes] Expand Node",e})(),bo=(()=>{class e{constructor(e){this.node=e}}return e.type="[Engine Nodes] Collapse Node",e})(),go=(()=>{class e{constructor(e){this.nodes=e}}return e.type="[Engine Nodes] Set Checked Nodes",e})(),ho=(()=>{class e{constructor(e,t,n=!0){this.nodes=e,this.visible=t,this.recordHistory=n}}return e.type="[Engine Nodes] Toggle Visible Nodes",e})(),mo=(()=>{class e{constructor(e,t,n=!0){this.nodes=e,this.pickable=t,this.recordHistory=n}}return e.type="[Engine Nodes] Toggle Pickable Nodes",e})(),_o=(()=>{class e{constructor(e,t,n){this.nodes=e,this.viewGraph=t,this.pickable=n}}return e.type="[Engine Nodes] Toggle Inverse Pickable Nodes",e})(),fo=(()=>{class e{constructor(){}}return e.type="[Engine Nodes] Reset",e})(),yo=(()=>{class e{constructor(e,t){this.nodes=e,this.viewGraph=t}}return e.type="[Engine Nodes] Hide Inverse",e})(),vo=(()=>{class e{constructor(e,t){this.nodes=e,this.viewGraph=t}}return e.type="[Engine Nodes] Isolate",e})(),xo=(()=>{class e{constructor(e,t){this.node=e,this.description=t}}return e.type="[Engine Nodes] Set Node Info",e})(),Oo=(()=>{class e{constructor(e){this.node=e}}return e.type="[Engine Nodes] Query Node Info",e})(),Co=(()=>{class e{constructor(e,t){this.node=e,this.description=t}}return e.type="[Engine Nodes] Query Node Info Success",e})(),wo=(()=>{class e{constructor(e){this.node=e}}return e.type="[Engine Nodes] Query Node Info Failure",e})(),jo=(()=>{class e{constructor(e,t){this.nodes=e,this.recipe=t}}return e.type="[Engine Nodes] Paint Nodes",e})(),ko=(()=>{class e{constructor(e){this.nodes=e}}return e.type="[Engine Nodes] Unpaint Nodes",e})(),So=(()=>{class e{constructor(e){this.node=e}}return e.type="[Engine Nodes] Set Label Edit Node",e})();var Po=n("vkgz");class Mo{constructor(e,t,n){this.category=e,this.message=t,this.log=n}}let Ho=(()=>{class e{constructor(e){this.http=e}logError(e){return this.http.post("/ws/human-error",e)}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(s.c))},token:e,providedIn:"root"}),e})();var Io;!function(e){class t{constructor(e){this.searchMode=e}}t.type="[Gallery] Set Search Mode",e.SetSearchMode=t;class n{constructor(e){this.viewMode=e}}n.type="[Gallery] Set View Mode",e.SetViewMode=n;class l{constructor(e){this.sort=e}}l.type="[Gallery] Set Sort",e.SetSort=l;class i{constructor(e){this.organizationId=e}}i.type="[Gallery] Get Studio Options",e.GetStudioOptions=i;class a{constructor(e){this.options=e}}a.type="[Gallery] Get Studio Options Success",e.GetStudioOptionsSuccess=a;class o{constructor(e,t,n){this.primaryCategory=e,this.secondaryCategory=t,this.name=n}}o.type="[Gallery] Search Loft",e.SearchLoft=o;class s{constructor(e){this.bookmarks=e}}s.type="[Gallery] Search Loft Success",e.SearchLoftSuccess=s;class r{constructor(e,t){this.category=e,this.query=t}}r.type="[Gallery] Search Studio",e.SearchStudio=r;class c{constructor(e){this.bookmarks=e}}c.type="[Gallery] Search Studio Success",e.SearchStudioSuccess=c;class u{constructor(e){this.bookmarks=e}}u.type="[Gallery] Search Success",e.SearchSuccess=u;class p{constructor(e){this.result=e}}p.type="[Gallery] Select Bookmark",e.SelectBookmark=p;class d{constructor(){}}d.type="[Gallery] Clear Results",e.ClearResults=d;class b{constructor(){}}b.type="[Gallery] Reset",e.Reset=b}(Io||(Io={}));const To={loading:!1,loggedIn:null,userLocale:null};let zo=(()=>{let e=class{constructor(e,t,n,l,i,a){this.authService=e,this.userMessageService=t,this.storageService=n,this.localeId=l,this.store=i,this.errorService=a}static getLoggedIn(e){return e.loggedIn}static getEnvironmentSettings(e){return e.environmentSettings}static getUserProfile(e){return e.userProfile}static getProfileCheck(e){return e.profileCheck}static getLoading(e){return e.loading}static getUserLocale(e){return e.userLocale}static getUserLanguage(e){return Object(vt.get)(e,"userLocale.lang",Kn.lang)}static getUserApps(e){return Object(vt.get)(e,"userApps",[])}static getSelectedUserApp(e){return(e.userApps||[]).find(t=>t.id===e.selectedAppId)}static isPremiumUser(e){return!0===Object(vt.get)(e,"userProfile.premium_account_valid")}isLoggedIn(e,t){e.patchState({loading:!0}),this.authService.isLoggedIn().pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(t=>{e.dispatch(t.signed_in?new At:new Dt)})}isLoggedInSuccess(e,t){e.patchState({loggedIn:!0})}isLoggedInFailure(e,t){e.patchState({loggedIn:!1})}login(e,t){e.patchState({loading:!0}),this.authService.loginWithBiodigital(t.login).pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(()=>{e.dispatch(new Vt)},n=>{this.logFailure("LOGIN_FAILURE",n),e.dispatch(new Qt(n,t.login))})}loginWithGoogle(e,t){e.patchState({loading:!0}),this.authService.loginWithGoogle(t.login).pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(()=>{e.dispatch(new Vt)},n=>{1!==t.login.groupCodeMode&&1!==t.login.groupInviteMode||this.logFailure("GOOGLE_SIGNUP_FAILURE",n),e.dispatch(new Qt(n,t.login))})}loginWithFacebook(e,t){e.patchState({loading:!0}),this.authService.loginWithFacebook(t.login).pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(()=>{e.dispatch(new Vt)},n=>{e.dispatch(new Qt(n,t.login))})}loginSuccess(e,t){e.dispatch(new Rt),e.dispatch(new gn)}logout(e,t){e.patchState({loading:!0}),this.authService.logout().pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(()=>e.dispatch(new Wt),()=>e.dispatch(new Jt))}logoutSuccess(e,t){e.setState(To),e.dispatch(new jn),e.dispatch(new ml),e.dispatch(new Ul),e.dispatch(new wi),e.dispatch(new fo),e.dispatch(new Ni),e.dispatch(new Ui),e.dispatch(new ia),e.dispatch(new ao),e.dispatch(new Fn),e.dispatch(new Pa),e.dispatch(new Qa),e.dispatch(new Io.Reset),this.storageService.clearSessionStorage()}checkProfile(e,t){return e.patchState({loading:!0}),this.authService.checkProfile(t.email).pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(t=>{e.dispatch(new nn(t))},t=>{e.dispatch(new ln(t))})}checkProfileSuccess(e,t){e.patchState({profileCheck:t.profile})}getUserProfile(e,t){return e.patchState({loading:!0}),this.authService.getUserProfile().pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(t=>{e.dispatch(new Yt(t))},t=>{e.dispatch(new en(t))})}getUserProfileSuccess(e,t){e.patchState({userProfile:t.userProfile}),e.dispatch(new kn(t.userProfile.organizations)),e.dispatch(new hn),e.dispatch(new gn)}getUserApps(e,t){this.authService.getUserApps().subscribe(t=>{e.dispatch(new mn(t)),e.dispatch(new _n)},e=>{})}setUserApps(e,{apps:t}){e.patchState({userApps:t})}setSelectedUserApp(e,{appId:t}){e.patchState({selectedAppId:t}),null!==t?this.storageService.setLocalItem(Ln.UserAppId,t):this.storageService.removeLocalItem(Ln.UserAppId)}checkSelectedUserApp(e,t){const n=e.getState().userApps,l=this.storageService.getLocalItem(Ln.UserAppId);if(l){const t=parseInt(l,10);e.dispatch(new fn(t))}else n&&n.length&&e.dispatch(new fn(n[0].id))}checkSession(e,t){e.patchState({loading:!0}),this.authService.isLoggedIn().pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(t=>{t.signed_in?(e.dispatch(new At),e.dispatch(new Zt)):e.dispatch(new Dt)})}getEnvironmentSettings(e,t){return e.patchState({loading:!0}),this.authService.getEnvironmentSettings().pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(t=>{e.dispatch(new Kt(t))},t=>{e.dispatch(new Xt(t))})}GetEnvironmentSettingsSuccess(e,t){e.patchState({environmentSettings:t.environmentSettings})}resetPassword(e,t){e.patchState({loading:!0}),this.authService.resetPassword(t.email).pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(()=>{e.dispatch(new on(t.email))},t=>{e.dispatch(new sn(t))})}signUp(e,t){return e.patchState({loading:!0}),this.authService.signUp(t.value).pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(()=>{e.dispatch(new un)},t=>{e.dispatch(new pn(t))})}signUpFailure(e,t){this.logFailure("BIODIGITAL_SIGNUP_FAILURE",t)}setUserLocale(e,{locale:t}){this.storageService.setLocalItem(Ln.Locale,t.id),e.patchState({userLocale:t}),e.dispatch(new bn(t))}checkLocale(e,t){const n=Xn.find(e=>e.id===this.localeId)||Kn;e.dispatch(new dn(n))}getUserMessage(e,{type:t,mode:n}){this.userMessageService.getUserMessage(t,n).subscribe(t=>{e.dispatch(new vn(t))},()=>{e.dispatch(new xn(t))})}setUserMessageViewed(e,{messageSeenId:t}){this.userMessageService.setUserMessageViewed(t).subscribe(()=>e.dispatch(new Cn),()=>e.dispatch(new wn))}resetAuth(e,t){e.setState(To)}logFailure(e,t){const n=Object(vt.get)(t,"message")||"",l=Object(vt.get)(t,"error.error.message")||"";this.errorService.logError(new Mo(e,n,l)).subscribe()}ngxsOnInit(e){e.dispatch(new rn),e.dispatch(new gn),e.dispatch(new _n)}};return Object(b.__decorate)([Object(g.a)(Rt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Rt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"isLoggedIn",null),Object(b.__decorate)([Object(g.a)(At),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,At]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"isLoggedInSuccess",null),Object(b.__decorate)([Object(g.a)(Dt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Dt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"isLoggedInFailure",null),Object(b.__decorate)([Object(g.a)(Ut),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ut]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"login",null),Object(b.__decorate)([Object(g.a)(Bt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Bt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loginWithGoogle",null),Object(b.__decorate)([Object(g.a)($t),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,$t]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loginWithFacebook",null),Object(b.__decorate)([Object(g.a)(Vt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Vt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loginSuccess",null),Object(b.__decorate)([Object(g.a)(Gt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Gt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"logout",null),Object(b.__decorate)([Object(g.a)(Wt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Wt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"logoutSuccess",null),Object(b.__decorate)([Object(g.a)(tn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,tn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"checkProfile",null),Object(b.__decorate)([Object(g.a)(nn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,nn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"checkProfileSuccess",null),Object(b.__decorate)([Object(g.a)(Zt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Zt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getUserProfile",null),Object(b.__decorate)([Object(g.a)(Yt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Yt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getUserProfileSuccess",null),Object(b.__decorate)([Object(g.a)(hn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,hn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getUserApps",null),Object(b.__decorate)([Object(g.a)(mn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,mn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setUserApps",null),Object(b.__decorate)([Object(g.a)(fn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,fn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setSelectedUserApp",null),Object(b.__decorate)([Object(g.a)(_n),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,_n]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"checkSelectedUserApp",null),Object(b.__decorate)([Object(g.a)(rn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,rn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"checkSession",null),Object(b.__decorate)([Object(g.a)(qt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,qt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getEnvironmentSettings",null),Object(b.__decorate)([Object(g.a)(Kt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Kt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"GetEnvironmentSettingsSuccess",null),Object(b.__decorate)([Object(g.a)(an),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,an]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetPassword",null),Object(b.__decorate)([Object(g.a)(cn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,cn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"signUp",null),Object(b.__decorate)([Object(g.a)(pn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,pn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"signUpFailure",null),Object(b.__decorate)([Object(g.a)(dn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,dn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setUserLocale",null),Object(b.__decorate)([Object(g.a)(gn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,gn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"checkLocale",null),Object(b.__decorate)([Object(g.a)(yn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,yn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getUserMessage",null),Object(b.__decorate)([Object(g.a)(On),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,On]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setUserMessageViewed",null),Object(b.__decorate)([Object(g.a)(jn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,jn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetAuth",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Nt]),Object(b.__metadata)("design:returntype",void 0)],e,"getLoggedIn",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Nt]),Object(b.__metadata)("design:returntype",void 0)],e,"getEnvironmentSettings",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Nt]),Object(b.__metadata)("design:returntype",void 0)],e,"getUserProfile",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Nt]),Object(b.__metadata)("design:returntype",void 0)],e,"getProfileCheck",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Nt]),Object(b.__metadata)("design:returntype",void 0)],e,"getLoading",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Nt]),Object(b.__metadata)("design:returntype",void 0)],e,"getUserLocale",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Nt]),Object(b.__metadata)("design:returntype",String)],e,"getUserLanguage",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Nt]),Object(b.__metadata)("design:returntype",void 0)],e,"getUserApps",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Nt]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedUserApp",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Nt]),Object(b.__metadata)("design:returntype",void 0)],e,"isPremiumUser",null),Object(b.__decorate)([Object(g.g)({name:"auth",defaults:To})],e)})();const Fo={publishing:!1,widgetURL:"/viewer",dimensions:yt.dimensions,minDimensions:{width:300,height:400}};let Lo=(()=>{let e=class{constructor(e,t){this.publishService=e,this.store=t}static getDimensions(e){return e.dimensions}static getMinDimensions(e){return e.minDimensions}static getWidgetURL(e){return e.widgetURL}static getPublishing(e){return e.publishing}setPublishWidgetURL(e,t){e.patchState({widgetURL:t.widgetURL||"/viewer"})}setPublishDimensions(e,t){e.patchState({dimensions:t.dimensions})}getPublishURL(e,t){const{model:n,camera:l,widgetOptions:i}=t,{widgetURL:a}=e.getState(),o=this.store.selectSnapshot(zo.getUserLanguage),s=this.store.selectSnapshot(zo.getSelectedUserApp);this.publishService.generateWidgetURL(n,a,i,l,Ft.Single,o,s).subscribe(t=>{e.dispatch(new at(n,t))},()=>{e.dispatch(new ot(n))})}getPublishIFrame(e,t){const{model:n,camera:l,widgetOptions:i}=t,{widgetURL:a,dimensions:o}=e.getState(),s=this.store.selectSnapshot(zo.getUserLanguage),r=this.store.selectSnapshot(zo.getSelectedUserApp);this.publishService.generateWidgetEmbed(n,a,i,o,l,Ft.Single,s,r).subscribe(t=>{e.dispatch(new nt(t))},()=>{e.dispatch(new lt)})}savePublishImage(e,{imageData:t}){this.publishService.saveUserImage(t).subscribe(t=>{e.dispatch(new ut(t))},()=>{e.dispatch(new pt)})}getPublishImage(e,t){const{model:n,camera:l,widgetOptions:i,imageData:a}=t,{widgetURL:o}=e.getState(),s=this.store.selectSnapshot(zo.getUserLanguage),r=this.store.selectSnapshot(zo.getSelectedUserApp);Object(ht.a)(this.publishService.generateWidgetURL(n,o,i,l,Ft.Single,s,r),this.publishService.saveUserImage(a)).subscribe(([t,l])=>{const i=this.publishService.getImageEmbed(n.title,t,l);e.dispatch(new bt(i))},()=>{e.dispatch(new gt)})}setPublishing(e,{publishing:t}){e.patchState({publishing:t})}resetPublish(e,t){e.setState(Fo)}};return Object(b.__decorate)([Object(g.a)(Ye),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ye]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setPublishWidgetURL",null),Object(b.__decorate)([Object(g.a)(et),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,et]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setPublishDimensions",null),Object(b.__decorate)([Object(g.a)(it),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,it]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getPublishURL",null),Object(b.__decorate)([Object(g.a)(tt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,tt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getPublishIFrame",null),Object(b.__decorate)([Object(g.a)(ct),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ct]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"savePublishImage",null),Object(b.__decorate)([Object(g.a)(dt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,dt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getPublishImage",null),Object(b.__decorate)([Object(g.a)(st),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,st]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setPublishing",null),Object(b.__decorate)([Object(g.a)(rt),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,rt]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetPublish",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Ze]),Object(b.__metadata)("design:returntype",void 0)],e,"getDimensions",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Ze]),Object(b.__metadata)("design:returntype",void 0)],e,"getMinDimensions",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Ze]),Object(b.__metadata)("design:returntype",void 0)],e,"getWidgetURL",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Ze]),Object(b.__metadata)("design:returntype",void 0)],e,"getPublishing",null),Object(b.__decorate)([Object(g.g)({name:"publish",defaults:Fo})],e)})();class Eo{constructor(e,t,n){this.store=e,this.publishService=t,this.sanitizer=n}set model(e){const t=this.store.selectSnapshot(Lo.getWidgetURL),n=this.store.selectSnapshot(zo.getUserLanguage),l=this.publishService.getWidgetURL(e,t,this.params,null,null,n);this.src=this.sanitizer.bypassSecurityTrustResourceUrl(l)}ngOnInit(){}}var No=n("cUpR"),Ro=n("l5mm"),Ao=n("H0e8");const Do=(e,t)=>{const n=[...e];return t.forEach(e=>{n.push(void 0!==e?Number(e):1)}),n},Uo=e=>{const t=/rgba?\((\d{1,3})\,\s*(\d{1,3})\,\s*(\d{1,3})\,?\s*(\d+\.\d{0,5})?\)/g;let n=[];const l=t.exec(e),i=t.exec(e);return n=Do(n,l.slice(1,5)),Do(n,i.slice(1,5))};class Bo{constructor(e,t,n){this.colors=e,this.gradientType=t,this.colorStops=n}static equals(e,t){return e.gradientType===t.gradientType&&e.colors.length===t.colors.length&&e.colors.every((e,n)=>e===t.colors[n])&&e.colorStops.length===t.colorStops.length&&e.colorStops.every((e,n)=>e===t.colorStops[n])}static deserialize(e){if(!Object.keys(e).length)return null;let t=[];"string"==typeof e.colors?t=Uo(e.colors):Array.isArray(e.colors)&&8===e.colors.length&&(t=e.colors.map((e,t)=>(t+1)%4&&e<=1?Math.round(255*e):e));const n=/radial|linear/.test(e.gradientType)?e.gradientType:"radial",l=e.colorStops,i=Array.isArray(l)&&2===l.length?[l[0],l[1]]:[0,100];return new Bo(t,n,i)}static toCSS(e){const t=e.colors,n=`rgba(${t[0]},${t[1]}, ${t[2]}, ${t[3]}) ${e.colorStops[0]}%`,l=`rgba(${t[4]},${t[5]}, ${t[6]}, ${t[7]}) ${e.colorStops[1]}%`;return"radial"===e.gradientType?`radial-gradient(circle, ${n}, ${l})`:`linear-gradient(180deg, ${n}, ${l})`}static fromCSS(e){const t=/radial-gradient/.test(e)?"radial":"linear",n=Uo(e),l=/([0-9]+)\%/g,i=[0,100];return i[0]=Number(l.exec(e)[1]),i[1]=Number(l.exec(e)[1]),new Bo(n,t,i)}static isTransparent(e){if(!e||!e.colors)return!1;const t=e.colors,n=t[3];return t.length<=4?0===n:0===n&&0===t[7]}}var $o=function(e){return e.AnnotationsCreate="annotations.create",e.AnnotationsDestroy="annotations.destroy",e.AnnotationsInfo="annotations.info",e.AnnotationsSetDescription="annotations.setDescription",e.AnnotationsSetLabelsShown="annotations.setLabelsShown",e.AnnotationsSetTitle="annotations.setTitle",e.AnnotationsUpdate="annotations.update",e.AnnotationsSetEnabled="annotations.setEnabled",e.CameraInfo="camera.info",e.CameraOrbit="camera.orbit",e.CameraPan="camera.pan",e.CameraReset="camera.reset",e.CameraSet="camera.set",e.CameraZoom="camera.zoom",e.GetAnnotationInfo="annotations.info",e.HideAnnotations="annotations.hide",e.HideLabels="labels.hide",e.HotspotsCreate="hotspots.create",e.HotspotsDestroy="hotspots.destroy",e.HotspotsHide="hotspots.hide",e.HotspotsInfo="hotspots.info",e.HotspotsShow="hotspots.show",e.HotspotsTypes="hotspots.types",e.HotspotsUpdate="hotspots.update",e.HumanInfo="human.info",e.InputDisable="input.disable",e.InputEnable="input.enable",e.LabelsSetEnabled="labels.setEnabled",e.SceneColorObject="scene.colorObject",e.SceneDisableHighlight="scene.disableHighlight",e.SceneEnableHighlight="scene.enableHighlight",e.SceneSetHighlightColor="scene.setHighlightColor",e.SceneGetColor="scene.getColor",e.SceneInfo="scene.info",e.SceneLoad="scene.load",e.ScenePick="scene.pick",e.SceneReset="scene.reset",e.SceneSelectObjects="scene.selectObjects",e.SceneShowObjects="scene.showObjects",e.SceneTransformObject="scene.transformObject",e.SceneUncolorObject="scene.uncolorObject",e.SceneSnapshot="scene.snapshot",e.SceneCapture="scene.capture",e.SceneRestore="scene.restore",e.SceneEnableXrayMode="scene.enableXray",e.SceneDisableXrayMode="scene.disableXray",e.ShowAnnotations="annotations.show",e.SetAnnotationsShown="annotations.setShown",e.ShowLabels="labels.show",e.TimelineInfo="timeline.info",e.TimelineQuery="timeline.query",e.TimelineNext="timeline.nextChapter",e.TimelinePause="timeline.pause",e.TimelinePlay="timeline.play",e.TimelinePrev="timeline.previousChapter",e.TimelineSet="timeline.set",e.UIGetBackground="ui.getBackground",e.UIGetDisplay="ui.getDisplay",e.UIGetWordPosition="ui.getWorldPosition",e.UISetBackground="ui.setBackground",e.UISetDisplay="ui.setDisplay",e.UIResetDisplay="ui.resetDisplay",e.UISnapshot="ui.snapshot",e.focusObject="focus.focusObject",e.dissectSetEnabled="dissect.setEnabled",e.pickSingleSetEnabled="pick.single.setEnabled",e.pickMultiSetEnabled="pick.multi.setEnabled",e.getCanvasPos="scene.getCanvasPos",e.sceneSetClickMode="scene.setClickMode",e.IsolateObject="scene.isolateObject",e.setCameraMode="camera.setCameraMode",e.UISetLoadingExperience="ui.setLoadingExperience",e.UISetScrollCaptureMode="ui.setScrollCaptureMode",e}({}),Vo=function(e){return e.Started="started",e.Loaded="loaded",e.Tick="tick",e.ClientsConnected="clients.connected",e.ClientMessage="clients.messageReceived",e.HumanLoaded="human.loaded",e.HumanProgress="human.progress",e.HumanReady="human.ready",e.HumanStarted="started",e.Error="error",e.HumanError="human.error",e.AnnotationsCreated="annotations.created",e.AnnotationsDestroyed="annotations.destroyed",e.AnnotationsHidden="annotations.hidden",e.AnnotationsShown="annotations.shown",e.AnnotationsPositionUpdated="annotations.positionUpdated",e.AssetsLoadFinish="assets.load.finish",e.AssetsLoadProgress="assets.load.progress",e.AssetsLoadStart="assets.load.start",e.CameraRested="camera.rested",e.CameraUpdated="camera.updated",e.HotspotsDisplayUpdated="hotspots.displayUpdated",e.HotspotsEntered="hotspots.entered",e.HotspotsLeft="hotspots.left",e.HotspotsPicked="hotspots.picked",e.HotspotsPositionUpdated="hotspots.positionUpdated",e.LabelCreated="label.created",e.LabelDestroyed="label.destroyed",e.LabelsDestroyed="label.destroyed",e.LabelsHidden="labels.hidden",e.LabelsShown="labels.shown",e.ModuleInteractive="module.interactive",e.ModulesActivateFinish="modules.activate.finish",e.ModulesCreateFinish="modules.create.finish",e.ModulesDestroyFinish="modules.destroy.finish",e.PickPicked="pick.picked",e.SceneLoaded="scene.loaded",e.SceneMarkersUpdated="scene.markers.updated",e.SceneObjectRenderable="scene.objectRenderable",e.SceneObjectsSelected="scene.objectsSelected",e.SceneObjectsShown="scene.objectsShown",e.ScenePicked="scene.picked",e.SceneRestored="scene.restored",e.SceneXrayEnabled="scene.xrayEnabled",e.SceneXrayDisabled="scene.xrayDisabled",e.Debug_SceneReady="debug.scene.ready",e.TimelineChaptersActivated="timeline.chapters.activated",e.TimelineChaptersActivateFinish="timeline.chapters.activate.finish",e.TimelineChaptersActivateStart="timeline.chapters.activate.start",e.TimelineChapterTransition="timeline.chapterTransition",e.TimelinePlaying="timeline.playing",e.TimelineScrubbed="timeline.scrubbed",e.TimelinePlayed="timeline.played",e.TimelineStopped="timeline.stopped",e.TimelinePaused="timeline.paused",e.TimelineUnpaused="timeline.unpaused",e.TimelineCompleted="timeline.completed",e}({}),Qo=function(e){return e.Play="play",e.Button="button",e.Hand="hand",e}({}),Go=function(e){return e.Capture="capture",e.DoNotCaptureShowMessage="do_not_capture_show_message",e.DoNotCapture="do_not_capture",e}({});const Wo=.95;class Jo{constructor(e,t,n){this.elRef=e,this.publishService=t,this.cameraService=n,this.scalable=!1,this.cameraUpdated=new l.n,this.ngUnsubscribe=new $.a,this._ready=!1,this._enableUI=!0}set enableUI(e){this._enableUI=e,this.setWidgetUIConfig(this._enableUI,this._params)}set bgColor(e){this._bgColor=e,this._ready&&this.renderWidgetBGColor()}set widgetParams(e){this._params=e,this._rotateDegrees=e?e.loadRotate:0,this.setWidgetUIConfig(this._enableUI,this._params)}get topOffset(){const e=(this.elRef.nativeElement.offsetHeight-this.height)/2;return this.scaleFactor<1?e:Math.max(0,e)}get leftOffset(){const e=(this.elRef.nativeElement.offsetWidth-this.width)/2;return this.scaleFactor<1?e:Math.max(0,e)}get scaleFactor(){if(this.scalable){const{offsetWidth:e,offsetHeight:t}=this.containerRef.nativeElement,n=Math.min(e/this.width,t/this.height,1);return 1===n?1:n*Wo}return 1}ngOnInit(){this._apiRef=new HumanAPI({iframeId:this.frameRef.nativeElement.id}),this.getAPIEvent(Vo.HumanReady).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this._ready=!0,this.setupCameraTracking(),this.setupCameraRotation(),this.setWidgetUIConfig(this._enableUI,this._params),this.getCurrentBGColor().pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this._defaultColor=e,this.renderWidgetBGColor()})})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}setWidgetUIConfig(e,t){if(this._apiRef&&t){if(e){const e=this.convertWidgetOptionsToDisplayParams(t);this.resetDisplay(),this.setUIDisplay(e)}else this.hideUIDisplay();const n=(e=>e.button?Qo.Button:e.handHint?Qo.Hand:e.play?Qo.Play:void 0)(t.initial),l=(e=>e.alert?Go.DoNotCaptureShowMessage:e.overlay?Go.DoNotCapture:Go.Capture)(t.disableScroll);this._apiRef.send($o.UISetLoadingExperience,n),this._apiRef.send($o.UISetScrollCaptureMode,l)}}takeSnapshot(e){return this.getAPIData($o.UISnapshot,Object.assign({width:this.width,height:this.height},e))}setCameraOrbit(e){this.sendAPIData($o.CameraOrbit,{yaw:e})}renderWidgetBGColor(){this.setWidgetBGColor(this._bgColor||this._defaultColor)}setWidgetBGColor(e){this._apiRef&&e&&this.sendAPIData($o.UISetBackground,e)}setupCameraTracking(){this.getCurrentCamera().pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultCamera(e),this.getCameraUpdates().pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.setUpdateCamera(e)})})}setupCameraRotation(){let e=performance.now();Object(Ro.a)(0,Ao.animationFrame).pipe(Object(G.a)(()=>!!this._rotateDegrees),Object(r.a)(()=>this._rotateDegrees*(performance.now()-e)*.001),Object(Po.a)(()=>e=performance.now()),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.setCameraOrbit(e)})}setDefaultCamera(e){this._defaultCamera=e,this.setUpdateCamera(e)}setUpdateCamera(e){this._currentCamera=e;const t=this.cameraService.compareCameras(this.cameraService.roundCamera(this._defaultCamera,3),this.cameraService.roundCamera(this._currentCamera,3));this.cameraUpdated.emit(t?null:this._currentCamera)}getAPIEvent(e){return new V.a(t=>{this._apiRef.on(e,e=>{t.next(e)})})}getAPIData(e,t){return new V.a(n=>{this._apiRef.send(e,t,e=>{n.next(e),n.complete()})})}sendAPIData(e,t){this._apiRef.send(e,t)}getCurrentCamera(){return this.getAPIData($o.CameraInfo).pipe(Object(r.a)(e=>({eye:e.position,look:e.target,up:e.up})))}getCurrentBGColor(){return this.getAPIData($o.UIGetBackground).pipe(Object(r.a)(e=>e?new Bo([...[].concat(...e.colors)],e.gradientType,e.colorStops):null))}getCameraUpdates(){return this.getAPIEvent(Vo.CameraUpdated).pipe(Object(r.a)(e=>{const{position:t,target:n,up:l}=e;return{eye:t,look:n,up:l}}))}setUIDisplay(e){this._apiRef.send($o.UISetDisplay,e)}resetDisplay(){this._apiRef.send($o.UIResetDisplay)}hideUIDisplay(){this.setUIDisplay({all:!1})}convertWidgetOptionsToDisplayParams(e){return{info:e.uiInfo,search:e.uiSearch,reset:e.uiReset,fullscreen:e.uiFullscreen,nav:e.uiNav,tools:e.uiTools,help:e.uiHelp,chapterList:e.uiChapterList,labelList:e.uiLabelList,anatomyDescriptions:this._params.uiAnatomyDescriptions}}}var qo=l.tb({encapsulation:0,styles:[[".widget[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:relative}.widget__container[_ngcontent-%COMP%]{position:absolute;padding:8px}.widget__frame[_ngcontent-%COMP%]{display:block;width:100%;height:100%;box-shadow:0 0 0 1px #eaeff5}"]],data:{}});function Ko(e){return l.Rb(2,[l.Nb(402653184,1,{containerRef:0}),l.Nb(402653184,2,{frameRef:0}),(e()(),l.vb(2,0,[[1,0],["widgetContainer",1]],null,3,"div",[["class","widget"]],null,null,null,null,null)),(e()(),l.vb(3,0,null,null,2,"div",[["class","widget__container"]],[[4,"width",null],[4,"height",null],[4,"top",null],[4,"left",null],[4,"transform",null]],null,null,null,null)),(e()(),l.vb(4,0,[[2,0],["widgetFrame",1]],null,1,"iframe",[["allowfullscreen",""],["appEmbedSrc",""],["class","widget__frame"],["id","widget-frame"]],[[8,"width",0],[8,"height",0],[4,"width",null],[4,"height",null],[8,"src",5]],null,null,null,null)),l.ub(5,81920,null,0,Eo,[g.i,Et,No.b],{model:[0,"model"],id:[1,"id"]},null)],(function(e,t){e(t,5,0,t.component.model,"widget-frame")}),(function(e,t){var n=t.component;e(t,3,0,n.width+"px",n.height+"px",n.topOffset+"px",n.leftOffset+"px","scale("+n.scaleFactor+")"),e(t,4,0,n.width,n.height,n.width+"px",n.height+"px",l.Hb(t,5).src)}))}var Xo=n("Kj3r");class Zo{}class Yo{}const es=()=>(class{});let ts=(()=>{class e{constructor(){this.type=a.Bookmark,this.favorite=!1,this.unavailable=!1}}return Object(b.__decorate)([Object(A.Type)(es),Object(b.__metadata)("design:type",Array)],e.prototype,"group_access",void 0),e})();var ns=n("z6cu");class ls{}class is{}class as{}const os=()=>is;let ss=(()=>{class e{}return Object(b.__decorate)([Object(A.Type)(os),Object(b.__metadata)("design:type",String)],e.prototype,"objectId",void 0),e})();class rs{}const cs=()=>ss,us=()=>rs,ps=()=>(class{}),ds=()=>(class{});let bs=(()=>{class e{}return Object(b.__decorate)([Object(A.Type)(cs),Object(A.Type)(us),Object(A.Type)(ps),Object(A.Type)(ds),Object(b.__metadata)("design:type",String)],e.prototype,"moduleId",void 0),e})();class gs{constructor(){this.graph={hidden:!1,clipped:!1,disabled:!1,transparent:!1}}}class hs{}class ms{}class _s{}class fs{}var ys,vs,xs,Os=function(e){return e.AllAtOnce="All-At-Once",e.Progressive="Progressive",e.OnDemand="On-Demand",e}({});function Cs(e,...t){return()=>new Promise(n=>{e(...t,()=>{n()})})}!function(e){function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}e.getUuid=t,e.idWithPrefix=function(e){return`${e}-${t()}`}}(ys||(ys={}));class ws{}class js{constructor(e){this.shown=e=>!1,this.selected=e=>!1,this.pickable=e=>!0,e.forEach(e=>{this[e]=e=>!1})}}function ks(e,t,n){const l={},i={};return vs.depthFirst(e,a=>{i[a]=vs.isRoot(e,a)?Object.assign({},vs.getState(e,a,n),t[a]||{}):Object.assign({},i[e.predecessors[a]],t[a]||{}),vs.isLeaf(e,a)&&(l[a]=i[a])}),l}!function(e){function t(e,t){return e.nodes[t]||null}function n(e,t){return e.predecessors[t]||null}function l(e,t){return[...e.successors[t]||[]]}function i(e){return Object.keys(e.roots)}e.getNode=t,e.getAncestor=n,e.getAllAncestorsFromList=function(e,t){const l={};let i;return t.forEach(t=>{(i=n(e,t))&&!l[i]&&(l[i]=!0)}),Object.keys(l)},e.getSuccessors=l,e.getState=function(e,n,l){const i={},a=t(e,n);return Object.entries(a.boolState).forEach(([e,t])=>{l&&l.includes(e)&&(i[e]=t)}),Object.entries(a.numState).forEach(([e,t])=>{l&&l.includes(e)&&(i[e]=t)}),i},e.isLeaf=function(e,t){return!!e.nodes[t]&&void 0===e.successors[t]},e.isRoot=function(e,t){return e.roots.hasOwnProperty(t)||!1},e.getRoots=i,e.depthFirst=function e(t,n,a){a?(n(a),l(t,a).forEach(l=>{e(t,n,l)})):i(t).forEach(l=>{n(l),e(t,n,l)})},e.createGraphFromSrc=function(e,t="id",n="children",l={}){const i={nodes:{},successors:{},predecessors:{},roots:{}};return e.forEach(e=>{!function e(t,n,l,i,a,o,s){const r={id:l[i],depth:0,boolState:{},numState:{}};r.depth=s,Object.entries(o).forEach(([e,t])=>{let n;"string"==typeof t?n=l[t]:"function"==typeof t&&(n=t(l[i])),"boolean"==typeof n?r.boolState[e]=n:"number"==typeof n?r.numState[e]=n:r[e]=n}),t.nodes[r.id]=r,n?(t.successors[n]=[...t.successors[n]||[],r.id],t.predecessors[r.id]=n):t.roots[r.id]=r,s+=1,l[a].forEach(n=>{e(t,r.id,n,i,a,o,s)})}(i,null,e,t,n,l,0)}),i},e.pruneHiddenObjects=function e(t,n,l){const i=[];for(const a of t){const t=n[a.objectId],o=(()=>!0===t||!1!==t&&l)(),s=e(a.objects||[],n,o);if(o){const e=Object.assign({},a);e.objects=s,i.push(e)}else s.forEach(e=>i.push(e))}return i}}(vs||(vs={})),function(e){function t(e,t){return e.reduce((e,n)=>(e[n]=t[n]||!1,e),{})}e.createVoter=t,e.getInitialVoterState=function(e,n){return Object.keys(e).reduce((l,i)=>(l[i]=t(n,e[i]),l),{})},e.getInitialElectionDepth=function(e,t){return Object.keys(e).reduce((e,n)=>Math.max(e,vs.getNode(t,n).depth),0)-1},e.getEligibleElections=function(e,t,n){return vs.getAllAncestorsFromList(e,t).filter(t=>t&&vs.getNode(e,t).depth===n)};const n={trueWins:e=>({result:e.votesFor.length>0,dissenters:[...e.votesAgainst]}),falseWins:e=>({result:e.votesAgainst.length>0,dissenters:[...e.votesFor]}),majorityWins:e=>{const t=e.votesFor.length>e.votesAgainst.length;return{result:t,dissenters:t?[...e.votesAgainst]:[...e.votesFor]}}};function l(e,t,l){return Object.keys(t).reduce((i,a)=>{const o=t[a],s=l[a]||"majorityWins",{result:r,dissenters:c}=n[s](o);return i[a]={id:e,result:r,dissenters:c,voters:[...o.votesFor,...o.votesAgainst]},i},{})}e.buildElectionResult=l,e.getElectionResults=function(e,n,i,a){const o=n,s=Object.keys(a);return{results:i.reduce((i,r)=>{const c=vs.getSuccessors(e,r),u=c.map(l=>({[l]:n[l]||t(s,vs.getState(e,l,s))}));c.forEach(e=>{delete o[e]});const p=l(r,function(e,t){return Object.keys(e).reduce((e,n)=>{const l=t.reduce((e,t)=>{const l=Object.keys(t)[0];return t[l][n]?e.votesFor.push(l):e.votesAgainst.push(l),e},{votesFor:[],votesAgainst:[]});return e[n]=l,e},{})}(a,u),a);return o[r]=Object.entries(p).reduce((e,[t,n])=>(e[t]=n.result,e),{}),i.results.push(p),i},{results:[]}).results,remainingVoters:o}}}(xs||(xs={}));class Ss{}let Ps=(()=>{class e{serializeNode(e,t,n={},l=(e=>!0)){const i={};return i.id=t.id,Object.entries(t.boolState).forEach(([e,t])=>{n.hasOwnProperty(e)&&(i[e]=t)}),Object.entries(t.numState).forEach(([e,t])=>{n.hasOwnProperty(e)&&(i[e]=t)}),e.successors[t.id]&&(i.children=[],e.successors[t.id].forEach(t=>{l(t)&&i.children.push(this.serializeNode(e,e.nodes[t],n,l))},this)),i}getAllSiblingsFromList(e,t,n){const l=[];let i;for(i=0;i<t.length;i++)this.getSiblings(e,t[i],n).forEach(e=>{l.includes(e)||l.push(e)});return l}getElectionResults(e,t,n,l){class i extends Ss{constructor(e,t){super(),Object.entries(e).forEach(([e,n])=>{this[e]={votesFor:[],votesAgainst:[]},Object.entries(t).forEach(([t,n])=>{n[e]?this[e].votesFor.push(t):this[e].votesAgainst.push(t)},this)},this)}}let a,o;const s=Object.keys(l),r=[];return n.forEach(n=>{o={},vs.getSuccessors(e,n).forEach(n=>{o[n]=t[n]||xs.createVoter(s,vs.getState(e,n,s)),delete t[n]},this),a=new i(l,o);const c=xs.buildElectionResult(n,a,l);r.push(c);const u={};Object.entries(c).forEach(([e,t])=>{u[e]=t.result}),t[n]=u},this),r}updateGraphStateRecord(e,t,n,l,i=!0){n.forEach(n=>{const a=n[l[0]].id,o=vs.getState(e,a,l),s={};let r=!1;l.forEach(e=>{(i||n[e].result!==o[e])&&(s[e]=n[e].result,r=!0)}),r&&(t[a]=s)},this)}addNode(e,t){e.nodes[t.id]||(e.nodes[t.id]=t)}addRootNode(e,t){this.addNode(e,t);const n=vs.getNode(e,t.id);e.roots[n.id]=n}nodeExists(e,t){return!!e.nodes[t]}addEdge(e,t,n){if(this.nodeExists(e,t)&&this.nodeExists(e,n)){if(e.successors[t]){if(!(e.successors[t].indexOf(n)<0))return!1;e.successors[t].push(n)}else e.successors[t]=[n];const l=vs.getNode(e,t).depth;return vs.getNode(e,n).depth=l+1,e.predecessors[n]=t,!0}return!1}getLeaves(e){const t=[];return Object.entries(e.nodes).forEach(([n,l])=>{e.successors[n]||t.push(n)}),t}getDescendants(e,t,n=!1){const l=[];return function t(n){vs.getSuccessors(e,n).forEach(e=>{l.push(e),t(e)})}(t),n&&l.push(t),l}getLeafDescendants(e,t,n=!1){const l=this.getDescendants(e,t,n).filter(t=>vs.isLeaf(e,t));return(vs.isLeaf(e,t)||n)&&l.push(t),l}getAllLeafDescendants(e,t){let n=[];return t.forEach(t=>{n=vs.isLeaf(e,t)?[...n,t]:[...n,...this.getLeafDescendants(e,t,!1)]}),n.sort().reduce((e,t)=>(e.indexOf(t)<0&&e.push(t),e),[])}getInverseSelection(e,t){const n=this.getAllLeafDescendants(e,t);return this.getLeaves(e).filter(e=>n.indexOf(e)<0)}getSiblings(e,t,n=!1){const l=e.predecessors[t];let i=[];if(i=l?vs.getSuccessors(e,l):vs.getRoots(e),!n){const e=i.indexOf(t);e>=0&&i.splice(e,1)}return i}getAncestors(e,t,n=!1,l="ascending"){const i=n?[t]:[];let a=e.predecessors[t];for(;a;)i.push(a),a=e.predecessors[a];return"descending"===l&&i.reverse(),i}getNodes(e,t){const n=[];return t.forEach(t=>{e.nodes[t]&&n.push(e.nodes[t])}),n}setState(e,t,n){const l=vs.getNode(e,t),i={};return Object.entries(n).forEach(([e,t])=>{"boolean"==typeof t&&l.boolState[e]!==t?(l.boolState[e]=t,i[e]=t):"number"==typeof t&&l.numState[e]!==t&&(l.numState[e]=t,i[e]=t)}),i}synchronize(e,t,n){const l=this.calculateGraphStateMap(e,t,n);return Object.entries(l).forEach(([t,n])=>{this.setState(e,t,n)},this),l}calculateGraphStateMap(e,t,n,l=!n){let i=[];const a={};let o=[];const s={},r=Object.keys(t);let c=0;for(n?Object.entries(n).forEach(([t,l])=>{a[t]=xs.createVoter(r,n[t]),s[t]=Object.assign({},a[t]),c=Math.max(c,vs.getNode(e,t).depth)},this):this.getLeaves(e).forEach(t=>{a[t]=xs.createVoter(r,vs.getNode(e,t).boolState),s[t]=Object.assign({},a[t]),c=Math.max(c,vs.getNode(e,t).depth)},this),c-=1,i=xs.getEligibleElections(e,Object.keys(a),c);c>=0;)o=this.getElectionResults(e,a,i,t),this.updateGraphStateRecord(e,s,o,r,l),c-=1,i=xs.getEligibleElections(e,Object.keys(a),c);return s}filterGraphAccessors(e,t){const n=this.getNodes(e,t).sort((e,t)=>e.depth-t.depth),l=new Map;return n.filter(t=>!l.has(t.id)&&(this.getDescendants(e,t.id,!0).forEach(e=>l.set(e,!0)),!0)).map(e=>e.id)}resetDepth(e){vs.depthFirst(e,t=>{let n=0;e.predecessors[t]&&(n=vs.getNode(e,e.predecessors[t]).depth+1),vs.getNode(e,t).depth=n})}deleteNode(e,t,n=!0){if(!this.nodeExists(e,t))return;delete e.nodes[t];const l=e.predecessors[t];l&&(delete e.predecessors[t],e.successors[l]&&(e.successors[l]=e.successors[l].filter(e=>e!==t)));const i=e.successors[t];i&&(delete e.successors[t],n&&i.forEach(t=>{this.deleteNode(e,t)},this)),e.roots[t]&&delete e.roots[t]}sanitizeNodeID(e){const t=new RegExp(/\|/,"gi");return e.replace(t,"_")}resetAsLeaf(e,t){let n=[];return e.nodes[t]&&!vs.isLeaf(e,t)&&(n=this.getDescendants(e,t),delete e.successors[t],n.forEach(t=>{delete e.nodes[t],delete e.successors[t],delete e.predecessors[t]})),n}createGraphStateMapFromPropertyMaps(e){const t={};for(const n in e)for(const l in e[n])t[l]=Object.assign({},t[l]||{},{[n]:e[n][l]});return t}extractPropertymapFromGraphState(e,t){const n={};for(const l in e)e[l].hasOwnProperty(t)&&(n[l]=e[l][t]);return n}}return e.ngInjectableDef=l.Ub({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Ms="objectId",Hs="objects",Is={shown:"shown",renderable:e=>Human.scene.objects[e].isRenderable(),pickable:"pickable",label:e=>Human.scene.objects[e].displayName,expanded:e=>!1,layer:"layer"},Ts={shown:"trueWins",renderable:"falseWins",pickable:"trueWins"},zs={trim:!0};class Fs{constructor(e){this.trim=e.trim||!1,this.terminal=e.terminal||[],this.root=e.root||{children:[],replace:!1},this.connect=e.connect||{},this.nodes=e.nodes||[]}}let Ls=(()=>{class e{constructor(e){this.graphService=e,this.objectToNodeMap={},this.nodeToObjectMap={},this.events={},this.events=Object.values(Vo).reduce((e,t)=>(e[t]=this.makeObservable(t),e),{})}makeObservable(e){return new V.a(t=>{Human.events.on(e,e=>{t.next(e)})})}getCanvas(){return Human.renderer.canvas.canvas}getEvent(e){return this.events[e]}fireEvent(e,t){Human.events.fire(e,t)}pickScene(e){return Human.renderer.pick.pick(e.x,e.y,{rayPick:e.rayPick})}transformObject(e,t){const n=Human.scene.objects[e];n?n.setTransform(t):console.error(`Scene object not found: '${e}'`)}toggleNodes(e,t){const n={replace:!1,objects:{},fetchAssets:t};e.forEach(e=>{this.getObjects(e).forEach(e=>{n.objects[e]=t})}),Human.scene.setEnabledObjects(n)}setNodesVisible(e){const t={replace:!1,objects:Object.assign({},e),fetchAssets:!1};Human.scene.setEnabledObjects(t)}setNodesPickable(e,t,n){const l={};return t.forEach(e=>{const t=Human.scene.objects[e].isLeaf()?[e]:this.getLeafObjects(e);l[e]={pickable:n},t.forEach(e=>{Human.scene.objects[e].setPickable(n),l[e]={pickable:n}})}),l}filterObjects(e,t){let n=e.length;for(;n--;)switch(!0){case e[n]instanceof Human.scene.Group:e[n].objects=this.filterObjects(e[n].objects,t),0===e[n].objects.length&&e.splice(n,1);break;case e[n]instanceof Human.scene.Object:-1===e[n].displayName.toLowerCase().indexOf(t)&&e.splice(n,1)}return e}setObjectLayer(e,t){const n=Human.scene.objects[e];if(n.layer=t,n.renderables)for(let l=0;l<n.renderables.length;++l)n.renderables[l].setLayer(t);else n.hasOwnProperty("_layerNode")?n._layerNode.setPriority(t):n.hasOwnProperty("_propertiesNode")&&n._propertiesNode.setProperties({layer:t})}getObjectLayerValues(e){const t={},n=Human.scene.getBoundary();return e.forEach(e=>{const l=Human.scene.objects[e],i=l.getBoundary(),a=Math.min(i.xmin-n.xmin,n.xmax-i.xmax),o=2*Math.min(i.ymin-n.ymin,n.ymax-i.ymax),s=Math.min(i.zmin-n.zmin,n.zmax-i.zmax),r=l.layer;t[r]=t[r]||[],t[r].push({nodeId:e,value:Math.min(a,o,s)})}),t}getSceneGraph(e){const t=vs.createGraphFromSrc(e,Ms,Hs,Is);return this.graphService.synchronize(t,Ts),t}createViewGraph(e,t=!0){const n=t?vs.pruneHiddenObjects(Human.scene.rootObjects,e):Human.scene.rootObjects,l=n.reduce((e,t)=>{const n=t.objectId.includes("-root");return e[t.objectId]=!0!==n,n&&t.objects.forEach(t=>{e[t.objectId]=!0}),e},{}),i=this.getSceneGraph(vs.pruneHiddenObjects(n,l));return this.graphService.resetDepth(i),i}getNode(e,t){return this.graphService.nodeExists(e,t)?vs.getNode(e,t):this.objectToNodeMap[t]?vs.getNode(e,this.objectToNodeMap[t]):null}getChapterGraphConfig(){const e=Human.timeline.activeRoot._nowBranch;return new Fs(Object.assign({},zs,e.graph||{}))}getRootObjects(){return Human.scene.rootObjects}getAllSceneObjects(){return Human.scene.objects}getObjects(e){return this.nodeToObjectMap[e]?this.nodeToObjectMap[e]:[Human.scene.objects[e].objectId]||!1}getLeafObjects(e){if(e in this.nodeToObjectMap){const t={};return this.nodeToObjectMap[e].forEach(e=>{Human.scene.objects[e].isLeaf()?t[e]=!0:Human.scene.getLeaves(e).forEach(e=>{t[e]=!0})}),Object.keys(t)}return e in Human.scene.objects?Human.scene.getLeaves(e):[]}getChapter(e){return Human.timeline.branchTimelines[e]||null}getActiveChapters(){return Human.timeline.activeRoot?Human.timeline.activeRoot._chapters:[]}getBoundaryFromObjects(e){return e=e.filter(e=>Human.scene.objects[e].isLeaf()),Human.scene.getBoundary({objectIds:e,clipped:!0})}getLeaves(e){return Human.scene.getLeaves(e)}getVisibleLeaves(){return Human.scene.getEnabledLeaves()}getCameraLookAt(){return Object(A.plainToClass)(rs,Human.renderer.camera.getLookAt())}barycentricToWorld(e,t,n,l=0){const i=new Float32Array([0,0,0]);return Human.scene.objects[e].barycentricToWorldSpace(l,t,n,i),isNaN(i[0])?[0,0,0]:[...Array.from(i)]}setGraphState(e){Human.scene.setObjectProperties(e)}getAssetNamespaces(){const e={};return Object.keys(Human.assets.loadedAssets).map(e=>e.split("/")[0]).forEach(t=>{e[t]=!0}),Object.keys(e)}queryShownObjects(e,t,n=!0){const l={};e.forEach(e=>{const n=ks(t,e.synchronization,["shown"]);for(const t in n)n.hasOwnProperty(t)&&(l[t]=l[t]||n[t].shown)});let i=l;if(n){const e=this.graphService.createGraphStateMapFromPropertyMaps({shown:l}),n=this.graphService.calculateGraphStateMap(t,{shown:"trueWins"},e,!0);i=this.graphService.extractPropertymapFromGraphState(n,"shown")}return i}loadGraphObject(e){const t=this.getObjects(e).map(e=>Human.scene.objects[e]);return new V.a(e=>{Human.scene.graph.attachAssetSetsToSubtree(t,null,()=>{e.next(!0),e.complete()})})}setProperties(e){Human.properties.set(e)}setTransparencyMode(e){Human.renderer.setTransparencyMode(e)}setPostProcessingEnabled(e){e?Human.renderer.postprocess.enable():Human.renderer.postprocess.disable()}setPostProcessingFeatures(e){Human.renderer.postprocess.parse(e)}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(Ps))},token:e,providedIn:"root"}),e})();var Es=function(e){return e.Default="default",e.Plus="plus",e.Minus="minus",e.PlusMinus="plusMinus",e}({}),Ns=function(e){return e.Annotation="annotation",e.Classic="classic",e.StudioNext="studioNext",e.Context="context",e}({});class Rs{constructor(e){this.pinType=Es.PlusMinus,this.theme=Ns.StudioNext,this.expandTag=!0,this.showDescription=!0,this.collapseDescription=!1,this.pinGlow=!1,this.hideWire=!1,this.hideTag=!1,this.title=e}}class As{}class Ds{}class Us{}const Bs=()=>Rs,$s=()=>As,Vs=()=>rs,Qs=()=>Ds;let Gs=(()=>{let e=class{};return Object(b.__decorate)([Object(A.Type)(Bs),Object(A.Type)($s),Object(A.Type)(Vs),Object(A.Type)(Qs),Object(A.Expose)(),Object(b.__metadata)("design:type",String)],e.prototype,"id",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"info",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Array)],e.prototype,"labels",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Array)],e.prototype,"hotspots",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",As)],e.prototype,"synchronization",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Bo)],e.prototype,"background",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"lights",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Array)],e.prototype,"timelineMap",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"camera",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"transitions",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"properties",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Boolean)],e.prototype,"loop",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"customData",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"clippingPlanes",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Us)],e.prototype,"ui",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Ds)],e.prototype,"graph",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"viewModes",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"recipes",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",String)],e.prototype,"transparencyMode",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"fallbackTransparency",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"effects",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"environment",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"showObjects",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"options",void 0),Object(b.__decorate)([Object(A.Expose)(),Object(b.__metadata)("design:type",Object)],e.prototype,"media",void 0),Object(b.__decorate)([Object(A.Exclude)()],e)})();var Ws=function(e){return e.classicAnnotation="classic-annotation",e.classicHotspot="classic-hotspot",e.studioNext="studio-light",e}({});class Js{constructor(e={center:[0,0,0],edge:[1,1,1],centerBias:1,edgeBias:0,power:1}){const{edge:t,center:n,centerBias:l,edgeBias:i,power:a}=e;this.edge=t,this.center=n,this.centerBias=l,this.edgeBias=i,this.power=a}static toEngine(e){const{center:t,edge:n,centerBias:l,edgeBias:i,power:a}=e;return[[...t],[...n],l,i,a]}}class qs{constructor(e={center:0,edge:1,centerBias:1,edgeBias:0,power:1}){const{edge:t,center:n,centerBias:l,edgeBias:i,power:a}=e;this.edge=t,this.center=n,this.centerBias=l,this.edgeBias=i,this.power=a}static toEngine(e){const{center:t,edge:n,centerBias:l,edgeBias:i,power:a}=e;return[t,n,l,i,a]}}class Ks{constructor(e={}){const{tintColor:t,saturation:n,contrast:l,brightness:i,opacity:a}=e;this.tintColor=t,this.saturation=n,this.contrast=l,this.brightness=i,this.opacity=a}static toEngine(e){let t=!1!==e.tintColor&&void 0,n=!1!==e.saturation&&void 0,l=!1!==e.brightness&&void 0,i=!1!==e.contrast&&void 0,a=!1!==e.opacity&&void 0;return Array.isArray(e.tintColor)?t=[...e.tintColor]:e.tintColor&&e.tintColor instanceof Js&&(t=Js.toEngine(e.tintColor)),"number"==typeof e.saturation?n=e.saturation/100:e.saturation instanceof qs&&(n=qs.toEngine(e.saturation)),"number"==typeof e.brightness?l=e.brightness/100:e.brightness instanceof qs&&(l=qs.toEngine(e.brightness)),"number"==typeof e.contrast?i=e.contrast/100:e.contrast instanceof qs&&(i=qs.toEngine(e.contrast)),"number"==typeof e.opacity?a=e.opacity/100:e.opacity instanceof qs&&(a=qs.toEngine(e.opacity)),{tintColor:t,saturation:n,brightness:l,contrast:i,opacity:a}}}const Xs=["tintColor","contrast","brightness","saturation","opacity"];var Zs=n("aUsF");class Ys{}class er{constructor(){this.title=null,this.description=null,this.errands=[]}}var tr=function(e){return e.flyToChapter="flyToChapter",e.flyToObject="flyToObject",e.flyToCamera="flyToCamera",e}({});class nr{constructor(e){this.type=tr.flyToObject,this.value=e}}class lr{constructor(e){this.type=tr.flyToCamera,this.value=e}}var ir=function(e){return e.Circle="circle",e.CirclePlus="circle-plus",e.CircleMinus="circle-minus",e.Label="label",e.CircleLabel="circle-label",e}({});class ar{constructor(){this.type=tr.flyToChapter,this.value=null}}const or={flyToCamera:"flyTo",flyToChapter:"flyTo"};let sr=(()=>{class e{constructor(e){this.engineService=e,this.convertActionToErrand=(e,t,n)=>{const l=new RegExp("^flyTo(Async)?"),i=new RegExp("^flyToObject(Async)?"),a=new RegExp("^flyTo[w.:]+currentChapter.[flyTo|jumpTo]"),o=n.split(":").slice(0,2),s=e;let r=o[1];/currentChapter/.test(r)&&(r=r.replace("currentChapter",`chapters[${t}]`));let c=null;return i.test(o[0])?c=new nr(this.objectAddress(s,r)):l.test(o[0])?c=new lr(this.objectAddress(s,r)):a.test(o[0])&&(c=new ar),c},this.convertErrandToAction=(e,t)=>{const n=ys.idWithPrefix("errand").replace(/\-/g,"_"),l={};let i="";const a=function(e){return or[e]||e}(t.type);return t.type===tr.flyToChapter?i=`${a}Async:currentChapter.${this.engineService.getChapter(e.chapterId).camera.action}`:(i=`${a}Async:currentChapter.customData.${n}`,l[n]=t.value),{action:i,data:l}},this.objectAddress=(e,t)=>t.split(".").reduce((e,t)=>{if(null===e)return null;if(/\[+[0-9+]\]+/.test(t)){const n=t.split("["),l=Number(n[1].match(/[0-9]+/));return n[0]in e&&l in e[n[0]]?e[n[0]][l]:null}return t in e?e[t]:null},e)}filterHotspot(e,t,n){const l=new RegExp("^(flyTo|flyToObject|hideHotspot|showHotspot|resetHotspots)"),i=this.getHotspotAction(e,n),a=i.filter(e=>l.test(e));return i.length===a.length}deserializeAnnotation(e,t,n){const l=new Rs(e.title||"");return l.id=e.annotationId||ys.idWithPrefix("label"),l.chapterId=t.id,l.expandTag=!0,l.showDescription=!0,l.collapseDescription=!1,l.pinGlow=!1,l.hideWire=!1,l.hideTag=!1,n===Ns.Annotation?(l.theme=Ns.Annotation,l.pinType=Es.Default,l.flyTo=!1,l.states=[]):(l.theme=Ns.StudioNext,l.pinType=Es.PlusMinus,l.flyTo=!0,l.states=[new er,new er],l.states[0].errands=[new lr(t.camera.location)],l.states[1].errands=[new nr(e.objectId)]),l.occludable=!1!==e.occludable,l.renderableIndex=e.renderableIndex||0,e.objectId&&e.hasOwnProperty("barycentric")?(l.objectId=e.objectId,l.primitiveIndex=e.primitiveIndex,l.barycentric=e.barycentric):e.hasOwnProperty("pos")&&(e.hasOwnProperty("objectId")&&(l.objectId=e.objectId),l.pos=e.pos),e.dir&&Array.isArray(e.dir)?l.dir=e.dir:e.dir&&e.dir instanceof Object&&(l.dir=Object.values(e.dir)),l.description=e.description||"",l.offset=e.labelOffset||[40,40],l.shown=!1!==e.shown,l.labelShown=!1!==e.labelShown,l}deserializeHotspots(e,t,n,...l){const[i,a]=l,o=new Rs(i.title||"");switch(o.id=ys.idWithPrefix("hotspot"),o.objectId=i.objectId,o.chapterId=t.id,o.description=i.description||"",o.pinType=/plus|minus/.test(i.className)?Es.PlusMinus:Es.Default,o.pinGlow=/pulse/.test(i.className),o.occludable=!0,o.shown=i.shown,o.offset=i.labelOffset?i.labelOffset:[22,-17],/left/.test(i.className)&&o.offset[0]>0?o.offset[0]*=-1:/right/.test(i.className)&&o.offset[0]<0&&(o.offset[0]*=-1),i.hasOwnProperty("barycentric")?(o.renderableIndex=i.renderableIndex||0,o.barycentric=i.barycentric,o.primitiveIndex=i.primitiveIndex):o.pos=i.pos,o.dir=i.dir,i.theme=i.theme?i.theme:Ws.classicHotspot,i.theme){case Ws.classicAnnotation:o.theme=Ns.Annotation,o.pinType=Es.Default,o.showDescription=!0,o.collapseDescription=!1,o.expandTag=!0,o.hideTag=!1,o.hideWire=!1;break;case Ws.classicHotspot:o.theme=Ns.Classic,o.showDescription=/label/.test(i.className),o.expandTag=/label/.test(i.className),o.hideTag=!o.expandTag,o.collapseDescription=!1,o.hideWire=!/leader-line/.test(i.className);break;case Ws.studioNext:o.theme=Ns.StudioNext,o.showDescription=!!i.description,o.collapseDescription=/collapsible/g.test(i.className),o.hideTag=!i.title,o.hideWire=!/leader-line/.test(i.className)}o.flyTo=!1,o.flyToTarget=null,o.states=[];const s=this.filterHotspotActions(this.getHotspotAction(e,i)),r=a?this.filterHotspotActions(this.getHotspotAction(e,a)):[],c=new er,u=new er;return s.length&&(c.errands=s.map(t=>this.convertActionToErrand(e,n,t))),r.length&&(u.errands=r.map(t=>this.convertActionToErrand(e,n,t))),o.states=[u,c],o}makeDefaultStudioLabel(e){const t=e?Object.assign({},e):new Rs("");return t.pinType=Es.PlusMinus,t.theme=Ns.StudioNext,t.expandTag=!0,t.showDescription=!0,t.collapseDescription=!1,t.pinGlow=!1,t.hideWire=!1,t.hideTag=!1,t.states=[new er,new er],t}makeAnnotationLabel(e){const t=e?Object.assign({},e):new Rs("");return t.pinType=Es.Default,t.theme=Ns.Annotation,t.expandTag=!0,t.showDescription=!0,t.collapseDescription=!1,t.pinGlow=!1,t.hideWire=!1,t.hideTag=!1,t.states=[],t}serializeLabel(e,t){const n=new Ys,l=Object(A.classToClass)(e),i=["circle","draggable"];switch(n.shown=!0,e.objectId&&(n.objectId=l.objectId),e.primitiveIndex&&e.barycentric&&e.objectId?(n.renderableIndex=e.renderableIndex||0,n.primitiveIndex=e.primitiveIndex,n.barycentric=e.barycentric,n.pos=this.engineService.barycentricToWorld(e.objectId,e.primitiveIndex,e.barycentric)):n.pos=l.pos,e.dir&&(n.dir=Array.prototype.slice.call(e.dir)),n.labelOffset=e.offset,e.theme){case Ns.Annotation:n.theme=Ws.classicAnnotation;break;case Ns.Classic:n.theme=Ws.classicHotspot;break;default:n.theme=Ws.studioNext}""!==l.title?(n.title=l.title,n.description=l.description,n.type=ir.CircleLabel):n.type=ir.Circle,e.pinGlow&&i.push("pulse"),e.pinType===Es.PlusMinus&&i.push("plus"),e.hideWire||i.push("leader-line"),e.hideTag||i.push("label"),e.collapseDescription&&i.push("collapsible collapsed"),n.className=i.join(" ");let a={};n.actions=[];const o=[n],s=e.states.length;return e.states.forEach((t,l)=>{if(l===s-1)o[0].actions.push("resetHotspots"),t.errands.forEach(t=>{const n=this.convertErrandToAction(e,t);o[0].actions.push(n.action),a=Object.assign({},a,n.data)});else{const l=Object(A.classToClass)(n);l.actions=[],l.className=l.className.replace("plus","minus"),t.errands.forEach(t=>{const n=this.convertErrandToAction(e,t);l.actions.push(n.action),a=Object.assign({},a,n.data)}),o.push(l)}}),2===o.length&&(o[0].actions.push(`hideHotspots:currentChapter.hotspots[${t}]`),o[0].actions.push(`showHotspots:currentChapter.hotspots[${t+1}]`),o[1].actions.push(`hideHotspots:currentChapter.hotspots[${t+1}]`),o[1].actions.push(`showHotspots:currentChapter.hotspots[${t}]`),o[0].shown=!0,o[1].shown=!1),2===o.length&&e.collapseDescription&&(o[1].className+=o[1].className.replace("collapsed","")),o.forEach(e=>{n.labelOffset[0]<0?e.className=e.className.replace("right","")+" left":n.labelOffset[0]>0&&(e.className=e.className.replace("left","")+" right")}),{data:a,hotspots:o}}setLabelContainer(e){this._labelContainer=e}getLabelContainer(){return this._labelContainer}getHotspotAction(e,t){const n=t.actionSrc?this.objectAddress(e,t.actionSrc):t.actions?t.actions:[];return n instanceof Array?n:[]}filterHotspotActions(e){const t=new RegExp("^(flyTo|flyToObject)");return e.filter(e=>t.test(e))}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(Ls))},token:e,providedIn:"root"}),e})();function rr(){return Human.scene.colorRecipes?Human.scene.colorRecipes.getRecipes():[]}class cr{constructor(e){this.shown="majorityWins",this.selected="majorityWins",this.pickable="majorityWins",e.forEach(e=>{this[e]="majorityWins"})}}let ur=(()=>{class e{constructor(e){this.labelService=e}getMinimumGraphSync(e,t,n){const l=rr(),i=Object.keys(new js(l)),a=ks(e,t,i),o=function(e,t,n){const l=Object.keys(t),i=xs.getInitialVoterState(n,l),a=xs.getInitialElectionDepth(n,e),o=Object(vt.range)(a,-1).reduce((n,l)=>{const i=xs.getEligibleElections(e,Object.keys(n.remainingVoters),l),a=xs.getElectionResults(e,n.remainingVoters,i,t),o=function(e){return e.reduce((e,t)=>{const n=Object.keys(t).map(e=>(function(e,t,n,l){const i=l.reduce((t,l)=>(t[l]={[e]:!n},t),{});return i[t]={[e]:n},i})(e,t[e].id,t[e].result,t[e].dissenters)).reduce((e,t)=>Object(vt.merge)(e,t),{});return Object.keys(n).forEach(t=>{e[t]=n[t]}),e},{})}(a.results);return Object.keys(o).forEach(e=>{n.syncGraph[e]=o[e]}),n.remainingVoters=a.remainingVoters,n},{syncGraph:{},remainingVoters:i}).syncGraph;return function(e,t,n,l){const i=t.reduce((t,i)=>{const a=e[i],o=e[l.predecessors[i]];for(const e of n)a[e]===o[e]&&t.push({successorId:i,prop:e});return t},[]);for(const a of i)delete e[a.successorId][a.prop],0===Object.keys(e[a.successorId]).length&&delete e[a.successorId];return e}(o,Object.keys(o).filter(t=>!e.roots[t]&&!!e.successors[t]),l,e)}(e,JSON.parse(JSON.stringify(new cr(l))),a);Object.entries(t).forEach(([e,t])=>{const n=Object(vt.omit)(t,i);Object(vt.isEmpty)(n)||(o[e]=Object.assign({},o[e]||{},n))});const s=new ws;return Object.entries(o).forEach(([e,t])=>{s[this.switchNamespace(e,n)]=t},this),s}convertGraphSync(e){const t={},n={},l={},i={},a={},o=rr();return Object.entries(e).forEach(([e,s])=>{Object.entries(s).forEach(([s,r])=>{"shown"===s?t[e]=r:"selected"===s?n[e]=r:"pickable"===s?l[e]=!r:o.find(e=>e===s)?i[s]=Object.assign({},i[s],{[e]:r}):a[e]=Object.assign({},a[e]||{},{[s]:r})},this)},this),{showObjects:t,selectObjects:n,pickThroughObjects:l,colorRecipeObjects:i,synchronization:a}}switchNamespace(e,t){return t[e]||e}serializeTimelineMaps(e,t){const n=e.timelineMap;return n.forEach(e=>{e.data.timeline=this.switchNamespace(e.data.timeline,t)}),n}serializeProperties(e){const t={},n=Human.properties.getDefaults();Object.entries(e.properties).forEach(([e,l])=>{Zs(l,n[e])||(t[e]=l)},this);const l=Human.properties.properties["annotations.layout.type"];return"draggable"!==l&&(t["annotations.layout.type"]=l),t}serializeHotspots(e){let t=[...e.hotspots],n={};return e.labels.forEach(e=>{const l=this.labelService.serializeLabel(e,t.length);t=[...t,...l.hotspots],n=Object.assign({},n,l.data)}),{customData:n,hotspots:t}}serializeMedia(e){return e.media?Object.entries(e.media).reduce((e,[t,n])=>(e[t]=Object.assign({},n.data),e),{}):null}serializeBackground(e){return e?Object(A.classToClass)(e):{}}serializeUI(e,t){return Object(vt.isEmpty)(t)?{play:{count:1}}:t}serializeChapter(e,t,n=!1,l){const i=this.serializeHotspots(t),a=Object.assign({},t.customData,i.customData),o={id:n?t.id:ys.idWithPrefix("chapter"),displayName:t.info.displayName,description:t.info.description,[t.camera.action]:t.camera.location,background:this.serializeBackground(t.background),hotspots:i.hotspots,clippingPlanes:t.clippingPlanes,ui:this.serializeUI(t,t.ui),media:this.serializeMedia(t),graph:t.graph||{},timelineMap:t.timelineMap||[],customData:a,viewModes:t.viewModes,lights:t.lights,recipes:t.recipes||{},transparencyMode:t.transparencyMode||"",fallbackTransparency:t.fallbackTransparency||"",properties:this.serializeProperties(t),effects:t.effects||{},options:t.options,transitions:t.transitions,environment:t.environment||{}},s=this.getMinimumGraphSync(e,t.synchronization,l);return Object.entries(this.convertGraphSync(s)).forEach(([e,t])=>{o[e]=t}),{chapter:o,sourceId:t.id}}serializeSingleChapter(e,t=!1,n={}){const l=new js(rr()),i=vs.createGraphFromSrc(Object.values(Human.scene.rootObjects),"objectId","objects",l);return this.serializeChapter(i,e,t,n)}serialize(e,t=!1,n){const l=new js(rr()),i=vs.createGraphFromSrc(Object.values(Human.scene.rootObjects),"objectId","objects",l),a=[],o={};return e.forEach(e=>{const l=this.serializeChapter(i,e,t,n);o[l.chapter.id]=l.sourceId,a.push(l.chapter)}),{chapters:a,sourceIdMap:o}}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(sr))},token:e,providedIn:"root"}),e})(),pr=(()=>{class e{constructor(e,t){this.serializeChapterService=e,this.labelService=t}addChapterToEngine(e,t){const n=this.serializeChapterService.serializeSingleChapter(e,!0).chapter;n.synchronization=JSON.parse(JSON.stringify(e.synchronization));const l=new Human.timeline.BranchTimeline(n);Human.timeline.activeRoot.addChapter(l,{rebuild:!0,position:t})}removeChapterFromEngine(e){Human.timeline.activeRoot._chapters=Human.timeline.activeRoot._chapters.filter(t=>t.id!==e.id),Human.timeline.activeRoot.build()}copyChapter(e,t){const n=Object(A.classToClass)(e);return n.id=t,n.labels.forEach(e=>{e.id=ys.idWithPrefix("label"),e.chapterId=n.id}),n.readyState={model:!0,animation:!0},n}getCurrentChapterId(){return Human.timeline.activeRoot._nowBranch.id}replaceEngineChapterWithStateChapter(e){const t=Human.timeline.branchTimelines[e.id];t&&(t.synchronization=JSON.parse(JSON.stringify(e.synchronization)))}updateChapterSynchronization(e,t){Human.timeline.branchTimelines[e].synchronization=t}clearColorModsFromSync(e,t){return t.forEach(t=>{const n=Object(vt.omit)(e[t]||{},Xs);Object(vt.isEmpty)(n)?delete e[t]:e[t]=n}),e}clearBoolStateFromSync(e,t,n){return t.forEach(t=>{const l=Object(vt.omit)(e[t]||{},[n]);Object(vt.isEmpty)(l)?delete e[t]:e[t]=l}),e}fromHumanChapter(e,t,n,l){const i=Object.assign({},n),a=e.chapters[l];i.environment=Object.assign({},a.environment),i.transitions=Object.assign({},a.transitions),a.transparencyMode&&(i.transparencyMode=a.transparencyMode),i.showObjects=Object.assign({},e.chapters[l].showObjects),i.id||(i.id=ys.idWithPrefix("chapter"));let o=!1;i.timelineMap=Object.values(n.maps).map(e=>("dummy"!==e.data.timeline.id&&(o=!0),{start:e.start,end:e.end,data:{timeline:e.data.timeline.id,start:e.data.start,end:e.data.end,fit:e.data.fit||!1,onEnd:e.data.onEnd}})),delete i.maps;let s=0;const r=!!n.animation&&n.animation.loop;o&&r?s=-1:o&&!r&&(s=1),i.ui=n.ui&&!Object(vt.isEmpty)(n.ui)?n.ui:{play:{count:s}};const c=Ns.Annotation,u=[...i.annotations||[]].map(e=>this.labelService.deserializeAnnotation(e,i,c)),p=[],d=this.groupHotspots([...i.hotspots||[]].filter(l=>{const i=this.labelService.filterHotspot(e,n,l);return i?l.theme||(l.theme="module"===t?Ws.studioNext:Ws.classicHotspot):p.push(l),i})).map(t=>this.labelService.deserializeHotspots(e,n,l,...t));i.labels=[...u,...d],delete i.annotations,i.background=Bo.deserialize(n.background);const b=Object(A.plainToClass)(Gs,i);return b.hotspots=p,b.readyState={model:!1,animation:!1},b}groupHotspots(e){const t={},n=e=>e.primitiveIndex?e.primitiveIndex.toFixed(0):e.pos?e.pos.map(e=>e.toFixed(3)).join(":"):Math.random().toFixed(3),l=e=>RegExp("^circle-(plus|minus)").test(e)?"pair":"single";return e.forEach(e=>{const i=[l(e.type),e.objectId,n(e)].join("|");i in t?t[i].push(e):t[i]=[e]}),Object.values(t)}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(ur),l.Vb(sr))},token:e,providedIn:"root"}),e})();const dr=["reflections","lights"],br=["material","geometry","transform"],gr=["tweens","morph"];let hr=(()=>{class e{constructor(e,t,n){this.http=e,this.engineService=t,this.chapterService=n}getShownObjectsFromChapter(e){const t=[];return Object.entries(e.synchronization).forEach(([e,n])=>{n.shown&&t.push(e)}),t}getTargetChapterLoadChunks(e,t,n){const l=new ms,i=new ms,a=new ms;return l.storyId=i.storyId=a.storyId=e,l.chapterId=i.chapterId=a.chapterId=t.id,l.objects=Human.scene.rootObjects.map(e=>e.objectId),l.assetTypes=dr,l.activate=!0,l.activationConfig=n.targetChapterConfig.global,l.readyState={},l.time=0,i.objects=this.getShownObjectsFromChapter(t),i.assetTypes=br,i.activate=!0,i.activationConfig=n.targetChapterConfig.static,i.readyState={model:!0},i.time=0,a.objects=this.getShownObjectsFromChapter(t),a.assetTypes=gr,a.activate=!0,a.activationConfig=n.targetChapterConfig.dynamic,a.readyState={animation:!0},a.time=0,[l,i,a]}getChapterLoadChunks(e,t,n){let l=[];if(t.id===n.targetChapterId)l=this.getTargetChapterLoadChunks(e,t,n);else{const i=this.getShownObjectsFromChapter(t),a=new ms;a.activate=!1,a.chapterId=t.id,a.objects=i,a.storyId=e,n.chapterAssetBundle?(a.assetTypes=[...br,...gr,...dr],a.readyState={model:!0,animation:!0},l.push(a)):(l.splice(0,0,a,Object(A.classToClass)(a)),l[0].assetTypes=br,l[0].readyState={model:!0},l[1].assetTypes=gr,l[1].readyState={animation:!0})}return l}getSceneGraphLoadChunk(e,t,n){const l=new ms;return l.activate=!1,l.chapterId=null,l.objects=t.map(e=>e.objectId),l.storyId=e,l.assetTypes=[...br],l.readyState={model:!0,animation:!1},l}getAllAtOnceLoadChunks(e,t){const n=new ms;return n.activate=!0,n.chapterId=Human.timeline.rootTimelines[e]._chapters[0].id,n.objects=Human.scene.rootObjects.map(e=>e.objectId),n.storyId=e,n.assetTypes=[...dr,...br,...gr],n.readyState={model:!0,animation:!0},[n]}getProgressiveLoadChunks(e,t){let n=[];return Human.timeline.rootTimelines[e]._chapters.forEach(l=>{const i=this.getChapterLoadChunks(e,l,t);n=l.id===t.targetChapterId?[...i,...n]:[...n,...i]}),"readyState"===t.sortBy&&n.sort(this.compareReadyState),n.push(this.getSceneGraphLoadChunk(e,Human.scene.rootObjects,t)),n}getOnDemandLoadChunks(e,t){let n=[];return Human.timeline.rootTimelines[e]._chapters.forEach(l=>{const i=this.getChapterLoadChunks(e,l,t);n=l.id===t.targetChapterId?[...i,...n]:[...n,...i]}),"readyState"===t.sortBy&&n.sort(this.compareReadyState),n}compareReadyState(e,t){const n=e.readyState?e.readyState.model?1:e.readyState.animation?2:0:3,l=t.readyState?t.readyState.model?1:t.readyState.animation?2:0:3;if(n<l)return-1;if(n===l){const n=Human.timeline.rootTimelines[e.storyId]._chapters.findIndex(t=>t.id===e.chapterId),l=Human.timeline.rootTimelines[t.storyId]._chapters.findIndex(e=>e.id===t.chapterId);return n<l?-1:n===l?0:1}return 1}getChapterIndex(e,t){return Human.timeline.rootTimelines[e]?Human.timeline.rootTimelines[e]._chapters.findIndex(e=>e.id===t):-1}getStory(e,t,n="en"){const l=t===a.Bookmark?this.getBookmark(e):this.getContent(e);if("en"===n)return l;{let i;return l.pipe(Object(_t.a)(l=>(i=l,this.getStoryTranslation(e,t,n)))).pipe(Object(r.a)(e=>this.translateStory(i,e)),Object(S.a)(()=>l))}}getContent(e){return this.http.get(`/content/modules/${e}.json`).pipe(Object(r.a)(e=>e))}getBookmark(e){return this.http.get("/search/bookmarks/data",{params:{be:e}}).pipe(Object(r.a)(e=>e.bookmark))}getLoadConfig(e,t=0){const n=new _s;return n.chapterAssetBundle=!0,n.targetChapterId=Human.timeline.rootTimelines[e]._chapters[t].id,n.targetChapterConfig={global:{clipping:!0,graph:!0,camera:!0,properties:!0,transparencyMode:!0,postprocess:!0},static:{labels:!0},dynamic:{timeline:!0,particles:!0}},n.sortBy="readyState",n}buildStory(e,t,n){Human.modules.moduleData[e]=t;const l=Object.assign({},t);return l.moduleId=e,new V.a(t=>{Human.modules.create(e,l,()=>{n&&Human.modules.activate(e,0,{},()=>{}),t.next(!0),t.complete()})})}getStoryChapters(e,t){const n=Human.modules.moduleData[e];return Human.timeline.rootTimelines[e]._chapters.map((e,l)=>this.chapterService.fromHumanChapter(n,t,e,l))}getStoryLoadChunks(e,t,n){let l=[];switch(n){case Os.AllAtOnce:l=this.getAllAtOnceLoadChunks(e,t);break;case Os.Progressive:l=this.getProgressiveLoadChunks(e,t);break;case Os.OnDemand:l=this.getOnDemandLoadChunks(e,t);break;default:l=this.getProgressiveLoadChunks(e,t)}return l.map(e=>Object.assign({},e,{chunkId:ys.idWithPrefix("chunk")}))}loadStoryChunk(e,t){const n=e.objects.map(e=>Human.scene.objects[e]);e.storyId?Human.modules.load(e.storyId,n,e.assetTypes,()=>{t()}):this.engineService.loadGraphObject(e.objects[0]).subscribe(()=>{t()})}unloadStory(e,t=!0){const n=(e?[e]:Object.keys(Human.modules.modules)).map(e=>this.hardDeleteStory(e,t));return new V.a(e=>{n.length?Object(ht.a)(n).subscribe(()=>{e.next(!0),e.complete()}):(e.next(!0),e.complete())})}createLoadObjectChunk(e){const t=new ms;return t.assetTypes=[...br,...gr],t.objects=[e],t}hardDeleteStory(e,t=!0){const n=(e in Human.modules.modules?Human.modules.modules[e].sceneGraph:[]).map(e=>Human.scene.objects[e.objectId]).filter(e=>!!e),l=Object(vt.flatten)(n.map(e=>e.getLeafObjects())),i=Cs(Human.modules.deactivate,e,{}),a=Cs(Human.modules.unload,e,l,["geometries","morphs","reflections","tweens","lights","materials","transforms"]),o=Cs(Human.modules.destroy,e);return new V.a(n=>{(Human.timeline.activeRoot&&Human.timeline.activeRoot.id===e?i():Promise.resolve({})).then(()=>t?a():Promise.resolve({})).then(()=>o()).then(()=>(n.next(),void n.complete()))})}getStoryTranslation(e,t,n){return this.http.get(t===a.Bookmark?`/search/bookmarks/tr/${n}/${e}`:`/tr/${n}/${e}.json`).pipe(Object(r.a)(e=>Object(A.plainToClass)(fs,e)))}getStoryType(e){return e.indexOf("/")>=0?a.Module:a.Bookmark}translateStory(e,t){const n=e.chapters||[],l=e.sceneGraph||[],i=t.objects||{},a=t.chapters||[];return e.displayName=t.displayName||e.displayName,e.description=t.description||e.description,l.forEach(e=>{(e.objects||[]).forEach(e=>{this.translateObject(e,i)})}),n.forEach((e,t)=>{const n=a[t];if(n){this.translateMetaInfo(e,n);const t=n.annotations||[];(e.annotations||[]).forEach((e,n)=>{const l=t[n];l&&this.translateMetaInfo(e,l)});const l=n.hotspots||[];(e.hotspots||[]).forEach((e,t)=>{const n=l[t];n&&this.translateMetaInfo(e,n)})}}),e}translateMetaInfo(e,t){const{title:n,description:l}=t;e.hasOwnProperty("displayName")&&(e.displayName=n),e.hasOwnProperty("title")&&(e.title=n),e.hasOwnProperty("description")&&(e.description=l)}translateObject(e,t){const n=t[e.objectId];n&&(e.displayName=n);const l=e.objects;l&&l.forEach(e=>{this.translateObject(e,t)})}storeLabelsInChapters(e,t){t.forEach(t=>{t.labels=e.filter(e=>e.chapterId===t.id)})}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(s.c),l.Vb(Ls),l.Vb(pr))},token:e,providedIn:"root"}),e})();class mr{}var _r=n("GyhO"),fr=n("7wxJ");let yr=(()=>{class e{constructor(e,t,n,l){this.engineService=e,this.imageService=t,this.labelsService=n,this.store=l}localResize(e,t){const n=Human.renderer.canvas.canvas,l=Human.renderer.canvas.annotationCanvas,i=n.parentNode,a=i.clientWidth,o=i.clientHeight;return i.width=e,i.height=t,n.width=e,n.height=t,l.width=e,l.height=t,i.style.width=`${e}px`,i.style.height=`${t}px`,Human.renderer.canvas.init(),Human.renderer.viewportDirty=!0,Human.renderer.camera.updateCanvas(),Human.renderer.postprocess.updateCanvas(),Human.renderer.draw.updateCanvas(),Human.renderer.viewportDirty=!0,Human.renderer.prepareFrame(),Human.renderer.forceRenderFrame(),[a,o]}drawHumanCanvasToThumbnail(e){const t=e.width/e.height,n=this.engineService.getCanvas(),l=n.height,i=t*l,a=.5*(n.width-i);return new V.a(t=>{const o=e.getContext("2d");Human.renderer.forceRenderFrame(),o.drawImage(n,a,0,i,l,0,0,e.width,e.height),t.next(),t.complete()})}drawResizeHumanCanvasToThumbnail(e){const t=this.engineService.getCanvas();t.style.opacity="0",this.store.dispatch(new hi(!1));const[n,l]=this.localResize(e.width,e.height),i=e.getContext("2d");return new V.a(e=>{setTimeout(()=>{Human.renderer.viewportDirty=!0,Human.renderer.prepareFrame(),Human.renderer.forceRenderFrame(),i.drawImage(t,0,0,t.width,t.height),this.localResize(n,l),document.getElementById("theCanvas").style.opacity="",this.store.dispatch(new hi(!0)),e.next(),e.complete()},10)})}drawRadialGradient(e,t){const n=t.colors,[l,i]=t.colorStops.map(t=>((e,t,n)=>{const[l,i]=[Math.pow(t/2,2),Math.pow(n/2,2)];return e/100*Math.pow(l+i,.5)})(t,e.width,e.height)),a=e.getContext("2d"),[o,s]=[e.width/2,e.height/2],r=a.createRadialGradient(o,s,l,o,s,i);r.addColorStop(t.colorStops[0]/100,`rgba(${n.slice(0,4).join(",")})`),r.addColorStop(t.colorStops[1]/100,`rgba(${n.slice(4,8).join(",")})`),a.fillStyle=r,a.fillRect(0,0,e.width,e.height)}drawLinearGradient(e,t){const n=t.colors,l=e.getContext("2d"),[i,a]=[e.width/2,e.height/2],o=l.createLinearGradient(i,a,i,e.height);o.addColorStop(t.colorStops[0]/100,`rgba(${n.slice(0,4).join(",")})`),o.addColorStop(t.colorStops[1]/100,`rgba(${n.slice(4,8).join(",")})`),l.fillStyle=o,l.fillRect(0,0,e.width,e.height)}takeSnapshot(e,t,n,l,i){const{imageType:a,imageQuality:o,copyrightEnabled:s}=i,c=document.createElement("canvas");c.width=e,c.height=t,"radial"===n.gradientType?this.drawRadialGradient(c,n):"linear"===n.gradientType&&this.drawLinearGradient(c,n);const u=this.engineService.getCanvas(),p=[],d=(c.height>u.height||c.width>u.width?this.drawResizeHumanCanvasToThumbnail(c):this.drawHumanCanvasToThumbnail(c)).pipe(Object(r.a)(()=>c));p.push(d);const b=this.labelsService.getLabelContainer();if(l&&b){const n=this.imageService.elementToCanvas(b.nativeElement,!0).pipe(Object(_t.a)(n=>this.imageService.fitCanvas(n,{width:e,height:t})));p.push(n)}return Object(_r.a)(p).pipe(Object(fr.a)(),Object(r.a)(e=>this.imageService.combineCanvasElements(e)),Object(_t.a)(e=>s?this.writeLogoToCanvas(e,i):Object(k.a)(e)),Object(_t.a)(e=>this.imageService.canvasToBlob(e,a,o)))}writeLogoToCanvas(e,t){return this.getLogoImage(t.copyrightImagePath).pipe(Object(r.a)(n=>{let{width:l,height:i}=n;const{width:a,height:o}=e;.1*a>l&&(i=i/l*(l=.1*a));const{xOffset:s,yOffset:r}=this.getLogoPosition(a,o,l,i,t);return e.getContext("2d").drawImage(n,s,r,l,i),e}),Object(S.a)(()=>Object(k.a)(e)))}getLogoImage(e){return new V.a(t=>{const n=new Image;n.onload=()=>{t.next(n),t.complete()},n.onerror=()=>t.error(),n.src=e})}getLogoPosition(e,t,n,l,i){const{copyrightPosition:a,copyrightOffset:o}=i;let s,r;switch(a.x){case"right":s=e-n;break;case"center":s=e/2-n/2;break;default:s=0}switch(a.y){case"bottom":r=t-l;break;case"center":r=t/2-l/2;break;default:r=0}return{xOffset:s+o.x,yOffset:r+o.y}}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(Ls),l.Vb(It),l.Vb(sr),l.Vb(g.i))},token:e,providedIn:"root"}),e})();class vr{}class xr{constructor(e,t,n,l,i){this.left=e,this.top=t,this.width=n,this.height=l,this.visibility=i}}var Or=function(e){return e[e.Hidden=-1]="Hidden",e[e.Shown=1]="Shown",e}({});class Cr{}let wr=(()=>{class e{constructor(e){this.id=e}}return e.type="[Engine Camera] Clear Camera",e})(),jr=(()=>{class e{constructor(e,t){this.id=e,this.camera=t}}return e.type="[Engine Camera] Store Camera",e})(),kr=(()=>{class e{constructor(e,t=!0,n){this.camera=e,this.animate=t,this.animationDuration=n}}return e.type="[Engine Camera] Set Camera",e})(),Sr=(()=>{class e{constructor(){}}return e.type="[Engine Camera] Set Camera Success",e})(),Pr=(()=>{class e{constructor(e){this.cameraMotion=e}}return e.type="[Engine Camera] Move Camera",e})(),Mr=(()=>{class e{constructor(){}}return e.type="[Engine Camera] Reset Camera",e})(),Hr=(()=>{class e{constructor(e){this.value=e}}return e.type="[Engine Camera] Zoom Camera",e})(),Ir=(()=>{class e{constructor(e){this.value=e}}return e.type="[Engine Camera] Zoom Camera Static",e})(),Tr=(()=>{class e{constructor(e){this.value=e}}return e.type="[Engine Camera] Pan Camera X",e})(),zr=(()=>{class e{constructor(e){this.value=e}}return e.type="[Engine Camera] Pan Camera Y",e})(),Fr=(()=>{class e{constructor(e,t,n){this.x=e,this.y=t,this.z=n}}return e.type="[Engine Camera] Pan Camera Static",e})(),Lr=(()=>{class e{constructor(e){this.value=e}}return e.type="[Engine Camera] Rotate Camera X",e})(),Er=(()=>{class e{constructor(e){this.value=e}}return e.type="[Engine Camera] Rotate Camera Y",e})(),Nr=(()=>{class e{constructor(e,t){this.x=e,this.y=t}}return e.type="[Engine Camera] Rotate Camera Static",e})(),Rr=(()=>{class e{constructor(e){this.mode=e}}return e.type="[Engine Camera] Set Camera Mode",e})(),Ar=(()=>{class e{constructor(e){this.zoomed=e}}return e.type="[Engine Camera] Set Zoomed",e})(),Dr=(()=>{class e{constructor(e){this.lock=e}}return e.type="[Engine Camera] Lock camera",e})();class Ur{constructor(e=0,t=0,n=0,l=0,i=0){this.zoom=e,this.panX=t,this.panY=n,this.rotateX=l,this.rotateY=i}}var Br;const $r={storedCameras:{},cameraMotion:new Ur,panMode:"rotate",zoomed:!1,lockCamera:!1};let Vr=(()=>{let e=Br=class{constructor(e){this.cameraService=e}static getStoredCamera(e){return Object(g.j)([Br],t=>t.storedCameras[e]||null)}static getCameraMotion(e){return e.cameraMotion}static getPanMode(e){return e.panMode}static getZoomed(e){return e.zoomed}static getLockCamera(e){return e.lockCamera}storeCamera(e,t){const n=t.camera||this.cameraService.getCamera(),l=e.getState().storedCameras;l[t.id]=Object.assign({},n),e.patchState({storedCameras:Object.assign({},l)})}clearCamera(e,t){const n=e.getState().storedCameras;delete n[t.id],e.patchState({storedCameras:Object.assign({},n)})}moveCamera(e,t){e.patchState({cameraMotion:Object.assign({},t.cameraMotion)})}resetCamera(e,t){return this.cameraService.resetCamera().pipe(Object(Po.a)(()=>{e.patchState({cameraMotion:new Ur})}))}zoomCamera(e,t){const{cameraMotion:n}=e.getState();n.zoom=t.value,e.patchState({cameraMotion:Object.assign({},n)})}panCameraX(e,t){const{cameraMotion:n}=e.getState();n.panX=t.value,e.patchState({cameraMotion:Object.assign({},n)})}panCameraY(e,t){const{cameraMotion:n}=e.getState();n.panY=t.value,e.patchState({cameraMotion:Object.assign({},n)})}rotateCameraX(e,t){const{cameraMotion:n}=e.getState();e.patchState({cameraMotion:Object.assign({},n,{rotateX:t.value})})}rotateCameraY(e,t){const{cameraMotion:n}=e.getState();n.rotateY=t.value,e.patchState({cameraMotion:Object.assign({},n)})}SetCameraMode(e,t){e.patchState({panMode:t.mode})}setZoomed(e,t){e.patchState({zoomed:t.zoomed})}lockCamera(e,t){e.patchState({lockCamera:t.lock})}};return Object(b.__decorate)([Object(g.a)(jr),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,jr]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"storeCamera",null),Object(b.__decorate)([Object(g.a)(wr),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,wr]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"clearCamera",null),Object(b.__decorate)([Object(g.a)(Pr),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Pr]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"moveCamera",null),Object(b.__decorate)([Object(g.a)(Mr),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Mr]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetCamera",null),Object(b.__decorate)([Object(g.a)(Hr),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Hr]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"zoomCamera",null),Object(b.__decorate)([Object(g.a)(Tr),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Tr]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"panCameraX",null),Object(b.__decorate)([Object(g.a)(zr),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,zr]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"panCameraY",null),Object(b.__decorate)([Object(g.a)(Lr),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Lr]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"rotateCameraX",null),Object(b.__decorate)([Object(g.a)(Er),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Er]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"rotateCameraY",null),Object(b.__decorate)([Object(g.a)(Rr),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Rr]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"SetCameraMode",null),Object(b.__decorate)([Object(g.a)(Ar),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ar]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setZoomed",null),Object(b.__decorate)([Object(g.a)(Dr),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Dr]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"lockCamera",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Cr]),Object(b.__metadata)("design:returntype",void 0)],e,"getCameraMotion",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Cr]),Object(b.__metadata)("design:returntype",void 0)],e,"getPanMode",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Cr]),Object(b.__metadata)("design:returntype",void 0)],e,"getZoomed",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Cr]),Object(b.__metadata)("design:returntype",void 0)],e,"getLockCamera",null),Br=Object(b.__decorate)([Object(g.g)({name:"engineCamera",defaults:$r})],e)})();var Qr=function(e){return e.Select="Select",e.Hide="Hide",e.Paint="Paint",e.Label="Label",e.Isolate="Isolate",e.Fade="Fade",e.Position="Position",e}({});const Gr=new xr(0,0,0,0,Or.Hidden);let Wr=(()=>{let e=class{constructor(e,t){this.graphService=e,this.engineService=t}static getEngine(e){return e.engine}static getReady(e){return e.ready}static getDisplay(e){return e.display}static getScrollMode(e){return e.scrollMode}static getVisible(e){return e.visible}static getViewGraph(e){return e.viewGraph}static getViewGraphNode(e){return t=>e.viewGraph.nodes[t]}static getEnginePosition(e){return e.enginePosition}static getChapter(e){return e.chapter}static getActiveTool(e){return e.activeTool}static getShowCameraBar(e){return e.showCameraBar}static getShowLabels(e){return e.showLabels}static getChapterInit(e){return e.chapterInit}static getAnimationPlaying(e){return e.animationPlaying}static getEnableAutoplay(e){return e.enableAutoplay}static getXrayModeEnabled(e){return e.xrayModeEnabled}static getXrayCachedColorRecipes(e){return e.xrayModeCachedColorRecipes}load(e,t){e.dispatch(new Jl("engine"))}loadSuccess({patchState:e},t){e({engine:t.result})}setReady(e,t){e.patchState({ready:t.ready})}setDisplay(e,t){e.patchState({display:t.display})}setZoomViaScrollAllowed(e,t){e.patchState({scrollMode:t.scrollMode})}setVisible(e,t){e.patchState({visible:t.visible})}setEnginePosition(e,t){e.patchState({enginePosition:Object.assign({},t.position,{right:t.position.left+t.position.width,bottom:t.position.top+t.position.height})})}resetEnginePosition(e,t){e.patchState({enginePosition:Gr})}setChapter(e,t){e.patchState({chapter:t.chapterId})}setChapterInit(e,t){e.patchState({chapterInit:t.chapterInit})}setActiveTool(e,t){e.patchState({activeTool:t.tool})}setGraph(e,t){e.patchState({viewGraph:Object.assign({},t.graph)})}clearGraph(e,t){e.patchState({viewGraph:{nodes:{},successors:{},predecessors:{},roots:{}}})}setXrayMode(e,t){e.patchState({xrayModeEnabled:t.enabled})}setXrayModeCacheColorRecipes(e,t){e.patchState({xrayModeCachedColorRecipes:[...t.cachedColorRecipes]})}centerCameraOnVisible(e,t){const n=this.engineService.getVisibleLeaves(),l=this.engineService.getBoundaryFromObjects(n),i=this.engineService.getCameraLookAt();i.look={x:(l.xmin+l.xmax)/2,y:(l.ymin+l.ymax)/2,z:(l.zmin+l.zmax)/2},Human.renderer.camera.fly.flyTo(i)}toggleCameraBar(e,t){e.patchState({showCameraBar:t.show})}toggleLabels(e,t){const n=null!=t.show?t.show:!e.getState().showLabels;e.patchState({showLabels:n})}synchronizeVisibleNodes(e,t){const n=e.getState().viewGraph,l=this.stateMapToNodeIds(n,t.leafVisibilityState),i={};l.forEach(e=>{const t=this.engineService.getLeafObjects(e).reduce((e,t)=>e||Human.scene.objects[t].shown,!1);i[e]={shown:t}}),this.graphService.synchronize(n,{shown:"trueWins"},i),e.patchState({viewGraph:Object.assign({},n)})}synchronizeRenderableNodes(e,t){const n=e.getState().viewGraph,l=this.stateMapToNodeIds(n,t.leafRenderableState),i={};l.forEach(e=>{i[e]={renderable:!0}}),this.graphService.synchronize(n,{renderable:"falseWins"},i)}synchronizePickableNodes(e,t){const n=e.getState().viewGraph,l=this.stateMapToNodeIds(n,t.leafPickableState),i={};l.forEach(e=>{const t=this.engineService.getLeafObjects(e).reduce((e,t)=>e||Human.scene.objects[t].pickable,!1);i[e]={pickable:t}}),this.graphService.synchronize(n,{pickable:"trueWins"},i),e.patchState({viewGraph:Object.assign({},n)})}playAnimation(e,t){e.patchState({animationPlaying:t.play})}enableAutoplay(e,t){e.patchState({enableAutoplay:t.enable})}setObjectLayerOrder(e,t){const n=e.getState().viewGraph,l=isNaN(t.layer)?0:t.layer;let i=[];t.nodes.forEach(e=>{const t=this.graphService.getDescendants(n,e.id,!0);i=i.concat(t)}),i.forEach(e=>{this.engineService.setObjectLayer(e,l),this.graphService.setState(n,e,{layer:l})}),e.patchState({viewGraph:Object.assign({},n)})}setObjectDisplayName(e,t){const n=Human.scene.objects[t.nodeId];n&&(n.displayName=t.displayName)}autoSortObjectLayers(e,t){const n=e.getState().viewGraph;let l=0;const i=Human.scene.getEnabledLeaves(),a=this.engineService.getObjectLayerValues(i);Object.keys(a).map(e=>parseInt(e,10)).sort((e,t)=>e-t).forEach(e=>{a[e].sort((e,t)=>t.value-e.value).forEach(e=>{const t=20*l;this.engineService.setObjectLayer(e.nodeId,t),this.graphService.setState(n,e.nodeId,{layer:t}),l++})}),e.patchState({viewGraph:Object.assign({},n)})}resetObjectLayers(e,t){const n=e.getState().viewGraph;Human.scene.getEnabledLeaves().forEach(e=>{this.engineService.setObjectLayer(e,0),this.graphService.setState(n,e,{layer:0})}),e.patchState({viewGraph:Object.assign({},n)})}setPostProcessingEffects(e,{effects:t}){this.engineService.setPostProcessingFeatures(t)}setProperties(e,{properties:t}){this.engineService.setProperties(Object.assign({},t))}setTransparencyMode(e,{mode:t}){this.engineService.setTransparencyMode(t)}stateMapToNodeIds(e,t){const n=Object.keys(t).map(t=>this.engineService.getNode(e,t)).filter(e=>!!e).map(e=>e.id);return new Set(n)}};return Object(b.__decorate)([Object(g.a)(Wl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Wl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"load",null),Object(b.__decorate)([Object(g.a)(Jl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Jl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loadSuccess",null),Object(b.__decorate)([Object(g.a)(ql),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ql]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setReady",null),Object(b.__decorate)([Object(g.a)(Kl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Kl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setDisplay",null),Object(b.__decorate)([Object(g.a)(Xl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Xl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setZoomViaScrollAllowed",null),Object(b.__decorate)([Object(g.a)(Yl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Yl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setVisible",null),Object(b.__decorate)([Object(g.a)(Ci),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ci]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setEnginePosition",null),Object(b.__decorate)([Object(g.a)(wi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,wi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetEnginePosition",null),Object(b.__decorate)([Object(g.a)(oi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,oi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setChapter",null),Object(b.__decorate)([Object(g.a)(si),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,si]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setChapterInit",null),Object(b.__decorate)([Object(g.a)(mi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,mi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setActiveTool",null),Object(b.__decorate)([Object(g.a)(ni),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ni]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setGraph",null),Object(b.__decorate)([Object(g.a)(li),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ni]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"clearGraph",null),Object(b.__decorate)([Object(g.a)(ii),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ii]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setXrayMode",null),Object(b.__decorate)([Object(g.a)(ai),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ai]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setXrayModeCacheColorRecipes",null),Object(b.__decorate)([Object(g.a)(ui),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ui]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"centerCameraOnVisible",null),Object(b.__decorate)([Object(g.a)(gi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,gi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"toggleCameraBar",null),Object(b.__decorate)([Object(g.a)(hi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,hi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"toggleLabels",null),Object(b.__decorate)([Object(g.a)(pi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,pi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"synchronizeVisibleNodes",null),Object(b.__decorate)([Object(g.a)(di),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,di]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"synchronizeRenderableNodes",null),Object(b.__decorate)([Object(g.a)(bi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,bi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"synchronizePickableNodes",null),Object(b.__decorate)([Object(g.a)(_i),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,_i]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"playAnimation",null),Object(b.__decorate)([Object(g.a)(fi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,fi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"enableAutoplay",null),Object(b.__decorate)([Object(g.a)(yi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,yi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setObjectLayerOrder",null),Object(b.__decorate)([Object(g.a)(vi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,vi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setObjectDisplayName",null),Object(b.__decorate)([Object(g.a)(xi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,xi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"autoSortObjectLayers",null),Object(b.__decorate)([Object(g.a)(Oi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Oi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetObjectLayers",null),Object(b.__decorate)([Object(g.a)(ji),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ji]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setPostProcessingEffects",null),Object(b.__decorate)([Object(g.a)(ki),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ki]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setProperties",null),Object(b.__decorate)([Object(g.a)(Si),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Si]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setTransparencyMode",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getEngine",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getReady",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getDisplay",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getScrollMode",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getVisible",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getViewGraph",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getViewGraphNode",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getEnginePosition",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getChapter",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getActiveTool",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getShowCameraBar",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getShowLabels",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getChapterInit",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getAnimationPlaying",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getEnableAutoplay",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getXrayModeEnabled",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[vr]),Object(b.__metadata)("design:returntype",void 0)],e,"getXrayCachedColorRecipes",null),Object(b.__decorate)([Object(g.g)({name:"engine",defaults:{loading:!1,ready:!1,viewGraph:{nodes:{},successors:{},predecessors:{},roots:{}},engine:"",chapter:"",chapterInit:{id:"",init:!1,camera:!1,annotations:!1,graph:!1,properties:!1,particles:!1,clips:!1,postprocessing:!1,transparency:!1},showCameraBar:!0,showLabels:!0,activeTool:Qr.Select,animationPlaying:!0,enableAutoplay:!0,display:!0,visible:!0,scrollMode:Go.Capture,xrayModeEnabled:!1,xrayModeCachedColorRecipes:[]},children:[Vr]})],e)})();class Jr{}const qr={colors:[245,245,245,1,245,245,245,1],gradientType:"radial",colorStops:[0,100]},Kr={colors:[255,255,255,0,255,255,255,0],gradientType:"linear",colorStops:[0,100]},Xr=[{colors:[0,0,0,1,0,0,0,1],gradientType:"linear",colorStops:[0,100]},{colors:[38,38,38,1,38,38,38,1],gradientType:"linear",colorStops:[0,100]},{colors:[77,77,77,1,77,77,77,1],gradientType:"linear",colorStops:[0,100]},{colors:[115,115,115,1,115,115,115,1],gradientType:"linear",colorStops:[0,100]},{colors:[153,153,153,1,153,153,153,1],gradientType:"linear",colorStops:[0,100]},{colors:[191,191,191,1,191,191,191,1],gradientType:"linear",colorStops:[0,100]},{colors:[230,230,230,1,230,230,230,1],gradientType:"linear",colorStops:[0,100]},{colors:[255,255,255,1,255,255,255,1],gradientType:"linear",colorStops:[0,100]},{colors:[128,128,128,1,0,0,0,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,38,38,38,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,77,77,77,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,115,115,115,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,153,153,153,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,191,191,191,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,230,230,230,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,255,255,255,1],gradientType:"radial",colorStops:[0,100]},{colors:[245,208,208,1,245,208,208,1],gradientType:"linear",colorStops:[0,100]},{colors:[253,236,219,1,253,236,219,1],gradientType:"linear",colorStops:[0,100]},{colors:[255,246,219,1,255,246,219,1],gradientType:"linear",colorStops:[0,100]},{colors:[220,236,213,1,220,236,213,1],gradientType:"linear",colorStops:[0,100]},{colors:[212,229,245,1,212,229,245,1],gradientType:"linear",colorStops:[0,100]},{colors:[219,212,235,1,219,212,235,1],gradientType:"linear",colorStops:[0,100]},{colors:[164,194,244,1,164,194,244,1],gradientType:"linear",colorStops:[0,100]},{colors:[118,165,175,1,118,165,175,1],gradientType:"linear",colorStops:[0,100]},{colors:[245,208,208,1,245,208,208,1],gradientType:"radial",colorStops:[0,100]},{colors:[253,236,219,1,240,169,99,1],gradientType:"radial",colorStops:[0,100]},{colors:[255,246,219,1,250,210,92,1],gradientType:"radial",colorStops:[0,100]},{colors:[220,236,213,1,147,188,129,1],gradientType:"radial",colorStops:[0,100]},{colors:[212,229,245,1,112,164,213,1],gradientType:"radial",colorStops:[0,100]},{colors:[219,212,235,1,145,128,187,1],gradientType:"radial",colorStops:[0,100]},{colors:[164,194,244,1,112,164,213,1],gradientType:"radial",colorStops:[0,100]},{colors:[211,211,211,1,118,165,175,1],gradientType:"radial",colorStops:[0,100]}],Zr=[...Xr,{colors:[10,132,130,255,5,43,51,255],gradientType:"radial",colorStops:[0,68]},{colors:[0,28,84,1,0,0,0,1],gradientType:"radial",colorStops:[12,100]}],Yr={small:{width:256,height:256},large:{width:1024,height:1024}};class ec{constructor(){this.firstTime=0,this.lastTime=1}}let tc=(()=>{class e{constructor(e){this.engineService=e}getChapterLocalTimerange(e){const t=Human.timeline.activeRoot._chapters.find(t=>t.id===e);return Object(A.plainToClass)(ec,t.timeRange)}mapGlobalTimeToLocal(e,t={}){return Human.timeline.activeRoot.mapGlobalTime(e,t)}mapLocalTimeToGlobal(e,t){const n=Human.timeline.activeRoot._chapters.find(t=>t.id===e);return Human.timeline.activeRoot.mapBranchTime(n,t)}isChapterAnimated(e){return e.timelineMap.filter(e=>"dummy"!==Object(vt.get)(e,"data.timeline")&&"dummy"!==Object(vt.get)(e,"data.timeline.id")&&"dummy"!==Object(vt.get)(e,"data.timeline.id.id")).length>0}scrub(e){Human.timeline.scrub({time:e.time,borderCondition:{which:e.which?e.which:"first",direction:"forward"}})}getTimeFrame(){return Human.timeline.getTimeFrame()}getTime(){return Human.timeline.time}isPlaying(){return Human.timeline.playing}play(e){const t=Object.keys(e).reduce((e,t)=>(void 0===e[t]&&delete e[t],e),Object.assign({},e));Human.timeline.play(t)}unpause(){Human.timeline.unpause()}pause(){Human.timeline.pause()}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(Ls))},token:e,providedIn:"root"}),e})();var nc;const lc={imageType:Ht.JPEG,copyrightEnabled:!1,copyrightImagePath:"assets/images/powered-by-biodigital-color.svg",copyrightPosition:{x:"left",y:"bottom"},copyrightOffset:{x:12,y:-12},imageQuality:1},ic={loading:!1,chapters:[],chaptersModified:{},chaptersViewed:[],selectedChapter:null,shadowChapter:null,isChapterAnimated:!1,thumbnails:new Map};let ac=(()=>{let e=nc=class{constructor(e,t,n,l,i,a){this.chapterService=e,this.cameraService=t,this.snapshotService=n,this.store=l,this.graphService=i,this.animationService=a}static getStoryChapters(e){return e.chapters}static getChaptersViewed(e){return e.chaptersViewed}static getSelectedChapterId(e){return e.selectedChapter}static getSelectedChapter(e){return e.chapters.find(t=>t.id===e.selectedChapter)||null}static getNextChapter(e){const t=1+nc.getSelectedChapterIndex(e);return e.chapters[t]}static getPreviousChapter(e){const t=-1+nc.getSelectedChapterIndex(e);return e.chapters[t]}static getSelectedChapterIndex(e){return e.chapters.findIndex(t=>t.id===e.selectedChapter)}static getSelectedChapterTitle(e){return e.chapters.find(t=>t.id===e.selectedChapter).info.displayName}static getSelectedChapterModified(e){return!0===e.chaptersModified[e.selectedChapter]}static getChapterCount(e){return e.chapters.length}static getRegisteredThumbnails(e){return e.thumbnails}static getShadowChapter(e){return e.shadowChapter}static getIsChapterAnimated(e){return e.isChapterAnimated}static getChaptersLoaded(e){return{count:e.chapters.length,modelChapters:e.chapters.filter(e=>e.readyState.model),animationChapters:e.chapters.filter(e=>e.readyState.animation)}}static getAllChaptersModelsReady(e){return e.chapters.length>0&&e.chapters.every(e=>e.readyState.model)}static getAllChaptersAnimationsReady(e){return e.chapters.length>0&&e.chapters.every(e=>e.readyState.animation)}static getSelectedChapterBackground(e){const{chapters:t,selectedChapter:n}=e,l=nc.findChapter(t,n);return Object(vt.get)(l,"background")||qr}static getAllChaptersBackground(e){return e.chapters.map(e=>Object(vt.get)(e,"background"))}static getSelectedChapterAudio(e){const t=e.chapters.find(t=>t.id===e.selectedChapter);return t&&t.media?Object.values(t.media).filter(({data:e})=>"audio"===e.streamType)[0]:null}static findChapter(e,t){return e.find(e=>e.id===t)}setChapters(e,t){e.patchState({chapters:[...t.chapters]})}setChapter(e,t){const n=e.getState().chapters,l=n.findIndex(e=>e.id===t.chapter.id);JSON.stringify(n[l])!==JSON.stringify(t.chapter)&&(n[l]=Object.assign({},t.chapter),e.patchState({chapters:[...n]}))}setChapterBackground(e,t){const{chapters:n}=e.getState();e.patchState({chapters:n.map(e=>(e.id===t.chapterId&&(e.background=t.background),e))})}setAllChaptersBackground(e,{background:t}){const n=e.getState().chapters;n.forEach(e=>{e.background=t}),e.patchState({chapters:[...n]})}resetSelectedChapterBackground(e,t){const{selectedChapter:n,shadowChapter:l}=e.getState();this.store.dispatch(new Ra(n,l.background))}setSelectedChapterBackground(e,{background:t}){const n=e.getState().selectedChapter;this.store.dispatch(new Ra(n,t))}selectChapter(e,t){if(!t.chapter)return;const n=this.animationService.isChapterAnimated(t.chapter);this.store.dispatch(new Yl(!!t.chapter));const l=e.getState().chaptersViewed;l.some(e=>t.chapter.id===e)||l.push(t.chapter.id),e.patchState({selectedChapter:t.chapter?t.chapter.id:null,shadowChapter:t.chapter?Object(A.classToClass)(t.chapter):null,chaptersViewed:[...l],isChapterAnimated:n})}selectChapterById(e,{chapterId:t}){this.store.dispatch(new Yl(!0)),e.patchState({selectedChapter:t})}saveLiveToChapter(e,t){const n=t.chapterId?t.chapterId:e.getState().selectedChapter,l=e.getState().shadowChapter,i=e.getState().chapters,a=i.findIndex(e=>e.id===n),o=Object.assign({},i[a],Object(A.classToClass)(l));o.camera.location=this.cameraService.getCamera(),i[a]=o,this.chapterService.replaceEngineChapterWithStateChapter(i[a]),e.patchState({chapters:[...i]})}duplicateChapter(e,t){const n=!t.chapter,l=n?e.getState().shadowChapter:t.chapter,i=this.chapterService.copyChapter(l,t.chapterId),a=e.getState().chapters,o=a.length;this.chapterService.addChapterToEngine(Object(vt.cloneDeep)(i),o),a[o]=i,e.patchState({chapters:[...a]}),e.dispatch(new Xi(l,i)),e.dispatch(new Ya(n?null:l,i))}copyThumbnail(e,t){const n=e.getState().thumbnails;let l=new Jr;if(t.sourceChapter){const i=n.get(t.sourceChapter.id);(l=Object(A.classToClass)(i)).urls.small=l.urls.small.replace(t.sourceChapter.id,t.targetChapter.id),l.urls.large=l.urls.large.replace(t.sourceChapter.id,t.targetChapter.id),l.snapshot=i.snapshot?i.snapshot:n.get(t.sourceChapter.id).urls.large,n.set(t.targetChapter.id,l),e.patchState({thumbnails:new Map(n)})}else e.dispatch(new eo(t.targetChapter.id))}nextChapter(e,t){const n=e.getState().chapters,l=this.chapterService.getCurrentChapterId();let i=0;(i=n.findIndex(e=>e.id===l))<n.length-1&&i++,e.dispatch(new Fa(n[i]))}previousChapter(e,t){const n=e.getState().chapters,l=this.chapterService.getCurrentChapterId();let i=0;(i=n.findIndex(e=>e.id===l))>0&&i--,e.dispatch(new Fa(n[i]))}lastChapter(e,t){const n=e.getState().chapters;e.dispatch(new Fa(n[n.length-1]))}firstChapter(e,t){const n=e.getState().chapters;e.dispatch(new Fa(n[0]))}removeChapter(e,t){const{chapters:n,selectedChapter:l}=e.getState();if(1===n.length)return;this.chapterService.removeChapterFromEngine(t.chapter);let i=n.findIndex(e=>e.id===t.chapter.id);n.splice(i,1),e.patchState({chapters:[...n]}),t.chapter.id===l&&(i===n.length&&i--,e.dispatch(new Fa(n[i]))),e.dispatch(new ta(t.chapter))}resetStoryChaptersState(e,t){e.setState(ic)}recordShadowChapter(e,t){e.patchState({shadowChapter:Object(A.classToClass)(t.chapter)})}recordChapterVisibilityState(e,t){this.store.dispatch(new Ja(t.nodes,{shown:t.visible},t.record))}recordChapterPaintState(e,t){const n=e.getState().shadowChapter,l=this.store.selectSnapshot(Wr.getViewGraph),i=this.graphService.filterGraphAccessors(l,t.nodes.map(e=>e.id)),a=Ks.toEngine(t.paintState),o=Object(vt.omitBy)(a,e=>Object(vt.isNil)(e));let s=n.synchronization;if(i.forEach(e=>{(s=this.chapterService.clearColorModsFromSync(s,this.graphService.getDescendants(l,e)))[e]=Object.assign({},s[e]||{},o)}),n.synchronization=Object.assign({},s),e.patchState({shadowChapter:Object(A.classToClass)(n)}),t.record){const t=e.getState().chapters,l=e.getState().selectedChapter,i=t.findIndex(e=>e.id===l),a=t[i];this.chapterService.updateChapterSynchronization(a.id,n.synchronization),a.synchronization=Object.assign({},n.synchronization),e.patchState({chapters:[...t]})}}recordChapterCamera(e,t){const n=Object.assign({},t.camera),l=e.getState().shadowChapter;if(l.id===t.chapter.id&&(l.camera.location=n,e.patchState({shadowChapter:Object(A.classToClass)(l)})),t.record){const n=e.getState().chapters,i=n.findIndex(e=>e.id===t.chapter.id),a=n[i];t.chapter.id===l.id&&this.chapterService.updateChapterSynchronization(a.id,l.synchronization),a.camera.location=Object.assign({},t.camera),e.patchState({chapters:[...n]})}}recordChapterPickableState(e,t){this.store.dispatch(new Ja(t.nodes,{pickable:t.pickable},t.record))}recordChapterNodeState(e,t){const n=e.getState().shadowChapter,l=this.store.selectSnapshot(Wr.getViewGraph),i=this.graphService.filterGraphAccessors(l,t.nodes.map(e=>e.id));let a=n.synchronization;if(i.forEach(e=>{Object.entries(t.stateMap).forEach(([t,n])=>{(a=this.chapterService.clearBoolStateFromSync(a,this.graphService.getDescendants(l,e),t))[e]=Object.assign({},a[e]||{},{[t]:n})})}),e.patchState({shadowChapter:Object(A.classToClass)(n)}),t.record){const t=e.getState().chapters,l=e.getState().selectedChapter,i=t.findIndex(e=>e.id===l),a=t[i];this.chapterService.updateChapterSynchronization(a.id,n.synchronization),a.synchronization=Object.assign({},n.synchronization),e.patchState({chapters:[...t]})}}registerChapterThumbnails(e,t){e.patchState({thumbnails:new Map(t.thumbnails)})}takeChapterSnapshot(e,{chapterId:t,includeLabels:n,includeCopyright:l,dimensions:i}){const a=i||Yr.large,{width:o,height:s}=a,r=this.store.selectSnapshot(nc.getSelectedChapterBackground),c=r&&!Bo.isTransparent(r)?r:qr,u=r.colors.slice(0,3),p=Ve.isLight(u),d=Object.assign({},lc,{copyrightEnabled:l,copyrightImagePath:p?"assets/images/powered-by-biodigital-color.svg":"assets/images/powered-by-biodigital-white.svg"});setTimeout(()=>{this.snapshotService.takeSnapshot(o,s,c,n,d).subscribe(n=>{e.dispatch(new to(t,n,a))})})}takeChapterSnapshotSuccess(e,t){const n=e.getState().thumbnails,l=n.get(t.chapterId)||new Jr;l.snapshot=URL.createObjectURL(t.blob),n.set(t.chapterId,l),e.patchState({thumbnails:new Map(n)})}setChaptersModfied(e,{chapterId:t,modified:n}){const l=e.getState().chaptersModified;e.patchState({chaptersModified:Object.assign({},l,{[t]:n})})}ResetChaptersModfied(e,t){e.patchState({chaptersModified:{}})}};return Object(b.__decorate)([Object(g.a)(Ea),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ea]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setChapters",null),Object(b.__decorate)([Object(g.a)(Na),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Na]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setChapter",null),Object(b.__decorate)([Object(g.a)(Ra),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ra]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setChapterBackground",null),Object(b.__decorate)([Object(g.a)(Aa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Object]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setAllChaptersBackground",null),Object(b.__decorate)([Object(g.a)(Da),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Da]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetSelectedChapterBackground",null),Object(b.__decorate)([Object(g.a)(Ua),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Object]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setSelectedChapterBackground",null),Object(b.__decorate)([Object(g.a)(Fa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Fa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"selectChapter",null),Object(b.__decorate)([Object(g.a)(La),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Object]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"selectChapterById",null),Object(b.__decorate)([Object(g.a)(Ba),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ba]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"saveLiveToChapter",null),Object(b.__decorate)([Object(g.a)($a),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,$a]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"duplicateChapter",null),Object(b.__decorate)([Object(g.a)(Ya),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ya]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"copyThumbnail",null),Object(b.__decorate)([Object(g.a)(Ha),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ha]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"nextChapter",null),Object(b.__decorate)([Object(g.a)(Ia),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ia]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"previousChapter",null),Object(b.__decorate)([Object(g.a)(za),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,za]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"lastChapter",null),Object(b.__decorate)([Object(g.a)(Ta),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,za]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"firstChapter",null),Object(b.__decorate)([Object(g.a)(Va),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Va]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"removeChapter",null),Object(b.__decorate)([Object(g.a)(Qa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Qa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetStoryChaptersState",null),Object(b.__decorate)([Object(g.a)(Ka),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ka]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"recordShadowChapter",null),Object(b.__decorate)([Object(g.a)(Ga),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ga]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"recordChapterVisibilityState",null),Object(b.__decorate)([Object(g.a)(qa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,qa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"recordChapterPaintState",null),Object(b.__decorate)([Object(g.a)(Za),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Za]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"recordChapterCamera",null),Object(b.__decorate)([Object(g.a)(Wa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Wa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"recordChapterPickableState",null),Object(b.__decorate)([Object(g.a)(Ja),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ja]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"recordChapterNodeState",null),Object(b.__decorate)([Object(g.a)(Xa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Xa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"registerChapterThumbnails",null),Object(b.__decorate)([Object(g.a)(eo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,eo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"takeChapterSnapshot",null),Object(b.__decorate)([Object(g.a)(to),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,to]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"takeChapterSnapshotSuccess",null),Object(b.__decorate)([Object(g.a)(no),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,no]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setChaptersModfied",null),Object(b.__decorate)([Object(g.a)(lo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,lo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"ResetChaptersModfied",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getStoryChapters",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getChaptersViewed",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedChapterId",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedChapter",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getNextChapter",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getPreviousChapter",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedChapterIndex",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedChapterTitle",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedChapterModified",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getChapterCount",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getRegisteredThumbnails",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getShadowChapter",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getIsChapterAnimated",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getChaptersLoaded",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getAllChaptersModelsReady",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getAllChaptersAnimationsReady",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedChapterBackground",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getAllChaptersBackground",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedChapterAudio",null),nc=Object(b.__decorate)([Object(g.g)({name:"storyChapters",defaults:ic})],e)})();function oc(e,t,n){const l=function(e,t){const n={};for(const l of e){const e=Object.keys(t[l]);for(const t of e)n[t]=!1}return n}(t,n);return e.map(e=>Object.assign({},e,{showObjects:Object.assign({},e.showObjects,l),selectObjects:Object.assign({},e.selectObjects,l),pickThroughObjects:Object.assign({},e.pickThroughObjects,l)}))}function sc(e){return e.split("/").length>1?a.Module:a.Bookmark}function rc(e,t){return e.map(e=>{if(!Object(vt.isEmpty)(e.lights))return e;const n={libraries:[...t],lights:[]};return Object.assign({},e,{lights:n})})}function cc(e){return e.split("_particle-")[0]}function uc(e,t){return e.customData&&e.customData.particleSystems?e.customData.particleSystems.reduce((e,n)=>{const l=cc(n.id);return e[l]=`${l}_${t("particle")}`,e},{}):{}}function pc(e,t){return e.customData&&e.customData.particleSystems?e.customData.particleSystems.map(e=>{const n=cc(e.id);return Object.assign({},e,{id:t[n]})}):[]}function dc(e,t){return e.map(e=>(e.customData&&e.customData.particleSystems&&(e.customData.particleSystems=e.customData.particleSystems.map(e=>t[cc(e)])),e))}function bc(e,t){return e.map(e=>e.id).reduce((n,l)=>(e.some(e=>e.id===l&&Object(vt.get)(e,"customData.particleSystems",[]).length>0)&&(n[l]=t),n),{})}function gc(e,t,n,l,i=a.Bookmark,o=ys.idWithPrefix){const{sceneGraph:s,graphsMerged:r,objectIdsUniqueToNew:c,objectIdsUniqueToOriginal:u}=function(e,t){const n=e=>void 0!==e.objectId,[l,i]=Object(vt.partition)(e,n),[a,o]=Object(vt.partition)(t,n),s=function(e,t){return t.reduce((t,n)=>{for(const l of e)Object(vt.isEqual)(l,n)||t.push(n);return t},e)}(i,o),{newSceneGraph:r,graphsMerged:c,objectIdsUniqueToNew:u,objectIdsUniqueToOriginal:p}=function(e,t){const n=e.reduce((e,t)=>(e[t.objectId]=t,e),{}),l=t.reduce((e,t)=>{if(void 0===e.nodes[t.objectId])return e.nodes[t.objectId]=t,e;if(!Object(vt.isEqual)(t,e.nodes[t.objectId])){const n=function(e,t){const n={},l={};return{root:function e(t,i){if(t.objectId!==i.objectId)return n[i.objectId]=!0,[t,i];if(void 0===t.objects&&i.objects){for(const e of i.objects)n[e.objectId]=!0;return[Object.assign({},i)]}if(t.objects&&void 0===i.objects){for(const e of t.objects)l[e.objectId]=!0;return[Object.assign({},t)]}if(void 0===t.objects&&void 0===i.objects)return[Object.assign({},t)];const a=[];for(const n of t.objects){const t=i.objects.find(e=>e.objectId===n.objectId);t?a.push(e(n,t)):(l[n.objectId]=!0,a.push(n))}for(const l of i.objects)t.objects.find(e=>e.objectId===l.objectId)||(n[l.objectId]=!0,a.push(l));const o=Object.assign({},t);return o.objects=Object(vt.flatten)(a),[o]}(e,t),objectIdsUniqueToNew:n,objectIdsUniqueToOriginal:l}}(e.nodes[t.objectId],t);e.nodes[t.objectId]=n.root[0],e.graphsMerged.push(t.objectId),e.objectIdsUniqueToNew[t.objectId]=n.objectIdsUniqueToNew,e.objectIdsUniqueToOriginal[t.objectId]=n.objectIdsUniqueToOriginal}return e},{nodes:n,graphsMerged:[],objectIdsUniqueToNew:{},objectIdsUniqueToOriginal:{}});return{newSceneGraph:Object.keys(l.nodes).reduce((e,t)=>(e.push(l.nodes[t]),e),[]),graphsMerged:l.graphsMerged,objectIdsUniqueToNew:l.objectIdsUniqueToNew,objectIdsUniqueToOriginal:l.objectIdsUniqueToOriginal}}(l,a);return{sceneGraph:[...s,...r],graphsMerged:c,objectIdsUniqueToNew:u,objectIdsUniqueToOriginal:p}}(e.sceneGraph,n.sceneGraph),p=function(e,t){const n=(e,t)=>Object(vt.uniq)([...e,...t]);return{lights:n(e.lights,t.lights),tweens:n(e.tweens,t.tweens),regionMaps:n(e.regionMaps,t.regionMaps),reflections:n(e.reflections,t.reflections)}}(e.assetLibraries,n.assetLibraries),d=function(e,t,n,l){e=e||{},t=t||{};const i=(e,t)=>(e=>e.includes("/"))(t)?t:`${function(e){return sc(e)===a.Bookmark?e:e.split("/").pop()}(e)}/${t}`;return Object.assign({},Object(vt.mapKeys)(e,(e,t)=>i(n,t)),Object(vt.mapKeys)(t,(e,t)=>i(l,t)))}(e.reflections,n.reflections,t,l),{colorRecipes:b,newColorRecipeIds:g}=function(e,t,n){e=e||{},t=t||{};const l=Object.keys(t).reduce((e,l)=>{const i=n(`color-recipe-${l}`);return e.newColorRecipeIds[l]=i,e.colorRecipes[i]=t[l],e},{colorRecipes:{},newColorRecipeIds:{}});return{colorRecipes:Object.assign({},e,l.colorRecipes),newColorRecipeIds:l.newColorRecipeIds}}(e.colorRecipes,n.colorRecipes,o),h=rc(e.chapters,e.assetLibraries.lights),m=rc(n.chapters,n.assetLibraries.lights),_=function(e,t,n,l,i){const a=uc(e,i),o=uc(t,i),s=[...pc(e,a),...pc(t,o)],r=dc(n,a),c=dc(l,o),u=Object.assign({},bc(r,a),bc(c,o));return{mergedParticles:s,currentChapters:r,importedChapters:c,tweenParticleLookup:Object(vt.pickBy)(u,(e,t)=>!Object(vt.isEmpty)(e))}}(e,n,oc(h,r,c),oc(m,r,u).map(e=>Object.assign({},e,{id:o("chapter")})),o),f=function(e,t){return e.map(e=>{if(Object(vt.isEmpty)(e.colorRecipeObjects))return e;const n=Object.keys(e.colorRecipeObjects).reduce((n,l)=>(n[t[l]]=e.colorRecipeObjects[l],n),{});return e.colorRecipeObjects=n,e})}(_.importedChapters,g),y=[..._.currentChapters,...f],v=Object.assign({},e.customData,{particleSystems:_.mergedParticles});return Object.assign({},e,{assetLibraries:p,chapters:y,sceneGraph:s,customData:v,tags:"module"===i?e.tags:[],reflections:d,colorRecipes:b,stateId:Object(vt.uniq)([...e.stateId,...n.stateId]),tweenParticleLookup:_.tweenParticleLookup})}var hc;(hc||(hc={})).generateThumbnailUrls=function(e){return e.reduce((e,{originalChapterId:t,newChapterId:n,originalStoryId:l})=>{const i=`/thumbs/${a.Bookmark===sc(l)?"bookmarks":"modules"}/${l}`,o=new Jr;return o.storyId=l,o.chapterId=t,o.urls={small:`${i}/small/chapters/${t}.jpg`,large:`${i}/large/chapters/${t}.jpg`},e.set(n,o),e},new Map)};const mc=1e-4;var _c,fc,yc;function vc(e,t){return{showObjects:Object(vt.mapKeys)(e.showObjects,(e,n)=>yc.renamespaceValue(n,t)),selectObjects:Object(vt.mapKeys)(e.selectObjects,(e,n)=>yc.renamespaceValue(n,t)),pickThroughObjects:Object(vt.mapKeys)(e.pickThroughObjects,(e,n)=>yc.renamespaceValue(n,t)),synchronization:Object(vt.mapKeys)(e.synchronization,(e,n)=>yc.renamespaceValue(n,t))}}function xc(e,t){const n=e=>e.map(e=>e.type===tr.flyToChapter||e.type===tr.flyToObject?Object.assign({},e,{value:yc.renamespaceValue(e.value,t)}):e);return(e||[]).map(e=>Object.assign({},e,{objectId:yc.renamespaceValue(e.objectId,t),states:e.states.map(e=>Object.assign({},e,{errands:n(e.errands)}))}))}function Oc(e,t){return(e||[]).map(e=>(e.data.timeline=t[e.data.timeline]||e.data.timeline,e))}function Cc(e,t){return(e||[]).map(e=>(e.objectId&&(e.objectId=yc.renamespaceValue(e.objectId,t)),e))}function wc(e,t){return e?{xray:Object(vt.mapKeys)(e.xray,(e,n)=>yc.renamespaceValue(n,t)),highlight:Object(vt.mapKeys)(e.highlight,(e,n)=>yc.renamespaceValue(n,t))}:{}}function jc(e,t){const n=function(e,t){return"string"==typeof e?[t[e]||e]:e.map(e=>t[e]||e)}(e.stateId,t),l=e.assetLibraries.tweens.map(e=>yc.renamespaceValue(e,t)),i=e.assetLibraries.reflections.map(e=>yc.renamespaceValue(e,t)),a=Object(vt.mapValues)(e.reflections,(e,n)=>yc.renamespaceValue(e,t)),o=function(e,t){return e.map(e=>Object.assign({},e,vc(e,t),{colorRecipeObjects:wc(e.colorRecipeObjects,t),timelineMap:Oc(e.timelineMap,t),labels:xc(e.labels,t),hotspots:Cc(e.hotspots,t)}))}(e.chapters,t),s=function e(t,n){for(const l of t)["objectId","displayName","geometryId","morphId","materialId"].forEach(e=>{l[e]&&(l[e]=yc.renamespaceValue(l[e],n))}),e(l.objects||[],n);return t}(e.sceneGraph,t);return Object.assign({},e,{stateId:n},vc(e,t),{assetLibraries:Object.assign({},e.assetLibraries,{tweens:l,reflections:i}),reflections:a,chapters:o,sceneGraph:s})}!function(e){function t(e,t=0){["x","y","z"].forEach(n=>{void 0!==e[n]&&Math.abs(e[n]-t)<mc&&delete e[n]})}function n(e){["translate","rotate","pivot"].forEach(n=>{void 0!==e[n]&&(t(e[n]),0===Object.keys(e[n]).length&&delete e[n])}),void 0!==e.scale&&(t(e.scale,1),0===Object.keys(e.scale).length&&delete e.scale)}function l(e,t){["backfaces","displayName","layer"].forEach(n=>{e[n]&&(t[n]=e[n])})}function i(e,t){const l=new is;l.translate=JSON.parse(JSON.stringify(e.translate)),l.rotate=JSON.parse(JSON.stringify(e.rotate)),l.scale=JSON.parse(JSON.stringify(e.scale)),l.pivot=JSON.parse(JSON.stringify(e.pivot)),n(l),Object.entries(l).forEach(([e,n])=>{t[e]=JSON.parse(JSON.stringify(n))}),t.transformId&&delete t.transformId}function a(e,t){const n=["geometryId","morphId","materialId"],l=[];return e.renderables&&e.renderables.forEach(e=>{const t=new ls;n.forEach(n=>{e[n]&&(t[n]=e[n])}),e.layer&&(t.layer=e.layer),l.push(t)}),1===l.length?t=Object.assign({},t,l[0]):l.length>1&&(t.renderables=l),t}e.filterTransformProperties=n,e.serializeObjectProperties=l,e.serializeTransformData=i,e.serializeRenderables=a,e.serializeHumanObject=function e(t,n){if(n[t.objectId])return null;let o=new as;return o.objectId=t.objectId,l(t,o),i(t,o),o=a(t,o),t.objects&&t.objects.length&&(o.objects=[]),t.objects.forEach(t=>{const l=e(t,n);null!==l&&o.objects.push(l)},this),o}}(_c||(_c={})),function(e){e.updateChapterIds=function(e,t){return Object.keys(e).reduce((n,l)=>(n[t[l]]=e[l],n),{})},e.duplicateChapter=function(e,t,n){return Object.assign({},n,{[t]:n[e]})},e.deleteChapter=function(e,t){const n=Object.assign({},t);return delete n[e],n},e.refreshEngineLookup=function(e,t){Human.modules.moduleData[e].tweenParticleLookup=t}}(fc||(fc={})),function(e){function t(e,t){return Object.entries(t).reduce((e,[t,n])=>{if(e.startsWith(t)){const l=new RegExp(`^${t}`);e=e.replace(l,n)}return e},e||"")}e.renamespaceValue=t,e.renamespaceKeys=function(e,n){return Object.entries(e).reduce((e,[l,i])=>(e[t(l,n)]=i,e),{})},e.renamespaceAssetLibrary=function(e,n,l){if(!l)return e;const i=e.tweens.map(e=>t(e,n)),a=e.reflections.map(e=>t(e,n));return Object.assign({},e,{tweens:i,reflections:a})},e.renamespaceReflections=function(e,n,l){return l?Object(vt.mapValues)(e,e=>t(e,n)):e}}(yc||(yc={}));let kc=(()=>{class e{constructor(e,t,n,l){this.store=e,this.engineService=t,this.chapterSerializer=n,this.animationService=l}serializeUI(e){const t=Object.assign({},e.ui);return e.chapters.length>1&&(t.scrubber=!1,t.playPause=!1,t.tour={chapters:!0}),t}serializeAnimation(e){return this.animationService.isChapterAnimated(e)?{startTime:e.timelineMap[0].start,loop:!1!==e.loop,numChapters:1}:{}}generateTrimObjectMap(e,t){const n=this.engineService.getSceneGraph(Human.scene.rootObjects);let l={};t.graph.hidden&&(l=Object.assign({},l,this.engineService.queryShownObjects(e,n,!0)));const i={};for(const a in l)i[a]=!l[a];return i}serialize(e=!1,t,n,l=!1,i,a){const o=this.generateTrimObjectMap(a,n),s=Object(vt.cloneDeep)(i),r=this.chapterSerializer.serialize(a,e,t);if(s.chapters=r.chapters,!1===e&&s.tweenParticleLookup){const e=Object(vt.invert)(r.sourceIdMap);s.tweenParticleLookup=fc.updateChapterIds(s.tweenParticleLookup,e)}const c=Human.scene.rootObjects;return s.sceneGraph=function(e,t){const n=[];return Object.entries(e).forEach(([e,l])=>{const i=_c.serializeHumanObject(l,t);null!==i&&n.push(i)},this),n}(c,o),s.ui=this.serializeUI(s),s.animation=this.serializeAnimation(a[0]),{story:l?jc(s,t):s,chapterIdMap:r.sourceIdMap}}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(g.i),l.Vb(Ls),l.Vb(ur),l.Vb(tc))},token:e,providedIn:"root"}),e})();var Sc;const Pc={loading:!1,incoming:{id:void 0,type:void 0},storyId:void 0,storyType:void 0,loadingChunk:null,loadType:Os.OnDemand,loadChunks:[],loadChunksRemaining:[],thumbnailLookup:[]};let Mc=(()=>{let e=Sc=class{constructor(e,t,n){this.store=e,this.storyService=t,this.serializeModuleService=n}static getStory(e){return e.story}static getStoryId(e){return e.storyId}static getLoadChunks(e){return e.loadChunks}static getLoadChunksRemaining(e){return e.loadChunksRemaining}static getStoryInfo(e){return{id:e.storyId,type:e.storyType}}static getLoadType(e){return e.loadType}static getIncomingStoryInfo(e){return e.incoming}static getStoryTags(e){return Object(vt.get)(e,"story.tags",[])}setStoryText(e,t){const n=e.getState().story;n&&e.patchState({story:Object.assign({},n,{displayName:t.displayName})})}setStoryTags(e,{tags:t}){const n=e.getState().story;n&&e.patchState({story:Object.assign({},n,{tags:t})})}setStory(e,t){e.patchState({story:t.story})}SetStoryId(e,t){e.patchState({storyId:t.id})}setIncomingStory(e,t){const n=e.getState(),{id:l,type:i,reset:a}=t;l!==n.storyId||a?e.patchState({incoming:{id:l,type:i}}):a&&e.dispatch(new xa(t.id,n.story,t.type,n.loadType))}loadStory(e,t){this.storyService.getStory(t.id,t.type,t.lang).subscribe(n=>{e.dispatch(new wa(n,t.id,t.type))},()=>{e.dispatch(new ja(t.id,t.type))})}fetchStory(e,t){this.storyService.getStory(t.id,t.type,t.lang).subscribe(n=>{e.dispatch(new wa(n,t.id,t.type))},()=>{e.dispatch(new ja(t.id,t.type))})}loadStorySuccess(e,t){const{loadType:n}=e.getState();this.storyService.unloadStory(null).subscribe(()=>{e.dispatch(new xa(t.id,t.story,t.type,n))})}buildStoryWorkflow(e,t,n,l,i,a=0,o=new Map){this.storyService.buildStory(t,n,!0).subscribe(s=>{const r=this.storyService.getStoryChapters(t,l);let c=[];r.forEach(e=>{c=[...c,...e.labels]});const u=this.storyService.getLoadConfig(t,a),p=this.storyService.getStoryLoadChunks(t,u,i);e.patchState({storyId:t,story:n,loadChunks:p,loadChunksRemaining:p,incoming:{id:void 0,type:void 0}}),e.dispatch(new Ea(r)),e.dispatch(new Xa(o)),e.dispatch(new Ji(c)),e.dispatch(new Fa(r[a])),e.dispatch(new fa)})}setTweenParticleLookup(e,t){e.patchState({story:Object.assign({},e.getState().story,{tweenParticleLookup:t.lookup})})}importStorySuccess(e,t){const n=e.getState(),l=n.storyType,i=n.storyId,a=Os.Progressive,s=new gs,r=this.store.selectSnapshot(Sc.getStory),c=this.store.selectSnapshot(ac.getStoryChapters),u=this.serializeModuleService.serialize(!0,{},s,!1,r,c).story,p=gc(u,i,t.story,t.id,o.exportType),d=u.chapters.map((e,t)=>({newChapterId:e.id,originalChapterId:e.id,originalStoryId:i})),b=(n.thumbnailLookup||[]).concat(t.story.chapters.map((e,n)=>({newChapterId:p.chapters[u.chapters.length+n].id,originalChapterId:e.id,originalStoryId:t.id})));e.patchState({thumbnailLookup:b});const g=hc.generateThumbnailUrls([...d,...b]),h=this.store.selectSnapshot(ac.getRegisteredThumbnails),m=new Map([...h].filter(e=>e[1].snapshot)),_=new Map([...g,...m]);this.storyService.unloadStory(null,!0).subscribe(()=>{this.buildStoryWorkflow(e,i,p,l,a,p.chapters.length-1,_)})}buildStory(e,t){const n=t.story.chapters.map((e,n)=>({newChapterId:e.id,originalChapterId:e.id,originalStoryId:t.id})),l=hc.generateThumbnailUrls(n);this.buildStoryWorkflow(e,t.id,t.story,t.type,t.loadType,t.chapterIdx||0,l)}unloadStory(){}loadStoryChunk(e){const t=e.getState().loadChunksRemaining[0];t&&(e.patchState({loadingChunk:t}),this.storyService.loadStoryChunk(t,()=>{e.dispatch([new va(t),new fa])}))}reorderLoadChunks(e,t){const{loadChunksRemaining:n}=e.getState(),[l,i]=Object(vt.partition)(n,e=>e.chapterId===t.chapterId);e.patchState({loadChunksRemaining:[...l,...i]})}loadStoryChunkSuccess(e,t){const n=this.store.selectSnapshot(ac.getStoryChapters),l=Object.assign({},n.find(e=>t.chunk.chapterId===e.id)),i=e.getState().loadChunksRemaining.filter(e=>e.chunkId!==t.chunk.chunkId);e.patchState({loadingChunk:null,loadChunksRemaining:i}),l.readyState=Object.assign({},l.readyState,t.chunk.readyState),e.dispatch(new Na(l))}synchronizeChapters(e){const t=this.store.selectSnapshot(ac.getStoryChapters),{story:n}=e.getState();e.patchState({story:Object.assign({},n,{chapters:[...t]})})}importStory(e,t){this.storyService.getStory(t.id,t.type,t.lang).subscribe(n=>{e.dispatch(new Sa(n,t.id,t.type))})}resetStory(e){e.setState(Pc)}};return Object(b.__decorate)([Object(g.a)(ha),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ha]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setStoryText",null),Object(b.__decorate)([Object(g.a)(ma),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ma]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setStoryTags",null),Object(b.__decorate)([Object(g.a)(ba),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ba]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setStory",null),Object(b.__decorate)([Object(g.a)(ga),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ga]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"SetStoryId",null),Object(b.__decorate)([Object(g.a)(_a),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,_a]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setIncomingStory",null),Object(b.__decorate)([Object(g.a)(da),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,da]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loadStory",null),Object(b.__decorate)([Object(g.a)(pa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,pa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"fetchStory",null),Object(b.__decorate)([Object(g.a)(wa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,wa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loadStorySuccess",null),Object(b.__decorate)([Object(g.a)(Oa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Oa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setTweenParticleLookup",null),Object(b.__decorate)([Object(g.a)(Sa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Sa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"importStorySuccess",null),Object(b.__decorate)([Object(g.a)(xa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,xa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"buildStory",null),Object(b.__decorate)([Object(g.a)(Ca),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"unloadStory",null),Object(b.__decorate)([Object(g.a)(fa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loadStoryChunk",null),Object(b.__decorate)([Object(g.a)(ya),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ya]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"reorderLoadChunks",null),Object(b.__decorate)([Object(g.a)(va),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,va]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loadStoryChunkSuccess",null),Object(b.__decorate)([Object(g.a)(Ma),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"synchronizeChapters",null),Object(b.__decorate)([Object(g.a)(ka),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ka]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"importStory",null),Object(b.__decorate)([Object(g.a)(Pa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetStory",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[hs]),Object(b.__metadata)("design:returntype",void 0)],e,"getStory",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[hs]),Object(b.__metadata)("design:returntype",void 0)],e,"getStoryId",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[hs]),Object(b.__metadata)("design:returntype",void 0)],e,"getLoadChunks",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[hs]),Object(b.__metadata)("design:returntype",void 0)],e,"getLoadChunksRemaining",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[hs]),Object(b.__metadata)("design:returntype",void 0)],e,"getStoryInfo",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[hs]),Object(b.__metadata)("design:returntype",void 0)],e,"getLoadType",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[hs]),Object(b.__metadata)("design:returntype",void 0)],e,"getIncomingStoryInfo",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[hs]),Object(b.__metadata)("design:returntype",void 0)],e,"getStoryTags",null),Sc=Object(b.__decorate)([Object(g.g)({name:"story",defaults:Pc})],e)})();const Hc={main:{title:"All Categories",image:"cat-all",translations:{es:{title:"Todas las Categor\xedas"},zh:{title:"\u6240\u6709\u7c7b\u522b"},fr:{title:"Toutes les cat\xe9gories"},de:{title:"Alle Kategorien"},it:{title:"Tutte le categorie"},ja:{title:"\u3059\u3079\u3066\u306e\u30ab\u30c6\u30b4\u30ea"},pt:{title:"Todas as categorias"}}},baseAnatomyCategories:[{title:"Male Complete Anatomy",image:"cat-complete-male",id:"production/maleAdult/male_complete_anatomy_10",translations:{es:{title:"Anatom\xeda Completa Masculina"},zh:{title:"\u7537\u6027\u5b8c\u6574\u89e3\u5256\u5b66"},fr:{title:"Anatomie compl\xe8te masculine"},de:{title:"M\xe4nnliche vollst\xe4ndige Anatomie"},it:{title:"Anatomia Completa Maschile"},ja:{title:"\u7537\u6027\u306e\u5b8c\u5168\u306a\u89e3\u5256\u5b66"},pt:{title:"Anatomia Completa Masculina"}}},{title:"Female Complete Anatomy",image:"cat-complete-female",id:"production/femaleAdult/female_complete_anatomy_10",translations:{es:{title:"Anatom\xeda Completa Femenina"},zh:{title:"\u5973\u6027\u5b8c\u6574\u89e3\u5256\u5b66"},fr:{title:"Anatomie compl\xe8te f\xe9minine"},de:{title:"Weibliche komplette Anatomie"},it:{title:"Anatomia Completa Femminile"},ja:{title:"\u5973\u6027\u89e3\u5256\u5b66"},pt:{title:"Anatomia Completa Feminina"}}}],categories:[{title:"Anatomy by Systems",id:"anatomy-by-system",image:"cat-anatomy",translations:{es:{title:"Anatom\xeda por Sistemas"},zh:{title:"\u6309\u7cfb\u7edf\u8fdb\u884c\u89e3\u5256\u5b66"},fr:{title:"Anatomie par syst\xe8mes"},de:{title:"Anatomie nach Systemen"},it:{title:"Anatomia per sistemi"},ja:{title:"\u30b7\u30b9\u30c6\u30e0\u306b\u3088\u308b\u89e3\u5256\u5b66"},pt:{title:"Anatomia por Sistemas"}}},{title:"Anatomy by Regions",id:"regional",image:"cat-anatomy-region",translations:{es:{title:"Anatom\xeda por Regiones"},zh:{title:"\u6309\u5730\u533a\u5212\u5206\u7684\u89e3\u5256\u5b66"},fr:{title:"Anatomie par r\xe9gions"},de:{title:"Anatomie nach Regionen"},it:{title:"Anatomia per regioni"},ja:{title:"\u5730\u57df\u5225\u89e3\u5256\u5b66"},pt:{title:"Anatomia por Regi\xf5es"}}},{title:"Blood, Heart and Circulation",id:"Blood, Heart and Circulation",image:"cat-blood-heart",translations:{es:{title:"Sangre, Coraz\xf3n y Circulaci\xf3n"},zh:{title:"\u8840\u6db2\u3001\u5fc3\u810f\u548c\u8840\u6db2\u5faa\u73af"},fr:{title:"Sang, c\u0153ur et circulation sanguine"},de:{title:"Blut, Herz und Kreislauf"},it:{title:"Sangue, Cuore e Circolazione"},ja:{title:"\u8840\u6db2\u3001\u5fc3\u81d3\u3001\u5faa\u74b0"},pt:{title:"Sangue, Cora\xe7\xe3o e Circula\xe7\xe3o"}}},{title:"Bones, Joints and Muscles",id:"Bones, Joints and Muscles",image:"cat-bones-joints-muscles",translations:{es:{title:"Huesos, Articulaciones y M\xfascula"},zh:{title:"\u9aa8\u9abc\u3001\u5173\u8282\u548c\u808c\u8089"},fr:{title:"Os, articulations et muscles"},de:{title:"Knochen, Gelenke und Muskeln"},it:{title:"Ossa, articolazioni e muscoli"},ja:{title:"\u30dc\u30fc\u30f3\u3001\u30b8\u30e7\u30a4\u30f3\u30c8\u3001\u30de\u30c3\u30b9\u30eb"},pt:{title:"Ossos, articula\xe7\xf5es e m\xfasculos"}}},{title:"Brain and Nerves",id:"Brain and Nerves",image:"cat-brain-nerves",translations:{es:{title:"Cerebro y Nervios"},zh:{title:"\u5927\u8111\u548c\u795e\u7ecf"},fr:{title:"Cerveau et nerfs"},de:{title:"Gehirn und Nerven"},it:{title:"Cervello e nervi"},ja:{title:"\u8133\u3068\u795e\u7d4c"},pt:{title:"C\xe9rebro e Nervos"}}},{title:"Digestive System",id:"Digestive System",image:"cat-digestive-system",translations:{es:{title:"Sistema Digestivo"},zh:{title:"\u6d88\u5316\u7cfb\u7edf"},fr:{title:"Syst\xe8me digestif"},de:{title:"Verdauungssystem"},it:{title:"Apparato Digestivo"},ja:{title:"\u6d88\u5316\u5668\u7cfb"},pt:{title:"Sistema Digestivo"}}},{title:"Ear, Nose and Throat",id:"Ear, Nose and Throat",image:"cat-ear-nose-throat",translations:{es:{title:"O\xeddo, Nariz y Garganta"},zh:{title:"\u8033\u9f3b\u5589\u79d1"},fr:{title:"Oreille, Nez et Gorge"},de:{title:"Ohr, Nase und Hals"},it:{title:"Orecchio, naso e gola"},ja:{title:"\u8033\u30fb\u9f3b\u30fb\u5589"},pt:{title:"Orelha, nariz e garganta"}}},{title:"Endocrine System",id:"Endocrine System",image:"cat-endocrine-system",translations:{es:{title:"Sistema Endocrino"},zh:{title:"\u5185\u5206\u6ccc\u7cfb\u7edf"},fr:{title:"Syst\xe8me endocrinien"},de:{title:"Endokrine System"},it:{title:"Sistema Endocrino"},ja:{title:"\u5185\u5206\u6ccc\u7cfb"},pt:{title:"Sistema end\xf3crino"}}},{title:"Eyes and Vision",id:"Eyes and Vision",image:"cat-eyes-vision",translations:{es:{title:"Ojos y Visi\xf3n"},zh:{title:"\u773c\u775b\u548c\u89c6\u529b"},fr:{title:"Yeux et vision"},de:{title:"Augen und Sehkraft"},it:{title:"Occhi e Visione"},ja:{title:"\u76ee\u3068\u30d3\u30b8\u30e7\u30f3"},pt:{title:"Olhos e Vis\xe3o"}}},{title:"Immune System",id:"Immune System",image:"cat-immune-system",translations:{es:{title:"Sistema Inmunol\xf3gico"},zh:{title:"\u514d\u75ab\u7cfb\u7edf"},fr:{title:"Syst\xe8me immunitaire"},de:{title:"Immunsystem"},it:{title:"Sistema immunitario"},ja:{title:"\u514d\u75ab\u7cfb"},pt:{title:"Sistema Imunit\xe1rio"}}},{title:"Kidneys and Urinary System",id:"Kidneys and Urinary System",image:"cat-kidney-urinary",translations:{es:{title:"Ri\xf1ones y Sistema Urinario"},zh:{title:"\u80be\u810f\u548c\u6ccc\u5c3f\u7cfb\u7edf"},fr:{title:"Reins et syst\xe8me urinaire"},de:{title:"Nieren und Harnwege"},it:{title:"Reni e sistema urinario"},ja:{title:"\u814e\u81d3\u3068\u6ccc\u5c3f\u5668\u7cfb"},pt:{title:"Rins e Sistema Urin\xe1rio"}}},{title:"Lungs and Breathing",id:"Lungs and Breathing",image:"cat-lungs-breathing",translations:{es:{title:"Pulmones y Respiraci\xf3n"},zh:{title:"\u80ba\u548c\u547c\u5438"},fr:{title:"Poumons et respiration"},de:{title:"Lunge und Atmung"},it:{title:"Polmoni e Respirazione"},ja:{title:"\u80ba\u3068\u547c\u5438"},pt:{title:"Pulm\xf5es e respira\xe7\xe3o"}}},{title:"Mouth and Teeth",id:"Mouth and Teeth",image:"cat-mouth-teeth",translations:{es:{title:"Boca y Dientes"},zh:{title:"\u53e3\u8154\u548c\u7259\u9f7f"},fr:{title:"Bouche et dents"},de:{title:"Mund und Z\xe4hne"},it:{title:"Bocca e Denti"},ja:{title:"\u53e3\u3068\u6b6f"},pt:{title:"Boca e Dentes"}}},{title:"Skin, Hair and Nails",id:"Skin, Hair and Nails",image:"cat-skin-hair-nails",translations:{es:{title:"Piel, Pelo y U\xf1as"},zh:{title:"\u76ae\u80a4\u3001\u5934\u53d1\u548c\u6307\u7532"},fr:{title:"Peau, cheveux et ongles"},de:{title:"Haut, Haare und N\xe4gel"},it:{title:"Pelle, Capelli e Unghie"},ja:{title:"\u808c\u3001\u9aea\u3001\u722a"},pt:{title:"Pele, Cabelo e Unhas"}}},{title:"Female Reproductive System",id:"Female Reproductive System",image:"cat-female-reproductive",translations:{es:{title:"Sistema Reproductivo Femenino"},zh:{title:"\u5973\u6027\u751f\u6b96\u7cfb\u7edf"},fr:{title:"Syst\xe8me reproducteur f\xe9minin"},de:{title:"Weibliches Fortpflanzungssystem"},it:{title:"Sistema riproduttivo femminile"},ja:{title:"\u5973\u6027\u306e\u751f\u6b96\u5668\u7cfb"},pt:{title:"Sistema Reprodutivo Feminino"}}},{title:"Male Reproductive System",id:"Male Reproductive System",image:"cat-male-reproductive",translations:{es:{title:"Sistema Reproductivo Masculino"},zh:{title:"\u7537\u6027\u751f\u6b96\u7cfb\u7edf"},fr:{title:"Syst\xe8me reproducteur masculin"},de:{title:"M\xe4nnliches Fortpflanzungssystem"},it:{title:"Sistema riproduttivo maschile"},ja:{title:"\u751f\u6b96\u5668\u7cfb"},pt:{title:"Sistema Reprodutor Masculino"}}},{title:"Community Bookmarks",id:"public",image:"cat-community",translations:{es:{title:"Marcadores de la Comunidad"},zh:{title:"\u793e\u533a\u4e66\u7b7e"},fr:{title:"Signets de la communaut\xe9"},de:{title:"Community-Lesezeichen"},it:{title:"Segnalibri della Comunit\xe0"},ja:{title:"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30d6\u30c3\u30af\u30de\u30fc\u30af"},pt:{title:"Marcadores da Comunidade"}}}]},Ic=["web platform","!obsolete"];let Tc=(()=>{class e{constructor(e){this.http=e}search(e="",t=[],n="en"){const l=e.split(/[ ]+/).join("+"),i=Ic.concat(t).map(e=>`"${e}"`).join("+");return this.http.get(`/search?k=${l}&t=${i}&ol=${n}`).pipe(Object(r.a)(e=>this.resultsToBookmarks(e)))}getAnatomyCategory(e,t,n){return this.search(e,[t],n)}getConditionModel(e){const t=this.toDatabaseContentId(e);return this.http.get(`/search/conditions?q=${t}`).pipe(Object(r.a)(e=>this.resultsToBookmarks(e)),Object(r.a)(e=>e[0]))}resultsToBookmarks(e){return e.forEach(e=>{e.id=this.toAppContentId(e.id),e.tour=e.tags.indexOf("tour")>=0}),Object(A.plainToClass)(ts,e)}getBookmarkCategory(e){if(!e.tags)return null;const t=Hc.categories.map(e=>e.id.toLocaleLowerCase());return e.tags.find(e=>t.includes(e.toLocaleLowerCase()))}getStoryCategory(e){if(!e.tags)return null;const t=Hc.categories.map(e=>e.id.toLocaleLowerCase());return e.tags.find(e=>t.includes(e.toLocaleLowerCase()))}toAppContentId(e){return e.replace("Condition.content.","").replace(".json","").split(".").join("/")}toDatabaseContentId(e){return e.match("Condition.content")?e:`Condition.content.${e.replace(".json","").split("/").join(".")}.json`}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(s.c))},token:e,providedIn:"root"}),e})();const zc="/ws/user/bookmark/v1",Fc="/ws/thumbs/bookmarks",Lc="/ws/user/favorite",Ec={headers:new s.g({"Content-Type":"application/json; charset=utf-8"})};var Nc=function(e){return e.Private="private",e.Group="enterprise",e.Public="public",e}({});let Rc=(()=>{class e{constructor(e,t,n,l,i){this.store=e,this.http=t,this.serializeModuleService=n,this.exploreService=l,this.storyService=i}getBookmarkData(e){return this.http.get(`/search/bookmarks/data?be=${e}`).pipe(Object(r.a)(e=>((e=e.bookmark).moduleId=e.customData?e.customData.moduleId:e.modules.activeModules[0],Object(A.plainToClass)(bs,e))))}getBookmarkModel(e){return this.http.get(`/ws/search/bookmarks?eid=${e}`).pipe(Object(r.a)(e=>Object(A.plainToClass)(ts,e.bookmark_info)),Object(r.a)(e=>this.normalizeBookmarkModel(e)))}getUserBookmarks(e,t=""){return this.http.get(`/ws/search/bookmarks/${e}?q=${t}`).pipe(Object(r.a)(e=>e.map(e=>Object(A.plainToClass)(ts,e)).map(e=>this.normalizeBookmarkModel(e))))}getUserConditions(e,t){let n="";switch(e){case Nc.Private:n="user";break;case Nc.Group:n="group"}return this.http.get("/ws/search/conditions/private").pipe(Object(r.a)(e=>e.filter(e=>e.module_accessor_level===n&&(!t||e.module_accessor_id===t))),Object(r.a)(e=>Object(A.plainToClass)(ts,e)),Object(r.a)(e=>e.map(e=>this.normalizeBookmarkModel(e))))}getPrivateBookmarks(e=""){return this.getUserBookmarks(Nc.Private,e).pipe(Object(r.a)(e=>e.filter(e=>e.is_owner)))}getFavorites(){return this.http.get(Lc).pipe(Object(r.a)(e=>Object.values(e).map(e=>Object(A.plainToClass)(ts,e)).map(e=>this.normalizeBookmarkModel(e))))}deleteFavorite(e,t){return this.http.delete(`${Lc}?modelId=${e}&category=${t}`)}getPrivateConditions(){return this.getUserConditions(Nc.Private)}getOrganizationBookmarks(e,t=""){return this.getUserBookmarks(Nc.Private,t).pipe(Object(r.a)(t=>t.filter(e=>e.tags.includes("enterprise")).filter(t=>t.group_access.some(t=>t.group_id===e))))}getOrganizationConditions(e){return this.getUserConditions(Nc.Group,e)}getOrganizationContent(e,t=""){return Object(ht.a)(this.getOrganizationBookmarks(e,t),this.getOrganizationConditions(e)).pipe(Object(r.a)(([e,t])=>[...e,...t]))}createBookmarkStory(e=!1){return this.serializeModuleService.serialize(e,{},new gs,!1,this.store.selectSnapshot(Mc.getStory),this.store.selectSnapshot(ac.getStoryChapters))}getPublicBookmarks(e=""){return this.getUserBookmarks(Nc.Public,e)}saveBookmark(e){const t=this.getNormalizedBookmarkEntry(e);let n;return(n=this.http.post(e.id?`${zc}/update`:`${zc}/save`,t,Ec)).pipe(Object(_t.a)(e=>this.getBookmarkModel(e.id)))}deleteBookmark(e){return this.http.delete(`${zc}/delete?eid=${e}`).pipe(Object(S.a)(e=>{const{error:t}=e.error,n=t?t.message:"";return Object(ns.a)(n)}))}copyBookmark(e,t,n="en"){return t!==a.Module||Object(vt.endsWith)(e,".json")||(e+=".json"),this.http.post(`${zc}/copy`,{source_content_type:t,source_content_id:e}).pipe(Object(r.a)(e=>e.id),Object(_t.a)(l=>"en"===n?Object(k.a)(l):this.translateBookmark(l,e,t,n)))}atMaxFreeBookmarkCount(){return this.http.get("/ws/user/content/limit/check").pipe(Object(r.a)(()=>!1),Object(S.a)(e=>Object(k.a)(403===e.status)))}saveBookmarkThumbnails(e,t,n,l){const i=t.index.chapters.reduce((t,i)=>{const a=n.get(l[i.id]);if(a&&a.snapshot)t.push(this.postThumbnail(e,i.id,a.snapshot,!0));else if(i.id!==l[i.id]||a.chapterId!==i.id){const n=a.urls.large.match(/(bookmarks\/)|(modules\/)/).index,l=a.urls.large.slice(n);t.push(this.copyThumbnail(e,i.id,l))}return t},[]),a=n.get(l[t.index.chapters[0].id]);return i.push(a.snapshot?this.postThumbnail(e,null,a.snapshot,!0):this.copyThumbnail(e,null,a.urls.large)),i}deleteBookmarkThumbnails(e,t,n,l){const i=t.index.chapters.map(e=>l[e.id]||e.id);return Array.from(n.values()).filter(e=>i.indexOf(e.chapterId)<0).map(t=>this.deleteThumbnail(e,t.chapterId))}filterByTags(e,t,n=!1){return e.filter(e=>n?t.every(t=>e.tags.includes(t)):t.some(t=>e.tags.includes(t)))}canEdit(e){return!!e.is_owner||!(!e.group_access||!e.group_access.length)&&e.group_access[0].member_edit}normalizeBookmarkModel(e){const{id:t,type:n}=e;return"module"===n&&(e.id=this.exploreService.toAppContentId(t)),e.tour=e.tags.includes("tour"),e.animated=e.tags.includes("animated"),e}translateBookmark(e,t,n,l){const i=n===a.Module?t.replace(".json",""):t;return Object(ht.a)(this.storyService.getStory(e,a.Bookmark),this.storyService.getStoryTranslation(i,n,l)).pipe(Object(r.a)(([e,t])=>this.storyService.translateStory(e,t)),Object(_t.a)(t=>this.saveBookmark({isOwner:!0,title:t.displayName.substr(0,60),id:e,index:t})),Object(r.a)(e=>e.id),Object(S.a)(t=>404===t.status?Object(k.a)(e):Object(ns.a)(t)))}getNormalizedBookmarkEntry(e){const{id:t,title:n,description:l,index:i,public_access:a,add_group_access:o,remove_group_access:s,isOwner:r}=e;let c,u,p;if(r&&(c=o?this.getGroupAccess(o):[],s&&s.forEach(e=>{const t=this.getNormalizeGroupAccess({group_id:e.group_id,remove:!0});c.push(t)}),u=this.getNormalizedBool(a),i)){p={},i.chapters&&(p.user_generated_tour=this.getNormalizedBool(i.chapters.length>1));const e=i.tags.includes("animated");p.animated=this.getNormalizedBool(e)}return{eid:t,name:n,description:l,index:i,group_access:c,public_access:u,flags:p}}getGroupAccess(e){return e.map(e=>this.getNormalizeGroupAccess(e))}getNormalizeGroupAccess(e){const{group_id:t,group_name:n,member_edit:l,visible:i,remove:a}=e;return{group_id:t,group_name:n,member_edit:this.getNormalizedBool(l),visibility:this.getNormalizedBool(i),remove:this.getNormalizedBool(a)}}getNormalizedBool(e){return!0===e?"1":!1===e?"0":""}postThumbnail(e,t,n,l=!1){const i=new Image;return i.src=n,new V.a(n=>{i.onload=()=>{const a=document.createElement("canvas"),o=a.getContext("2d");a.width=i.naturalWidth,a.height=i.naturalHeight,o.drawImage(i,0,0);const r=a.toDataURL("image/jpeg",1);let c="";c=t?`${Fc}/${e}/large/chapters/${t}.jpg`:`${Fc}/${e}/large/index.jpg`;const u=(new s.g).set("Content-Type","application/json");this.http.post(c,{image:r,invalidate:l},{headers:u,responseType:"text"}).subscribe(e=>{n.next(),n.complete()})}})}deleteThumbnail(e,t){return new V.a(n=>{const l=new Request(`${Fc}/${e}/large/chapters/${t}.jpg`,{method:"DELETE"});fetch(l).then(e=>{n.complete()})})}copyThumbnail(e,t,n){let l="";const i=n.replace("/thumbs/","");l=t?`bookmarks/${e}/large/chapters/${t}.jpg`:`bookmarks/${e}/large/index.jpg`;const a=(new s.g).set("Content-Type","application/json");return new V.a(e=>{this.http.post("/ws/thumbs/copy",{src:i,dst:l},{headers:a,responseType:"text"}).subscribe(t=>{e.next(),e.complete()})})}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(g.i),l.Vb(s.c),l.Vb(kc),l.Vb(Tc),l.Vb(hr))},token:e,providedIn:"root"}),e})();const Ac="/ws/enterprise/collection";let Dc=(()=>{class e{constructor(e,t){this.http=e,this.bookmarkService=t}getCollections(e){return this.http.get(`${Ac}?group_id=${e}`).pipe(Object(r.a)(e=>Object(A.plainToClass)(Yo,e).map(e=>this.normalizeCollectionModel(e))))}getCollectionsByContent(e,t,n=!1){const{content_type:l,content_id:i}=t;return this.http.get(`${Ac}?group_id=${e}&content_type=${l}&content_id=${i}&include_content=${n?1:0}`).pipe(Object(r.a)(e=>Object(A.plainToClass)(Yo,e).map(e=>this.normalizeCollectionModel(e))))}getCollectionContentId(e,t){const{content_type:n,content_id:l}=t;return this.getCollectionsByContent(e.group_id,t,!0).pipe(Object(r.a)(t=>t.find(t=>t.collection_id===e.collection_id)),Object(r.a)(e=>{let t;return e&&(t=e.collection_content.find(e=>"module"===n?l===e.module_name:l===e.id)),t?t.collection_content_id:null}))}getCollection(e,t,n){return this.http.get(`${Ac}?group_id=${e}&collection_id=${t}&include_content=${n?1:0}`).pipe(Object(r.a)(e=>{const t=e[0];return t?this.normalizeCollectionModel(t):t}))}getCollectionContent(e,t,n=""){const l=n.toLocaleLowerCase().split(" ");return this.getCollection(e,t,!0).pipe(Object(r.a)(e=>e.collection_content.map(e=>Object(A.plainToClass)(ts,e)).filter(e=>{let t=!0;return l.length&&e.title&&l.forEach(n=>{t=t&&e.title.toLocaleLowerCase().indexOf(n)>=0}),t=t&&!0!==e.unavailable})))}addToCollection(e,t){return this.formPost(Ac,{group_id:e.group_id,collection_id:e.collection_id,add_content:t}).pipe(Object(r.a)(e=>e.map(e=>this.normalizeCollectionModel(e))))}removeFromCollection(e,t){return this.formPost(Ac,{group_id:e.group_id,collection_id:e.collection_id,remove_content:t}).pipe(Object(r.a)(e=>e.map(e=>this.normalizeCollectionModel(e))))}getOrganizationAttribute(e,t,n){return e.find(e=>e.type===t&&e.name===n)}addUserToOrganization(e){return this.http.post("/ws/enterprise/user/add",{group_eid:e})}addUserWithGroupCode(e){return this.http.post("/ws/enterprise/user/add",{group_code:e})}normalizeCollectionModel(e){return e.collection_content&&e.collection_content.forEach(e=>{this.bookmarkService.normalizeBookmarkModel(e)}),e}formPost(e,t){const n={headers:new s.g({"Content-Type":"application/x-www-form-urlencoded"})},l=new URLSearchParams;return Object.keys(t).forEach(e=>{const n=t[e],i=`${n instanceof Object?JSON.stringify(n):n}`;l.set(e,i)}),this.http.post(`${e}`,l.toString(),n).pipe(Object(r.a)(e=>e))}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(s.c),l.Vb(Rc))},token:e,providedIn:"root"}),e})();const Uc={};let Bc=(()=>{let e=class{constructor(e,t){this.organizationsService=e,this.publishService=t}static getOrganizations(e){return e.organizations}static getOrganization(e){return e.organization}static getSelectedOrganization(e){return e.selectedOrganization}static getCollections(e){return e.collections}static getSelectedCollection(e){return e.selectedCollection}static getWidgetURL(e){return e.widgetURL}static getWidgetOptions(e){return e.widgetOptions}static getAppFeatures(e){return e.appFeatures}selectOrganization(e,t){e.patchState({selectedOrganization:t.organization,selectedCollection:null})}setOrganizations(e,t){const n=t.organizations||[],l=n[0];let i,a=null,o=Object.assign({},e.getState().appFeatures);if(l&&l.group_attributes){const e=l.group_attributes,t=this.organizationsService.getOrganizationAttribute(e,"widget_settings","widget_custom_url_path");t&&t.value&&(i=t.value);const n=this.organizationsService.getOrganizationAttribute(e,"widget_settings","widget_url_params");n&&n.value&&(a=this.publishService.extendWidgetOptions(new mt,n.value));const s=this.organizationsService.getOrganizationAttribute(e,"app_settings","web_app_features");s&&(o=Object.assign({},o,s.value))}e.patchState({organization:l,organizations:n,widgetURL:i,widgetOptions:a,appFeatures:o}),e.dispatch(new Ye(i))}joinOrganization(e,{organization:t}){this.organizationsService.addUserToOrganization(t.eid).subscribe(()=>e.dispatch(new Tn(t)),n=>e.dispatch(new zn(t)))}getCollections(e,t){this.organizationsService.getCollections(t.organizationId).subscribe(t=>{e.dispatch(new Hn(t))})}getCollectionsSuccess(e,t){e.patchState({collections:t.collections})}selectCollection(e,t){const{organization:n,selectedOrganization:l}=e.getState();e.patchState({selectedOrganization:l||n,selectedCollection:t.collection})}resetOrganizations(e,t){e.setState(Uc)}};return Object(b.__decorate)([Object(g.a)(Sn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Sn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"selectOrganization",null),Object(b.__decorate)([Object(g.a)(kn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,kn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setOrganizations",null),Object(b.__decorate)([Object(g.a)(In),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,In]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"joinOrganization",null),Object(b.__decorate)([Object(g.a)(Mn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Mn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getCollections",null),Object(b.__decorate)([Object(g.a)(Hn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Hn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getCollectionsSuccess",null),Object(b.__decorate)([Object(g.a)(Pn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Pn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"selectCollection",null),Object(b.__decorate)([Object(g.a)(Fn),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Fn]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetOrganizations",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Zo]),Object(b.__metadata)("design:returntype",void 0)],e,"getOrganizations",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Zo]),Object(b.__metadata)("design:returntype",void 0)],e,"getOrganization",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Zo]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedOrganization",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Zo]),Object(b.__metadata)("design:returntype",void 0)],e,"getCollections",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Zo]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedCollection",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Zo]),Object(b.__metadata)("design:returntype",void 0)],e,"getWidgetURL",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Zo]),Object(b.__metadata)("design:returntype",void 0)],e,"getWidgetOptions",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Zo]),Object(b.__metadata)("design:returntype",void 0)],e,"getAppFeatures",null),Object(b.__decorate)([Object(g.g)({name:"organizations",defaults:{}})],e)})();const $c={title:"Small",type:"desktop",dimensions:{width:480,height:320},orientation:"horizontal"},Vc={title:"Medium",type:"desktop",dimensions:{width:700,height:550},orientation:"horizontal"},Qc={title:"Large",type:"desktop",dimensions:{width:1920,height:1200},orientation:"horizontal"},Gc={title:"Extra Large",type:"desktop",dimensions:{width:2560,height:1440},orientation:"horizontal"},Wc={title:"Maximum",type:"desktop",dimensions:{width:5120,height:2880},orientation:"horizontal"},Jc=300;let qc=(()=>{class e{constructor(e,t,n,l,i,a,o,s,r){this.store=e,this.actions=t,this.publishService=n,this.storageService=l,this.clipboardService=i,this.dialogService=a,this.snackBar=o,this.formBuilder=s,this.ref=r,this.minSnapshotPixels={width:300,height:300},this.maxSnapshotPixels={width:5120,height:2880},this.minSnapshotInches={width:this.pixelsToInches(this.minSnapshotPixels.width),height:this.pixelsToInches(this.minSnapshotPixels.height)},this.maxSnapshotInches={width:this.pixelsToInches(this.maxSnapshotPixels.width),height:this.pixelsToInches(this.maxSnapshotPixels.height)},this.snapshotSizes=[$c,Vc,Qc,Gc,Wc],this.selectedSnapshotSize=Vc,this.ngUnsubscribe=new $.a,this.defaultWidgetOptions=Object.assign({},new mt,{loadRotate:10});const c=this.getWidgetOptions(),u=this.store.selectSnapshot(Lo.getDimensions),p=this.store.selectSnapshot(Lo.getMinDimensions),{button:d,handHint:b,play:h}=c.initial,{alert:m,overlay:_}=c.disableScroll;this.formModeGroup=this.formBuilder.group({mode:["3d",ie.x.required]});const f=this.selectedSnapshotSize.dimensions;this.formSnapshot=this.formBuilder.group({dimensions:this.formBuilder.group({width:[f.width,[ie.x.required,ie.x.min(this.minSnapshotPixels.width),ie.x.max(this.maxSnapshotPixels.width)]],height:[f.height,[ie.x.required,ie.x.min(this.minSnapshotPixels.height),ie.x.max(this.maxSnapshotPixels.height)]]}),inches:this.formBuilder.group({width:[this.pixelsToInches(f.width),[ie.x.required,ie.x.min(this.minSnapshotInches.width),ie.x.max(this.maxSnapshotInches.width)]],height:[this.pixelsToInches(f.height),[ie.x.required,ie.x.min(this.minSnapshotInches.height),ie.x.max(this.maxSnapshotInches.height)]]})}),this.form=this.formBuilder.group({dimensions:this.formBuilder.group({width:[u.width,[ie.x.min(p.width)]],height:[u.height,[ie.x.min(p.height)]]}),options:this.formBuilder.group(c),rotate:this.formBuilder.group({enabled:null!==c.loadRotate,value:c.loadRotate}),initial:this.formBuilder.group({enabled:d||b||h,mode:d?"button":b?h:""}),disableScroll:this.formBuilder.group({enabled:m||_,mode:m?"alert":_?"overlay":""})});const y=Object(vt.get)(c,"background.colors");y&&(this.bgColor=this.getBackgroundFromColor({red:y[0],green:y[1],blue:y[2],alpha:y.length>3?y[3]:1})),this.actions.pipe(Object(g.l)(at),Object(_t.a)(e=>this.copyToClipboard(e.url)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.snackBar.open(e?"Successfully copied URL to clipboard.":"Unable to copy URL to clipboard.")}),this.actions.pipe(Object(g.l)(ot),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.snackBar.open("Unable to generate URL.")}),this.actions.pipe(Object(g.l)(nt),Object(_t.a)(e=>this.copyToClipboard(e.embed)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.snackBar.open(e?"Successfully copied embed code to clipboard.":"Unable to copy embed code to clipboard.")}),this.actions.pipe(Object(g.l)(lt),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.snackBar.open("Unable to generate embed code.")}),this.actions.pipe(Object(g.l)(ut),Object(_t.a)(e=>this.copyToClipboard(e.imageURL)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.snackBar.open(e?"Successfully copied image URL to clipboard.":"Unable to copy image URL to clipboard.")}),this.actions.pipe(Object(g.l)(pt),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.snackBar.open("Unable to generate image URL.")}),this.actions.pipe(Object(g.l)(bt),Object(_t.a)(e=>this.copyToClipboard(e.embed)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.snackBar.open(e?"Successfully copied image embed code to clipboard.":"Unable to copy image embed code to clipboard.")}),this.actions.pipe(Object(g.l)(gt),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.snackBar.open("Unable to generate embed code.")})}get widgetOptions(){return"2d"===this.mode?null:this.form.value.options}get rotateEnabled(){return this.form.get("rotate").value.enabled}get mode(){return this.formModeGroup.get("mode").value}get widgetWidth(){return"2d"===this.mode?this.selectedSnapshotSize.dimensions.width:this.store.selectSnapshot(Lo.getDimensions).width}get widgetHeight(){return"2d"===this.mode?this.selectedSnapshotSize.dimensions.height:this.store.selectSnapshot(Lo.getDimensions).height}get widgetBGColor(){return"2d"===this.mode?this.snapshotBGColor:this.bgColor}get widgetScalable(){return"2d"===this.mode}ngOnInit(){this.setupWidgetForm(),this.setupSnapshotForm(),this.store.dispatch(new st(!0))}ngOnDestroy(){this.store.dispatch(new st(!1)),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}setupWidgetForm(){const e=this.form.get("options"),t=this.form.get("dimensions"),n=this.form.get("rotate"),l=this.form.get("initial"),i=this.form.get("disableScroll"),a=n.get("enabled"),o=n.get("value");a.valueChanges.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(t=>{t?o.patchValue("number"==typeof o.value?o.value:this.defaultWidgetOptions.loadRotate):e.patchValue({loadRotate:null})}),o.valueChanges.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(t=>{e.patchValue({loadRotate:t})}),l.get("enabled").valueChanges.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{l.patchValue({mode:e?"button":""})}),l.get("mode").valueChanges.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(t=>{l.patchValue({enabled:!!t},{emitEvent:!1}),e.patchValue({initial:{button:"button"===t,handHint:"handHint"===t,play:"play"===t}})}),i.get("enabled").valueChanges.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{i.patchValue({mode:e?"alert":""})}),i.get("mode").valueChanges.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(t=>{i.patchValue({enabled:!!t},{emitEvent:!1}),e.patchValue({disableScroll:{alert:"alert"===t,overlay:"overlay"===t}})}),t.valueChanges.pipe(Object(Xo.a)(300),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.setScreenDimensions(e)}),this.dimensions$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{t.setValue(e,{emitEvent:!1})}),e.valueChanges.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.writeSavedOptions(e)})}setupSnapshotForm(){const e=this.formSnapshot.get("dimensions"),t=this.formSnapshot.get("inches");t.valueChanges.pipe(Object(Xo.a)(500),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{const{width:n,height:l}=t.value;t.valid&&e.patchValue({width:this.inchesToPixels(n),height:this.inchesToPixels(l)})}),e.valueChanges.pipe(Object(Xo.a)(500),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{const{width:t,height:n}=e.value;if(e.valid){const e=this.snapshotSizes.find(e=>e.dimensions.width===t&&e.dimensions.height===n);this.selectedSnapshotSize=Object.assign({},this.selectedSnapshotSize,{title:e?e.title:"Custom",dimensions:{width:t,height:n}}),this.ref.markForCheck()}})}setScreenDimensions(e){this.store.dispatch(new et(e))}handleGenerateIFrame(){this.generateIFrameCode()}handleGenerateURL(){this.generateURL()}handleCopyImageURL(){this.generateImageURL()}handleGenerateImage(){this.generateImageCode()}generateIFrameCode(){this.store.dispatch(new tt(this.model,this.form.value.options,this.camera))}generateURL(){this.store.dispatch(new it(this.model,this.form.value.options,this.camera))}generateImageURL(){this.publishWidget.takeSnapshot().pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.store.dispatch(new ct(e))})}generateImageCode(){this.publishWidget.takeSnapshot().pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{const t=new mt;this.store.dispatch(new dt(this.model,e,t,this.camera))})}handleSnapshotBGColorClick(e){this.snapshotBGColor=this.getBackgroundFromColor(e)}handleSnapshotSizeClick(e){this.selectedSnapshotSize=Object.assign({},e),this.formSnapshot.patchValue({dimensions:{width:e.dimensions.width,height:e.dimensions.height},inches:{width:this.pixelsToInches(e.dimensions.width),height:this.pixelsToInches(e.dimensions.height)}},{emitEvent:!1})}handleDownloadSnapClick(){this.publishWidget.takeSnapshot().pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.downloadImage(e)})}handleCameraUpdated(e){this.camera=e}copyToClipboard(e){return this.clipboardService.copyToClipboard(e).pipe(Object(_t.a)(t=>t?Object(k.a)(t):this.dialogService.openClipboardDialog(e).afterClosed()))}formatScreenSizeText(e){const{title:t,dimensions:n}=e;return`${t} (${n.width} x ${n.height})`}getBackgroundFromColor(e){const t=e?[e.red,e.green,e.blue,e.alpha]:null;return t?new Bo([...t,...t],"radial",[0,100]):null}getWidgetOptions(){const e=this.readSavedOptions(),t=this.store.selectSnapshot(Bc.getWidgetOptions);if(e){const n=this.publishService.extendWidgetOptions(new mt,e);return Object.assign({},n,{background:t?t.background:null})}return t||new mt}readSavedOptions(){!function(e,t){const n=localStorage.getItem(Ln.WidgetOptions);if(null===n)return;const l=JSON.parse(n);if(void 0!==l[e]&&(l[e].timestamp||0)<1573675067505){delete l[e];try{localStorage.setItem(Ln.WidgetOptions,JSON.stringify(l))}catch(i){}}}(this.getStorageKey());const e=this.storageService.getLocalJSON(Ln.WidgetOptions);return e?e[this.getStorageKey()]:null}writeSavedOptions(e){const t=Object.assign({},e,{timestamp:Date.now()}),n=this.storageService.getLocalJSON(Ln.WidgetOptions)||{};n[this.getStorageKey()]=t,this.storageService.setLocalItem(Ln.WidgetOptions,n)}getStorageKey(){return this.store.selectSnapshot(zo.getUserProfile).eid}downloadImage(e){const t=(this.model.title||"snapshot").replace(/ /g,"_").replace(/\W/g,"");this.publishService.exportImage(e,Ht.JPEG,`${t}.jpg`).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.snackBar.open(e?"Successfuly downloaded image":"Unable to download image.")})}pixelsToInches(e){return parseFloat((e/Jc).toFixed(2))}inchesToPixels(e){return e*Jc}}return Object(b.__decorate)([Object(g.e)(Lo.getDimensions),Object(b.__metadata)("design:type",V.a)],e.prototype,"dimensions$",void 0),Object(b.__decorate)([Object(g.e)(Lo.getMinDimensions),Object(b.__metadata)("design:type",V.a)],e.prototype,"minDimensions$",void 0),e})();const Kc="clipboard";let Xc=(()=>{class e{constructor(){}getClipboardAPISupport(){return Kc in navigator}getClipboardAPI(){return navigator[Kc]}copyToClipboard(e){if(this.getClipboardAPISupport()){const t=this.getClipboardAPI();return new V.a(n=>{t.writeText(e).then(()=>{n.next(!0),n.complete()}).catch(e=>{n.next(!1),n.complete()})})}return Object(k.a)(!1)}copyInputFieldValue(e){e.select();let t=!1;try{t=document.execCommand("copy")}catch(n){t=!1}return t}}return e.ngInjectableDef=l.Ub({factory:function(){return new e},token:e,providedIn:"root"}),e})();class Zc{constructor(){}ngOnInit(){}}var Yc=function(e){return e.UpgradeSubscription="/legacy/upgrade-human.html",e.BuySubscription="/legacy/buy-subscription.html",e.MyProfile="/legacy/user-account.html",e}({});class eu{constructor(e,t,n){this.dialogRef=e,this.data=t,this.sanitizer=n,this.headerOffset=100,this.settings={type:null,dimensions:{width:100,height:100}},this.settings=Object.assign({},this.settings,t);const{width:l,height:i}=t.dimensions;this.dialogRef.updateSize(`${l}px`,`${i}px`)}get height(){const{height:e}=this.settings.dimensions;return Math.max(200,e-this.headerOffset)}get src(){const e=this.getURL();return e?this.sanitizer.bypassSecurityTrustResourceUrl(e):null}ngOnInit(){}closeDialog(){this.dialogRef.close()}getURL(){const e=`${this.settings.type}`;if(Object.values(Yc).includes(e)){const t=this.getURLParams();return t?`${e}?${t}`:e}return""}getURLParams(){const e=this.settings.options;return e?Object.entries(e).map(([e,t])=>`${e}=${t}`).join("&"):""}}class tu{constructor(e,t){this.dialogRef=e,this.data=t,this.settings={titleText:"Confirm Action",bodyText:"",confirmText:"Confirm",confirmColor:"primary",cancelText:"Cancel",confirmEnabled:!0,cancelEnabled:!0,miscText:""},t&&(this.settings=Object.assign({},this.settings,t))}ngOnInit(){}}class nu{}var lu=n("IAdc");const iu={label:"Most Recent",fields:["collection_content_createdate","update_date_time","create_date_time"],ascending:!1},au={label:"Title (A-Z)",fields:["title"],ascending:!0},ou=[iu,au,{label:"Title (Z-A)",fields:["title"],ascending:!1},{label:"Author (A-Z)",fields:["author"],ascending:!0},{label:"Author (Z-A)",fields:["author"],ascending:!1}];class su{}var ru=function(e){return e[e.Annotation=0]="Annotation",e[e.StudioNext=1]="StudioNext",e}({});const cu={enableContextLabel:{enable:!0,enableInfo:!0,enableActions:!0},loading:!1,labelsCollapsed:!1,labelsCollapsedMode:Wi.None,labels:[],contextLabel:null,selectedLabel:null,draggable:{pin:!0,tag:!0}};let uu=(()=>{let e=class{constructor(e){this.labelsService=e}static getLabels(e){return e.labels}static getLabelsCollapsed(e){return e.labelsCollapsed}static getLabelsCollapsedMode(e){return e.labelsCollapsedMode}static getSelectedLabelId(e){return e.selectedLabel}static getSelectedLabel(e){return e.labels.find(t=>t.id===e.selectedLabel)||null}static getContextLabel(e){return e.contextLabel}static getChapterLabels(e,t){return e.labels.filter(e=>e.chapterId===t.selectedChapter)}static getEnableContextLabel(e){return e.enableContextLabel.enable}static getEnableContextLabelInfo(e){return e.enableContextLabel.enableInfo}static getEnableContextLabelActions(e){return e.enableContextLabel.enableActions}static getLabelsDraggable(e){return e.draggable}setLabels(e,t){e.patchState({labels:t.labels})}setLabel(e,t){const n=e.getState().labels,l=n.findIndex(e=>e.id===t.label.id);n[l]=Object.assign({},t.label),e.patchState({labels:[...n]})}addLabel(e,t){t.label.id=t.label.id||ys.idWithPrefix("label");const n=e.getState().labels;e.patchState({labels:[...n,Object.assign({},t.label)]})}addContextLabel(e,t){const n=Object.assign({},t.label);n.id="context-label",e.patchState({contextLabel:n})}copyLabels(e,t){const n=e.getState().labels,l=n.filter(e=>e.chapterId===t.sourceChapter.id).map(e=>Object.assign({},Object(vt.cloneDeep)(e),{id:ys.idWithPrefix("label"),chapterId:t.targetChapter.id}));e.patchState({labels:[...n,...l]})}removeLabel(e,t){const n=e.getState().labels.filter(e=>e.id!==t.label.id);e.patchState({labels:[...n]}),Human.scene.markers.delete(t.label.id)}removeContextLabel(e,t){e.patchState({contextLabel:null}),Human.scene.markers.delete("context-label")}removeAllLabels(e,t){e.getState().labels.forEach(e=>{Human.scene.markers.delete(e.id)}),e.patchState({labels:[]})}removeAllChapterLabels(e,t){const n=e.getState().labels,l=n.filter(e=>e.chapterId===t.chapter.id),i=n.filter(e=>e.chapterId!==t.chapter.id);l.forEach(e=>{Human.scene.markers.delete(e.id)}),e.patchState({labels:[...i]})}selectLabel(e,t){e.patchState({selectedLabel:t.label?t.label.id:null})}resetLabels(e,t){e.dispatch(new ea),e.dispatch(new Yi),e.setState(cu)}convertLabels(e,t){const n=e.getState().labels;t.labels.forEach(e=>{const l=n.findIndex(t=>t.id===e.id);switch(t.type){case ru.StudioNext:n[l]=this.labelsService.makeDefaultStudioLabel(n[l]),e.objectId&&(n[l].states[0].errands[0]=new ar,n[l].states[1].errands[0]=new nr(e.objectId));break;case ru.Annotation:n[l]=this.labelsService.makeAnnotationLabel(n[l])}}),e.patchState({labels:[...n]})}enableContextLabel(e,t){e.patchState({enableContextLabel:Object.assign({},t)})}setLabelsShown(e,{labels:t,shown:n}){const l=e.getState().labels.map(e=>{const l=t.some(t=>t.id===e.id);return Object.assign({},e,{shown:l?n:e.shown})});e.patchState({labels:[...l]})}setAllLabelsShown(e,{shown:t}){const n=e.getState().labels;e.dispatch(new sa(n,t))}setLabelsCollapsed(e,{collapsed:t,collapsedMode:n}){e.patchState({labelsCollapsed:t,labelsCollapsedMode:n})}setLabelsDraggable(e,t){e.patchState({draggable:Object.assign({},t.draggable)})}};return Object(b.__decorate)([Object(g.a)(Ji),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ji]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setLabels",null),Object(b.__decorate)([Object(g.a)(na),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,na]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setLabel",null),Object(b.__decorate)([Object(g.a)(qi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,qi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"addLabel",null),Object(b.__decorate)([Object(g.a)(Ki),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ki]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"addContextLabel",null),Object(b.__decorate)([Object(g.a)(Xi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Xi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"copyLabels",null),Object(b.__decorate)([Object(g.a)(Zi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Zi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"removeLabel",null),Object(b.__decorate)([Object(g.a)(Yi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Yi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"removeContextLabel",null),Object(b.__decorate)([Object(g.a)(ea),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Zi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"removeAllLabels",null),Object(b.__decorate)([Object(g.a)(ta),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ta]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"removeAllChapterLabels",null),Object(b.__decorate)([Object(g.a)(la),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,la]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"selectLabel",null),Object(b.__decorate)([Object(g.a)(ia),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ia]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetLabels",null),Object(b.__decorate)([Object(g.a)(aa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,aa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"convertLabels",null),Object(b.__decorate)([Object(g.a)(oa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,oa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"enableContextLabel",null),Object(b.__decorate)([Object(g.a)(sa),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,sa]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setLabelsShown",null),Object(b.__decorate)([Object(g.a)(ra),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ra]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setAllLabelsShown",null),Object(b.__decorate)([Object(g.a)(ca),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ca]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setLabelsCollapsed",null),Object(b.__decorate)([Object(g.a)(ua),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ua]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setLabelsDraggable",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[su]),Object(b.__metadata)("design:returntype",void 0)],e,"getLabels",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[su]),Object(b.__metadata)("design:returntype",void 0)],e,"getLabelsCollapsed",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[su]),Object(b.__metadata)("design:returntype",void 0)],e,"getLabelsCollapsedMode",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[su]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedLabelId",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[su]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedLabel",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[su]),Object(b.__metadata)("design:returntype",void 0)],e,"getContextLabel",null),Object(b.__decorate)([Object(g.f)([ac]),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[su,mr]),Object(b.__metadata)("design:returntype",void 0)],e,"getChapterLabels",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[su]),Object(b.__metadata)("design:returntype",void 0)],e,"getEnableContextLabel",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[su]),Object(b.__metadata)("design:returntype",void 0)],e,"getEnableContextLabelInfo",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[su]),Object(b.__metadata)("design:returntype",void 0)],e,"getEnableContextLabelActions",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[su]),Object(b.__metadata)("design:returntype",void 0)],e,"getLabelsDraggable",null),Object(b.__decorate)([Object(g.g)({name:"labels",defaults:cu})],e)})();function pu(e,t,n){const l=t.map(t=>e[t]).filter(e=>!Object(vt.isNil)(e));return n?l.sort().shift():l.sort().pop()}function du(e,t,n){const l=new Intl.Collator("en-US",{sensitivity:"base"});return e.sort((e,i)=>{const a=pu(e,t,n)||"",o=pu(i,t,n)||"";return(n?1:-1)*l.compare(a.toString(),o.toString())})}const bu={loading:!0,exporting:!1,copying:!1,saving:!1,bookmarks:[],selectedBookmark:null,sort:iu,checkedBookmarks:[],selectedCategory:null};let gu=(()=>{let e=class{constructor(e,t,n,l,i,a){this.store=e,this.storyService=t,this.bookmarksService=n,this.exploreService=l,this.publishService=i,this.organizationsService=a}static getBookmarks(e){const{bookmarks:t,sort:n}=e,{ascending:l,fields:i}=n;return du(t,i,l)}static getCheckedBookmarks(e){return e.checkedBookmarks}static getSelectedBookmark(e){return e.selectedBookmark}static getLoading(e){return e.loading}static getExporting(e){return e.exporting}static getSaving(e){return e.saving}static getCopying(e){return e.copying}static getSort(e){return e.sort}static getSelectedCategory(e){return e.selectedCategory}loadBookmarks(e,t){e.patchState({loading:!0,bookmarks:[],checkedBookmarks:[]}),Object(ht.a)(this.bookmarksService.getPrivateBookmarks(t.query),this.bookmarksService.getPrivateConditions(),this.bookmarksService.getFavorites()).pipe(Object(z.a)(()=>{e.patchState({loading:!1})})).subscribe(([t,n,l])=>{e.dispatch(new al([...t,...n,...l]))})}loadOrganizationBookmarks(e,{organizationId:t}){e.patchState({loading:!0,bookmarks:[],checkedBookmarks:[]}),this.bookmarksService.getOrganizationContent(t).pipe(Object(z.a)(()=>{e.patchState({loading:!1})})).subscribe(t=>{e.dispatch(new al(t))})}loadCollectionBookmarks(e,t){e.patchState({loading:!0,bookmarks:[],checkedBookmarks:[]}),this.organizationsService.getCollectionContent(t.organizationId,t.collectionId).pipe(Object(z.a)(()=>{e.patchState({loading:!1})})).subscribe(t=>{e.dispatch(new al(t))})}loadSuccess({patchState:e},t){e({bookmarks:t.result})}loadBookmark(e,t){const{id:n,type:l}=t;("bookmark"===l?this.bookmarksService.getBookmarkModel(n):this.exploreService.getConditionModel(n)).subscribe(t=>{e.dispatch(new il(t))})}selectBookmarkSuccess(e,t){e.patchState({selectedBookmark:t.bookmark})}saveBookmark(e,t){const n=t.bookmarkEntry;let l;if(e.patchState({saving:!0}),t.includeIndex){const e=this.store.selectSnapshot(uu.getLabels),i=this.store.selectSnapshot(ac.getStoryChapters);this.storyService.storeLabelsInChapters(e,i),l=this.bookmarksService.createBookmarkStory(t.inplace),n.index=l.story}const i=n.id?"update":"save";this.bookmarksService.saveBookmark(n).pipe(Object(z.a)(()=>{e.patchState({saving:!1})})).subscribe(a=>{if(t.includeIndex){const t=this.store.selectSnapshot(ac.getRegisteredThumbnails);e.dispatch(new hl(i,a.id,n,t,l.chapterIdMap))}(n.addCollection||n.removeCollection)&&e.dispatch(new wl(a,n.addCollection,n.removeCollection)),e.dispatch(new ul(a,l?l.story:null,i))},t=>{e.dispatch(new pl(n))})}saveBookmarkSuccess(e,t){const n=t.bookmark,l=e.getState().bookmarks,i=l.findIndex(e=>e.id===n.id);-1!==i&&(l[i]=n,e.patchState({bookmarks:[...l]})),"save"===t.method&&e.patchState({selectedBookmark:t.bookmark})}deleteBookmark(e,t){const n=t.bookmarkId;this.bookmarksService.deleteBookmark(n).subscribe(()=>{e.dispatch(new sl(n))},t=>{e.dispatch(new rl(n,t))})}deleteBookmarkSuccess(e,t){const n=e.getState().bookmarks.filter(e=>e.id!==t.bookmarkId);e.patchState({bookmarks:[...n]})}deleteFavorite(e,t){const n=t.bookmark,l=n.id,i=Object(vt.get)(n,"category","bookmark"),a="bookmark"===i?l:this.exploreService.toDatabaseContentId(l);this.bookmarksService.deleteFavorite(a,i).subscribe(()=>{e.dispatch(new bl(l))},t=>{e.dispatch(new gl(l))})}deleteFavoriteSuccess(e,t){const n=e.getState().bookmarks.filter(e=>e.id!==t.bookmarkId);e.patchState({bookmarks:[...n]})}sortBookmarks(e,t){const n=e.getState().bookmarks;e.patchState({sort:t.sort,bookmarks:[...n]})}clearBookmarks(e,t){e.patchState({bookmarks:[],checkedBookmarks:[]})}resetBookmarks(e,t){e.setState(bu)}checkBookmark(e,t){let n=e.getState().checkedBookmarks;const l=n.some(e=>e===t.id);t.checked&&!l?n=[...n,t.id]:t.checked||(n=n.filter(e=>e!==t.id)),e.patchState({checkedBookmarks:n})}setCheckedBookmarks(e,t){e.patchState({checkedBookmarks:t.ids})}saveBookmarkThumbnails(e,t){const n=t.chapterIdMap,l=t.thumbnails,i=this.bookmarksService.saveBookmarkThumbnails(t.bookmarkId,t.bookmarkEntry,l,n);if("update"===t.method){const e=this.bookmarksService.deleteBookmarkThumbnails(t.bookmarkId,t.bookmarkEntry,l,n);for(const t of e)i.push(t)}Object(ht.a)(i).subscribe(n=>{const l=t.bookmarkEntry.index.chapters.map(e=>{const n=e.id;return{originalStoryId:t.bookmarkId,newChapterId:n,originalChapterId:n}}),i=hc.generateThumbnailUrls(l);e.dispatch(new Xa(new Map)).subscribe(()=>{e.dispatch(new Xa(i))})})}exportBookmarks(e,t){const{bookmarks:n,widgetURL:l,widgetOptions:i,offlineEnabled:a}=t,o=i||new mt;e.patchState({exporting:!0}),this.publishService.exportModels(n,l,o,null,t.userLanguage,t.userApp,a).pipe(Object(z.a)(()=>{e.patchState({exporting:!1})})).subscribe(t=>{e.dispatch(t?new Ol(n):new Cl(n))})}updateBookmarkCollection(e,t){const{bookmark:n,addCollection:l,removeCollection:i}=t,a={content_type:n.type,content_id:n.id},o=[];i&&o.push(this.organizationsService.getCollectionContentId(i,a).pipe(Object(G.a)(e=>!!e),Object(_t.a)(e=>this.organizationsService.removeFromCollection(i,[e])),Object(Po.a)(()=>e.dispatch(new Ml(n,i)),()=>e.dispatch(new Hl(n,i))))),l&&o.push(this.organizationsService.addToCollection(l,[a]).pipe(Object(Po.a)(()=>e.dispatch(new Sl(n,i)),()=>e.dispatch(new Pl(n,i))))),Object(_r.a)(...o).subscribe(()=>e.dispatch(new jl(n,l,i)),()=>e.dispatch(new kl(n,l,i)))}removeBookmarkCollectionSuccess(e,t){const{bookmarks:n,selectedCategory:l}=e.getState();if("collection"===l){const l=t.bookmark.id,i=n.filter(e=>e.id!==l);e.patchState({bookmarks:[...i]})}}copyBookmark(e,t){const{groupAccess:n,collection:l}=t;e.patchState({copying:!0}),this.bookmarksService.copyBookmark(t.id,t.type,t.lang).pipe(Object(_t.a)(e=>{const t=[Object(k.a)(e)];return n&&(t.push(this.bookmarksService.saveBookmark({isOwner:!0,id:e,add_group_access:[n]})),l&&t.push(this.organizationsService.addToCollection(l,[{content_type:"bookmark",content_id:e}]))),Object(_r.a)(...t).pipe(Object(lu.a)(),Object(r.a)(()=>e))}),Object(z.a)(()=>{e.patchState({copying:!1})})).subscribe(i=>{e.dispatch(new Tl(i,t.id,n,l))},n=>{e.dispatch(new zl(t.id,n))})}setBookmarkText(e,t){const n=e.getState().selectedBookmark;e.patchState({selectedBookmark:Object.assign({},n,{title:t.title})})}setSelectedCategory(e,{category:t}){e.patchState({selectedCategory:t||null})}};return Object(b.__decorate)([Object(g.a)(el),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,el]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loadBookmarks",null),Object(b.__decorate)([Object(g.a)(tl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,tl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loadOrganizationBookmarks",null),Object(b.__decorate)([Object(g.a)(nl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,nl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loadCollectionBookmarks",null),Object(b.__decorate)([Object(g.a)(al),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,al]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loadSuccess",null),Object(b.__decorate)([Object(g.a)(ll),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ll]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loadBookmark",null),Object(b.__decorate)([Object(g.a)(il),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,il]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"selectBookmarkSuccess",null),Object(b.__decorate)([Object(g.a)(cl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,cl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"saveBookmark",null),Object(b.__decorate)([Object(g.a)(ul),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ul]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"saveBookmarkSuccess",null),Object(b.__decorate)([Object(g.a)(ol),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ol]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"deleteBookmark",null),Object(b.__decorate)([Object(g.a)(sl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,sl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"deleteBookmarkSuccess",null),Object(b.__decorate)([Object(g.a)(dl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,dl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"deleteFavorite",null),Object(b.__decorate)([Object(g.a)(bl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,bl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"deleteFavoriteSuccess",null),Object(b.__decorate)([Object(g.a)(fl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,fl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"sortBookmarks",null),Object(b.__decorate)([Object(g.a)(_l),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,_l]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"clearBookmarks",null),Object(b.__decorate)([Object(g.a)(ml),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ml]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetBookmarks",null),Object(b.__decorate)([Object(g.a)(yl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,yl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"checkBookmark",null),Object(b.__decorate)([Object(g.a)(vl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,vl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setCheckedBookmarks",null),Object(b.__decorate)([Object(g.a)(hl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,hl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"saveBookmarkThumbnails",null),Object(b.__decorate)([Object(g.a)(xl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,xl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"exportBookmarks",null),Object(b.__decorate)([Object(g.a)(wl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,wl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"updateBookmarkCollection",null),Object(b.__decorate)([Object(g.a)(Ml),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ml]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"removeBookmarkCollectionSuccess",null),Object(b.__decorate)([Object(g.a)(Il),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Il]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"copyBookmark",null),Object(b.__decorate)([Object(g.a)(Fl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Fl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setBookmarkText",null),Object(b.__decorate)([Object(g.a)(Ll),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ll]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setSelectedCategory",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[nu]),Object(b.__metadata)("design:returntype",void 0)],e,"getBookmarks",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[nu]),Object(b.__metadata)("design:returntype",void 0)],e,"getCheckedBookmarks",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[nu]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedBookmark",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[nu]),Object(b.__metadata)("design:returntype",void 0)],e,"getLoading",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[nu]),Object(b.__metadata)("design:returntype",void 0)],e,"getExporting",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[nu]),Object(b.__metadata)("design:returntype",void 0)],e,"getSaving",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[nu]),Object(b.__metadata)("design:returntype",void 0)],e,"getCopying",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[nu]),Object(b.__metadata)("design:returntype",void 0)],e,"getSort",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[nu]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedCategory",null),Object(b.__decorate)([Object(g.g)({name:"bookmarks",defaults:bu})],e)})();var hu=function(e){return e[e.SaveStory=0]="SaveStory",e[e.Manage=1]="Manage",e}({});let mu=(()=>{class e{constructor(e,t,n,l,i,a,o){this.store=e,this.fb=t,this.dialogRef=n,this.data=l,this.snackBar=i,this.actions=a,this.organizationsService=o,this.saveDebounce=new $.a,this.settings={mode:hu.SaveStory},this.ngUnsubscribe=new $.a,this.settings=Object.assign({},this.settings,l),this.form=this.fb.group({title:["",[ie.x.required,ie.x.maxLength(60)]],collection:[null],groupAccess:[null],publicAccess:[!1]}),this.actions.pipe(Object(g.l)(ul),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>this.handleSaveSuccess(e)),this.actions.pipe(Object(g.l)(pl),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>this.handleSaveFailure(e)),this.saveDebounce.pipe(Object(Xo.a)(100),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.saveBookmark()})}get dialogTitle(){return this.settings.title||(this.settings.mode===hu.Manage?"Manage":"Save")}ngOnInit(){const e=this.store.selectSnapshot(Bc.getOrganization);e&&this.store.dispatch(new Mn(e.id));const t=this.settings.bookmark,n=t?t.title:this.settings.bookmarkTitle?this.settings.bookmarkTitle:"",l=t?this.getGroupAccess(t):null;let i=!1,a=!1;l?a=!(i=l.member_edit)&&l.visible:!t&&e&&(i=!1,a=!0);const o=!this.isGroupUser()&&t&&t.tags.includes("public");if(this.form.patchValue({title:n,groupAccess:i?"edit":a?"view":"",publicAccess:o}),this.isNew=!0,this.isOwner=!0,t)if(t.is_owner)this.isNew=!1,this.isOwner=!0;else{const e=t.group_access.some(e=>!0===e.member_edit);this.isNew=!e,this.isOwner=this.isNew}this.initGroupAccess(),this.initCollections(),this.toggleGroupAccess(a,i)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initGroupAccess(){this.form.get("groupAccess").valueChanges.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.toggleGroupAccess("view"===e,"edit"===e)})}initCollections(){const e=this.settings.bookmark;this.form.get("collection").disable();const t=this.store.selectSnapshot(Bc.getOrganization);t&&e&&this.organizationsService.getCollectionsByContent(t.id,{content_type:e.type,content_id:e.id}).pipe(Object(r.a)(e=>e[0]),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.currentCollection=e,this.form.patchValue({collection:this.currentCollection?this.currentCollection.collection_id:null})})}toggleGroupAccess(e,t){const n=this.form.get("collection"),l=this.isOwner||this.isNew,i=e||t;i||n.setValue(null),l&&i?n.enable():n.disable()}handleSubmit(){this.form.valid&&this.saveDebounce.next()}saveBookmark(){const e=this.getBookmarkEntry();this.store.dispatch(new cl(e,!1,this.settings.mode===hu.SaveStory))}handleSaveSuccess(e){const t=e.bookmark;this.snackBar.open(this.settings.mode===hu.Manage?`Your updates to "${t.title}" have been saved to your dashboard.`:`"${t.title}" saved to your dashboard.`),this.dialogRef.close(t)}handleSaveFailure(e){this.snackBar.open(`Unable to save bookmark "${e.bookmarkEntry.title}". Please try again.`)}getBookmarkEntry(){const{bookmark:e}=this.settings,{title:t,collection:n,groupAccess:l,publicAccess:i}=this.form.value,a="view"===l,o="edit"===l,s=this.isGroupUser()?null:i;let r,c,u=[],p=[];if(this.isOwner){const t=this.createGroupAccess(a,o);t?u=[t]:p=e?e.group_access:[];const l=this.store.selectSnapshot(Bc.getCollections)||[],i=parseInt(n,10),s=l.find(e=>e.collection_id===i);this.currentCollection?this.currentCollection.collection_id===i||(r=s,c=this.currentCollection):s&&(r=s)}return{isOwner:!e||e.is_owner,id:e?e.id:null,title:t,add_group_access:u,remove_group_access:p,addCollection:r,removeCollection:c,public_access:s}}getGroupAccess(e){const t=this.store.selectSnapshot(Bc.getOrganization);let n=null;if(t&&e.group_access){const l=t.id;n=e.group_access.find(e=>e.group_id===l)}return n}createGroupAccess(e,t){const n=this.store.selectSnapshot(Bc.getOrganization);return n&&(e||t)?{group_id:n.id,member_edit:t,visible:e||t}:null}isGroupUser(){return!!this.store.selectSnapshot(Bc.getOrganization)}}return Object(b.__decorate)([Object(g.e)(Bc.getOrganization),Object(b.__metadata)("design:type",V.a)],e.prototype,"organization$",void 0),Object(b.__decorate)([Object(g.e)(Bc.getCollections),Object(b.__metadata)("design:type",V.a)],e.prototype,"collections$",void 0),Object(b.__decorate)([Object(g.e)(gu.getSaving),Object(b.__metadata)("design:type",V.a)],e.prototype,"saving$",void 0),e})();class _u{constructor(e,t,n){this.dialogRef=e,this.data=t,this.storageService=n,this.email=!1,this.ip=!1,this.supportEmail=o.supportEmail,this.organizationName=t.organizationName,this.email=t.email,this.ip=t.ip}ngOnInit(){}handleDontShowClick(){const e=this.storageService.getLocalJSON(Ln.GroupRestriction)||{};e.dontShowDialog=!0,this.storageService.setLocalItem(Ln.GroupRestriction,e),this.dialogRef.close()}}class fu{constructor(e,t,n){this.dialogRef=e,this.data=t,this.clipboardService=n,this.settings={title:"Copy to Clipboard",copyText:""},this.settings=Object.assign({},this.settings,t)}get rowCount(){return this.settings.copyText.split(/\r?\n/).length+1}ngOnInit(){}ngAfterViewInit(){const e=this.copyField.nativeElement;e.focus(),e.select()}handleCopyClick(){const e=this.clipboardService.copyInputFieldValue(this.copyField.nativeElement);this.close(e)}handleCancelClick(){this.close(!1)}close(e){this.dialogRef.close(e)}}var yu=function(e){return e[e.NewUser=0]="NewUser",e[e.ExistingUser=1]="ExistingUser",e[e.Group=2]="Group",e}({});const vu=[{text:"We make it easy to visualize the human body<br/> for your educational needs - all in interactive 3D.",logo:"/assets/images/biodigital-logo.svg"},{title:"Explore",text:"Browse our digital library for 3D models to complement your curriculum.",image:"/assets/images/welcome-tour-explore.jpg"},{title:"Customize",text:"Use our authoring tools to create 3D views tailored to your educational goals.",image:"/assets/images/welcome-tour-customize.jpg"},{title:"Collaborate",text:"Share your saved 3D views with your team from a central Dashboard.",image:"/assets/images/welcome-tour-collaborate.jpg"},{title:"Integrate",text:"Publish your interactive 3D model and drop into your digital content.",image:"/assets/images/welcome-tour-integrate.jpg"}],xu=[{title:"Introducing Human Studio",text:"The first product for authoring custom interactive 3D models of anatomy, disease and treatments.",image:"/assets/images/studio-tour-studio.jpg"},{title:"Interactive Labels",text:"Quickly add anatomical labels to call out key learning objectives.",image:"/assets/images/studio-tour-labels.jpg"},{title:"Paint",text:"Customize the look and feel of your 3D model by applying different paint effects to anatomical structures.",image:"/assets/images/studio-tour-paint.jpg"},{title:"Tour Builder",text:"Tell an interactive story by stringing together different views of your 3D model.",image:"/assets/images/studio-tour-tour.jpg"},{title:"Text Manager",text:"Add or modify text from one dedicated place.",image:"/assets/images/studio-tour-text.jpg"}];class Ou{constructor(e,t,n){switch(this.store=e,this.dialogRef=t,this.data=n,this.ngUnsubscribe=new $.a,this.settings={userType:yu.NewUser},this.slides=[],this.selectedIndex=0,this.settings=Object.assign({},this.settings,n),this.settings.userType){case yu.NewUser:this.slides=vu;break;case yu.ExistingUser:this.slides=xu}}get isFirstSlide(){return 0===this.selectedIndex}get isLastSlide(){return this.selectedIndex===this.slides.length-1}ngOnInit(){}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleCloseTour(){this.close()}close(){this.dialogRef.close()}handleSelectSlideClick(e){this.selectedIndex=e}handleNextClick(){this.incrementSelectedIndex(1)}handlePrevClick(){this.incrementSelectedIndex(-1)}incrementSelectedIndex(e){this.selectedIndex=Math.max(0,this.selectedIndex+e)%this.slides.length}}class Cu{constructor(e,t,n,l,i){this.store=e,this.dialogRef=t,this.data=n,this.actions=l,this.snackBar=i,this.ngUnsubscribe=new $.a,this.organization=n.organization}ngOnInit(){this.actions.pipe(Object(g.l)(Tn),Object(Q.a)(this.ngUnsubscribe)).subscribe(({organization:e})=>{this.handleJoinSuccess(e)}),this.actions.pipe(Object(g.l)(zn),Object(Q.a)(this.ngUnsubscribe)).subscribe(({organization:e})=>{this.handleJoinFail(e)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleCancelClick(){this.close(!1)}handleJoinClick(){this.join()}handleJoinSuccess(e){this.snackBar.open(`Successfully joined "${e.name}".`),this.close(!0)}handleJoinFail(e){this.snackBar.open(`There was an error joining "${e.name}".`)}join(){this.store.dispatch(new In(this.organization))}close(e){this.dialogRef.close(e)}}class wu{constructor(e){this.dialogRef=e}ngOnInit(){}closeDialog(){this.dialogRef.close()}}class ju{constructor(e){this.namespaceMap={},this.duplicate=!1,this.replace=!1,Object.assign(this,e)}}let ku=(()=>{class e{constructor(e,t,n){this.id=e,this.saveConfig=t,this.trimConfig=n}}return e.type="[Modules] Save Module",e})(),Su=(()=>{class e{constructor(e){this.id=e}}return e.type="[Modules] Save Module Success",e})(),Pu=(()=>{class e{constructor(e){this.id=e}}return e.type="[Modules] Save Module Failure",e})(),Mu=(()=>{class e{constructor(e){this.id=e}}return e.type="[Modules] Duplicate Module Success",e})(),Hu=(()=>{class e{constructor(e){this.id=e}}return e.type="[Modules] Duplicate Module Failure",e})(),Iu=(()=>{class e{constructor(e,t,n){this.id=e,this.serialized=t,this.saveConfig=n}}return e.type="[Modules] Save Module Thumbnails",e})(),Tu=(()=>{class e{constructor(e){this.module=e}}return e.type="[Modules] Set Save Module",e})(),zu=(()=>{class e{constructor(){}}return e.type="[Modules] Get Primary Categories",e})(),Fu=(()=>{class e{constructor(e){this.primaryCategory=e}}return e.type="[Modules] Get Secondary Categories",e})(),Lu=(()=>{class e{constructor(){}}return e.type="[Modules] Reset",e})();var Eu=function(e){return e.Success="success",e.Fail="fail",e}({});const Nu="cdb/content",Ru="cdb/copy/content",Au={headers:new s.g({"Content-Type":"application/json; charset=utf-8"})},Du=["production","client","preview","internal_content","public_preview","demos","social","exports","real_data"];let Uu=(()=>{class e{constructor(e,t){this.http=e,this.serializeModuleService=t}saveModule(e,t){t=this.formatModulePath(t);const n=[Nu,"modules",t].join("/"),l=this.JSONStringify(e);return this.http.put(n,l,Au).pipe(Object(r.a)(()=>Eu.Success),Object(S.a)(({status:e})=>e>=200&&e<=202?Object(k.a)(Eu.Success):Object(k.a)(Eu.Fail)))}copyState(e,t){const n=[Ru,"states",t].join("/"),l={headers:new s.g({"Content-Type":"application/json; charset=utf-8","source-state":e})};return this.http.put(n,{},l)}listContents(e,t,n){const l=this.generateModulePath(e,t||"",n||"");return this.http.get(`/cdb/ls/content/modules/${l}`).pipe(Object(r.a)(e=>e.contents))}getState(e){return this.http.get(`/cdb/ls/content/states/${e}`).pipe(Object(r.a)(e=>e.contents))}getClients(){return this.http.get("/search/client").pipe(Object(r.a)(e=>e.clients))}getUsedStates(){const e={};return Object.values(Human.scene.objects).reduce((t,n)=>(["transformId","morphId","geometryId","materialId"].forEach(t=>{const l=this.getPropertyState(n,t);l.length&&(e[l]=!0)}),n.hasOwnProperty("renderables")&&["morphId","geometryId","materialId"].forEach(t=>{n.renderables.forEach(n=>{const l=this.getPropertyState(n,t);l.length&&(e[l]=!0)})}),t),{}),Object.keys(e)}parseScenePath(e){const t=e.split("/");return 1===t.length?null:{fullPath:`https://qa.biodigital.com/content/modules/${e}`,relativePath:t.slice(0,t.length-1).join("/"),sceneName:t[t.length-1]}}formatModulePath(e){let t=e;return/\.json$/.test(e)||(t=`${t}.json`),t}getPrimaryCategories(){return Object(k.a)(Du)}getSecondaryCategories(e){switch(e){case"production":return Object(k.a)(["maleAdult","femaleAdult"]);case"client":return this.getClients();default:return Object(k.a)([])}}generateSaveModule(e){const t=this.parseScenePath(e),n=t.relativePath.split("/");return{id:e,name:t.sceneName,primaryCategory:n[0]||"",secondaryCategory:n[1]||""}}generateModulePath(e,t,n){const l=[];return e.length&&l.push(e),t.length&&l.push(t),n.length&&(n.indexOf(".json")<0&&(n=`${n}.json`),l.push(n)),l.join("/")}getPropertyState(e,t){return null!=e[t]?e[t].split("/")[0]:""}JSONStringify(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,e=>"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4))}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(s.c),l.Vb(kc))},token:e,providedIn:"root"}),e})();(new s.g).set("Content-Type","application/json");var Bu,$u=n("IzEk");(new gs).graph.hidden=!0;const Vu={primaryCategoryOptions:[],secondaryCategoryOptions:[],moduleExists:!1,saveModule:new class{},storyType:a.Module,saving:!1};let Qu=(()=>{let e=Bu=class{constructor(e,t,n,l,i){this.store=e,this.serializeModuleService=t,this.modulesService=n,this.modulesThumbnailService=l,this.storyService=i}static getSaveModule(e){return e.saveModule}static getPrimaryCategoryOptions(e){return Object(g.j)([Bu],t=>"read"===e?t.primaryCategoryOptions:t.primaryCategoryOptions.filter(e=>"exports"!==e))}static getSecondaryCategoryOptions(e){return e.secondaryCategoryOptions}static getSaving(e){return e.saving}saveModule(e,t){e.patchState({saving:!0});const n=t.saveConfig,l=t.trimConfig?t.trimConfig:new gs,i=n.duplicate?t.saveConfig.namespaceMap:{},a=this.store.selectSnapshot(uu.getLabels),o=this.store.selectSnapshot(ac.getStoryChapters);this.storyService.storeLabelsInChapters(a,o);const s=this.serializeModuleService.serialize(n.replace,i,l,t.saveConfig.duplicate,this.store.selectSnapshot(Mc.getStory),this.store.selectSnapshot(ac.getStoryChapters));if(this.modulesService.saveModule(s.story,t.id).pipe(Object(z.a)(()=>e.patchState({saving:!1}))).subscribe(l=>{l===Eu.Success?(s&&this.store.dispatch(new ba(s.story)),this.store.dispatch(new ga(t.id)),e.dispatch(new Su(t.id)),e.dispatch(new Iu(t.id,s,n))):e.dispatch(new Pu(t.id))}),n.duplicate){const n=[];Object.entries(i).forEach(([e,t])=>{n.push(this.modulesService.copyState(e,t))}),Object(ht.a)(n).subscribe(n=>{e.dispatch(new Mu(t.id))},n=>{e.dispatch(new Hu(t.id))})}}saveModuleThumbnails(e,t){const n=this.store.selectSnapshot(ac.getRegisteredThumbnails);this.modulesThumbnailService.saveStoryThumbnails({storyId:t.id,storyType:a.Module,thumbnails:n,chapterIdMap:t.serialized.chapterIdMap,indexId:t.serialized.story.chapters[0].id,deleteUnused:t.saveConfig.replace}).subscribe(e=>{})}setSaveModule(e,t){e.patchState({saveModule:Object.assign({},t.module)})}getModulePrimaryCategories(e,t){this.modulesService.getPrimaryCategories().subscribe(t=>{e.patchState({primaryCategoryOptions:t})})}getModuleSecondaryCategories(e,t){this.modulesService.getSecondaryCategories(t.primaryCategory).subscribe(t=>{e.patchState({secondaryCategoryOptions:t})})}resetModules(e,t){Object(ht.a)(this.modulesService.getPrimaryCategories(),this.modulesService.getSecondaryCategories("")).pipe(Object($u.a)(1)).subscribe(([t,n])=>{e.patchState({primaryCategoryOptions:t,secondaryCategoryOptions:n})})}};return Object(b.__decorate)([Object(g.a)(ku),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ku]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"saveModule",null),Object(b.__decorate)([Object(g.a)(Iu),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Iu]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"saveModuleThumbnails",null),Object(b.__decorate)([Object(g.a)(Tu),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Tu]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setSaveModule",null),Object(b.__decorate)([Object(g.a)(zu),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,zu]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getModulePrimaryCategories",null),Object(b.__decorate)([Object(g.a)(Fu),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Fu]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getModuleSecondaryCategories",null),Object(b.__decorate)([Object(g.a)(Lu),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Lu]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetModules",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object]),Object(b.__metadata)("design:returntype",void 0)],e,"getSaveModule",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object]),Object(b.__metadata)("design:returntype",void 0)],e,"getSecondaryCategoryOptions",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object]),Object(b.__metadata)("design:returntype",void 0)],e,"getSaving",null),Bu=Object(b.__decorate)([Object(g.g)({name:"modules",defaults:Vu})],e)})();var Gu=n("itXk"),Wu=n("VRyK"),Ju=n("eIep");const qu="[0-9a-zA-Z_]*",Ku=/^[0-9a-zA-Z_]+$/;let Xu=(()=>{class e{constructor(e,t,n,l,i,a,o,s){this.store=e,this.actions=t,this.formBuilder=n,this.modulesService=l,this.changeDetector=i,this.snackbar=a,this.dialogRef=o,this.data=s,this.moduleExists=!1,this.validating=!1,this.ngUnsubscribe=new $.a,this.settings=Object.assign({},s)}get formName(){return this.form.get("name")}get formStates(){return this.form.get("states")}get formPrimaryCategory(){return this.form.get("primaryCategory")}get formSecondaryCategory(){return this.form.get("secondaryCategory")}get formDuplicateStates(){return this.form.get("duplicateStates")}get formTrimGraph(){return this.form.get("trimGraph")}get formConfirmProduction(){return this.form.get("confirmProduction")}ngOnInit(){this.store.dispatch(new Lu),this.saveModule=this.generateSaveModule(),this.usedStates=this.modulesService.getUsedStates(),this.initApplicationListeners(),this.initForm(),this.setFormValidators(),this.initFormListeners(),this.setFormValues(this.saveModule),this.populateStateValues()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initApplicationListeners(){this.actions.pipe(Object(g.l)(Su),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleSaveSuccess(e.id)}),this.actions.pipe(Object(g.l)(Pu),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleSaveFail(e.id)})}initFormListeners(){this.formPrimaryCategory.valueChanges.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.store.dispatch(new Fu(e))}),Object(Gu.b)(this.formPrimaryCategory.valueChanges,this.formSecondaryCategory.valueChanges,this.formName.valueChanges,this.formDuplicateStates.valueChanges).pipe(Object(Q.a)(this.ngUnsubscribe),Object(Xo.a)(300)).subscribe(([e,t,n,l])=>{this.handleNameChange(e,t,n,l)}),Object(Wu.a)(this.formDuplicateStates.valueChanges,this.formStates.valueChanges).pipe(Object(Po.a)(()=>this.validating=!0),Object(Xo.a)(300),Object(Ju.a)(e=>this.checkStateGroups()),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.validating=!1,this.updateFormStates(e)})}initForm(){this.form=this.formBuilder.group({primaryCategory:["",ie.x.required],secondaryCategory:[""],name:["",[ie.x.required,ie.x.pattern(qu)]],trimGraph:[!1],duplicateStates:[!1],confirmProduction:[!1,this.validateProductionSave],states:this.formBuilder.array([this.initStateForm("")])},{validators:[this.validateProductionSave]})}initStateForm(e){return this.formBuilder.group({include:[!0],oldState:[e],newState:[e,[ie.x.required,ie.x.pattern(qu)]]})}handleReplaceClick(e){this.changeStatePrefix(e,"replace")}handlePrependClick(e){this.changeStatePrefix(e,"prepend")}handleSubmit(){this.form.valid&&this.save()}handleSaveSuccess(e){this.dialogRef.close(),this.snackbar.open(`"${e}" successfully saved.`)}handleSaveFail(e){this.snackbar.open(`There was an error saving "${e}".`)}generateSaveModule(){return this.modulesService.generateSaveModule(this.settings.id)}populateStateValues(){for(;this.formStates.length>0;)this.formStates.removeAt(0);const e=[];this.modulesService.getUsedStates().forEach(t=>{const n={enabled:!0,state:t};this.formStates.push(this.initStateForm(n.state)),e.push(n)}),this.formStates.markAsDirty()}setFormValidators(){this.formPrimaryCategory.valueChanges.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{switch(e){case"production":case"client":this.formSecondaryCategory.setValidators([ie.x.required]);break;default:this.formSecondaryCategory.setValidators(null),this.formSecondaryCategory.setValue("")}})}setFormValues(e){this.form.patchValue({primaryCategory:"exports"===e.primaryCategory?"preview":e.primaryCategory||"preview",secondaryCategory:e.secondaryCategory||"",name:e.name||"",trimGraph:!1,duplicateStates:!1})}save(){const e=this.modulesService.generateModulePath(this.formPrimaryCategory.value,this.formSecondaryCategory.value,this.formName.value),t=new ju;this.formDuplicateStates.value&&(t.duplicate=!0,this.formStates.value.map(e=>{e.include&&(t.namespaceMap[e.oldState]=e.newState)}));const n=new gs;n.graph.hidden=this.formTrimGraph.value,this.store.dispatch(new ku(e,t,n))}handleNameChange(e,t,n,l){if(this.modulePath=this.modulesService.generateModulePath(e,t,n),this.formName.errors){const{pattern:e,required:t}=this.formName.errors;if(e||t)return}this.modulePath&&n.length&&this.modulesService.listContents(e,t,n).subscribe(e=>{this.moduleExists=e.length>0;const t=l&&this.moduleExists,i=!Ku.test(n);this.formName.setErrors(t||i?{invalid:!0}:null),this.formName.markAsDirty(),this.changeDetector.markForCheck()})}validateProductionSave(e){const t=e.get("primaryCategory"),n=e.get("confirmProduction");return t&&n&&"production"===t.value&&!1===n.value?{confirmProduction:!0}:null}checkStateGroups(){const e=this.formStates.controls.map(e=>this.validateStateGroup(e));return e.length>0?Object(Gu.b)(...e):Object(k.a)([])}validateStateGroup(e){const t=!0===this.formDuplicateStates.value,n=e.get("newState"),l=e.get("include");return t&&!1!==l.value?n.errors||0===n.value.length?Object(k.a)({stateControl:n,valid:!1}):this.modulesService.getState(n.value).pipe(Object(r.a)(e=>{const t=Ku.test(n.value);return{stateControl:n,valid:0===e.length&&t}})):Object(k.a)({stateControl:n,valid:!0})}updateFormStates(e){e.forEach(e=>{e.valid?(e.stateControl.setErrors(null),e.stateControl.markAsDirty()):e.stateControl.setErrors({stateTaken:!0})}),this.changeDetector.markForCheck()}changeStatePrefix(e,t){this.formStates.controls.forEach(n=>{const l=n.get("newState");switch(t){case"prepend":l.setValue(`${e}_${l.value}`);break;case"replace":const t=new RegExp(/[^_]*/),n=l.value.replace(t,e);l.setValue(n)}})}}return Object(b.__decorate)([Object(g.e)(Qu.getSaveModule),Object(b.__metadata)("design:type",V.a)],e.prototype,"saveModule$",void 0),Object(b.__decorate)([Object(g.e)(Qu.getPrimaryCategoryOptions("write")),Object(b.__metadata)("design:type",V.a)],e.prototype,"primaryCategoryOptions$",void 0),Object(b.__decorate)([Object(g.e)(Qu.getSecondaryCategoryOptions),Object(b.__metadata)("design:type",V.a)],e.prototype,"secondaryCategoryOptions$",void 0),Object(b.__decorate)([Object(g.e)(Qu.getSaving),Object(b.__metadata)("design:type",V.a)],e.prototype,"saving$",void 0),e})();const Zu="https://www.research.net/r/BKTXJMC";class Yu{constructor(e,t,n,l){this.store=e,this.dialogRef=t,this.data=n,this.sanitizer=l;const i=this.store.selectSnapshot(zo.getUserProfile);this.settings=Object.assign({surveyEmail:i?i.email:""},this.data)}get src(){const{surveyGroupName:e,surveyEmail:t}=this.settings;return this.sanitizer.bypassSecurityTrustResourceUrl(`${Zu}?Org=${e}&Email=${t}`)}ngOnInit(){}closeDialog(){this.dialogRef.close()}}class ep{}var tp=function(e){return e[e.Query=0]="Query",e[e.Path=1]="Path",e}({}),np=function(e){return e[e.List=0]="List",e[e.Cards=1]="Cards",e}({});class lp{constructor(e,t,n,l=null){this.label=e,this.value=t,this.type=n,this.organizationId=l,this.id=`${n}|${t||""}|${l||""}`}}const ip={loading:!0,searchMode:tp.Query,viewMode:np.Cards,sort:au,sortOptions:ou,studioOptions:[],studioQuery:"",studioCategoryId:"category||",searchResults:[],checkedResults:[]};let ap=(()=>{let e=class{constructor(e,t,n,l){this.organizationsService=e,this.modulesService=t,this.exploreService=n,this.bookmarksService=l}static getLoading(e){return e.loading}static getSearchMode(e){return e.searchMode}static getViewMode(e){return e.viewMode}static getSort(e){return e.sort}static getSortOptions(e){return e.sortOptions}static getStudioOptions(e){return e.studioOptions}static getSearchResults(e){const{searchResults:t,sort:n}=e,{ascending:l,fields:i}=n;return du(t,i,l)}static getStudioCategoryId(e){return e.studioCategoryId}static getStudioQuery(e){return e.studioQuery}setSearchMode(e,t){e.patchState({searchMode:t.searchMode})}setViewMode(e,t){e.patchState({viewMode:t.viewMode})}setSort(e,t){const n=e.getState().searchResults;e.patchState({sort:t.sort,searchResults:[...n]})}getStudioCategories(e,{organizationId:t}){const n=Object(k.a)(Hc.categories),l=t?this.organizationsService.getCollections(t):Object(k.a)([]);Object(ht.a)(n,l).subscribe(([n,l])=>{let i=[];i=[new lp("My Models","","user"),new lp("Biodigital Models","","category"),...n.map(e=>new lp(e.title,e.id,"category"))],t&&(i=[...i,new lp("Team Models","","organization",t),...l.map(e=>new lp(e.collection_name,e.collection_id.toString(),"collection",t))]),e.dispatch(new Io.GetStudioOptionsSuccess(i))})}getStudioOptionsSuccess(e,t){e.patchState({studioOptions:[...t.options]})}searchStudio(e,t){const{category:n,query:l}=t,{organizationId:i,value:a,id:o,type:s}=n;e.patchState({loading:!0,studioQuery:l,studioCategoryId:o});let r=new V.a;switch(s){case"category":r="public"===a?this.bookmarksService.getPublicBookmarks(l):this.exploreService.getAnatomyCategory(l,a.toString());break;case"organization":r=this.bookmarksService.getOrganizationContent(i,l);break;case"collection":r=this.organizationsService.getCollectionContent(i,a,l);break;case"user":r=this.bookmarksService.getPrivateBookmarks(l)}r.pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(t=>{e.dispatch(new Io.SearchStudioSuccess(t))})}searchStudioSuccess(e,t){e.dispatch(new Io.SearchSuccess(t.bookmarks))}searchLoft(e,t){e.patchState({loading:!0});const n=t.name.indexOf(".json")>0;this.modulesService.listContents(t.primaryCategory,t.secondaryCategory,n?t.name:"").pipe(Object(r.a)(e=>n?e:e.filter(e=>e.name.indexOf(t.name)>=0)),Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(t=>{e.dispatch(new Io.SearchLoftSuccess(t))},t=>{e.dispatch(new Io.SearchLoftSuccess([]))})}searchLoftSuccess(e,t){const n=t.bookmarks.map(e=>{const t=e.name.replace("/content/modules/","").replace(".json",""),n=e.name.split("/").pop().replace("/content/modules","").replace(".json",""),l=new ts;return l.id=t,l.title=n,l.type=a.Module,l});e.dispatch(new Io.SearchSuccess(n))}searchSuccess(e,t){e.patchState({searchResults:t.bookmarks})}clearResults(e,t){e.patchState({searchResults:[]})}resetGallery(e,t){e.patchState(ip)}};return Object(b.__decorate)([Object(g.a)(Io.SetSearchMode),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Io.SetSearchMode]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setSearchMode",null),Object(b.__decorate)([Object(g.a)(Io.SetViewMode),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Io.SetViewMode]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setViewMode",null),Object(b.__decorate)([Object(g.a)(Io.SetSort),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Io.SetSort]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setSort",null),Object(b.__decorate)([Object(g.a)(Io.GetStudioOptions),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Io.GetStudioOptions]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getStudioCategories",null),Object(b.__decorate)([Object(g.a)(Io.GetStudioOptionsSuccess),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Io.GetStudioOptionsSuccess]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"getStudioOptionsSuccess",null),Object(b.__decorate)([Object(g.a)(Io.SearchStudio),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Io.SearchStudio]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"searchStudio",null),Object(b.__decorate)([Object(g.a)(Io.SearchStudioSuccess),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Io.SearchStudioSuccess]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"searchStudioSuccess",null),Object(b.__decorate)([Object(g.a)(Io.SearchLoft),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Io.SearchLoft]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"searchLoft",null),Object(b.__decorate)([Object(g.a)(Io.SearchLoftSuccess),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Io.SearchLoftSuccess]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"searchLoftSuccess",null),Object(b.__decorate)([Object(g.a)(Io.SearchSuccess),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Io.SearchSuccess]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"searchSuccess",null),Object(b.__decorate)([Object(g.a)(Io.ClearResults),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Io.ClearResults]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"clearResults",null),Object(b.__decorate)([Object(g.a)(Io.Reset),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Io.Reset]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetGallery",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[ep]),Object(b.__metadata)("design:returntype",void 0)],e,"getLoading",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[ep]),Object(b.__metadata)("design:returntype",void 0)],e,"getSearchMode",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[ep]),Object(b.__metadata)("design:returntype",void 0)],e,"getViewMode",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[ep]),Object(b.__metadata)("design:returntype",void 0)],e,"getSort",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[ep]),Object(b.__metadata)("design:returntype",void 0)],e,"getSortOptions",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[ep]),Object(b.__metadata)("design:returntype",void 0)],e,"getStudioOptions",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[ep]),Object(b.__metadata)("design:returntype",void 0)],e,"getSearchResults",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[ep]),Object(b.__metadata)("design:returntype",void 0)],e,"getStudioCategoryId",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[ep]),Object(b.__metadata)("design:returntype",void 0)],e,"getStudioQuery",null),Object(b.__decorate)([Object(g.g)({name:"gallery",defaults:ip})],e)})();var op;!function(e){class t{constructor(){}}t.type="[Dialog] Open Premium Content",e.OpenPremiumContent=t;class n{constructor(e){this.confirmed=e}}n.type="[Dialog] Close Premium Content",e.ClosePremiumContent=n;class l{constructor(){}}l.type="[Dialog] Open Upgrade",e.OpenUpgrade=l;class i{constructor(){}}i.type="[Dialog] Close Upgrade",e.CloseUpgrade=i}(op||(op={}));let sp=(()=>{class e{constructor(e,t,n){this.store=e,this.dialogRef=t,this.changeDetectorRef=n,this.ngUnsubscribe=new $.a}ngOnInit(){this.results$.subscribe(e=>{this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.store.dispatch(new Io.ClearResults),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleSelect(e){!e.premium||this.store.selectSnapshot(zo.isPremiumUser)?(this.store.dispatch(new Io.SelectBookmark(e)),this.dialogRef.close(e)):this.store.dispatch(new op.OpenPremiumContent)}}return Object(b.__decorate)([Object(g.e)(ap.getViewMode),Object(b.__metadata)("design:type",V.a)],e.prototype,"viewMode$",void 0),Object(b.__decorate)([Object(g.e)(ap.getLoading),Object(b.__metadata)("design:type",V.a)],e.prototype,"loading$",void 0),Object(b.__decorate)([Object(g.e)(ap.getSearchResults),Object(b.__metadata)("design:type",V.a)],e.prototype,"results$",void 0),Object(b.__decorate)([Object(g.e)(zo.isPremiumUser),Object(b.__metadata)("design:type",V.a)],e.prototype,"isPremiumUser$",void 0),e})(),rp=(()=>{class e{constructor(e,t,n,l,i,a,o){this.store=e,this.actions=t,this.formBuilder=n,this.dialogRef=l,this.snackBar=i,this.storageService=a,this.data=o,this.ngUnsubscribe=new $.a,this.settings=Object.assign({},o);const s=this.store.selectSnapshot(Bc.getOrganization);s&&this.store.dispatch(new Mn(s.id))}ngOnInit(){const e="true"===this.storageService.getLocalItem(Ln.DefaultGroupEdit),t=this.storageService.getLocalItem(Ln.DefaultCollectionId);this.form=this.formBuilder.group({groupEditEnabled:[`${e}`,ie.x.required],collectionId:[t]}),this.form.valueChanges.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(({groupEditEnabled:e,collectionId:t})=>{e?this.storageService.setLocalItem(Ln.DefaultGroupEdit,e):this.storageService.removeLocalItem(Ln.DefaultGroupEdit),t?this.storageService.setLocalItem(Ln.DefaultCollectionId,t):this.storageService.removeLocalItem(Ln.DefaultCollectionId)}),this.actions.pipe(Object(g.l)(Tl),Object(G.a)(e=>e.sourceId===this.settings.bookmark.id&&!!e.groupAccess),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.dialogRef.close(e.newId)}),this.actions.pipe(Object(g.l)(zl),Object(G.a)(e=>e.id===this.settings.bookmark.id),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.snackBar.open(`Adding ${this.settings.bookmark.title} to your team models has failed. Please try again`)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleSubmit(){this.form.valid&&this.addTeamModel(this.settings.bookmark)}addTeamModel(e){const{groupEditEnabled:t,collectionId:n}=this.form.value,l=this.store.selectSnapshot(Bc.getOrganization),i=this.store.selectSnapshot(Bc.getCollections),a=this.store.selectSnapshot(zo.getUserLocale).lang,o={group_id:l.id,member_edit:"true"===t,visible:!0},s=i.find(({collection_id:e})=>`${e}`===n);this.store.dispatch(new Il(e.id,e.type,a,o,s))}}return Object(b.__decorate)([Object(g.e)(Bc.getCollections),Object(b.__metadata)("design:type",V.a)],e.prototype,"collections$",void 0),Object(b.__decorate)([Object(g.e)(gu.getCopying),Object(b.__metadata)("design:type",V.a)],e.prototype,"copying$",void 0),e})();var cp=function(e){return e.ClipboardDialog="ClipboardDialog",e.WelcomeTourDialog="WelcomeTourDialog",e.JoinDomainDialog="JoinDomainDialog",e.NpsSurveyDialog="NpsSurveyDialog",e.ConfirmDialog="ConfirmDialog",e.LimitDialog="LimitDialog",e.UpgradeDialog="UpgradeDialog",e.BuyDialog="BuyDialog",e.ProfileDialog="ProfileDialog",e.SaveModuleDialog="SaveModuleDialog",e.SaveBookmarkDialog="SaveBookmarkDialog",e.SaveAsBookmarkDialog="SaveAsBookmarkDialog",e.ManageDialog="ManageDialog",e.BookmarkAccessDialog="BookmarkAccessDialog",e.GroupRestrictionDialog="GroupRestrictionDialog",e.PremiumContentDialog="PremiumContentDialog",e.AboutDialog="AboutDialog",e.ImportDialog="ImportDialog",e.AddTeamModelDialog="AddTeamModelDialog",e}({});let up=(()=>{class e{constructor(e,t,n,l){this.store=e,this.actions=t,this.fb=n,this.snackBar=l,this.presetBackgrounds="module"===o.exportType?Object(A.plainToClass)(Bo,Zr):Object(A.plainToClass)(Bo,Xr),this.ngUnsubscribe=new $.a}ngOnInit(){this.initPresets(),this.initForm(),this.actions.pipe(Object(g.k)(Aa),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.snackBar.open("Successfully applied color to all chapters.")})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initPresets(){this.presetBackground=this.store.selectSnapshot(ac.getSelectedChapterBackground),this.background$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.presetBackground=e}),this.allChapterBackgrounds$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.distinctBackgrounds=e.filter((t,n)=>e.findIndex(e=>this.backgroundsEqual(t,e))===n)})}initForm(){const e=this.store.selectSnapshot(ac.getSelectedChapterBackground);this.form=this.fb.group({type:["solid",[ie.x.required]],color1:["",[ie.x.required]],stop1:[0,[ie.x.required,ie.x.min(0),ie.x.max(100)]],color2:["",[ie.x.required]],stop2:[100,[ie.x.required,ie.x.min(0),ie.x.max(100)]]}),this.form.valueChanges.pipe(Object(G.a)(()=>this.customTab.isActive),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.applyFromCustom()}),e&&this.setCustomColorForm(e)}handleFormColorSelected(e,t){this.form.get(e).setValue(t)}handlePresetSelected(e){this.presetBackground=e,this.store.dispatch(new Ua(e))}handleResetClick(){this.store.dispatch(new Da)}handleTabChange(e){this.customTab.isActive&&this.presetBackground&&this.setCustomColorForm(this.presetBackground)}backgroundsEqual(e,t){return Object(vt.isEqual)(e,t)}getBackgroundHex(e){const t=e.colors;return Ve.rgbToHex([t[0],t[1],t[2]])}getFormBackgroundHex(e){return this.form.get(e).value}applyAll(){const e=this.form.value.type;if(this.presetTab.isActive)this.store.dispatch(new Aa(this.presetBackground));else if(this.customTab.isActive){const t=this.formToBackgroundColor(e);t&&this.store.dispatch(new Aa(t))}}applyFromCustom(){const e=this.formToBackgroundColor(this.form.value.type);e&&this.store.dispatch(new Ua(e))}setCustomColorForm(e){let t="solid",n="",l="",i=0,a=100;const{colors:o,gradientType:s,colorStops:r}=e,c=[o[0],o[1],o[2]],u=o.length<8?c:[o[4],o[5],o[6]];n=Ve.rgbToHex(c,!1),l=Ve.rgbToHex(u,!1),t=Bo.isTransparent(e)?"transparent":Object(vt.isEqual)(c,u)?"solid":s,this.form.patchValue({type:t,color1:n,stop1:i=r[0],color2:l,stop2:a=r[1]})}formToBackgroundColor(e){const{color1:t,color2:n,stop1:l,stop2:i}=this.form.value;if("transparent"===e)return Kr;if(!this.form.valid)return null;const a=[],o="radial"===e?"radial":"linear";return t&&a.push(...Ve.hexToRgb(t,!1),1),n&&"solid"!==e?a.push(...Ve.hexToRgb(n,!1),1):a.push(...a),new Bo(a,o,[l,i])}}return Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterBackground),Object(b.__metadata)("design:type",V.a)],e.prototype,"background$",void 0),Object(b.__decorate)([Object(g.e)(ac.getAllChaptersBackground),Object(b.__metadata)("design:type",V.a)],e.prototype,"allChapterBackgrounds$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterIndex),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedChapterIndex$",void 0),e})();var pp=n("s6ns");const dp=768,bp="backdropClass";let gp=(()=>{class e{constructor(e){this.dialog=e}get isMobile(){return window.innerWidth<=dp}openClipboardDialog(e,t){const n=Object.assign({data:{id:cp.ClipboardDialog,copyText:e}},t);return this.dialog.open(fu,n)}openWelcomeTourDialog(e,t){const n=Object.assign({id:cp.WelcomeTourDialog,disableClose:!0,data:{userType:"updated_tour"===e?yu.ExistingUser:yu.NewUser}},t);return this.dialog.open(Ou,n)}openJoinDomainDialog(e,t){const n=Object.assign({id:cp.JoinDomainDialog,data:{organization:e}},t);return this.dialog.open(Cu,n)}openNpsSurveyDialog(e,t){const n=Object.assign({id:cp.NpsSurveyDialog,data:{surveyGroupName:e}},t);return this.dialog.open(Yu,n)}openConfirmDialog(e){const t=Object.assign({id:cp.ConfirmDialog},e);return this.dialog.open(tu,t)}openLimitDialog(){return this.dialog.closeAll(),this.dialog.open(Zc,{id:cp.LimitDialog,width:"480px"})}openUpgradeDialog(e){const t={width:925,height:700},n=Object.assign({id:cp.UpgradeDialog},{width:`${t.width}px`,height:`${t.height}px`,data:{type:Yc.UpgradeSubscription,dimensions:t}},e);return this.dialog.closeAll(),this.dialog.open(eu,n)}openBuyDialog(e){const t={width:550,height:650},n=Object.assign({id:cp.BuyDialog},{width:`${t.width}px`,height:`${t.height}px`,data:{type:Yc.BuySubscription,dimensions:t}},e);return this.dialog.closeAll(),this.dialog.open(eu,n)}openProfileDialog(e,t=""){const n={width:750,height:600},l=Object.assign({id:cp.ProfileDialog},{width:`${n.width}px`,height:`${n.height}px`,data:{type:Yc.MyProfile,dimensions:n,options:{show_tab:t}}},e);return this.dialog.closeAll(),this.dialog.open(eu,l)}openSaveModuleDialog(e,t){this.dialog.closeAll();const n=Object.assign({id:cp.SaveModuleDialog},{width:"480px",data:{id:e}},t);return this.dialog.open(Xu,n)}openSaveBookmarkDialog(e,t){return this._openSaveBookmarkDialog(Object.assign({id:cp.SaveBookmarkDialog,data:{bookmark:e,mode:hu.SaveStory}},t))}openSaveAsBookmarkDialog(e,t,n,l){return this._openSaveBookmarkDialog(Object.assign({id:cp.SaveBookmarkDialog,data:{title:e,bookmarkTitle:t,message:n,mode:hu.SaveStory}},l))}openManageDialog(e,t){return this._openSaveBookmarkDialog(Object.assign({id:cp.SaveBookmarkDialog,data:{bookmark:e,mode:hu.Manage}},t))}openBookmarkAccessDialog(e,t){const n=Object.assign({id:cp.BookmarkAccessDialog,width:"480px",data:{model:e}},t);return this.dialog.closeAll(),this.dialog.open(mu,n)}openGroupRestrictionDialog(e){const t=Object.assign({id:cp.GroupRestrictionDialog},{width:"480px",height:"auto"},e);return this.dialog.open(_u,t)}openPremiumContentDialog(){return this.openConfirmDialog({id:cp.PremiumContentDialog,data:{titleText:"Premium Content",bodyText:this.isMobile?"This is premium content. Visit us on desktop to upgrade to a premium plan.":"This is premium content. Upgrade to a Premium Plan for unlimited access.",confirmText:"Go Premium",confirmEnabled:!this.isMobile,cancelText:"OK",confirmColor:"warn"}})}openAboutDialog(){return this.dialog.closeAll(),this.dialog.open(wu,{id:cp.AboutDialog})}openImportDialog(){return this.dialog.closeAll(),this.dialog.open(sp,{id:cp.ImportDialog,maxWidth:"90vw",width:"90vw",height:"90vh"})}openAddTeamModelDialog(e){return this.dialog.open(rp,{id:cp.AddTeamModelDialog,data:{bookmark:e}})}openBackgroundColorDialog(){return this.dialog.open(up,{backdropClass:bp,data:{}})}_openSaveBookmarkDialog(e){const t=Object.assign({mode:hu.SaveStory},e);return this.dialog.closeAll(),this.dialog.open(mu,t)}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(pp.e))},token:e,providedIn:"root"}),e})();var hp=n("dFDH"),mp=l.tb({encapsulation:0,styles:[[".publish[_ngcontent-%COMP%]{display:grid;grid-template-columns:320px auto;grid-template-rows:1fr auto;height:100%;grid-template-areas:'options embed' 'actions embed'}.publish__options[_ngcontent-%COMP%]{grid-area:options;overflow-y:scroll}.publish__screens[_ngcontent-%COMP%]{grid-area:screens;text-align:center}.publish__embed[_ngcontent-%COMP%]{grid-area:embed;background-color:#fff;border-left:1px solid #eaeff5;overflow:auto}.publish__actions[_ngcontent-%COMP%]{grid-area:actions}.publish__actions[_ngcontent-%COMP%]:before{content:' ';display:block;background-color:#fff;height:12px;box-shadow:inset 0 -12px 8px -10px rgba(150,168,192,.4)}.publish__actions-content[_ngcontent-%COMP%]{padding:0 20px 0 8px}.publish__group[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;-webkit-box-align:center;align-items:center}.publish__flex-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.publish__input[_ngcontent-%COMP%]{width:100px;min-height:28px;padding:6px 8px}.publish__picker[_ngcontent-%COMP%]{width:60px}"]],data:{}});function _p(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,22,"div",[["class","publish__flex-group"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,10,"app-form-field",[["class","mr-6"],["display","inline"],["label","Width"],["theme","light"]],null,null,null,le,te)),l.ub(2,114688,null,0,ee,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),l.vb(3,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","width"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,4)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,4).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,4)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,4)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Hb(e,5).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Hb(e,5).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,5).onTouched()&&i),i}),null,null)),l.ub(4,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.ub(5,16384,null,0,ie.s,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e,t){return[e,t]}),[ie.d,ie.s]),l.ub(7,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(9,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(10,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),l.Pb(11,null,["Min. ","px"])),(e()(),l.vb(12,0,null,null,10,"app-form-field",[["display","inline"],["label","Height"],["theme","light"]],null,null,null,le,te)),l.ub(13,114688,null,0,ee,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),l.vb(14,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","height"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,15)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,15).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,15)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,15)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Hb(e,16).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Hb(e,16).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,16).onTouched()&&i),i}),null,null)),l.ub(15,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.ub(16,16384,null,0,ie.s,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e,t){return[e,t]}),[ie.d,ie.s]),l.ub(18,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(20,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(21,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),l.Pb(22,null,["Min. ","px"]))],(function(e,t){e(t,2,0,"Width","inline","light",!0),e(t,7,0,"width"),e(t,13,0,"Height","inline","light",!0),e(t,18,0,"height")}),(function(e,t){e(t,3,0,l.Hb(t,9).ngClassUntouched,l.Hb(t,9).ngClassTouched,l.Hb(t,9).ngClassPristine,l.Hb(t,9).ngClassDirty,l.Hb(t,9).ngClassValid,l.Hb(t,9).ngClassInvalid,l.Hb(t,9).ngClassPending),e(t,11,0,t.context.ngIf.width),e(t,14,0,l.Hb(t,20).ngClassUntouched,l.Hb(t,20).ngClassTouched,l.Hb(t,20).ngClassPristine,l.Hb(t,20).ngClassDirty,l.Hb(t,20).ngClassValid,l.Hb(t,20).ngClassInvalid,l.Hb(t,20).ngClassPending),e(t,22,0,t.context.ngIf.height)}))}function fp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,8,"app-panel",[["formGroupName","dimensions"],["label","Size"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ye,ge)),l.Mb(5120,null,ie.m,(function(e){return[e]}),[be]),l.ub(2,212992,null,0,ie.i,[[3,ie.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Mb(2048,null,ie.c,null,[ie.i]),l.ub(4,16384,null,0,ie.p,[[4,ie.c]],null,null),l.ub(5,114688,null,0,be,[l.i],{label:[0,"label"]},null),(e()(),l.lb(16777216,null,1,2,null,_p)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,2,0,"dimensions"),e(t,5,0,"Size"),e(t,7,0,l.Qb(t,7,0,l.Hb(t,8).transform(n.minDimensions$)))}),(function(e,t){e(t,0,0,l.Hb(t,4).ngClassUntouched,l.Hb(t,4).ngClassTouched,l.Hb(t,4).ngClassPristine,l.Hb(t,4).ngClassDirty,l.Hb(t,4).ngClassValid,l.Hb(t,4).ngClassInvalid,l.Hb(t,4).ngClassPending)}))}function yp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,8,"app-form-field",[["label","Degrees"],["theme","light"]],null,null,null,le,te)),l.ub(1,114688,null,0,ee,[],{label:[0,"label"],theme:[1,"theme"],isCompact:[2,"isCompact"]},null),(e()(),l.vb(2,0,null,0,6,"input",[["class","publish__input input"],["formControlName","value"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,3)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,3).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,3)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,3)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Hb(e,4).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Hb(e,4).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,4).onTouched()&&i),i}),null,null)),l.ub(3,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.ub(4,16384,null,0,ie.s,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e,t){return[e,t]}),[ie.d,ie.s]),l.ub(6,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(8,16384,null,0,ie.o,[[4,ie.n]],null,null)],(function(e,t){e(t,1,0,"Degrees","light",!0),e(t,6,0,"value")}),(function(e,t){e(t,2,0,l.Hb(t,8).ngClassUntouched,l.Hb(t,8).ngClassTouched,l.Hb(t,8).ngClassPristine,l.Hb(t,8).ngClassDirty,l.Hb(t,8).ngClassValid,l.Hb(t,8).ngClassInvalid,l.Hb(t,8).ngClassPending)}))}function vp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,152,null,null,null,null,(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Hb(e,1).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Hb(e,1).onReset()&&i),i}),null,null)),l.ub(1,540672,null,0,ie.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Mb(2048,null,ie.c,null,[ie.h]),l.ub(3,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.lb(16777216,null,null,2,null,fp)),l.ub(5,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(7,0,null,null,76,"app-panel",[["formGroupName","options"],["label","Display Options"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ye,ge)),l.Mb(5120,null,ie.m,(function(e){return[e]}),[be]),l.ub(9,212992,null,0,ie.i,[[3,ie.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Mb(2048,null,ie.c,null,[ie.i]),l.ub(11,16384,null,0,ie.p,[[4,ie.c]],null,null),l.ub(12,114688,null,0,be,[l.i],{label:[0,"label"]},null),(e()(),l.vb(13,0,null,1,70,"div",[["class","publish__group"]],null,null,null,null,null)),(e()(),l.vb(14,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiInfo"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(15,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(17,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(19,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,["Information Panel"])),(e()(),l.vb(21,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiNav"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(22,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(24,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(26,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,["3D Navigation"])),(e()(),l.vb(28,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiSearch"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(29,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(31,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(33,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,["Search"])),(e()(),l.vb(35,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiTools"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(36,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(38,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(40,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,["Edit Toolbar"])),(e()(),l.vb(42,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiReset"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(43,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(45,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(47,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,["Reset"])),(e()(),l.vb(49,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiHelp"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(50,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(52,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(54,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,["Help"])),(e()(),l.vb(56,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiFullscreen"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(57,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(59,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(61,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,["Fullscreen"])),(e()(),l.vb(63,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiChapterList"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(64,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(66,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(68,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,["Chapter List"])),(e()(),l.vb(70,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiLabelList"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(71,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(73,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(75,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,["Label List"])),(e()(),l.vb(77,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiAnatomyDescriptions"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(78,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(80,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(82,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,["Anatomy Descriptions"])),(e()(),l.vb(84,0,null,null,68,"app-panel",[["label","Loading Experience"]],null,null,null,ye,ge)),l.Mb(5120,null,ie.m,(function(e){return[e]}),[be]),l.ub(86,114688,null,0,be,[l.i],{label:[0,"label"]},null),(e()(),l.vb(87,0,null,1,12,"div",[["class","mb-1"],["formGroupName","rotate"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.ub(88,212992,null,0,ie.i,[[3,ie.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Mb(2048,null,ie.c,null,[ie.i]),l.ub(90,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(91,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","enabled"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(92,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(94,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(96,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,["Rotate 3D Model"])),(e()(),l.lb(16777216,null,null,1,null,yp)),l.ub(99,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(100,0,null,1,27,"div",[["class","mb-2"],["formGroupName","initial"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.ub(101,212992,null,0,ie.i,[[3,ie.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Mb(2048,null,ie.c,null,[ie.i]),l.ub(103,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(104,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","enabled"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(105,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(107,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(109,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,['Show "Click to Interact" hint'])),(e()(),l.vb(111,0,null,null,16,"div",[["class","m-1 ml-5"]],null,null,null,null,null)),(e()(),l.vb(112,0,null,null,15,"mat-radio-group",[["class","publish__group mat-radio-group"],["formControlName","mode"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.ub(113,1064960,null,1,ve.c,[l.i],null,null),l.Nb(603979776,3,{_radios:1}),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ve.c]),l.ub(116,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(118,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(119,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","button"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Hb(e,120)._inputElement.nativeElement.focus()&&i),i}),xe.b,xe.a)),l.ub(120,4440064,[[3,4]],0,ve.b,[[2,ve.c],l.l,l.i,pe.e,Oe.c,[2,de.a],[2,ve.a]],{value:[0,"value"]},null),(e()(),l.Pb(-1,0,["Button"])),(e()(),l.vb(122,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","handHint"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Hb(e,123)._inputElement.nativeElement.focus()&&i),i}),xe.b,xe.a)),l.ub(123,4440064,[[3,4]],0,ve.b,[[2,ve.c],l.l,l.i,pe.e,Oe.c,[2,de.a],[2,ve.a]],{value:[0,"value"]},null),(e()(),l.Pb(-1,0,["Animated hand"])),(e()(),l.vb(125,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","play"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Hb(e,126)._inputElement.nativeElement.focus()&&i),i}),xe.b,xe.a)),l.ub(126,4440064,[[3,4]],0,ve.b,[[2,ve.c],l.l,l.i,pe.e,Oe.c,[2,de.a],[2,ve.a]],{value:[0,"value"]},null),(e()(),l.Pb(-1,0,["Play"])),(e()(),l.vb(128,0,null,1,24,"div",[["formGroupName","disableScroll"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.ub(129,212992,null,0,ie.i,[[3,ie.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Mb(2048,null,ie.c,null,[ie.i]),l.ub(131,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(132,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","enabled"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(133,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(135,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(137,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.Pb(-1,0,["Disable scroll wheel zooming"])),(e()(),l.vb(139,0,null,null,13,"div",[["class","m-1 ml-5"]],null,null,null,null,null)),(e()(),l.vb(140,0,null,null,12,"mat-radio-group",[["class","publish__group mat-radio-group"],["formControlName","mode"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.ub(141,1064960,null,1,ve.c,[l.i],null,null),l.Nb(603979776,4,{_radios:1}),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ve.c]),l.ub(144,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(146,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(147,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","alert"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Hb(e,148)._inputElement.nativeElement.focus()&&i),i}),xe.b,xe.a)),l.ub(148,4440064,[[4,4]],0,ve.b,[[2,ve.c],l.l,l.i,pe.e,Oe.c,[2,de.a],[2,ve.a]],{value:[0,"value"]},null),(e()(),l.Pb(-1,0,["Show alert"])),(e()(),l.vb(150,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","overlay"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Hb(e,151)._inputElement.nativeElement.focus()&&i),i}),xe.b,xe.a)),l.ub(151,4440064,[[4,4]],0,ve.b,[[2,ve.c],l.l,l.i,pe.e,Oe.c,[2,de.a],[2,ve.a]],{value:[0,"value"]},null),(e()(),l.Pb(-1,0,["Do not show alert"]))],(function(e,t){var n=t.component;e(t,1,0,n.form),e(t,5,0,l.Qb(t,5,0,l.Hb(t,6).transform(n.dimensions$))),e(t,9,0,"options"),e(t,12,0,"Display Options"),e(t,17,0,"uiInfo"),e(t,24,0,"uiNav"),e(t,31,0,"uiSearch"),e(t,38,0,"uiTools"),e(t,45,0,"uiReset"),e(t,52,0,"uiHelp"),e(t,59,0,"uiFullscreen"),e(t,66,0,"uiChapterList"),e(t,73,0,"uiLabelList"),e(t,80,0,"uiAnatomyDescriptions"),e(t,86,0,"Loading Experience"),e(t,88,0,"rotate"),e(t,94,0,"enabled"),e(t,99,0,n.rotateEnabled),e(t,101,0,"initial"),e(t,107,0,"enabled"),e(t,116,0,"mode"),e(t,120,0,"button"),e(t,123,0,"handHint"),e(t,126,0,"play"),e(t,129,0,"disableScroll"),e(t,135,0,"enabled"),e(t,144,0,"mode"),e(t,148,0,"alert"),e(t,151,0,"overlay")}),(function(e,t){e(t,7,0,l.Hb(t,11).ngClassUntouched,l.Hb(t,11).ngClassTouched,l.Hb(t,11).ngClassPristine,l.Hb(t,11).ngClassDirty,l.Hb(t,11).ngClassValid,l.Hb(t,11).ngClassInvalid,l.Hb(t,11).ngClassPending),e(t,14,1,[l.Hb(t,15).id,null,l.Hb(t,15).indeterminate,l.Hb(t,15).checked,l.Hb(t,15).disabled,"before"==l.Hb(t,15).labelPosition,"NoopAnimations"===l.Hb(t,15)._animationMode,l.Hb(t,19).ngClassUntouched,l.Hb(t,19).ngClassTouched,l.Hb(t,19).ngClassPristine,l.Hb(t,19).ngClassDirty,l.Hb(t,19).ngClassValid,l.Hb(t,19).ngClassInvalid,l.Hb(t,19).ngClassPending]),e(t,21,1,[l.Hb(t,22).id,null,l.Hb(t,22).indeterminate,l.Hb(t,22).checked,l.Hb(t,22).disabled,"before"==l.Hb(t,22).labelPosition,"NoopAnimations"===l.Hb(t,22)._animationMode,l.Hb(t,26).ngClassUntouched,l.Hb(t,26).ngClassTouched,l.Hb(t,26).ngClassPristine,l.Hb(t,26).ngClassDirty,l.Hb(t,26).ngClassValid,l.Hb(t,26).ngClassInvalid,l.Hb(t,26).ngClassPending]),e(t,28,1,[l.Hb(t,29).id,null,l.Hb(t,29).indeterminate,l.Hb(t,29).checked,l.Hb(t,29).disabled,"before"==l.Hb(t,29).labelPosition,"NoopAnimations"===l.Hb(t,29)._animationMode,l.Hb(t,33).ngClassUntouched,l.Hb(t,33).ngClassTouched,l.Hb(t,33).ngClassPristine,l.Hb(t,33).ngClassDirty,l.Hb(t,33).ngClassValid,l.Hb(t,33).ngClassInvalid,l.Hb(t,33).ngClassPending]),e(t,35,1,[l.Hb(t,36).id,null,l.Hb(t,36).indeterminate,l.Hb(t,36).checked,l.Hb(t,36).disabled,"before"==l.Hb(t,36).labelPosition,"NoopAnimations"===l.Hb(t,36)._animationMode,l.Hb(t,40).ngClassUntouched,l.Hb(t,40).ngClassTouched,l.Hb(t,40).ngClassPristine,l.Hb(t,40).ngClassDirty,l.Hb(t,40).ngClassValid,l.Hb(t,40).ngClassInvalid,l.Hb(t,40).ngClassPending]),e(t,42,1,[l.Hb(t,43).id,null,l.Hb(t,43).indeterminate,l.Hb(t,43).checked,l.Hb(t,43).disabled,"before"==l.Hb(t,43).labelPosition,"NoopAnimations"===l.Hb(t,43)._animationMode,l.Hb(t,47).ngClassUntouched,l.Hb(t,47).ngClassTouched,l.Hb(t,47).ngClassPristine,l.Hb(t,47).ngClassDirty,l.Hb(t,47).ngClassValid,l.Hb(t,47).ngClassInvalid,l.Hb(t,47).ngClassPending]),e(t,49,1,[l.Hb(t,50).id,null,l.Hb(t,50).indeterminate,l.Hb(t,50).checked,l.Hb(t,50).disabled,"before"==l.Hb(t,50).labelPosition,"NoopAnimations"===l.Hb(t,50)._animationMode,l.Hb(t,54).ngClassUntouched,l.Hb(t,54).ngClassTouched,l.Hb(t,54).ngClassPristine,l.Hb(t,54).ngClassDirty,l.Hb(t,54).ngClassValid,l.Hb(t,54).ngClassInvalid,l.Hb(t,54).ngClassPending]),e(t,56,1,[l.Hb(t,57).id,null,l.Hb(t,57).indeterminate,l.Hb(t,57).checked,l.Hb(t,57).disabled,"before"==l.Hb(t,57).labelPosition,"NoopAnimations"===l.Hb(t,57)._animationMode,l.Hb(t,61).ngClassUntouched,l.Hb(t,61).ngClassTouched,l.Hb(t,61).ngClassPristine,l.Hb(t,61).ngClassDirty,l.Hb(t,61).ngClassValid,l.Hb(t,61).ngClassInvalid,l.Hb(t,61).ngClassPending]),e(t,63,1,[l.Hb(t,64).id,null,l.Hb(t,64).indeterminate,l.Hb(t,64).checked,l.Hb(t,64).disabled,"before"==l.Hb(t,64).labelPosition,"NoopAnimations"===l.Hb(t,64)._animationMode,l.Hb(t,68).ngClassUntouched,l.Hb(t,68).ngClassTouched,l.Hb(t,68).ngClassPristine,l.Hb(t,68).ngClassDirty,l.Hb(t,68).ngClassValid,l.Hb(t,68).ngClassInvalid,l.Hb(t,68).ngClassPending]),e(t,70,1,[l.Hb(t,71).id,null,l.Hb(t,71).indeterminate,l.Hb(t,71).checked,l.Hb(t,71).disabled,"before"==l.Hb(t,71).labelPosition,"NoopAnimations"===l.Hb(t,71)._animationMode,l.Hb(t,75).ngClassUntouched,l.Hb(t,75).ngClassTouched,l.Hb(t,75).ngClassPristine,l.Hb(t,75).ngClassDirty,l.Hb(t,75).ngClassValid,l.Hb(t,75).ngClassInvalid,l.Hb(t,75).ngClassPending]),e(t,77,1,[l.Hb(t,78).id,null,l.Hb(t,78).indeterminate,l.Hb(t,78).checked,l.Hb(t,78).disabled,"before"==l.Hb(t,78).labelPosition,"NoopAnimations"===l.Hb(t,78)._animationMode,l.Hb(t,82).ngClassUntouched,l.Hb(t,82).ngClassTouched,l.Hb(t,82).ngClassPristine,l.Hb(t,82).ngClassDirty,l.Hb(t,82).ngClassValid,l.Hb(t,82).ngClassInvalid,l.Hb(t,82).ngClassPending]),e(t,87,0,l.Hb(t,90).ngClassUntouched,l.Hb(t,90).ngClassTouched,l.Hb(t,90).ngClassPristine,l.Hb(t,90).ngClassDirty,l.Hb(t,90).ngClassValid,l.Hb(t,90).ngClassInvalid,l.Hb(t,90).ngClassPending),e(t,91,1,[l.Hb(t,92).id,null,l.Hb(t,92).indeterminate,l.Hb(t,92).checked,l.Hb(t,92).disabled,"before"==l.Hb(t,92).labelPosition,"NoopAnimations"===l.Hb(t,92)._animationMode,l.Hb(t,96).ngClassUntouched,l.Hb(t,96).ngClassTouched,l.Hb(t,96).ngClassPristine,l.Hb(t,96).ngClassDirty,l.Hb(t,96).ngClassValid,l.Hb(t,96).ngClassInvalid,l.Hb(t,96).ngClassPending]),e(t,100,0,l.Hb(t,103).ngClassUntouched,l.Hb(t,103).ngClassTouched,l.Hb(t,103).ngClassPristine,l.Hb(t,103).ngClassDirty,l.Hb(t,103).ngClassValid,l.Hb(t,103).ngClassInvalid,l.Hb(t,103).ngClassPending),e(t,104,1,[l.Hb(t,105).id,null,l.Hb(t,105).indeterminate,l.Hb(t,105).checked,l.Hb(t,105).disabled,"before"==l.Hb(t,105).labelPosition,"NoopAnimations"===l.Hb(t,105)._animationMode,l.Hb(t,109).ngClassUntouched,l.Hb(t,109).ngClassTouched,l.Hb(t,109).ngClassPristine,l.Hb(t,109).ngClassDirty,l.Hb(t,109).ngClassValid,l.Hb(t,109).ngClassInvalid,l.Hb(t,109).ngClassPending]),e(t,112,0,l.Hb(t,118).ngClassUntouched,l.Hb(t,118).ngClassTouched,l.Hb(t,118).ngClassPristine,l.Hb(t,118).ngClassDirty,l.Hb(t,118).ngClassValid,l.Hb(t,118).ngClassInvalid,l.Hb(t,118).ngClassPending),e(t,119,1,[l.Hb(t,120).checked,l.Hb(t,120).disabled,"NoopAnimations"===l.Hb(t,120)._animationMode,"primary"===l.Hb(t,120).color,"accent"===l.Hb(t,120).color,"warn"===l.Hb(t,120).color,-1,l.Hb(t,120).id,null,null,null]),e(t,122,1,[l.Hb(t,123).checked,l.Hb(t,123).disabled,"NoopAnimations"===l.Hb(t,123)._animationMode,"primary"===l.Hb(t,123).color,"accent"===l.Hb(t,123).color,"warn"===l.Hb(t,123).color,-1,l.Hb(t,123).id,null,null,null]),e(t,125,1,[l.Hb(t,126).checked,l.Hb(t,126).disabled,"NoopAnimations"===l.Hb(t,126)._animationMode,"primary"===l.Hb(t,126).color,"accent"===l.Hb(t,126).color,"warn"===l.Hb(t,126).color,-1,l.Hb(t,126).id,null,null,null]),e(t,128,0,l.Hb(t,131).ngClassUntouched,l.Hb(t,131).ngClassTouched,l.Hb(t,131).ngClassPristine,l.Hb(t,131).ngClassDirty,l.Hb(t,131).ngClassValid,l.Hb(t,131).ngClassInvalid,l.Hb(t,131).ngClassPending),e(t,132,1,[l.Hb(t,133).id,null,l.Hb(t,133).indeterminate,l.Hb(t,133).checked,l.Hb(t,133).disabled,"before"==l.Hb(t,133).labelPosition,"NoopAnimations"===l.Hb(t,133)._animationMode,l.Hb(t,137).ngClassUntouched,l.Hb(t,137).ngClassTouched,l.Hb(t,137).ngClassPristine,l.Hb(t,137).ngClassDirty,l.Hb(t,137).ngClassValid,l.Hb(t,137).ngClassInvalid,l.Hb(t,137).ngClassPending]),e(t,140,0,l.Hb(t,146).ngClassUntouched,l.Hb(t,146).ngClassTouched,l.Hb(t,146).ngClassPristine,l.Hb(t,146).ngClassDirty,l.Hb(t,146).ngClassValid,l.Hb(t,146).ngClassInvalid,l.Hb(t,146).ngClassPending),e(t,147,1,[l.Hb(t,148).checked,l.Hb(t,148).disabled,"NoopAnimations"===l.Hb(t,148)._animationMode,"primary"===l.Hb(t,148).color,"accent"===l.Hb(t,148).color,"warn"===l.Hb(t,148).color,-1,l.Hb(t,148).id,null,null,null]),e(t,150,1,[l.Hb(t,151).checked,l.Hb(t,151).disabled,"NoopAnimations"===l.Hb(t,151)._animationMode,"primary"===l.Hb(t,151).color,"accent"===l.Hb(t,151).color,"warn"===l.Hb(t,151).color,-1,l.Hb(t,151).id,null,null,null])}))}function xp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleSnapshotSizeClick(e.context.$implicit)&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[6,4],[7,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(2,0,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null),e(t,2,0,n.formatScreenSizeText(t.context.$implicit))}))}function Op(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,94,null,null,null,null,(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Hb(e,1).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Hb(e,1).onReset()&&i),i}),null,null)),l.ub(1,540672,null,0,ie.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Mb(2048,null,ie.c,null,[ie.h]),l.ub(3,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(4,0,null,null,78,"app-panel",[["label","Size"]],null,null,null,ye,ge)),l.Mb(5120,null,ie.m,(function(e){return[e]}),[be]),l.ub(6,114688,null,0,be,[l.i],{label:[0,"label"]},null),(e()(),l.vb(7,0,null,1,75,"app-tabs",[],null,null,null,Ie,Pe)),l.ub(8,1294336,null,1,Se,[l.i],null,null),l.Nb(603979776,5,{_tabs:1}),(e()(),l.vb(10,0,null,0,42,"app-tab",[["label","Pixels"]],null,null,null,Le,ze)),l.ub(11,114688,[[5,4]],0,Te,[l.i],{label:[0,"label"]},null),(e()(),l.vb(12,16777216,null,0,5,"button",[["app-button",""],["aria-haspopup","true"],["buttonTheme","light"],["buttonType","outline"],["class","mt-2 mat-menu-trigger"]],[[1,"aria-expanded",0],[8,"disabled",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==l.Hb(e,13)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Hb(e,13)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Hb(e,13)._handleClick(n)&&i),i}),$e,Be)),l.ub(13,1196032,null,0,we.g,[Qe.a,l.l,l.Q,we.c,[2,we.d],[8,null],[2,Ge.b],pe.e],{menu:[0,"menu"]},null),l.ub(14,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],uppercase:[2,"uppercase"]},null),(e()(),l.Pb(15,0,[" "," "])),(e()(),l.vb(16,0,null,0,1,"app-icon",[["class","ml-1"],["icon","caret-down"]],null,null,null,se,oe)),l.ub(17,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(18,0,null,0,8,"mat-menu",[],null,null,null,Ce.d,Ce.b)),l.Mb(6144,null,we.d,null,[we.h]),l.Mb(6144,null,we.b,null,[we.d]),l.ub(21,1294336,[["imageSizes",4]],3,we.h,[l.l,l.z,we.a],null,null),l.Nb(603979776,6,{_allItems:1}),l.Nb(603979776,7,{items:1}),l.Nb(603979776,8,{lazyContent:0}),(e()(),l.lb(16777216,null,0,1,null,xp)),l.ub(26,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),(e()(),l.vb(27,0,null,0,25,"div",[["class","publish__flex-group mt-2"],["formGroupName","dimensions"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.ub(28,212992,null,0,ie.i,[[3,ie.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Mb(2048,null,ie.c,null,[ie.i]),l.ub(30,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(31,0,null,null,10,"app-form-field",[["class","mr-6"],["display","inline"],["label","Width"],["theme","light"]],null,null,null,le,te)),l.ub(32,114688,null,0,ee,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),l.vb(33,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","width"],["type","number"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,34)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,34).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,34)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,34)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Hb(e,35).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Hb(e,35).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,35).onTouched()&&i),i}),null,null)),l.ub(34,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.ub(35,16384,null,0,ie.s,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e,t){return[e,t]}),[ie.d,ie.s]),l.ub(37,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(39,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(40,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),l.Pb(41,null,["","px to ","px"])),(e()(),l.vb(42,0,null,null,10,"app-form-field",[["display","inline"],["label","Height"],["theme","light"]],null,null,null,le,te)),l.ub(43,114688,null,0,ee,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),l.vb(44,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","height"],["type","number"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,45)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,45).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,45)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,45)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Hb(e,46).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Hb(e,46).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,46).onTouched()&&i),i}),null,null)),l.ub(45,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.ub(46,16384,null,0,ie.s,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e,t){return[e,t]}),[ie.d,ie.s]),l.ub(48,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(50,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(51,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),l.Pb(52,null,["","px to ","px"])),(e()(),l.vb(53,0,null,0,29,"app-tab",[["label","Inches"]],null,null,null,Le,ze)),l.ub(54,114688,[[5,4]],0,Te,[l.i],{label:[0,"label"]},null),(e()(),l.vb(55,0,null,0,25,"div",[["class","publish__flex-group mt-2"],["formGroupName","inches"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.ub(56,212992,null,0,ie.i,[[3,ie.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Mb(2048,null,ie.c,null,[ie.i]),l.ub(58,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(59,0,null,null,10,"app-form-field",[["class","mr-6"],["display","inline"],["label","Width"],["theme","light"]],null,null,null,le,te)),l.ub(60,114688,null,0,ee,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),l.vb(61,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","width"],["step",".01"],["type","number"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,62)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,62).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,62)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,62)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Hb(e,63).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Hb(e,63).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,63).onTouched()&&i),i}),null,null)),l.ub(62,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.ub(63,16384,null,0,ie.s,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e,t){return[e,t]}),[ie.d,ie.s]),l.ub(65,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(67,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(68,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),l.Pb(69,null,["",'" to ','"'])),(e()(),l.vb(70,0,null,null,10,"app-form-field",[["class","mr-6"],["display","inline"],["label","Height"],["theme","light"]],null,null,null,le,te)),l.ub(71,114688,null,0,ee,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),l.vb(72,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","height"],["step",".01"],["type","number"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,73)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,73).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,73)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,73)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Hb(e,74).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Hb(e,74).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,74).onTouched()&&i),i}),null,null)),l.ub(73,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.ub(74,16384,null,0,ie.s,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e,t){return[e,t]}),[ie.d,ie.s]),l.ub(76,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(78,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(79,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),l.Pb(80,null,["",'" to ','"'])),(e()(),l.vb(81,0,null,0,1,"div",[["class","pt-2 text-small text-dim"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Images are published at 300 dpi"])),(e()(),l.vb(83,0,null,null,8,"app-panel",[["label","Background Color"]],null,null,null,ye,ge)),l.Mb(5120,null,ie.m,(function(e){return[e]}),[be]),l.ub(85,114688,null,0,be,[l.i],{label:[0,"label"]},null),(e()(),l.vb(86,0,null,1,5,"div",[["class","publish__flex-group"]],null,null,null,null,null)),(e()(),l.vb(87,0,null,null,1,"app-color-picker",[["alphaEnabled","false"],["class","publish__picker"],["size","normal"]],null,[[null,"colorSelected"]],(function(e,t,n){var l=!0;return"colorSelected"===t&&(l=!1!==e.component.handleSnapshotBGColorClick(n)&&l),l}),Xe,Ke)),l.ub(88,114688,null,0,qe,[],{color:[0,"color"],size:[1,"size"],alphaEnabled:[2,"alphaEnabled"]},{colorSelected:"colorSelected"}),(e()(),l.vb(89,0,null,null,2,"button",[["app-button",""],["buttonSize","xsmall"],["buttonTheme","light"],["buttonType","outline"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSnapshotBGColorClick(null)&&l),l}),$e,Be)),l.ub(90,114688,null,0,Ue,[],{buttonSize:[0,"buttonSize"],buttonType:[1,"buttonType"],buttonTheme:[2,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Reset Color"])),(e()(),l.vb(92,0,null,null,2,"div",[["class","mt-4"]],null,null,null,null,null)),(e()(),l.vb(93,0,null,null,1,"a",[["class","text-link"],["href","https://www.biodigital.com/terms"],["target","_blank"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Read about our Terms of Use"]))],(function(e,t){var n=t.component;e(t,1,0,n.formSnapshot),e(t,6,0,"Size"),e(t,8,0),e(t,11,0,"Pixels"),e(t,13,0,l.Hb(t,21)),e(t,14,0,"outline","light",!1),e(t,17,0,"caret-down"),e(t,21,0),e(t,26,0,n.snapshotSizes),e(t,28,0,"dimensions"),e(t,32,0,"Width","inline","light",!0),e(t,37,0,"width"),e(t,43,0,"Height","inline","light",!0),e(t,48,0,"height"),e(t,54,0,"Inches"),e(t,56,0,"inches"),e(t,60,0,"Width","inline","light",!0),e(t,65,0,"width"),e(t,71,0,"Height","inline","light",!0),e(t,76,0,"height"),e(t,85,0,"Background Color"),e(t,88,0,n.snapshotBGColor,"normal","false"),e(t,90,0,"xsmall","outline","light")}),(function(e,t){var n=t.component;e(t,12,0,l.Hb(t,13).menuOpen||null,l.Hb(t,14).disabled),e(t,15,0,n.formatScreenSizeText(n.selectedSnapshotSize)),e(t,27,0,l.Hb(t,30).ngClassUntouched,l.Hb(t,30).ngClassTouched,l.Hb(t,30).ngClassPristine,l.Hb(t,30).ngClassDirty,l.Hb(t,30).ngClassValid,l.Hb(t,30).ngClassInvalid,l.Hb(t,30).ngClassPending),e(t,33,0,n.minSnapshotPixels.width,n.maxSnapshotPixels.width,l.Hb(t,39).ngClassUntouched,l.Hb(t,39).ngClassTouched,l.Hb(t,39).ngClassPristine,l.Hb(t,39).ngClassDirty,l.Hb(t,39).ngClassValid,l.Hb(t,39).ngClassInvalid,l.Hb(t,39).ngClassPending),e(t,41,0,n.minSnapshotPixels.width,n.maxSnapshotPixels.width),e(t,44,0,n.minSnapshotPixels.height,n.maxSnapshotPixels.height,l.Hb(t,50).ngClassUntouched,l.Hb(t,50).ngClassTouched,l.Hb(t,50).ngClassPristine,l.Hb(t,50).ngClassDirty,l.Hb(t,50).ngClassValid,l.Hb(t,50).ngClassInvalid,l.Hb(t,50).ngClassPending),e(t,52,0,n.minSnapshotPixels.height,n.maxSnapshotPixels.height),e(t,55,0,l.Hb(t,58).ngClassUntouched,l.Hb(t,58).ngClassTouched,l.Hb(t,58).ngClassPristine,l.Hb(t,58).ngClassDirty,l.Hb(t,58).ngClassValid,l.Hb(t,58).ngClassInvalid,l.Hb(t,58).ngClassPending),e(t,61,0,n.minSnapshotInches.width,n.maxSnapshotInches.width,l.Hb(t,67).ngClassUntouched,l.Hb(t,67).ngClassTouched,l.Hb(t,67).ngClassPristine,l.Hb(t,67).ngClassDirty,l.Hb(t,67).ngClassValid,l.Hb(t,67).ngClassInvalid,l.Hb(t,67).ngClassPending),e(t,69,0,n.minSnapshotInches.width,n.maxSnapshotInches.width),e(t,72,0,n.minSnapshotInches.height,n.maxSnapshotInches.height,l.Hb(t,78).ngClassUntouched,l.Hb(t,78).ngClassTouched,l.Hb(t,78).ngClassPristine,l.Hb(t,78).ngClassDirty,l.Hb(t,78).ngClassValid,l.Hb(t,78).ngClassInvalid,l.Hb(t,78).ngClassPending),e(t,80,0,n.minSnapshotInches.height,n.maxSnapshotInches.height),e(t,89,0,l.Hb(t,90).disabled)}))}function Cp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"div",[["class","text-12 p-2 mt-2 mb-2"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,[" Make this model available to anyone by publishing it to the web. "])),(e()(),l.vb(3,0,null,null,6,"div",[["class","publish__actions-content"]],null,null,null,null,null)),(e()(),l.vb(4,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","mb-2 w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleGenerateIFrame()&&l),l}),$e,Be)),l.ub(5,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),l.Pb(-1,0,["Copy embed"])),(e()(),l.vb(7,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleGenerateURL()&&l),l}),$e,Be)),l.ub(8,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),l.Pb(-1,0,["Copy URL"]))],(function(e,t){var n=t.component;e(t,5,0,"flat","light",!n.form.valid),e(t,8,0,"flat","light",!n.form.valid)}),(function(e,t){e(t,4,0,l.Hb(t,5).disabled),e(t,7,0,l.Hb(t,8).disabled)}))}function wp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,12,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"div",[["class","text-12 p-2 mt-2 mb-2"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,[" Download this image or make it available to anyone by publishing it to the web. "])),(e()(),l.vb(3,0,null,null,9,"div",[["class","publish__actions-content"]],null,null,null,null,null)),(e()(),l.vb(4,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","mb-2 w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleDownloadSnapClick()&&l),l}),$e,Be)),l.ub(5,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),l.Pb(-1,0,["Download"])),(e()(),l.vb(7,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","mb-2 w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCopyImageURL()&&l),l}),$e,Be)),l.ub(8,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),l.Pb(-1,0,["Copy URL"])),(e()(),l.vb(10,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleGenerateImage()&&l),l}),$e,Be)),l.ub(11,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),l.Pb(-1,0,["Copy Embed"]))],(function(e,t){var n=t.component;e(t,5,0,"flat","light",!n.formSnapshot.valid),e(t,8,0,"flat","light",!n.formSnapshot.valid),e(t,11,0,"flat","light",!n.formSnapshot.valid)}),(function(e,t){e(t,4,0,l.Hb(t,5).disabled),e(t,7,0,l.Hb(t,8).disabled),e(t,10,0,l.Hb(t,11).disabled)}))}function jp(e){return l.Rb(2,[l.Nb(402653184,1,{publishWidget:0}),(e()(),l.vb(1,0,null,null,33,"div",[["class","publish theme-light"]],null,null,null,null,null)),l.ub(2,16384,null,0,Y.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.vb(3,0,null,null,24,"div",[["class","publish__options text-12"]],null,null,null,null,null)),(e()(),l.vb(4,0,null,null,19,"app-panel",[["label","Select a format to publish:"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Hb(e,6).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Hb(e,6).onReset()&&i),i}),ye,ge)),l.Mb(5120,null,ie.m,(function(e){return[e]}),[be]),l.ub(6,540672,null,0,ie.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Mb(2048,null,ie.c,null,[ie.h]),l.ub(8,16384,null,0,ie.p,[[4,ie.c]],null,null),l.ub(9,114688,null,0,be,[l.i],{label:[0,"label"]},null),(e()(),l.vb(10,0,null,1,13,"div",[["class","publish__flex-group"]],null,null,null,null,null)),(e()(),l.vb(11,0,null,null,12,"mat-radio-group",[["class","mat-radio-group"],["formControlName","mode"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.ub(12,1064960,null,1,ve.c,[l.i],null,null),l.Nb(603979776,2,{_radios:1}),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ve.c]),l.ub(15,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(17,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(18,0,null,null,2,"mat-radio-button",[["class","mr-2 mat-radio-button"],["value","3d"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Hb(e,19)._inputElement.nativeElement.focus()&&i),i}),xe.b,xe.a)),l.ub(19,4440064,[[2,4]],0,ve.b,[[2,ve.c],l.l,l.i,pe.e,Oe.c,[2,de.a],[2,ve.a]],{value:[0,"value"]},null),(e()(),l.Pb(-1,0,["3D Embeddable"])),(e()(),l.vb(21,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"],["value","2d"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Hb(e,22)._inputElement.nativeElement.focus()&&i),i}),xe.b,xe.a)),l.ub(22,4440064,[[2,4]],0,ve.b,[[2,ve.c],l.l,l.i,pe.e,Oe.c,[2,de.a],[2,ve.a]],{value:[0,"value"]},null),(e()(),l.Pb(-1,0,["Image"])),(e()(),l.lb(16777216,null,null,1,null,vp)),l.ub(25,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,Op)),l.ub(27,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.vb(28,0,null,null,4,"div",[["class","publish__actions"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Cp)),l.ub(30,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,wp)),l.ub(32,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.vb(33,0,null,null,1,"app-publish-widget",[["class","publish__embed"]],null,[[null,"cameraUpdated"]],(function(e,t,n){var l=!0;return"cameraUpdated"===t&&(l=!1!==e.component.handleCameraUpdated(n)&&l),l}),Ko,qo)),l.ub(34,245760,[[1,4],["publishWidget",4]],0,Jo,[l.l,Et,wt],{model:[0,"model"],width:[1,"width"],height:[2,"height"],scalable:[3,"scalable"],enableUI:[4,"enableUI"],bgColor:[5,"bgColor"],widgetParams:[6,"widgetParams"]},{cameraUpdated:"cameraUpdated"})],(function(e,t){var n=t.component;e(t,2,0,n.mode),e(t,6,0,n.formModeGroup),e(t,9,0,"Select a format to publish:"),e(t,15,0,"mode"),e(t,19,0,"3d"),e(t,22,0,"2d"),e(t,25,0,"3d"),e(t,27,0,"2d"),e(t,30,0,"3d"),e(t,32,0,"2d"),e(t,34,0,n.model,n.widgetWidth,n.widgetHeight,n.widgetScalable,"3d"===n.mode,n.widgetBGColor,n.widgetOptions)}),(function(e,t){e(t,4,0,l.Hb(t,8).ngClassUntouched,l.Hb(t,8).ngClassTouched,l.Hb(t,8).ngClassPristine,l.Hb(t,8).ngClassDirty,l.Hb(t,8).ngClassValid,l.Hb(t,8).ngClassInvalid,l.Hb(t,8).ngClassPending),e(t,11,0,l.Hb(t,17).ngClassUntouched,l.Hb(t,17).ngClassTouched,l.Hb(t,17).ngClassPristine,l.Hb(t,17).ngClassDirty,l.Hb(t,17).ngClassValid,l.Hb(t,17).ngClassInvalid,l.Hb(t,17).ngClassPending),e(t,18,1,[l.Hb(t,19).checked,l.Hb(t,19).disabled,"NoopAnimations"===l.Hb(t,19)._animationMode,"primary"===l.Hb(t,19).color,"accent"===l.Hb(t,19).color,"warn"===l.Hb(t,19).color,-1,l.Hb(t,19).id,null,null,null]),e(t,21,1,[l.Hb(t,22).checked,l.Hb(t,22).disabled,"NoopAnimations"===l.Hb(t,22)._animationMode,"primary"===l.Hb(t,22).color,"accent"===l.Hb(t,22).color,"warn"===l.Hb(t,22).color,-1,l.Hb(t,22).id,null,null,null])}))}class kp{constructor(e,t){this.dialogRef=e,this.bookmark=t.bookmark}ngOnInit(){}closeDialog(){this.dialogRef.close()}}var Sp=l.tb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}a[_ngcontent-%COMP%]{color:#de3838}a[_ngcontent-%COMP%]:hover{color:#c32020}.publish__contents[_ngcontent-%COMP%]{height:calc(90vh - 80px);border-top:1px solid #eaeff5;margin-top:12px}.publish__heading[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.publish__text[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.publish__title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.publish__close[_ngcontent-%COMP%]{cursor:pointer;color:#283853}.publish__close[_ngcontent-%COMP%]:hover{color:#1c2a3f}"]],data:{}});function Pp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-publish",[],null,null,null,jp,mp)),l.ub(1,245760,null,0,qc,[g.i,g.b,Et,En,Xc,gp,hp.c,ie.f,l.i],{model:[0,"model"]},null)],(function(e,t){e(t,1,0,t.component.bookmark)}),null)}function Mp(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,9,"div",[["class","publish"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,5,"div",[["class","publish__heading"]],null,null,null,null,null)),(e()(),l.vb(2,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l.vb(3,0,null,null,1,"h1",[["class","publish__title"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,[" Publish "])),(e()(),l.vb(5,0,null,null,1,"app-icon",[["class","publish__close"],["icon","times"],["size","lg"],["title","close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog()&&l),l}),se,oe)),l.ub(6,114688,null,0,ae,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.vb(7,0,null,null,2,"div",[["class","publish__contents"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Pp)),l.ub(9,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,6,0,"times","lg"),e(t,9,0,n.bookmark)}),null)}function Hp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-publish-dialog",[],null,null,null,Mp,Sp)),l.ub(1,114688,null,0,kp,[pp.l,pp.a],null,null)],(function(e,t){e(t,1,0)}),null)}var Ip=l.rb("app-publish-dialog",kp,Hp,{},{},[]),Tp=l.tb({encapsulation:0,styles:[["a[_ngcontent-%COMP%]{color:#1c5ab9;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.modal[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.modal__close[_ngcontent-%COMP%]{cursor:pointer;color:#283853}.content[_ngcontent-%COMP%]{width:640px;position:relative;margin:auto;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;padding:40px;text-align:center}@media (max-width:1024px){.content[_ngcontent-%COMP%]{width:100%}}"]],data:{}});function zp(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,30,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-icon",[["class","modal__close"],["icon","times"],["size","lg"],["title","close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog()&&l),l}),se,oe)),l.ub(2,114688,null,0,ae,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.vb(3,0,null,null,27,"div",[["class","text-12 content mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.ub(4,16384,null,0,pp.j,[],null,null),(e()(),l.vb(5,0,null,null,0,"img",[["class","mb-2"],["src","assets/images/biodigital-logo.svg"],["width","190"]],null,null,null,null,null)),(e()(),l.vb(6,0,null,null,1,"p",[["class","text-14 text-semibold"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["The BioDgital Human Platform"])),(e()(),l.vb(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Version 4.0"])),(e()(),l.vb(10,0,null,null,5,"p",[["class","mb-3"]],null,null,null,null,null)),(e()(),l.vb(11,0,null,null,1,"a",[["href","https://wwww.biodigital.com/terms"],["target","_blank"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Terms of Service"])),(e()(),l.Pb(-1,null,[" | "])),(e()(),l.vb(14,0,null,null,1,"a",[["href","https://wwww.biodigital.com/privacy"],["target","_blank"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Privacy Policy"])),(e()(),l.vb(16,0,null,null,4,"p",[["class","mb-4"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Software and all 3D models \xa9 "])),(e()(),l.vb(18,0,null,null,1,"span",[["class","text-semibold"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["BioDigital, Inc 2019."])),(e()(),l.Pb(-1,null,[" All rights reserved."])),(e()(),l.vb(21,0,null,null,3,"p",[["class","mb-2"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["This program is protected by copyright law and international treaties. Unauthorized reproduction, distribution, reverse engineering or sale of the software is strictly prohibited. This software is not a diagnostic or clinical decision-making tool. The medical information is intended for background viewing and general interest. Content is asserted neither complete nor error free. Please consult your own licensed physician regarding diagnosis and treatment of any medical condition! Please see also our full "])),(e()(),l.vb(23,0,null,null,1,"a",[["href","https://wwww.biodigital.com/terms"],["target","_blank"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Terms of Service."])),(e()(),l.vb(25,0,null,null,1,"p",[["class","mb-2"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["The BioDigital Human is made possible through the expertise and dedication of our development team, advisors, investors and all who pioneered medical education before us. Thank you! "])),(e()(),l.vb(27,0,null,null,3,"p",[["class","mb-2"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["For licensing information contact "])),(e()(),l.vb(29,0,null,null,1,"span",[["class","text-medium"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["info@biodigital.com."]))],(function(e,t){e(t,2,0,"times","lg")}),null)}function Fp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-about-dialog",[],null,null,null,zp,Tp)),l.ub(1,114688,null,0,wu,[pp.l],null,null)],(function(e,t){e(t,1,0)}),null)}var Lp=l.rb("app-about-dialog",wu,Fp,{},{},[]);class Ep{constructor(e,t){this.dialogRef=e,this.data=t,this.settings={titleText:"Confirm Action"},t&&(this.settings=Object.assign({},this.settings,t))}ngOnInit(){}}var Np=l.tb({encapsulation:0,styles:[[""]],data:{}});function Rp(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.ub(1,81920,null,0,pp.m,[[2,pp.l],l.l,pp.e],null,null),(e()(),l.Pb(-1,null,[" View Only\n"])),(e()(),l.vb(3,0,null,null,3,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.ub(4,16384,null,0,pp.j,[],null,null),(e()(),l.vb(5,0,null,null,1,"span",[["class","text-14"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["This content is currently set to view only, and changes made will be saved to a copy. "])),(e()(),l.vb(7,0,null,null,5,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.ub(8,16384,null,0,pp.f,[],null,null),(e()(),l.vb(9,0,null,null,3,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""],["style","min-width: 100px;"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,10).dialogRef.close(l.Hb(e,10).dialogResult)&&i),i}),$e,Be)),l.ub(10,606208,null,0,pp.g,[[2,pp.l],l.l,pp.e],{dialogResult:[0,"dialogResult"]},null),l.ub(11,114688,null,0,Ue,[],{buttonType:[0,"buttonType"]},null),(e()(),l.Pb(-1,0,["OK"]))],(function(e,t){e(t,1,0),e(t,10,0,!0),e(t,11,0,"primary")}),(function(e,t){e(t,0,0,l.Hb(t,1).id),e(t,9,0,l.Hb(t,10).ariaLabel||null,l.Hb(t,10).type,l.Hb(t,11).disabled)}))}function Ap(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-access-dialog",[],null,null,null,Rp,Np)),l.ub(1,114688,null,0,Ep,[pp.l,pp.a],null,null)],(function(e,t){e(t,1,0)}),null)}var Dp=l.rb("app-access-dialog",Ep,Ap,{},{},[]),Up=function(e){return e.Small="small",e.Medium="medium",e.Large="large",e.Huge="huge",e}({}),Bp=function(e){return e.Horizontal="horizontal",e.Vertical="vertical",e}({}),$p=function(e){return e.Inline="inline",e.Block="block",e.Fill="fill",e}({});class Vp{constructor(){this.size=Up.Medium,this.label="",this.direction=Bp.Horizontal,this.render=$p.Fill}ngOnInit(){}}var Qp=l.tb({encapsulation:0,styles:[['@-webkit-keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.spinner--small[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%], .spinner--small[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%]:after{width:11px;height:11px}.spinner--small[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{font-size:10px}.spinner--medium[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%], .spinner--medium[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%]:after{width:14px;height:14px}.spinner--medium[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{font-size:10px}.spinner--large[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%], .spinner--large[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%]:after{width:28px;height:28px}.spinner--large[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{font-size:14px}.spinner--huge[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%], .spinner--huge[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%]:after{width:44px;height:44px}.spinner--huge[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{font-size:16px}.spinner--horizontal[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.spinner--vertical[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.spinner--vertical[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{padding:8px 0 0}.spinner--inline[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex}.spinner--block[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.spinner--fill[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:100%}.spinner__circle[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:50%;border:2px solid rgba(16,24,35,.1);position:relative}.spinner__circle[_ngcontent-%COMP%]:after{-webkit-animation:.4s linear infinite spinner;animation:.4s linear infinite spinner;content:" ";border-radius:50%;border:2px solid transparent;border-top-color:rgba(255,255,255,.2);border-right-color:rgba(16,24,35,.2);box-sizing:border-box;position:absolute;display:block;width:14px;height:14px;top:-2px;left:-2px}.spinner__label[_ngcontent-%COMP%]{padding-left:8px;font-size:14px;text-transform:uppercase}.theme-dark[_nghost-%COMP%]   .spinner__label[_ngcontent-%COMP%], .theme-dark   [_nghost-%COMP%]   .spinner__label[_ngcontent-%COMP%]{color:rgba(255,255,255,.2)}.theme-light[_nghost-%COMP%]   .spinner__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .spinner__label[_ngcontent-%COMP%]{color:rgba(16,24,35,.2)}']],data:{}});function Gp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"div",[["class","spinner__label"]],null,null,null,null,null)),(e()(),l.Pb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.label)}))}function Wp(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,6,"div",[["class","spinner spinner--horizontal"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Ib(3,3),(e()(),l.vb(4,0,null,null,0,"div",[["class","spinner__circle"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Gp)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,"spinner--"+n.size,"spinner--"+n.render,"spinner--"+n.direction);e(t,2,0,"spinner spinner--horizontal",l),e(t,6,0,n.label.length)}),null)}var Jp=l.tb({encapsulation:0,styles:[[".dialog__radio-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}@media (min-width:480px){.dialog[_ngcontent-%COMP%]{min-width:380px}}"]],data:{}});function qp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.ub(1,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(2,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.collection_id),e(t,2,0,t.context.$implicit.collection_id)}),(function(e,t){e(t,3,0,t.context.$implicit.collection_name)}))}function Kp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,14,"app-form-field",[["class","mb-2"],["label","Collection (Optional)"],["theme","light"]],null,null,null,le,te)),l.ub(1,114688,null,0,ee,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),l.vb(2,0,null,0,12,"select",[["class","input"],["formControlName","collectionId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Hb(e,3).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,3).onTouched()&&i),i}),null,null)),l.ub(3,16384,null,0,ie.w,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.w]),l.ub(5,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(7,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(8,0,null,null,3,"option",[],null,null,null,null,null)),l.ub(9,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(10,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(-1,null,["--"])),(e()(),l.lb(16777216,null,null,2,null,qp)),l.ub(13,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,"Collection (Optional)","light"),e(t,5,0,"collectionId"),e(t,9,0,null),e(t,10,0,null),e(t,13,0,l.Qb(t,13,0,l.Hb(t,14).transform(n.collections$)))}),(function(e,t){e(t,2,0,l.Hb(t,7).ngClassUntouched,l.Hb(t,7).ngClassTouched,l.Hb(t,7).ngClassPristine,l.Hb(t,7).ngClassDirty,l.Hb(t,7).ngClassValid,l.Hb(t,7).ngClassInvalid,l.Hb(t,7).ngClassPending)}))}function Xp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-spinner",[["class","mr-1"],["render","inline"],["size","small"]],null,null,null,Wp,Qp)),l.ub(2,114688,null,0,Vp,[],{size:[0,"size"],render:[1,"render"]},null),(e()(),l.Pb(-1,null,[" Adding "]))],(function(e,t){e(t,2,0,"small","inline")}),null)}function Zp(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Pb(-1,null,[" Add "]))],null,null)}function Yp(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.ub(1,81920,null,0,pp.m,[[2,pp.l],l.l,pp.e],null,null),(e()(),l.Pb(-1,null,[" Add to Team Models\n"])),(e()(),l.vb(3,0,null,null,24,"div",[["class","dialog mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.ub(4,16384,null,0,pp.j,[],null,null),(e()(),l.vb(5,0,null,null,22,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,a=e.component;return"submit"===t&&(i=!1!==l.Hb(e,7).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Hb(e,7).onReset()&&i),"submit"===t&&(i=!1!==a.handleSubmit()&&i),i}),null,null)),l.ub(6,16384,null,0,ie.C,[],null,null),l.ub(7,540672,null,0,ie.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Mb(2048,null,ie.c,null,[ie.h]),l.ub(9,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(10,0,null,null,14,"app-form-field",[["class","mt-2 mb-2"],["label","Permissions"],["theme","light"]],null,null,null,le,te)),l.ub(11,114688,null,0,ee,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),l.vb(12,0,null,0,12,"mat-radio-group",[["class","dialog__radio-group text-12 mt-2 mat-radio-group"],["formControlName","groupEditEnabled"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.ub(13,1064960,null,1,ve.c,[l.i],null,null),l.Nb(603979776,1,{_radios:1}),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ve.c]),l.ub(16,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(18,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(19,0,null,null,2,"mat-radio-button",[["class","mb-2 mat-radio-button"],["value","false"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Hb(e,20)._inputElement.nativeElement.focus()&&i),i}),xe.b,xe.a)),l.ub(20,4440064,[[1,4]],0,ve.b,[[2,ve.c],l.l,l.i,pe.e,Oe.c,[2,de.a],[2,ve.a]],{value:[0,"value"]},null),(e()(),l.Pb(-1,0,["Team - View Only"])),(e()(),l.vb(22,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"],["value","true"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Hb(e,23)._inputElement.nativeElement.focus()&&i),i}),xe.b,xe.a)),l.ub(23,4440064,[[1,4]],0,ve.b,[[2,ve.c],l.l,l.i,pe.e,Oe.c,[2,de.a],[2,ve.a]],{value:[0,"value"]},null),(e()(),l.Pb(-1,0,["Team - View & Edit"])),(e()(),l.lb(16777216,null,null,2,null,Kp)),l.ub(26,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(28,0,null,null,14,"div",[["class","pt-2 mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.ub(29,16384,null,0,pp.f,[],null,null),(e()(),l.vb(30,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["class","mr-2"],["type","button"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,31).dialogRef.close(l.Hb(e,31).dialogResult)&&i),i}),$e,Be)),l.ub(31,606208,null,0,pp.g,[[2,pp.l],l.l,pp.e],{type:[0,"type"]},null),l.ub(32,114688,null,0,Ue,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Cancel"])),(e()(),l.vb(34,0,null,null,8,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSubmit()&&l),l}),$e,Be)),l.ub(35,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],disabled:[1,"disabled"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,0,2,null,Xp)),l.ub(38,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,0,2,null,Zp)),l.ub(41,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n,i=t.component;e(t,1,0),e(t,7,0,i.form),e(t,11,0,"Permissions","light"),e(t,16,0,"groupEditEnabled"),e(t,20,0,"false"),e(t,23,0,"true"),e(t,26,0,null==(n=l.Qb(t,26,0,l.Hb(t,27).transform(i.collections$)))?null:n.length),e(t,31,0,"button"),e(t,32,0,"light"),e(t,35,0,"primary",l.Qb(t,35,1,l.Hb(t,36).transform(i.copying$))),e(t,38,0,l.Qb(t,38,0,l.Hb(t,39).transform(i.copying$))),e(t,41,0,!l.Qb(t,41,0,l.Hb(t,42).transform(i.copying$)))}),(function(e,t){e(t,0,0,l.Hb(t,1).id),e(t,5,0,l.Hb(t,9).ngClassUntouched,l.Hb(t,9).ngClassTouched,l.Hb(t,9).ngClassPristine,l.Hb(t,9).ngClassDirty,l.Hb(t,9).ngClassValid,l.Hb(t,9).ngClassInvalid,l.Hb(t,9).ngClassPending),e(t,12,0,l.Hb(t,18).ngClassUntouched,l.Hb(t,18).ngClassTouched,l.Hb(t,18).ngClassPristine,l.Hb(t,18).ngClassDirty,l.Hb(t,18).ngClassValid,l.Hb(t,18).ngClassInvalid,l.Hb(t,18).ngClassPending),e(t,19,1,[l.Hb(t,20).checked,l.Hb(t,20).disabled,"NoopAnimations"===l.Hb(t,20)._animationMode,"primary"===l.Hb(t,20).color,"accent"===l.Hb(t,20).color,"warn"===l.Hb(t,20).color,-1,l.Hb(t,20).id,null,null,null]),e(t,22,1,[l.Hb(t,23).checked,l.Hb(t,23).disabled,"NoopAnimations"===l.Hb(t,23)._animationMode,"primary"===l.Hb(t,23).color,"accent"===l.Hb(t,23).color,"warn"===l.Hb(t,23).color,-1,l.Hb(t,23).id,null,null,null]),e(t,30,0,l.Hb(t,31).ariaLabel||null,l.Hb(t,31).type,l.Hb(t,32).disabled),e(t,34,0,l.Hb(t,35).disabled)}))}function ed(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-add-team-model-dialog",[],null,null,null,Yp,Jp)),l.ub(1,245760,null,0,rp,[g.i,g.b,ie.f,pp.l,hp.c,En,pp.a],null,null)],(function(e,t){e(t,1,0)}),null)}var td=l.rb("app-add-team-model-dialog",rp,ed,{},{},[]);class nd{constructor(e){this.domSanitizer=e,this.size="medium"}get isTransparent(){return this.color&&Bo.isTransparent(this.color)}ngOnInit(){}getBackgroundCSS(){if(this.color&&!this.isTransparent){const e=Bo.toCSS(this.color);return this.domSanitizer.bypassSecurityTrustStyle(e)}return null}}var ld=l.tb({encapsulation:0,styles:[[".item[_ngcontent-%COMP%]{border-radius:1px;cursor:pointer;border:1px solid #eaeff5}.item--small[_ngcontent-%COMP%]{width:12px;height:12px}.item--medium[_ngcontent-%COMP%]{width:24px;height:24px}.item--large[_ngcontent-%COMP%]{width:36px;height:36px}.item--selected[_ngcontent-%COMP%]{border-color:#1c5ab9;border-width:2px}.item--transparent[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f9fafd 48%,#de3838 50%,#f9fafd 52%)}"]],data:{}});function id(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,0,"div",[["class","item"]],[[2,"item--x-small",null],[2,"item--small",null],[2,"item--medium",null],[2,"item--large",null],[2,"item--x-large",null],[2,"item--selected",null],[2,"item--transparent",null],[4,"background-image",null]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,0,0,"x-small"===n.size,"small"===n.size,"medium"===n.size,"large"===n.size,"x-large"===n.size,n.selected,n.isTransparent,n.getBackgroundCSS())}))}class ad{constructor(){this.theme="dark",this.min=0,this.max=100,this.step=1,this._value=0,this.disabled=!1,this.onChange=()=>{},this.onTouched=()=>{},this.propagateChange=e=>{}}get value(){return this._value}set value(e){null!=e&&(null==this._initialValue&&(this._initialValue=e),this._value=e,this.propagateChange(this.value))}ngOnInit(){}handleRangeDoubleClick(){this.value=this._initialValue}writeValue(e){this.value=e}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}var od=l.tb({encapsulation:0,styles:[[".slider[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex}.slider__range[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 100%}.slider__input[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 0 64px;margin-left:8px}"]],data:{}});function sd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,16,"div",[["class","slider"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,7,"div",[["class","slider__range"]],null,null,null,null,null)),(e()(),l.vb(2,0,null,null,6,"input",[["class","range"],["type","range"]],[[2,"light",null],[2,"dark",null],[8,"min",0],[8,"max",0],[8,"step",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"dblclick"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==l.Hb(e,3)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,3).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,3)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,3)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Hb(e,4).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Hb(e,4).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,4).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(a.value=n)&&i),"dblclick"===t&&(i=!1!==a.handleRangeDoubleClick()&&i),i}),null,null)),l.ub(3,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.ub(4,16384,null,0,ie.t,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e,t){return[e,t]}),[ie.d,ie.t]),l.ub(6,671744,null,0,ie.q,[[8,null],[8,null],[8,null],[6,ie.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l.Mb(2048,null,ie.n,null,[ie.q]),l.ub(8,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(9,0,null,null,7,"div",[["class","slider__input"]],null,null,null,null,null)),(e()(),l.vb(10,0,null,null,6,"input",[["class","input"],["type","number"]],[[8,"min",0],[8,"max",0],[8,"step",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,a=e.component;return"input"===t&&(i=!1!==l.Hb(e,11)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,11).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,11)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,11)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==l.Hb(e,12).onChange(n.target.value)&&i),"input"===t&&(i=!1!==l.Hb(e,12).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,12).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(a.value=n)&&i),i}),null,null)),l.ub(11,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.ub(12,16384,null,0,ie.s,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e,t){return[e,t]}),[ie.d,ie.s]),l.ub(14,671744,null,0,ie.q,[[8,null],[8,null],[8,null],[6,ie.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),l.Mb(2048,null,ie.n,null,[ie.q]),l.ub(16,16384,null,0,ie.o,[[4,ie.n]],null,null)],(function(e,t){var n=t.component;e(t,6,0,n.disabled,n.value),e(t,14,0,n.disabled,n.value)}),(function(e,t){var n=t.component;e(t,2,1,["light"===n.theme,"dark"===n.theme,n.min,n.max,n.step,l.Hb(t,8).ngClassUntouched,l.Hb(t,8).ngClassTouched,l.Hb(t,8).ngClassPristine,l.Hb(t,8).ngClassDirty,l.Hb(t,8).ngClassValid,l.Hb(t,8).ngClassInvalid,l.Hb(t,8).ngClassPending]),e(t,10,0,n.min,n.max,n.step,l.Hb(t,16).ngClassUntouched,l.Hb(t,16).ngClassTouched,l.Hb(t,16).ngClassPristine,l.Hb(t,16).ngClassDirty,l.Hb(t,16).ngClassValid,l.Hb(t,16).ngClassInvalid,l.Hb(t,16).ngClassPending)}))}var rd=function(e){return e.Danger="danger",e.Info="info",e}({});class cd{constructor(){this.type=rd.Info,this.theme="dark"}ngOnInit(){}}var ud=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}:host{display:block}.app-alert{border-radius:4px;padding:16px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.app-alert--info{background:rgba(45,144,220,.15);border:1px solid rgba(45,144,220,.5)}.app-alert--danger{background:rgba(222,56,56,.15);border:1px solid rgba(222,56,56,.4)}.app-alert--light{color:#1c2a3f}.app-alert--light a,.app-alert--light a:visited{color:#283853}.app-alert--dark{color:#f9fafd}.app-alert--dark a,.app-alert--dark a:visited{color:#fff}"]],data:{}});function pd(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,3,"div",[["class","app-alert"]],[[2,"app-alert--dark",null],[2,"app-alert--light",null]],null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Gb(null,0)],(function(e,t){e(t,2,0,"app-alert","app-alert--"+t.component.type)}),(function(e,t){var n=t.component;e(t,0,0,"dark"===n.theme,"light"===n.theme)}))}var dd=l.tb({encapsulation:0,styles:[[".background[_ngcontent-%COMP%]{width:256px;min-height:280px}.background__section[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.background__swatches[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap}"]],data:{}});function bd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-swatch-item",[["class","m-1"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handlePresetSelected(e.context.$implicit)&&l),l}),id,ld)),l.ub(1,114688,null,0,nd,[No.b],{color:[0,"color"],size:[1,"size"],selected:[2,"selected"]},null)],(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit,"medium",n.backgroundsEqual(t.context.$implicit,n.presetBackground))}),null)}function gd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-swatch-item",[["class","m-1"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handlePresetSelected(e.context.$implicit)&&l),l}),id,ld)),l.ub(1,114688,null,0,nd,[No.b],{color:[0,"color"],size:[1,"size"]},null)],(function(e,t){e(t,1,0,t.context.$implicit,"medium")}),null)}function hd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,3,"app-form-field",[["label","Color"]],null,null,null,le,te)),l.ub(2,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(3,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,4).handleClick()&&i),"focus"===t&&(i=!1!==l.Hb(e,4).handleFocus()&&i),"input"===t&&(i=!1!==l.Hb(e,4).handleInput(n)&&i),"colorPickerChange"===t&&(i=!1!==a.handleFormColorSelected("color1",n)&&i),i}),null,null)),l.ub(4,671744,null,0,We.b,[l.r,l.k,l.g,l.Q,l.l,We.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"})],(function(e,t){var n=t.component;e(t,2,0,"Color"),e(t,4,0,n.getFormBackgroundHex("color1"),"hex","disabled","left")}),(function(e,t){e(t,3,0,t.component.getFormBackgroundHex("color1"))}))}function md(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,24,"div",[],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,3,"app-form-field",[["label","Inner Color"]],null,null,null,le,te)),l.ub(2,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(3,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,4).handleClick()&&i),"focus"===t&&(i=!1!==l.Hb(e,4).handleFocus()&&i),"input"===t&&(i=!1!==l.Hb(e,4).handleInput(n)&&i),"colorPickerChange"===t&&(i=!1!==a.handleFormColorSelected("color1",n)&&i),i}),null,null)),l.ub(4,671744,null,0,We.b,[l.r,l.k,l.g,l.Q,l.l,We.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(e()(),l.vb(5,0,null,null,7,"app-form-field",[["label","Inner Radius"]],null,null,null,le,te)),l.ub(6,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(7,0,null,0,5,"app-slider",[["formControlName","stop1"],["theme","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,sd,od)),l.ub(8,114688,null,0,ad,[],{theme:[0,"theme"],min:[1,"min"],max:[2,"max"]},null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ad]),l.ub(10,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(12,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(13,0,null,null,3,"app-form-field",[["label","Outer Color"]],null,null,null,le,te)),l.ub(14,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(15,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,16).handleClick()&&i),"focus"===t&&(i=!1!==l.Hb(e,16).handleFocus()&&i),"input"===t&&(i=!1!==l.Hb(e,16).handleInput(n)&&i),"colorPickerChange"===t&&(i=!1!==a.handleFormColorSelected("color2",n)&&i),i}),null,null)),l.ub(16,671744,null,0,We.b,[l.r,l.k,l.g,l.Q,l.l,We.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(e()(),l.vb(17,0,null,null,7,"app-form-field",[["label","Outer Radius"]],null,null,null,le,te)),l.ub(18,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(19,0,null,0,5,"app-slider",[["formControlName","stop2"],["theme","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,sd,od)),l.ub(20,114688,null,0,ad,[],{theme:[0,"theme"],min:[1,"min"],max:[2,"max"]},null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ad]),l.ub(22,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(24,16384,null,0,ie.o,[[4,ie.n]],null,null)],(function(e,t){var n=t.component;e(t,2,0,"Inner Color"),e(t,4,0,n.getFormBackgroundHex("color1"),"hex","disabled","left"),e(t,6,0,"Inner Radius"),e(t,8,0,"light",0,100),e(t,10,0,"stop1"),e(t,14,0,"Outer Color"),e(t,16,0,n.getFormBackgroundHex("color2"),"hex","disabled","left"),e(t,18,0,"Outer Radius"),e(t,20,0,"light",0,100),e(t,22,0,"stop2")}),(function(e,t){var n=t.component;e(t,3,0,n.getFormBackgroundHex("color1")),e(t,7,0,l.Hb(t,12).ngClassUntouched,l.Hb(t,12).ngClassTouched,l.Hb(t,12).ngClassPristine,l.Hb(t,12).ngClassDirty,l.Hb(t,12).ngClassValid,l.Hb(t,12).ngClassInvalid,l.Hb(t,12).ngClassPending),e(t,15,0,n.getFormBackgroundHex("color2")),e(t,19,0,l.Hb(t,24).ngClassUntouched,l.Hb(t,24).ngClassTouched,l.Hb(t,24).ngClassPristine,l.Hb(t,24).ngClassDirty,l.Hb(t,24).ngClassValid,l.Hb(t,24).ngClassInvalid,l.Hb(t,24).ngClassPending)}))}function _d(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,24,"div",[],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,3,"app-form-field",[["label","Starting Color"]],null,null,null,le,te)),l.ub(2,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(3,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,4).handleClick()&&i),"focus"===t&&(i=!1!==l.Hb(e,4).handleFocus()&&i),"input"===t&&(i=!1!==l.Hb(e,4).handleInput(n)&&i),"colorPickerChange"===t&&(i=!1!==a.handleFormColorSelected("color1",n)&&i),i}),null,null)),l.ub(4,671744,null,0,We.b,[l.r,l.k,l.g,l.Q,l.l,We.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(e()(),l.vb(5,0,null,null,7,"app-form-field",[["label","Starting Color Stop"]],null,null,null,le,te)),l.ub(6,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(7,0,null,0,5,"app-slider",[["formControlName","stop1"],["theme","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,sd,od)),l.ub(8,114688,null,0,ad,[],{theme:[0,"theme"],min:[1,"min"],max:[2,"max"]},null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ad]),l.ub(10,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(12,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(13,0,null,null,3,"app-form-field",[["label","Ending Color"]],null,null,null,le,te)),l.ub(14,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(15,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,16).handleClick()&&i),"focus"===t&&(i=!1!==l.Hb(e,16).handleFocus()&&i),"input"===t&&(i=!1!==l.Hb(e,16).handleInput(n)&&i),"colorPickerChange"===t&&(i=!1!==a.handleFormColorSelected("color2",n)&&i),i}),null,null)),l.ub(16,671744,null,0,We.b,[l.r,l.k,l.g,l.Q,l.l,We.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(e()(),l.vb(17,0,null,null,7,"app-form-field",[["label","Ending Color Stop"]],null,null,null,le,te)),l.ub(18,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(19,0,null,0,5,"app-slider",[["formControlName","stop2"],["theme","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,sd,od)),l.ub(20,114688,null,0,ad,[],{theme:[0,"theme"],min:[1,"min"],max:[2,"max"]},null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ad]),l.ub(22,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(24,16384,null,0,ie.o,[[4,ie.n]],null,null)],(function(e,t){var n=t.component;e(t,2,0,"Starting Color"),e(t,4,0,n.getFormBackgroundHex("color1"),"hex","disabled","left"),e(t,6,0,"Starting Color Stop"),e(t,8,0,"light",0,100),e(t,10,0,"stop1"),e(t,14,0,"Ending Color"),e(t,16,0,n.getFormBackgroundHex("color2"),"hex","disabled","left"),e(t,18,0,"Ending Color Stop"),e(t,20,0,"light",0,100),e(t,22,0,"stop2")}),(function(e,t){var n=t.component;e(t,3,0,n.getFormBackgroundHex("color1")),e(t,7,0,l.Hb(t,12).ngClassUntouched,l.Hb(t,12).ngClassTouched,l.Hb(t,12).ngClassPristine,l.Hb(t,12).ngClassDirty,l.Hb(t,12).ngClassValid,l.Hb(t,12).ngClassInvalid,l.Hb(t,12).ngClassPending),e(t,15,0,n.getFormBackgroundHex("color2")),e(t,19,0,l.Hb(t,24).ngClassUntouched,l.Hb(t,24).ngClassTouched,l.Hb(t,24).ngClassPristine,l.Hb(t,24).ngClassDirty,l.Hb(t,24).ngClassValid,l.Hb(t,24).ngClassInvalid,l.Hb(t,24).ngClassPending)}))}function fd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,2,"app-alert",[["theme","light"],["type","info"]],null,null,null,pd,ud)),l.ub(2,114688,null,0,cd,[],{type:[0,"type"],theme:[1,"theme"]},null),(e()(),l.Pb(-1,0,[" The background of your application will appear behind the 3D model. "]))],(function(e,t){e(t,2,0,"info","light")}),null)}function yd(e){return l.Rb(2,[l.Nb(402653184,1,{presetTab:0}),l.Nb(402653184,2,{customTab:0}),(e()(),l.vb(2,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.ub(3,81920,null,0,pp.m,[[2,pp.l],l.l,pp.e],null,null),(e()(),l.Pb(-1,null,[" Background Color\n"])),(e()(),l.vb(5,0,null,null,59,"div",[["class","background theme-light"]],null,null,null,null,null)),(e()(),l.vb(6,0,null,null,58,"app-tabs",[],null,[[null,"activeTabChange"]],(function(e,t,n){var l=!0;return"activeTabChange"===t&&(l=!1!==e.component.handleTabChange(n)&&l),l}),Ie,Pe)),l.ub(7,1294336,null,1,Se,[l.i],null,{activeTabChange:"activeTabChange"}),l.Nb(603979776,3,{_tabs:1}),(e()(),l.vb(9,0,null,0,15,"app-tab",[["label","Presets"]],null,null,null,Le,ze)),l.ub(10,114688,[[3,4],[1,4],["presetTab",4]],0,Te,[l.i],{label:[0,"label"]},null),(e()(),l.vb(11,0,null,0,13,"div",[["class","background__section mt-3"]],null,null,null,null,null)),(e()(),l.vb(12,0,null,null,4,"app-form-field",[],null,null,null,le,te)),l.ub(13,114688,null,0,ee,[],null,null),(e()(),l.vb(14,0,null,0,2,"div",[["class","background__swatches"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,bd)),l.ub(16,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),(e()(),l.vb(17,0,null,null,2,"button",[["app-button",""],["buttonSize","small"],["buttonTheme","light"],["buttonType","outline"],["class","mb-4"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleResetClick()&&l),l}),$e,Be)),l.ub(18,114688,null,0,Ue,[],{buttonSize:[0,"buttonSize"],buttonType:[1,"buttonType"],buttonTheme:[2,"buttonTheme"]},null),(e()(),l.Pb(-1,0,[" Revert to Original "])),(e()(),l.vb(20,0,null,null,4,"app-form-field",[["label","Currently Used"]],null,null,null,le,te)),l.ub(21,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(22,0,null,0,2,"div",[["class","background__swatches"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,gd)),l.ub(24,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),(e()(),l.vb(25,0,null,0,39,"app-tab",[["label","Custom"]],null,null,null,Le,ze)),l.ub(26,114688,[[3,4],[2,4],["customTab",4]],0,Te,[l.i],{label:[0,"label"]},null),(e()(),l.vb(27,0,null,0,37,"form",[["class","background__section mt-4"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Hb(e,30).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Hb(e,30).onReset()&&i),i}),null,null)),l.ub(28,16384,null,0,Y.q,[],{ngSwitch:[0,"ngSwitch"]},null),l.ub(29,16384,null,0,ie.C,[],null,null),l.ub(30,540672,null,0,ie.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Mb(2048,null,ie.c,null,[ie.h]),l.ub(32,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(33,0,null,null,23,"app-form-field",[["label","Type"]],null,null,null,le,te)),l.ub(34,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(35,0,null,0,21,"select",[["class","input"],["formControlName","type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Hb(e,36).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,36).onTouched()&&i),i}),null,null)),l.ub(36,16384,null,0,ie.w,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.w]),l.ub(38,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(40,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(41,0,null,null,3,"option",[["value","solid"]],null,null,null,null,null)),l.ub(42,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(43,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(-1,null,["Solid Color"])),(e()(),l.vb(45,0,null,null,3,"option",[["value","radial"]],null,null,null,null,null)),l.ub(46,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(47,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(-1,null,["Radial Gradient"])),(e()(),l.vb(49,0,null,null,3,"option",[["value","linear"]],null,null,null,null,null)),l.ub(50,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(51,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(-1,null,["Linear Gradient"])),(e()(),l.vb(53,0,null,null,3,"option",[["value","transparent"]],null,null,null,null,null)),l.ub(54,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(55,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(-1,null,["Transparent"])),(e()(),l.lb(16777216,null,null,1,null,hd)),l.ub(58,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,md)),l.ub(60,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,_d)),l.ub(62,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,fd)),l.ub(64,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.vb(65,0,null,null,8,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.ub(66,16384,null,0,pp.f,[],null,null),(e()(),l.vb(67,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["class","mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.applyAll()&&l),l}),$e,Be)),l.ub(68,114688,null,0,Ue,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Apply to All"])),(e()(),l.vb(70,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["cdkFocusInitial",""]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,71).dialogRef.close(l.Hb(e,71).dialogResult)&&i),i}),$e,Be)),l.ub(71,606208,null,0,pp.g,[[2,pp.l],l.l,pp.e],{dialogResult:[0,"dialogResult"]},null),l.ub(72,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Done"]))],(function(e,t){var n=t.component;e(t,3,0),e(t,7,0),e(t,10,0,"Presets"),e(t,13,0),e(t,16,0,n.presetBackgrounds),e(t,18,0,"small","outline","light"),e(t,21,0,"Currently Used"),e(t,24,0,n.distinctBackgrounds),e(t,26,0,"Custom"),e(t,28,0,n.form.get("type").value),e(t,30,0,n.form),e(t,34,0,"Type"),e(t,38,0,"type"),e(t,42,0,"solid"),e(t,43,0,"solid"),e(t,46,0,"radial"),e(t,47,0,"radial"),e(t,50,0,"linear"),e(t,51,0,"linear"),e(t,54,0,"transparent"),e(t,55,0,"transparent"),e(t,58,0,"solid"),e(t,60,0,"radial"),e(t,62,0,"linear"),e(t,64,0,"transparent"),e(t,68,0,"light"),e(t,71,0,!0),e(t,72,0,"flat","light")}),(function(e,t){e(t,2,0,l.Hb(t,3).id),e(t,17,0,l.Hb(t,18).disabled),e(t,27,0,l.Hb(t,32).ngClassUntouched,l.Hb(t,32).ngClassTouched,l.Hb(t,32).ngClassPristine,l.Hb(t,32).ngClassDirty,l.Hb(t,32).ngClassValid,l.Hb(t,32).ngClassInvalid,l.Hb(t,32).ngClassPending),e(t,35,0,l.Hb(t,40).ngClassUntouched,l.Hb(t,40).ngClassTouched,l.Hb(t,40).ngClassPristine,l.Hb(t,40).ngClassDirty,l.Hb(t,40).ngClassValid,l.Hb(t,40).ngClassInvalid,l.Hb(t,40).ngClassPending),e(t,67,0,l.Hb(t,68).disabled),e(t,70,0,l.Hb(t,71).ariaLabel||null,l.Hb(t,71).type,l.Hb(t,72).disabled)}))}function vd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-background-color-dialog",[],null,null,null,yd,dd)),l.ub(1,245760,null,0,up,[g.i,g.b,ie.f,hp.c],null,null)],(function(e,t){e(t,1,0)}),null)}var xd=l.rb("app-background-color-dialog",up,vd,{},{},[]),Od=l.tb({encapsulation:0,styles:[[".copy[_ngcontent-%COMP%]{min-width:480px;display:-webkit-box;display:flex}.copy__input[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}"]],data:{}});function Cd(e){return l.Rb(2,[l.Nb(402653184,1,{copyField:0}),(e()(),l.vb(1,0,null,null,2,"div",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.ub(2,81920,null,0,pp.m,[[2,pp.l],l.l,pp.e],null,null),(e()(),l.Pb(3,null,[" ","\n"])),(e()(),l.vb(4,0,null,null,3,"div",[["class","copy mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.ub(5,16384,null,0,pp.j,[],null,null),(e()(),l.vb(6,0,[[1,0],["copyField",1]],null,1,"textarea",[["class","copy__input"]],[[8,"value",0],[8,"rows",0]],null,null,null,null)),(e()(),l.Pb(-1,null,["  "])),(e()(),l.vb(8,0,null,null,7,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.ub(9,16384,null,0,pp.f,[],null,null),(e()(),l.vb(10,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCancelClick()&&l),l}),$e,Be)),l.ub(11,114688,null,0,Ue,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Cancel"])),(e()(),l.vb(13,0,null,null,2,"button",[["app-button",""],["buttonType","primary"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCopyClick()&&l),l}),$e,Be)),l.ub(14,114688,null,0,Ue,[],{buttonType:[0,"buttonType"]},null),(e()(),l.Pb(-1,0,["Copy to Clipboard"]))],(function(e,t){e(t,2,0),e(t,11,0,"light"),e(t,14,0,"primary")}),(function(e,t){var n=t.component;e(t,1,0,l.Hb(t,2).id),e(t,3,0,n.settings.title),e(t,6,0,n.settings.copyText,n.rowCount),e(t,10,0,l.Hb(t,11).disabled),e(t,13,0,l.Hb(t,14).disabled)}))}function wd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-clipboard-dialog",[],null,null,null,Cd,Od)),l.ub(1,4308992,null,0,fu,[pp.l,pp.a,Xc],null,null)],(function(e,t){e(t,1,0)}),null)}var jd=l.rb("app-clipboard-dialog",fu,wd,{},{},[]),kd=l.tb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.dialog__actions[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.dialog__actions--compact[_ngcontent-%COMP%]{-webkit-box-pack:end;justify-content:flex-end}@media (min-width:480px){[_nghost-%COMP%]{min-width:320px}}"]],data:{}});function Sd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,1).dialogRef.close(l.Hb(e,1).dialogResult)&&i),i}),$e,Be)),l.ub(1,606208,null,0,pp.g,[[2,pp.l],l.l,pp.e],null,null),l.ub(2,114688,null,0,Ue,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Pb(3,0,["",""]))],(function(e,t){e(t,1,0),e(t,2,0,"light")}),(function(e,t){var n=t.component;e(t,0,0,l.Hb(t,1).ariaLabel||null,l.Hb(t,1).type,l.Hb(t,2).disabled),e(t,3,0,n.settings.miscText)}))}function Pd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["class","mr-1"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,1).dialogRef.close(l.Hb(e,1).dialogResult)&&i),i}),$e,Be)),l.ub(1,606208,null,0,pp.g,[[2,pp.l],l.l,pp.e],{dialogResult:[0,"dialogResult"]},null),l.ub(2,114688,null,0,Ue,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Pb(3,0,["",""]))],(function(e,t){e(t,1,0,!1),e(t,2,0,"light")}),(function(e,t){var n=t.component;e(t,0,0,l.Hb(t,1).ariaLabel||null,l.Hb(t,1).type,l.Hb(t,2).disabled),e(t,3,0,n.settings.cancelText)}))}function Md(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,1).dialogRef.close(l.Hb(e,1).dialogResult)&&i),i}),$e,Be)),l.ub(1,606208,null,0,pp.g,[[2,pp.l],l.l,pp.e],{dialogResult:[0,"dialogResult"]},null),l.ub(2,114688,null,0,Ue,[],{buttonType:[0,"buttonType"]},null),(e()(),l.Pb(3,0,["",""]))],(function(e,t){e(t,1,0,!0),e(t,2,0,"primary")}),(function(e,t){var n=t.component;e(t,0,0,l.Hb(t,1).ariaLabel||null,l.Hb(t,1).type,l.Hb(t,2).disabled),e(t,3,0,n.settings.confirmText)}))}function Hd(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.ub(1,81920,null,0,pp.m,[[2,pp.l],l.l,pp.e],null,null),(e()(),l.Pb(2,null,[" ","\n"])),(e()(),l.vb(3,0,null,null,3,"div",[["class","pt-4 pb-6 mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.ub(4,16384,null,0,pp.j,[],null,null),(e()(),l.vb(5,0,null,null,1,"div",[["class","text-14"]],null,null,null,null,null)),(e()(),l.Pb(6,null,["",""])),(e()(),l.vb(7,0,null,null,8,"div",[["class","dialog__actions pt-2 mat-dialog-actions"],["mat-dialog-actions",""]],[[2,"dialog__actions--compact",null]],null,null,null,null)),l.ub(8,16384,null,0,pp.f,[],null,null),(e()(),l.lb(16777216,null,null,1,null,Sd)),l.ub(10,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(11,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Pd)),l.ub(13,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Md)),l.ub(15,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0),e(t,10,0,n.settings.miscText),e(t,13,0,n.settings.cancelEnabled),e(t,15,0,n.settings.confirmEnabled)}),(function(e,t){var n=t.component;e(t,0,0,l.Hb(t,1).id),e(t,2,0,n.settings.titleText),e(t,6,0,n.settings.bodyText),e(t,7,0,!n.settings.miscText)}))}function Id(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-confirm-dialog",[],null,null,null,Hd,kd)),l.ub(1,114688,null,0,tu,[pp.l,pp.a],null,null)],(function(e,t){e(t,1,0)}),null)}var Td=l.rb("app-confirm-dialog",tu,Id,{},{},[]),zd=l.tb({encapsulation:0,styles:[[".welcome[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.welcome__close[_ngcontent-%COMP%]{cursor:pointer;align-self:flex-end}.welcome__button[_ngcontent-%COMP%]{margin:auto 8px}"]],data:{}});function Fd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"img",[["class","m-4"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.organization.group_logos.default)}))}function Ld(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,14,"div",[["class","welcome"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-icon",[["class","welcome__close"],["icon","times"],["size","lg"],["title","Close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCancelClick()&&l),l}),se,oe)),l.ub(2,114688,null,0,ae,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.vb(3,0,null,null,1,"div",[["class","m-4 text-16"]],null,null,null,null,null)),(e()(),l.Pb(4,null,[" Welcome to the "," Group Network! "])),(e()(),l.lb(16777216,null,null,1,null,Fd)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(7,0,null,null,7,"div",[["class","m-4 mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.ub(8,16384,null,0,pp.f,[],null,null),(e()(),l.vb(9,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","welcome__button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCancelClick()&&l),l}),$e,Be)),l.ub(10,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Pb(-1,0,[" No, thank you "])),(e()(),l.vb(12,0,null,null,2,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""],["class","welcome__button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleJoinClick()&&l),l}),$e,Be)),l.ub(13,114688,null,0,Ue,[],{buttonType:[0,"buttonType"]},null),(e()(),l.Pb(-1,0,[" Join Group "]))],(function(e,t){var n=t.component;e(t,2,0,"times","lg"),e(t,6,0,n.organization.group_logos.default),e(t,10,0,"outline","light"),e(t,13,0,"primary")}),(function(e,t){e(t,4,0,t.component.organization.name),e(t,9,0,l.Hb(t,10).disabled),e(t,12,0,l.Hb(t,13).disabled)}))}function Ed(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-domain-join-dialog",[],null,null,null,Ld,zd)),l.ub(1,245760,null,0,Cu,[g.i,pp.l,pp.a,g.b,hp.c],null,null)],(function(e,t){e(t,1,0)}),null)}var Nd=l.rb("app-domain-join-dialog",Cu,Ed,{},{},[]),Rd=l.tb({encapsulation:0,styles:[[""]],data:{}});function Ad(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"div",[["class","text-14"]],null,null,null,null,null)),(e()(),l.Pb(1,null,[" You must be within the "," network to access this group account. "])),(e()(),l.vb(2,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),l.Pb(-1,null,["Contact us"])),(e()(),l.Pb(-1,null,[" if you have any questions regarding your group account. "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.organizationName),e(t,2,0,"mailto:"+n.supportEmail)}))}function Dd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"div",[["class","text-14"]],null,null,null,null,null)),(e()(),l.Pb(1,null,[" You must be within the "," network to access this group account. "])),(e()(),l.vb(2,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),l.Pb(-1,null,["Contact us"])),(e()(),l.Pb(-1,null,[" if you have any questions regarding your group account. "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.organizationName),e(t,2,0,"mailto:"+n.supportEmail)}))}function Ud(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,4,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.ub(1,81920,null,0,pp.m,[[2,pp.l],l.l,pp.e],null,null),(e()(),l.Pb(-1,null,[" Oh no, you have no access to the "])),(e()(),l.vb(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l.Pb(4,null,[""," group!\n"])),(e()(),l.vb(5,0,null,null,5,"div",[["class","pt-4 pb-6 mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.ub(6,16384,null,0,pp.j,[],null,null),(e()(),l.lb(16777216,null,null,1,null,Ad)),l.ub(8,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Dd)),l.ub(10,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(11,0,null,null,8,"div",[["class","pt-2 mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.ub(12,16384,null,0,pp.f,[],null,null),(e()(),l.vb(13,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleDontShowClick()&&l),l}),$e,Be)),l.ub(14,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Don't show me this again"])),(e()(),l.vb(16,0,null,null,3,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,17).dialogRef.close(l.Hb(e,17).dialogResult)&&i),i}),$e,Be)),l.ub(17,606208,null,0,pp.g,[[2,pp.l],l.l,pp.e],{dialogResult:[0,"dialogResult"]},null),l.ub(18,114688,null,0,Ue,[],{buttonType:[0,"buttonType"]},null),(e()(),l.Pb(-1,0,["Close"]))],(function(e,t){var n=t.component;e(t,1,0),e(t,8,0,n.ip),e(t,10,0,n.email),e(t,14,0,"outline","light"),e(t,17,0,!0),e(t,18,0,"primary")}),(function(e,t){var n=t.component;e(t,0,0,l.Hb(t,1).id),e(t,4,0,n.organizationName),e(t,13,0,l.Hb(t,14).disabled),e(t,16,0,l.Hb(t,17).ariaLabel||null,l.Hb(t,17).type,l.Hb(t,18).disabled)}))}function Bd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-group-restriction-dialog",[],null,null,null,Ud,Rd)),l.ub(1,114688,null,0,_u,[pp.l,pp.a,En],null,null)],(function(e,t){e(t,1,0)}),null)}var $d=l.rb("app-group-restriction-dialog",_u,Bd,{},{},[]),Vd=l.tb({encapsulation:0,styles:[[".modal[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.modal__close[_ngcontent-%COMP%]{margin-bottom:4px;align-self:flex-end;cursor:pointer}.modal__contents[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;height:100vh}.modal__frame[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;display:-webkit-box;display:flex}"]],data:{}});function Qd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"iframe",[["class","modal__frame"]],[[8,"src",5]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.src)}))}function Gd(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,5,"div",[["class","modal"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-icon",[["class","modal__close"],["icon","times"],["size","lg"],["title","close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog()&&l),l}),se,oe)),l.ub(2,114688,null,0,ae,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.vb(3,0,null,null,2,"div",[["class","modal__contents"]],[[4,"height",null]],null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Qd)),l.ub(5,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,"times","lg"),e(t,5,0,n.src)}),(function(e,t){e(t,3,0,t.component.height+"px")}))}function Wd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-legacy-dialog",[],null,null,null,Gd,Vd)),l.ub(1,114688,null,0,eu,[pp.l,pp.a,No.b],null,null)],(function(e,t){e(t,1,0)}),null)}var Jd=l.rb("app-legacy-dialog",eu,Wd,{},{},[]),qd=l.tb({encapsulation:0,styles:[[""]],data:{}});function Kd(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.ub(1,81920,null,0,pp.m,[[2,pp.l],l.l,pp.e],null,null),(e()(),l.Pb(-1,null,[" New Bookmark Limit Reached\n"])),(e()(),l.vb(3,0,null,null,5,"div",[["class","pt-1 pb-6 mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.ub(4,16384,null,0,pp.j,[],null,null),(e()(),l.vb(5,0,null,null,1,"div",[["class","text-14 pb-3"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["You've reached your limit of 5 3D models in your dashboard. You can make changes to this model, but you will not be able to save as a new model."])),(e()(),l.vb(7,0,null,null,1,"div",[["class","text-14"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Upgrade to a Premium Plan to save unlimited 3D models."])),(e()(),l.vb(9,0,null,null,9,"div",[["class","pt-2 mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.ub(10,16384,null,0,pp.f,[],null,null),(e()(),l.vb(11,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["cdkFocusInitial",""],["class","mr-2"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,12).dialogRef.close(l.Hb(e,12).dialogResult)&&i),i}),$e,Be)),l.ub(12,606208,null,0,pp.g,[[2,pp.l],l.l,pp.e],{dialogResult:[0,"dialogResult"]},null),l.ub(13,114688,null,0,Ue,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["OK"])),(e()(),l.vb(15,0,null,null,3,"button",[["app-button",""],["buttonType","primary"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,16).dialogRef.close(l.Hb(e,16).dialogResult)&&i),i}),$e,Be)),l.ub(16,606208,null,0,pp.g,[[2,pp.l],l.l,pp.e],{dialogResult:[0,"dialogResult"]},null),l.ub(17,114688,null,0,Ue,[],{buttonType:[0,"buttonType"]},null),(e()(),l.Pb(-1,0,["Go Premium"]))],(function(e,t){e(t,1,0),e(t,12,0,!1),e(t,13,0,"light"),e(t,16,0,!0),e(t,17,0,"primary")}),(function(e,t){e(t,0,0,l.Hb(t,1).id),e(t,11,0,l.Hb(t,12).ariaLabel||null,l.Hb(t,12).type,l.Hb(t,13).disabled),e(t,15,0,l.Hb(t,16).ariaLabel||null,l.Hb(t,16).type,l.Hb(t,17).disabled)}))}function Xd(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-limit-dialog",[],null,null,null,Kd,qd)),l.ub(1,114688,null,0,Zc,[],null,null)],(function(e,t){e(t,1,0)}),null)}var Zd=l.rb("app-limit-dialog",Zc,Xd,{},{},[]),Yd=l.tb({encapsulation:0,styles:[[".survey[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:end;align-items:flex-end}.survey__close[_ngcontent-%COMP%]{cursor:pointer}.survey__frame[_ngcontent-%COMP%]{display:block;width:600px;height:520px}@media (max-width:760px){.survey__frame[_ngcontent-%COMP%]{display:block;width:100%}}"]],data:{}});function eb(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,3,"div",[["class","survey"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-icon",[["class","survey__close mb-2"],["icon","times"],["size","lg"],["title","close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog()&&l),l}),se,oe)),l.ub(2,114688,null,0,ae,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.vb(3,0,null,null,0,"iframe",[["class","survey__frame"]],[[8,"src",5]],null,null,null,null))],(function(e,t){e(t,2,0,"times","lg")}),(function(e,t){e(t,3,0,t.component.src)}))}function tb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-nps-dialog",[],null,null,null,eb,Yd)),l.ub(1,114688,null,0,Yu,[g.i,pp.l,pp.a,No.b],null,null)],(function(e,t){e(t,1,0)}),null)}var nb=l.rb("app-nps-dialog",Yu,tb,{},{},[]),lb=n("HsOI"),ib=n("xgIS");class ab{constructor(e,t){this.renderer=e,this.ref=t,this.ngUnsubscribe=new $.a,this.display="block",this.mode="count"}get remainingCount(){return this.max-this.count}ngOnInit(){this.count=0,this.max=this.field.maxLength||0}ngAfterViewInit(){this.input$=Object(ib.a)(this.field,"input"),this.input$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.updateCount()})}ngAfterContentChecked(){this.updateCount()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}updateCount(){const e=this.field.value.length;this.count!==e&&(this.count=e,this.ref.markForCheck())}}var ob=l.tb({encapsulation:0,styles:[[".theme-light[_nghost-%COMP%]   .counter__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .counter__label[_ngcontent-%COMP%]{color:#1c2a3f}.theme-dark[_nghost-%COMP%]   .counter__label[_ngcontent-%COMP%], .theme-dark   [_nghost-%COMP%]   .counter__label[_ngcontent-%COMP%]{color:#96a8c0}.counter[_ngcontent-%COMP%]{display:block;width:100%;float:right;text-align:right}.counter--inline[_ngcontent-%COMP%]{display:inline-block;width:auto}"]],data:{}});function sb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"span",[["class","counter__label"]],null,null,null,null,null)),(e()(),l.Pb(1,null,[""," "," remaining"]))],null,(function(e,t){var n=t.component;e(t,1,0,n.remainingCount,1===n.remainingCount?"character":"characters")}))}function rb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"span",[["class","counter__label"]],null,null,null,null,null)),(e()(),l.Pb(1,null,["","/",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.count,n.max)}))}function cb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,"div",[["class","counter text-10 pt-1 pb-1"]],[[2,"counter--inline",null]],null,null,null,null)),l.ub(1,16384,null,0,Y.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.lb(16777216,null,null,1,null,sb)),l.ub(3,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,rb)),l.ub(5,16384,null,0,Y.s,[l.Q,l.N,Y.q],null,null)],(function(e,t){e(t,1,0,t.component.mode),e(t,3,0,"remaining")}),(function(e,t){e(t,0,0,"inline"===t.component.display)}))}function ub(e){return l.Rb(0,[(e()(),l.lb(16777216,null,null,1,null,cb)),l.ub(1,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.max)}),null)}var pb=l.tb({encapsulation:0,styles:[[".save[_ngcontent-%COMP%]{min-width:380px}.save__message[_ngcontent-%COMP%]{color:#6a82a4;margin:12px auto;font-size:12px}.save__radio-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.save__permission[_ngcontent-%COMP%]{display:block;margin:4px auto}"]],data:{}});function db(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"p",[["class","save__message"]],null,null,null,null,null)),(e()(),l.Pb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.settings.message)}))}function bb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),l.ub(1,16384,null,0,lb.a,[],null,null),(e()(),l.Pb(-1,null,["Please enter a valid title."]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).id)}))}function gb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,17,"app-form-field",[["label","Permissions"],["theme","light"]],null,null,null,le,te)),l.ub(1,114688,null,0,ee,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),l.vb(2,0,null,0,15,"mat-radio-group",[["class","save__radio-group text-12 mt-2 mat-radio-group"],["formControlName","groupAccess"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.ub(3,1064960,null,1,ve.c,[l.i],null,null),l.Nb(603979776,1,{_radios:1}),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ve.c]),l.ub(6,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(8,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(9,0,null,null,2,"mat-radio-button",[["class","mb-2 mat-radio-button"],["value",""]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Hb(e,10)._inputElement.nativeElement.focus()&&i),i}),xe.b,xe.a)),l.ub(10,4440064,[[1,4]],0,ve.b,[[2,ve.c],l.l,l.i,pe.e,Oe.c,[2,de.a],[2,ve.a]],{value:[0,"value"]},null),(e()(),l.Pb(-1,0,["Private"])),(e()(),l.vb(12,0,null,null,2,"mat-radio-button",[["class","mb-2 mat-radio-button"],["value","view"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Hb(e,13)._inputElement.nativeElement.focus()&&i),i}),xe.b,xe.a)),l.ub(13,4440064,[[1,4]],0,ve.b,[[2,ve.c],l.l,l.i,pe.e,Oe.c,[2,de.a],[2,ve.a]],{value:[0,"value"]},null),(e()(),l.Pb(-1,0,["Team - View Only"])),(e()(),l.vb(15,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"],["value","edit"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var i=!0;return"focus"===t&&(i=!1!==l.Hb(e,16)._inputElement.nativeElement.focus()&&i),i}),xe.b,xe.a)),l.ub(16,4440064,[[1,4]],0,ve.b,[[2,ve.c],l.l,l.i,pe.e,Oe.c,[2,de.a],[2,ve.a]],{value:[0,"value"]},null),(e()(),l.Pb(-1,0,["Team - View & Edit"]))],(function(e,t){e(t,1,0,"Permissions","light"),e(t,6,0,"groupAccess"),e(t,10,0,""),e(t,13,0,"view"),e(t,16,0,"edit")}),(function(e,t){e(t,2,0,l.Hb(t,8).ngClassUntouched,l.Hb(t,8).ngClassTouched,l.Hb(t,8).ngClassPristine,l.Hb(t,8).ngClassDirty,l.Hb(t,8).ngClassValid,l.Hb(t,8).ngClassInvalid,l.Hb(t,8).ngClassPending),e(t,9,1,[l.Hb(t,10).checked,l.Hb(t,10).disabled,"NoopAnimations"===l.Hb(t,10)._animationMode,"primary"===l.Hb(t,10).color,"accent"===l.Hb(t,10).color,"warn"===l.Hb(t,10).color,-1,l.Hb(t,10).id,null,null,null]),e(t,12,1,[l.Hb(t,13).checked,l.Hb(t,13).disabled,"NoopAnimations"===l.Hb(t,13)._animationMode,"primary"===l.Hb(t,13).color,"accent"===l.Hb(t,13).color,"warn"===l.Hb(t,13).color,-1,l.Hb(t,13).id,null,null,null]),e(t,15,1,[l.Hb(t,16).checked,l.Hb(t,16).disabled,"NoopAnimations"===l.Hb(t,16)._animationMode,"primary"===l.Hb(t,16).color,"accent"===l.Hb(t,16).color,"warn"===l.Hb(t,16).color,-1,l.Hb(t,16).id,null,null,null])}))}function hb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.ub(1,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(2,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.collection_id),e(t,2,0,t.context.$implicit.collection_id)}),(function(e,t){e(t,3,0,t.context.$implicit.collection_name)}))}function mb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,14,"app-form-field",[["label","Collection (Optional)"],["theme","light"]],null,null,null,le,te)),l.ub(1,114688,null,0,ee,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),l.vb(2,0,null,0,12,"select",[["class","input"],["formControlName","collection"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Hb(e,3).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,3).onTouched()&&i),i}),null,null)),l.ub(3,16384,null,0,ie.w,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.w]),l.ub(5,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(7,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(8,0,null,null,3,"option",[],null,null,null,null,null)),l.ub(9,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(10,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(-1,null,["--"])),(e()(),l.lb(16777216,null,null,2,null,hb)),l.ub(13,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,"Collection (Optional)","light"),e(t,5,0,"collection"),e(t,9,0,null),e(t,10,0,null),e(t,13,0,l.Qb(t,13,0,l.Hb(t,14).transform(n.collections$)))}),(function(e,t){e(t,2,0,l.Hb(t,7).ngClassUntouched,l.Hb(t,7).ngClassTouched,l.Hb(t,7).ngClassPristine,l.Hb(t,7).ngClassDirty,l.Hb(t,7).ngClassValid,l.Hb(t,7).ngClassInvalid,l.Hb(t,7).ngClassPending)}))}function _b(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,gb)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,2,null,mb)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n,i=t.component;e(t,2,0,i.isNew||i.isOwner),e(t,4,0,(null==(n=l.Qb(t,4,0,l.Hb(t,5).transform(i.collections$)))?null:n.length)>0)}),null)}function fb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,10,"div",[],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,9,"app-form-field",[["label","Share"],["theme","light"]],null,null,null,le,te)),l.ub(2,114688,null,0,ee,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),l.vb(3,0,null,0,7,"mat-checkbox",[["class","save__permission mat-checkbox"],["formControlName","publicAccess"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(4,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(6,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(8,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(9,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["With the BioDigital Community"]))],(function(e,t){e(t,2,0,"Share","light"),e(t,6,0,"publicAccess")}),(function(e,t){e(t,3,1,[l.Hb(t,4).id,null,l.Hb(t,4).indeterminate,l.Hb(t,4).checked,l.Hb(t,4).disabled,"before"==l.Hb(t,4).labelPosition,"NoopAnimations"===l.Hb(t,4)._animationMode,l.Hb(t,8).ngClassUntouched,l.Hb(t,8).ngClassTouched,l.Hb(t,8).ngClassPristine,l.Hb(t,8).ngClassDirty,l.Hb(t,8).ngClassValid,l.Hb(t,8).ngClassInvalid,l.Hb(t,8).ngClassPending])}))}function yb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-spinner",[["class","ml-2"],["render","inline"],["size","medium"]],null,null,null,Wp,Qp)),l.ub(1,114688,null,0,Vp,[],{size:[0,"size"],render:[1,"render"]},null)],(function(e,t){e(t,1,0,"medium","inline")}),null)}function vb(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,48,"div",[["class","save"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,47,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,a=e.component;return"submit"===t&&(i=!1!==l.Hb(e,3).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Hb(e,3).onReset()&&i),"submit"===t&&(i=!1!==a.handleSubmit()&&i),i}),null,null)),l.ub(2,16384,null,0,ie.C,[],null,null),l.ub(3,540672,null,0,ie.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Mb(2048,null,ie.c,null,[ie.h]),l.ub(5,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(6,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.ub(7,81920,null,0,pp.m,[[2,pp.l],l.l,pp.e],null,null),(e()(),l.Pb(8,null,[" "," "])),(e()(),l.lb(16777216,null,null,1,null,db)),l.ub(10,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(11,0,null,null,23,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.ub(12,16384,null,0,pp.j,[],null,null),(e()(),l.vb(13,0,null,null,21,"div",[["class","theme-light"]],null,null,null,null,null)),(e()(),l.vb(14,0,null,null,14,"app-form-field",[["label","Title"],["theme","light"]],null,null,null,le,te)),l.ub(15,114688,null,0,ee,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),l.vb(16,0,[["title",1]],0,8,"input",[["autocomplete","off"],["class","input"],["formControlName","title"],["maxlength","60"],["name","title"],["required",""],["type","text"]],[[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,17)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,17).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,17)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,17)._compositionEnd(n.target.value)&&i),i}),null,null)),l.ub(17,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.ub(18,16384,null,0,ie.v,[],{required:[0,"required"]},null),l.ub(19,540672,null,0,ie.k,[],{maxlength:[0,"maxlength"]},null),l.Mb(1024,null,ie.l,(function(e,t){return[e,t]}),[ie.v,ie.k]),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.d]),l.ub(22,671744,null,0,ie.g,[[3,ie.c],[6,ie.l],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(24,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(25,0,null,0,1,"app-character-counter",[],null,null,null,ub,ob)),l.ub(26,6537216,null,0,ab,[l.F,l.i],{field:[0,"field"]},null),(e()(),l.lb(16777216,null,0,1,null,bb)),l.ub(28,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,2,null,_b)),l.ub(30,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,fb)),l.ub(33,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(35,0,null,null,13,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.ub(36,16384,null,0,pp.f,[],null,null),(e()(),l.vb(37,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["class","mr-2"],["type","button"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,38).dialogRef.close(l.Hb(e,38).dialogResult)&&i),i}),$e,Be)),l.ub(38,606208,null,0,pp.g,[[2,pp.l],l.l,pp.e],{type:[0,"type"]},null),l.ub(39,114688,null,0,Ue,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Cancel"])),(e()(),l.vb(41,0,null,null,7,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""]],[[8,"disabled",0]],null,null,$e,Be)),l.ub(42,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],disabled:[1,"disabled"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.Pb(44,0,[" "," "])),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,0,2,null,yb)),l.ub(47,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,3,0,n.form),e(t,7,0),e(t,10,0,n.settings.message),e(t,15,0,"Title","light"),e(t,18,0,""),e(t,19,0,"60"),e(t,22,0,"title"),e(t,26,0,l.Hb(t,16)),e(t,28,0,!n.form.get("title").valid),e(t,30,0,l.Qb(t,30,0,l.Hb(t,31).transform(n.organization$))),e(t,33,0,!l.Qb(t,33,0,l.Hb(t,34).transform(n.organization$))),e(t,38,0,"button"),e(t,39,0,"light"),e(t,42,0,"primary",l.Qb(t,42,1,l.Hb(t,43).transform(n.saving$))),e(t,47,0,l.Qb(t,47,0,l.Hb(t,48).transform(n.saving$)))}),(function(e,t){var n=t.component;e(t,1,0,l.Hb(t,5).ngClassUntouched,l.Hb(t,5).ngClassTouched,l.Hb(t,5).ngClassPristine,l.Hb(t,5).ngClassDirty,l.Hb(t,5).ngClassValid,l.Hb(t,5).ngClassInvalid,l.Hb(t,5).ngClassPending),e(t,6,0,l.Hb(t,7).id),e(t,8,0,n.dialogTitle),e(t,16,0,l.Hb(t,18).required?"":null,l.Hb(t,19).maxlength?l.Hb(t,19).maxlength:null,l.Hb(t,24).ngClassUntouched,l.Hb(t,24).ngClassTouched,l.Hb(t,24).ngClassPristine,l.Hb(t,24).ngClassDirty,l.Hb(t,24).ngClassValid,l.Hb(t,24).ngClassInvalid,l.Hb(t,24).ngClassPending),e(t,37,0,l.Hb(t,38).ariaLabel||null,l.Hb(t,38).type,l.Hb(t,39).disabled),e(t,41,0,l.Hb(t,42).disabled),e(t,44,0,l.Qb(t,44,0,l.Hb(t,45).transform(n.saving$))?"Saving":"Save")}))}function xb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-save-bookmark-dialog",[],null,null,null,vb,pb)),l.ub(1,245760,null,0,mu,[g.i,ie.f,pp.l,pp.a,hp.c,g.b,Dc],null,null)],(function(e,t){e(t,1,0)}),null)}var Ob=l.rb("app-save-bookmark-dialog",mu,xb,{},{},[]),Cb=n("Mz6y"),wb=n("hOhj"),jb=n("/HVE"),kb=n("TtEo"),Sb=n("02hT"),Pb=l.tb({encapsulation:0,styles:[[""]],data:{}});function Mb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.ub(1,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(2,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function Hb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.ub(1,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(2,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function Ib(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,10,"app-form-field",[["label","Secondary Category"]],null,null,null,le,te)),l.ub(1,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(2,0,null,0,8,"select",[["class","input"],["formControlName","secondaryCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Hb(e,3).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,3).onTouched()&&i),i}),null,null)),l.ub(3,16384,null,0,ie.w,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.w]),l.ub(5,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(7,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.lb(16777216,null,null,2,null,Hb)),l.ub(9,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,"Secondary Category"),e(t,5,0,"secondaryCategory"),e(t,9,0,l.Qb(t,9,0,l.Hb(t,10).transform(n.secondaryCategoryOptions$)))}),(function(e,t){e(t,2,0,l.Hb(t,7).ngClassUntouched,l.Hb(t,7).ngClassTouched,l.Hb(t,7).ngClassPristine,l.Hb(t,7).ngClassDirty,l.Hb(t,7).ngClassValid,l.Hb(t,7).ngClassInvalid,l.Hb(t,7).ngClassPending)}))}function Tb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,"div",[["class","text-info"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-icon",[["icon","exclamation-triangle"]],null,null,null,se,oe)),l.ub(2,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(3,0,null,null,1,"span",[["class","pl-2"]],null,null,null,null,null)),(e()(),l.Pb(4,null,["",""])),(e()(),l.vb(5,0,null,null,1,"span",[["class","pl-2 text-bold"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["(File exists)"]))],(function(e,t){e(t,2,0,"exclamation-triangle")}),(function(e,t){e(t,4,0,t.component.modulePath)}))}function zb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-icon",[["icon","exclamation-circle"]],null,null,null,se,oe)),l.ub(2,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(3,0,null,null,1,"span",[["class","pl-2"]],null,null,null,null,null)),(e()(),l.Pb(4,null,["",""])),(e()(),l.vb(5,0,null,null,1,"span",[["class","pl-2 text-bold"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["(File exists and cannot be overwritten)"]))],(function(e,t){e(t,2,0,"exclamation-circle")}),(function(e,t){e(t,4,0,t.component.modulePath)}))}function Fb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"div",[["class","text-success"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-icon",[["icon","check-circle"]],null,null,null,se,oe)),l.ub(2,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(3,0,null,null,1,"span",[["class","pl-2"]],null,null,null,null,null)),(e()(),l.Pb(4,null,["",""]))],(function(e,t){e(t,2,0,"check-circle")}),(function(e,t){e(t,4,0,t.component.modulePath)}))}function Lb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,"div",[["class","pt-2 text-12"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Tb)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,zb)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Fb)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.moduleExists&&!n.formDuplicateStates.value),e(t,4,0,n.moduleExists&&n.formDuplicateStates.value),e(t,6,0,!n.moduleExists)}),null)}function Eb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,9,"app-form-field",[["label","Production Save"]],null,null,null,le,te)),l.ub(1,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(2,0,null,0,7,"mat-checkbox",[["class","mat-checkbox"],["formControlName","confirmProduction"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(3,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(5,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(7,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(8,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["I intend to save to Production"]))],(function(e,t){e(t,1,0,"Production Save"),e(t,5,0,"confirmProduction")}),(function(e,t){e(t,2,1,[l.Hb(t,3).id,null,l.Hb(t,3).indeterminate,l.Hb(t,3).checked,l.Hb(t,3).disabled,"before"==l.Hb(t,3).labelPosition,"NoopAnimations"===l.Hb(t,3)._animationMode,l.Hb(t,7).ngClassUntouched,l.Hb(t,7).ngClassTouched,l.Hb(t,7).ngClassPristine,l.Hb(t,7).ngClassDirty,l.Hb(t,7).ngClassValid,l.Hb(t,7).ngClassInvalid,l.Hb(t,7).ngClassPending])}))}function Nb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,26,"div",[["class","mb-2"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,25,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.ub(2,212992,null,0,ie.i,[[3,ie.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Mb(2048,null,ie.c,null,[ie.i]),l.ub(4,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(5,0,null,null,21,"div",[["class","flex"]],null,null,null,null,null)),(e()(),l.vb(6,0,null,null,7,"div",[["class","flex-shrink pr-2 pt-2"]],null,null,null,null,null)),(e()(),l.vb(7,16777216,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","include"],["matTooltip","Include State"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0;return"longpress"===t&&(i=!1!==l.Hb(e,9).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,9)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,9)._handleTouchend()&&i),i}),ce.b,ce.a)),l.ub(8,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.ub(9,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(11,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(13,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(14,0,null,null,12,"div",[["class","flex-grow"]],null,null,null,null,null)),(e()(),l.vb(15,0,null,null,5,"input",[["class","input"],["formControlName","oldState"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,16)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,16).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,16)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,16)._compositionEnd(n.target.value)&&i),i}),null,null)),l.ub(16,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.d]),l.ub(18,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(20,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(21,0,null,null,5,"input",[["class","input"],["formControlName","newState"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,22)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,22).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,22)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,22)._compositionEnd(n.target.value)&&i),i}),null,null)),l.ub(22,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.d]),l.ub(24,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(26,16384,null,0,ie.o,[[4,ie.n]],null,null)],(function(e,t){e(t,2,0,t.context.index),e(t,9,0,"Include State"),e(t,11,0,"include"),e(t,18,0,"oldState"),e(t,24,0,"newState")}),(function(e,t){e(t,1,0,l.Hb(t,4).ngClassUntouched,l.Hb(t,4).ngClassTouched,l.Hb(t,4).ngClassPristine,l.Hb(t,4).ngClassDirty,l.Hb(t,4).ngClassValid,l.Hb(t,4).ngClassInvalid,l.Hb(t,4).ngClassPending),e(t,7,1,[l.Hb(t,8).id,null,l.Hb(t,8).indeterminate,l.Hb(t,8).checked,l.Hb(t,8).disabled,"before"==l.Hb(t,8).labelPosition,"NoopAnimations"===l.Hb(t,8)._animationMode,l.Hb(t,13).ngClassUntouched,l.Hb(t,13).ngClassTouched,l.Hb(t,13).ngClassPristine,l.Hb(t,13).ngClassDirty,l.Hb(t,13).ngClassValid,l.Hb(t,13).ngClassInvalid,l.Hb(t,13).ngClassPending]),e(t,15,0,l.Hb(t,20).ngClassUntouched,l.Hb(t,20).ngClassTouched,l.Hb(t,20).ngClassPristine,l.Hb(t,20).ngClassDirty,l.Hb(t,20).ngClassValid,l.Hb(t,20).ngClassInvalid,l.Hb(t,20).ngClassPending),e(t,21,0,l.Hb(t,26).ngClassUntouched,l.Hb(t,26).ngClassTouched,l.Hb(t,26).ngClassPristine,l.Hb(t,26).ngClassDirty,l.Hb(t,26).ngClassValid,l.Hb(t,26).ngClassInvalid,l.Hb(t,26).ngClassPending)}))}function Rb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,18,"div",[],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"mat-divider",[["class","mv-4 mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(2,49152,null,0,Sb.a,[],null,null),(e()(),l.vb(3,0,null,null,15,"app-form-field",[["label","Prefix"]],null,null,null,le,te)),l.ub(4,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(5,0,null,0,7,"div",[["class","flex"]],null,null,null,null,null)),(e()(),l.vb(6,0,[["prefix",1]],null,0,"input",[["class","input flex-25 w-25"],["pattern","[^ ]*"],["type","text"]],null,null,null,null,null)),(e()(),l.vb(7,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","ml-2"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handleReplaceClick(l.Hb(e,6).value)&&i),i}),$e,Be)),l.ub(8,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Replace"])),(e()(),l.vb(10,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","ml-2"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.handlePrependClick(l.Hb(e,6).value)&&i),i}),$e,Be)),l.ub(11,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Prepend"])),(e()(),l.vb(13,0,null,0,5,"div",[["class","pv-4 text-12"],["formArrayName","states"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),l.ub(14,212992,null,0,ie.e,[[3,ie.c],[8,null],[8,null]],{name:[0,"name"]},null),l.Mb(2048,null,ie.c,null,[ie.e]),l.ub(16,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.lb(16777216,null,null,1,null,Nb)),l.ub(18,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,"Prefix"),e(t,8,0,"outline","light"),e(t,11,0,"outline","light"),e(t,14,0,"states"),e(t,18,0,n.formStates.controls)}),(function(e,t){e(t,1,0,l.Hb(t,2).vertical?"vertical":"horizontal",l.Hb(t,2).vertical,!l.Hb(t,2).vertical,l.Hb(t,2).inset),e(t,7,0,l.Hb(t,8).disabled),e(t,10,0,l.Hb(t,11).disabled),e(t,13,0,l.Hb(t,16).ngClassUntouched,l.Hb(t,16).ngClassTouched,l.Hb(t,16).ngClassPristine,l.Hb(t,16).ngClassDirty,l.Hb(t,16).ngClassValid,l.Hb(t,16).ngClassInvalid,l.Hb(t,16).ngClassPending)}))}function Ab(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-spinner",[["class","ml-2"],["render","inline"],["size","medium"]],null,null,null,Wp,Qp)),l.ub(2,114688,null,0,Vp,[],{size:[0,"size"],render:[1,"render"]},null),(e()(),l.Pb(-1,null,[" Validating "]))],(function(e,t){e(t,2,0,"medium","inline")}),null)}function Db(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-spinner",[["class","ml-2"],["render","inline"],["size","medium"]],null,null,null,Wp,Qp)),l.ub(2,114688,null,0,Vp,[],{size:[0,"size"],render:[1,"render"]},null),(e()(),l.Pb(-1,null,[" Saving "]))],(function(e,t){e(t,2,0,"medium","inline")}),null)}function Ub(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Pb(-1,null,[" Save Module "]))],null,null)}function Bb(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),l.ub(1,81920,null,0,pp.m,[[2,pp.l],l.l,pp.e],null,null),(e()(),l.Pb(-1,null,[" Save Module\n"])),(e()(),l.vb(3,0,null,null,58,"div",[["class","theme-light mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),l.ub(4,16384,null,0,pp.j,[],null,null),(e()(),l.vb(5,0,null,null,56,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,a=e.component;return"submit"===t&&(i=!1!==l.Hb(e,7).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Hb(e,7).onReset()&&i),"submit"===t&&(i=!1!==a.handleSubmit()&&i),i}),null,null)),l.ub(6,16384,null,0,ie.C,[],null,null),l.ub(7,540672,null,0,ie.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Mb(2048,null,ie.c,null,[ie.h]),l.ub(9,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(10,0,null,null,11,"app-form-field",[],null,null,null,le,te)),l.ub(11,114688,null,0,ee,[],null,null),(e()(),l.vb(12,0,null,0,7,"mat-checkbox",[["class","mat-checkbox"],["formControlName","duplicateStates"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(13,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(15,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(17,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(18,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Duplicate Content States"])),(e()(),l.vb(20,0,null,1,1,"div",[["form-field-help",""]],null,null,null,null,null)),(e()(),l.Pb(-1,null,[" This requires that you specify the location for the new module, and new unused names for each of the content states. "])),(e()(),l.vb(22,0,null,null,9,"app-form-field",[],null,null,null,le,te)),l.ub(23,114688,null,0,ee,[],null,null),(e()(),l.vb(24,0,null,0,7,"mat-checkbox",[["class","mat-checkbox"],["formControlName","trimGraph"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ce.b,ce.a)),l.ub(25,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(27,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(29,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(30,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Trim Graph"])),(e()(),l.vb(32,0,null,null,1,"mat-divider",[["class","mb-4 mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(33,49152,null,0,Sb.a,[],null,null),(e()(),l.vb(34,0,null,null,10,"app-form-field",[["label","Primary Category"]],null,null,null,le,te)),l.ub(35,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(36,0,null,0,8,"select",[["class","input"],["formControlName","primaryCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Hb(e,37).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,37).onTouched()&&i),i}),null,null)),l.ub(37,16384,null,0,ie.w,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.w]),l.ub(39,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(41,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.lb(16777216,null,null,2,null,Mb)),l.ub(43,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,Ib)),l.ub(46,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(48,0,null,null,9,"app-form-field",[["label","Name"]],null,null,null,le,te)),l.ub(49,114688,null,0,ee,[],{label:[0,"label"]},null),(e()(),l.vb(50,0,[["name",1]],0,5,"input",[["class","input w-100"],["formControlName","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,51)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,51).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,51)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,51)._compositionEnd(n.target.value)&&i),i}),null,null)),l.ub(51,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.d]),l.ub(53,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(55,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.lb(16777216,null,0,1,null,Lb)),l.ub(57,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Eb)),l.ub(59,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Rb)),l.ub(61,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(62,0,null,null,16,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),l.ub(63,16384,null,0,pp.f,[],null,null),(e()(),l.vb(64,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["class","mr-2"],["type","button"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,65).dialogRef.close(l.Hb(e,65).dialogResult)&&i),i}),$e,Be)),l.ub(65,606208,null,0,pp.g,[[2,pp.l],l.l,pp.e],{type:[0,"type"]},null),l.ub(66,114688,null,0,Ue,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Cancel"])),(e()(),l.vb(68,0,null,null,10,"button",[["app-button",""],["buttonTheme","light"],["buttonType","primary"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSubmit()&&l),l}),$e,Be)),l.ub(69,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,0,1,null,Ab)),l.ub(72,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,0,2,null,Db)),l.ub(74,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,0,2,null,Ub)),l.ub(77,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n,i=t.component;e(t,1,0),e(t,7,0,i.form),e(t,11,0),e(t,15,0,"duplicateStates"),e(t,23,0),e(t,27,0,"trimGraph"),e(t,35,0,"Primary Category"),e(t,39,0,"primaryCategory"),e(t,43,0,l.Qb(t,43,0,l.Hb(t,44).transform(i.primaryCategoryOptions$))),e(t,46,0,null==(n=l.Qb(t,46,0,l.Hb(t,47).transform(i.secondaryCategoryOptions$)))?null:n.length),e(t,49,0,"Name"),e(t,53,0,"name"),e(t,57,0,i.modulePath&&l.Hb(t,50).value.length),e(t,59,0,"production"===i.formPrimaryCategory.value),e(t,61,0,i.formDuplicateStates.value),e(t,65,0,"button"),e(t,66,0,"light"),e(t,69,0,"primary","light",l.Qb(t,69,2,l.Hb(t,70).transform(i.saving$))||!i.form.valid||i.validating),e(t,72,0,i.validating),e(t,74,0,l.Qb(t,74,0,l.Hb(t,75).transform(i.saving$))),e(t,77,0,!i.validating&&!l.Qb(t,77,0,l.Hb(t,78).transform(i.saving$)))}),(function(e,t){e(t,0,0,l.Hb(t,1).id),e(t,5,0,l.Hb(t,9).ngClassUntouched,l.Hb(t,9).ngClassTouched,l.Hb(t,9).ngClassPristine,l.Hb(t,9).ngClassDirty,l.Hb(t,9).ngClassValid,l.Hb(t,9).ngClassInvalid,l.Hb(t,9).ngClassPending),e(t,12,1,[l.Hb(t,13).id,null,l.Hb(t,13).indeterminate,l.Hb(t,13).checked,l.Hb(t,13).disabled,"before"==l.Hb(t,13).labelPosition,"NoopAnimations"===l.Hb(t,13)._animationMode,l.Hb(t,17).ngClassUntouched,l.Hb(t,17).ngClassTouched,l.Hb(t,17).ngClassPristine,l.Hb(t,17).ngClassDirty,l.Hb(t,17).ngClassValid,l.Hb(t,17).ngClassInvalid,l.Hb(t,17).ngClassPending]),e(t,24,1,[l.Hb(t,25).id,null,l.Hb(t,25).indeterminate,l.Hb(t,25).checked,l.Hb(t,25).disabled,"before"==l.Hb(t,25).labelPosition,"NoopAnimations"===l.Hb(t,25)._animationMode,l.Hb(t,29).ngClassUntouched,l.Hb(t,29).ngClassTouched,l.Hb(t,29).ngClassPristine,l.Hb(t,29).ngClassDirty,l.Hb(t,29).ngClassValid,l.Hb(t,29).ngClassInvalid,l.Hb(t,29).ngClassPending]),e(t,32,0,l.Hb(t,33).vertical?"vertical":"horizontal",l.Hb(t,33).vertical,!l.Hb(t,33).vertical,l.Hb(t,33).inset),e(t,36,0,l.Hb(t,41).ngClassUntouched,l.Hb(t,41).ngClassTouched,l.Hb(t,41).ngClassPristine,l.Hb(t,41).ngClassDirty,l.Hb(t,41).ngClassValid,l.Hb(t,41).ngClassInvalid,l.Hb(t,41).ngClassPending),e(t,50,0,l.Hb(t,55).ngClassUntouched,l.Hb(t,55).ngClassTouched,l.Hb(t,55).ngClassPristine,l.Hb(t,55).ngClassDirty,l.Hb(t,55).ngClassValid,l.Hb(t,55).ngClassInvalid,l.Hb(t,55).ngClassPending),e(t,64,0,l.Hb(t,65).ariaLabel||null,l.Hb(t,65).type,l.Hb(t,66).disabled),e(t,68,0,l.Hb(t,69).disabled)}))}function $b(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-save-module-dialog",[],null,null,null,Bb,Pb)),l.ub(1,245760,null,0,Xu,[g.i,g.b,ie.f,Uu,l.i,hp.c,pp.l,pp.a],null,null)],(function(e,t){e(t,1,0)}),null)}var Vb=l.rb("app-save-module-dialog",Xu,$b,{},{},[]),Qb=l.tb({encapsulation:0,styles:[[".welcome[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.welcome__close[_ngcontent-%COMP%]{cursor:pointer}.slide[_ngcontent-%COMP%]{width:800px;height:600px;position:relative;margin:auto;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between}.slide__item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;text-align:center}.slide__item--hidden[_ngcontent-%COMP%]{display:none}.slide__logo[_ngcontent-%COMP%]{width:300px;margin:160px 0 40px}.slide__image[_ngcontent-%COMP%]{-webkit-box-flex:2;flex:2;overflow:auto;width:100%}.slide__nav[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;font-size:16px;margin:12px 0}.slide__nav-arrow[_ngcontent-%COMP%]{cursor:pointer;margin:auto 12px;opacity:.8}.slide__nav-arrow[_ngcontent-%COMP%]:hover{opacity:1}.slide__nav-arrow--disabled[_ngcontent-%COMP%]{opacity:.25;pointer-events:none}.slide__nav-dots[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.slide__nav-dot[_ngcontent-%COMP%]{margin:auto 4px;cursor:pointer;display:-webkit-box;display:flex;background-color:rgba(28,42,63,.4);border-radius:50%;width:14px;height:14px;line-height:17px}.slide__nav-dot[_ngcontent-%COMP%]:hover{background-color:rgba(28,42,63,.6)}.slide__nav-dot--active[_ngcontent-%COMP%]{background-color:#2d72dc}@media (max-width:1024px){.slide[_ngcontent-%COMP%]{width:100%;height:80vh}}"]],data:{}});function Gb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"img",[["class","slide__logo"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.logo)}))}function Wb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"div",[["class","text-24 text-medium text-uppercase mt-4"]],null,null,null,null,null)),(e()(),l.Pb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.title)}))}function Jb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"div",[["class","text-18 mt-4 mb-4"]],[[2,"text-22",null],[2,"text-medium",null],[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.logo,t.parent.context.$implicit.logo,t.parent.context.$implicit.text)}))}function qb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"img",[["class","slide__image"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.image)}))}function Kb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,8,"div",[["class","slide__item"]],[[2,"slide__item--hidden",null]],null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Gb)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Wb)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Jb)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,qb)),l.ub(8,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit.logo),e(t,4,0,t.context.$implicit.title),e(t,6,0,t.context.$implicit.text),e(t,8,0,t.context.$implicit.image)}),(function(e,t){e(t,0,0,t.component.selectedIndex!==t.context.index)}))}function Xb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"div",[["class","slide__nav-dot"]],[[2,"slide__nav-dot--active",null],[1,"title",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSelectSlideClick(e.context.index)&&l),l}),null,null))],null,(function(e,t){e(t,0,0,t.component.selectedIndex===t.context.index,t.context.$implicit.title)}))}function Zb(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,13,"div",[["class","welcome"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-icon",[["class","welcome__close"],["icon","times"],["size","lg"],["title","Close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseTour()&&l),l}),se,oe)),l.ub(2,114688,null,0,ae,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.vb(3,0,null,null,10,"div",[["class","slide"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Kb)),l.ub(5,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),(e()(),l.vb(6,0,null,null,7,"div",[["class","slide__nav"]],null,null,null,null,null)),(e()(),l.vb(7,0,null,null,1,"app-icon",[["class","slide__nav-arrow"],["icon","chevron-left"]],[[2,"slide__nav-arrow--disabled",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handlePrevClick()&&l),l}),se,oe)),l.ub(8,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(9,0,null,null,2,"div",[["class","slide__nav-dots"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Xb)),l.ub(11,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),(e()(),l.vb(12,0,null,null,1,"app-icon",[["class","slide__nav-arrow"],["icon","chevron-right"]],[[2,"slide__nav-arrow--disabled",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleNextClick()&&l),l}),se,oe)),l.ub(13,114688,null,0,ae,[],{icon:[0,"icon"]},null)],(function(e,t){var n=t.component;e(t,2,0,"times","lg"),e(t,5,0,n.slides),e(t,8,0,"chevron-left"),e(t,11,0,n.slides),e(t,13,0,"chevron-right")}),(function(e,t){var n=t.component;e(t,7,0,n.isFirstSlide),e(t,12,0,n.isLastSlide)}))}function Yb(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-welcome-tour-dialog",[],null,null,null,Zb,Qb)),l.ub(1,245760,null,0,Ou,[g.i,pp.l,pp.a],null,null)],(function(e,t){e(t,1,0)}),null)}var eg=l.rb("app-welcome-tour-dialog",Ou,Yb,{},{},[]);class tg{constructor(){}ngOnInit(){}}var ng=l.tb({encapsulation:2,styles:[[""]],data:{}});function lg(e){return l.Rb(2,[l.Gb(null,0)],null,null)}var ig=function(e){return e.Default="default",e.Commafied="commafied",e.flat="flat",e}({});class ag{constructor(){this.listType=ig.Default}ngOnInit(){}}var og=l.tb({encapsulation:2,styles:[['.list{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.list--default app-list-item{display:list-item;margin-left:16px;list-style-type:disc}.list--commafied{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap;padding:0 4px 4px 0}.list--commafied app-list-item:not(:last-child):after{content:", ";float:right;padding-right:4px}.list--flat app-list-item:not(:last-child){margin-bottom:4px}.list__item{display:block}']],data:{}});function sg(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,3,"div",[["class","list"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Gb(null,0)],(function(e,t){e(t,2,0,"list","list--"+t.component.listType)}),null)}let rg=(()=>{class e{constructor(e,t){this.store=e,this.formBuilder=t,this.gallerySearchMode=tp,this.ngUnsubscribe=new $.a}get primaryCategoryControl(){return this.queryForm.get("primaryCategory")}get secondaryCategoryControl(){return this.queryForm.get("secondaryCategory")}get pathControl(){return this.pathForm.get("path")}ngOnInit(){this.initForms(),this.initFormListeners(),this.store.dispatch(new zu),this.store.dispatch(new Fu(this.primaryCategoryControl.value))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initForms(){this.queryForm=this.formBuilder.group({primaryCategory:["production"],secondaryCategory:["maleAdult"]}),this.pathForm=this.formBuilder.group({path:[]}),this.searchLoft(this.getQuery())}initFormListeners(){this.primaryCategoryControl.valueChanges.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.handlePrimaryUpdate(e)}),Object(Wu.a)(this.queryForm.valueChanges,this.pathForm.valueChanges).pipe(Object(Xo.a)(300),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.searchLoft(this.getQuery())})}toggleSearchMode(e){this.store.dispatch(new Io.SetSearchMode(e))}handlePrimaryUpdate(e){this.secondaryCategoryControl.setValue(""),this.store.dispatch(new Fu(e))}searchLoft(e){this.store.dispatch(new Io.SearchLoft(e.primaryCategory,e.secondaryCategory,e.name))}getQuery(){const e={primaryCategory:"",secondaryCategory:"",name:""};switch(this.store.selectSnapshot(ap.getSearchMode)){case tp.Query:e.primaryCategory=this.primaryCategoryControl.value,e.secondaryCategory=this.secondaryCategoryControl.value;break;case tp.Path:const t=decodeURIComponent(this.pathControl.value||""),n=t.split("/"),l=t.match(/([A-Za-z_-\s0-9]*\/)/gi);null!=l&&(e.primaryCategory=(l[0]||"").replace("/",""),e.secondaryCategory=(l[1]||"").replace("/",""),e.name=n.pop())}return e}}return Object(b.__decorate)([Object(g.e)(Qu.getPrimaryCategoryOptions("read")),Object(b.__metadata)("design:type",V.a)],e.prototype,"primaryCategoryOptions$",void 0),Object(b.__decorate)([Object(g.e)(Qu.getSecondaryCategoryOptions),Object(b.__metadata)("design:type",V.a)],e.prototype,"secondaryCategoryOptions$",void 0),Object(b.__decorate)([Object(g.e)(ap.getSearchMode),Object(b.__metadata)("design:type",V.a)],e.prototype,"searchMode$",void 0),e})();var cg=l.tb({encapsulation:0,styles:[[".gallery-filters[_ngcontent-%COMP%]{display:-webkit-box;display:flex}"]],data:{}});function ug(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.ub(1,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(2,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function pg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.ub(1,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(2,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function dg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,8,"select",[["class","input mr-2 w-25"],["formControlName","secondaryCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Hb(e,1).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,1).onTouched()&&i),i}),null,null)),l.ub(1,16384,null,0,ie.w,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.w]),l.ub(3,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(5,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.lb(16777216,null,null,2,null,pg)),l.ub(7,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,3,0,"secondaryCategory"),e(t,7,0,l.Qb(t,7,0,l.Hb(t,8).transform(n.secondaryCategoryOptions$)))}),(function(e,t){e(t,0,0,l.Hb(t,5).ngClassUntouched,l.Hb(t,5).ngClassTouched,l.Hb(t,5).ngClassPristine,l.Hb(t,5).ngClassDirty,l.Hb(t,5).ngClassValid,l.Hb(t,5).ngClassInvalid,l.Hb(t,5).ngClassPending)}))}function bg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,19,"form",[["class","gallery-filters"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Hb(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Hb(e,2).onReset()&&i),i}),null,null)),l.ub(1,16384,null,0,ie.C,[],null,null),l.ub(2,540672,null,0,ie.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Mb(2048,null,ie.c,null,[ie.h]),l.ub(4,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(5,0,null,null,8,"select",[["autofocus",""],["class","input mr-2 w-25"],["formControlName","primaryCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Hb(e,6).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,6).onTouched()&&i),i}),null,null)),l.ub(6,16384,null,0,ie.w,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.w]),l.ub(8,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(10,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.lb(16777216,null,null,2,null,ug)),l.ub(12,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,dg)),l.ub(15,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(17,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.toggleSearchMode(i.gallerySearchMode.Path)&&l),l}),$e,Be)),l.ub(18,114688,null,0,Ue,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["...or specify file path"]))],(function(e,t){var n,i=t.component;e(t,2,0,i.queryForm),e(t,8,0,"primaryCategory"),e(t,12,0,l.Qb(t,12,0,l.Hb(t,13).transform(i.primaryCategoryOptions$))),e(t,15,0,null==(n=l.Qb(t,15,0,l.Hb(t,16).transform(i.secondaryCategoryOptions$)))?null:n.length),e(t,18,0,"light")}),(function(e,t){e(t,0,0,l.Hb(t,4).ngClassUntouched,l.Hb(t,4).ngClassTouched,l.Hb(t,4).ngClassPristine,l.Hb(t,4).ngClassDirty,l.Hb(t,4).ngClassValid,l.Hb(t,4).ngClassInvalid,l.Hb(t,4).ngClassPending),e(t,5,0,l.Hb(t,10).ngClassUntouched,l.Hb(t,10).ngClassTouched,l.Hb(t,10).ngClassPristine,l.Hb(t,10).ngClassDirty,l.Hb(t,10).ngClassValid,l.Hb(t,10).ngClassInvalid,l.Hb(t,10).ngClassPending),e(t,17,0,l.Hb(t,18).disabled)}))}function gg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,13,"form",[["class","gallery-filters"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Hb(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Hb(e,2).onReset()&&i),i}),null,null)),l.ub(1,16384,null,0,ie.C,[],null,null),l.ub(2,540672,null,0,ie.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Mb(2048,null,ie.c,null,[ie.h]),l.ub(4,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(5,0,null,null,5,"input",[["class","input mr-2 w-75"],["formControlName","path"],["placeholder","primary/secondary/name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,6)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,6).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,6)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,6)._compositionEnd(n.target.value)&&i),i}),null,null)),l.ub(6,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.d]),l.ub(8,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(10,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.vb(11,0,null,null,2,"button",[["app-button",""],["autofocus",""],["buttonTheme","light"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.toggleSearchMode(i.gallerySearchMode.Query)&&l),l}),$e,Be)),l.ub(12,114688,null,0,Ue,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Cancel"]))],(function(e,t){e(t,2,0,t.component.pathForm),e(t,8,0,"path"),e(t,12,0,"light")}),(function(e,t){e(t,0,0,l.Hb(t,4).ngClassUntouched,l.Hb(t,4).ngClassTouched,l.Hb(t,4).ngClassPristine,l.Hb(t,4).ngClassDirty,l.Hb(t,4).ngClassValid,l.Hb(t,4).ngClassInvalid,l.Hb(t,4).ngClassPending),e(t,5,0,l.Hb(t,10).ngClassUntouched,l.Hb(t,10).ngClassTouched,l.Hb(t,10).ngClassPristine,l.Hb(t,10).ngClassDirty,l.Hb(t,10).ngClassValid,l.Hb(t,10).ngClassInvalid,l.Hb(t,10).ngClassPending),e(t,11,0,l.Hb(t,12).disabled)}))}function hg(e){return l.Rb(2,[(e()(),l.lb(16777216,null,null,2,null,bg)),l.ub(1,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,gg)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,l.Qb(t,1,0,l.Hb(t,2).transform(n.searchMode$))===n.gallerySearchMode.Query),e(t,4,0,l.Qb(t,4,0,l.Hb(t,5).transform(n.searchMode$))===n.gallerySearchMode.Path)}),null)}var mg=n("/uUt");let _g=(()=>{class e{constructor(e,t,n){this.store=e,this.changeDetectorRef=t,this.formBuilder=n,this.ngUnsubscribe=new $.a,this.groupedOptions={}}get queryControl(){return this.form.get("query")}get categoryControl(){return this.form.get("category")}ngOnInit(){this.initForm(),this.initFormListeners(),this.populateDropdown()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initForm(){const e=this.store.selectSnapshot(ap.getStudioCategoryId),t=this.store.selectSnapshot(ap.getStudioQuery);this.form=this.formBuilder.group({category:[e],query:[t]})}initFormListeners(){this.form.valueChanges.pipe(Object(Po.a)(()=>{this.category=this.store.selectSnapshot(ap.getStudioOptions).find(e=>e.id===this.categoryControl.value),this.changeDetectorRef.markForCheck()}),Object(r.a)(e=>JSON.stringify(e)),Object(mg.a)(),Object(r.a)(e=>JSON.parse(e)),Object(Xo.a)(300),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.store.dispatch(new Io.SearchStudio(this.category,this.queryControl.value))})}populateDropdown(){const e=this.store.selectSnapshot(Bc.getOrganization);this.store.dispatch(new Io.GetStudioOptions(e?e.id:null)),this.store.select(ap.getStudioOptions).pipe(Object(G.a)(e=>e.length>0),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.updateOptions(e)})}updateOptions(e){this.groupedOptions=Object(vt.groupBy)(e,e=>e.type);const t=this.store.selectSnapshot(ap.getStudioCategoryId);this.category=e.find(e=>e.id===t),this.categoryControl.setValue(this.category.id),this.changeDetectorRef.markForCheck()}}return Object(b.__decorate)([Object(g.e)(ap.getStudioCategoryId),Object(b.__metadata)("design:type",V.a)],e.prototype,"categoryId$",void 0),Object(b.__decorate)([Object(g.e)(ap.getStudioQuery),Object(b.__metadata)("design:type",V.a)],e.prototype,"query$",void 0),e})();var fg=l.tb({encapsulation:0,styles:[[".gallery-filters[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.gallery-filters__category[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 0 auto;position:relative}.gallery-filters__category-select[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0;z-index:2}.gallery-filters__category-selection[_ngcontent-%COMP%]{background-color:#d7e0ea;border:1px solid #96a8c0;border-right:0;-webkit-box-flex:1;flex:1 1 auto;border-radius:4px 0 0 4px}.gallery-filters__query[_ngcontent-%COMP%]{border-radius:0 4px 4px 0}"]],data:{}});function yg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","gallery-filters__category-selection"],["type","button"]],[[8,"disabled",0]],null,null,$e,Be)),l.ub(1,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Pb(2,0,[""," "])),(e()(),l.vb(3,0,null,0,1,"app-icon",[["icon","caret-down"]],null,null,null,se,oe)),l.ub(4,114688,null,0,ae,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,"flat","light"),e(t,4,0,"caret-down")}),(function(e,t){var n=t.component;e(t,0,0,l.Hb(t,1).disabled),e(t,2,0,n.category.label)}))}function vg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Pb(-1,null,["\xa0\xa0"]))],null,null)}function xg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,"option",[],null,null,null,null,null)),l.ub(1,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(2,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.lb(16777216,null,null,1,null,vg)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.Pb(5,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id),e(t,4,0,""!==t.context.$implicit.value)}),(function(e,t){e(t,5,0,t.context.$implicit.label)}))}function Og(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.ub(1,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(2,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){e(t,3,0,t.context.$implicit.label)}))}function Cg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Pb(-1,null,["\xa0\xa0"]))],null,null)}function wg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,"option",[],null,null,null,null,null)),l.ub(1,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(2,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.lb(16777216,null,null,1,null,Cg)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.Pb(5,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id),e(t,4,0,""!==t.context.$implicit.value)}),(function(e,t){e(t,5,0,t.context.$implicit.label)}))}function jg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"option",[],null,null,null,null,null)),l.ub(1,147456,null,0,ie.r,[l.l,l.F,[2,ie.w]],{value:[0,"value"]},null),l.ub(2,147456,null,0,ie.B,[l.l,l.F,[8,null]],{value:[0,"value"]},null),(e()(),l.Pb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){e(t,3,0,t.context.$implicit.label)}))}function kg(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,27,"form",[["class","gallery-filters"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==l.Hb(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==l.Hb(e,2).onReset()&&i),i}),null,null)),l.ub(1,16384,null,0,ie.C,[],null,null),l.ub(2,540672,null,0,ie.h,[[8,null],[8,null]],{form:[0,"form"]},null),l.Mb(2048,null,ie.c,null,[ie.h]),l.ub(4,16384,null,0,ie.p,[[4,ie.c]],null,null),(e()(),l.vb(5,0,null,null,16,"div",[["class","gallery-filters__category"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,yg)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(8,0,null,null,13,"select",[["class","gallery-filters__category-select"],["formControlName","category"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==l.Hb(e,9).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,9).onTouched()&&i),i}),null,null)),l.ub(9,16384,null,0,ie.w,[l.F,l.l],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.w]),l.ub(11,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(13,16384,null,0,ie.o,[[4,ie.n]],null,null),(e()(),l.lb(16777216,null,null,1,null,xg)),l.ub(15,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),(e()(),l.lb(16777216,null,null,1,null,Og)),l.ub(17,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),(e()(),l.lb(16777216,null,null,1,null,wg)),l.ub(19,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),(e()(),l.lb(16777216,null,null,1,null,jg)),l.ub(21,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),(e()(),l.vb(22,0,null,null,5,"input",[["class","input gallery-filters__query"],["formControlName","query"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==l.Hb(e,23)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==l.Hb(e,23).onTouched()&&i),"compositionstart"===t&&(i=!1!==l.Hb(e,23)._compositionStart()&&i),"compositionend"===t&&(i=!1!==l.Hb(e,23)._compositionEnd(n.target.value)&&i),i}),null,null)),l.ub(23,16384,null,0,ie.d,[l.F,l.l,[2,ie.a]],null,null),l.Mb(1024,null,ie.m,(function(e){return[e]}),[ie.d]),l.ub(25,671744,null,0,ie.g,[[3,ie.c],[8,null],[8,null],[6,ie.m],[2,ie.A]],{name:[0,"name"]},null),l.Mb(2048,null,ie.n,null,[ie.g]),l.ub(27,16384,null,0,ie.o,[[4,ie.n]],null,null)],(function(e,t){var n=t.component;e(t,2,0,n.form),e(t,7,0,n.category),e(t,11,0,"category"),e(t,15,0,n.groupedOptions.category),e(t,17,0,n.groupedOptions.organization),e(t,19,0,n.groupedOptions.collection),e(t,21,0,n.groupedOptions.user),e(t,25,0,"query")}),(function(e,t){e(t,0,0,l.Hb(t,4).ngClassUntouched,l.Hb(t,4).ngClassTouched,l.Hb(t,4).ngClassPristine,l.Hb(t,4).ngClassDirty,l.Hb(t,4).ngClassValid,l.Hb(t,4).ngClassInvalid,l.Hb(t,4).ngClassPending),e(t,8,0,l.Hb(t,13).ngClassUntouched,l.Hb(t,13).ngClassTouched,l.Hb(t,13).ngClassPristine,l.Hb(t,13).ngClassDirty,l.Hb(t,13).ngClassValid,l.Hb(t,13).ngClassInvalid,l.Hb(t,13).ngClassPending),e(t,22,0,l.Hb(t,27).ngClassUntouched,l.Hb(t,27).ngClassTouched,l.Hb(t,27).ngClassPristine,l.Hb(t,27).ngClassDirty,l.Hb(t,27).ngClassValid,l.Hb(t,27).ngClassInvalid,l.Hb(t,27).ngClassPending)}))}class Sg{constructor(e,t){this.templateRef=e,this.viewContainer=t}ngOnInit(){this.update()}update(){"module"===o.exportType?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()}}class Pg{constructor(e,t){this.templateRef=e,this.viewContainer=t}ngOnInit(){this.update()}update(){"bookmark"===o.exportType?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()}}class Mg{constructor(e){this.changeDetectorRef=e,this.sortOptions=[],this.sortChange=new l.n}get sort(){return this._sort}set sort(e){this._sort=e,this.changeDetectorRef.markForCheck()}ngOnInit(){}handleSort(e){this.sortChange.emit(e)}}var Hg=l.tb({encapsulation:0,styles:[[""]],data:{}});function Ig(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleSort(e.context.$implicit)&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(2,0,[" "," "]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null),e(t,2,0,t.context.$implicit.label)}))}function Tg(e){return l.Rb(2,[(e()(),l.vb(0,16777216,null,null,5,"button",[["app-button",""],["aria-haspopup","true"],["buttonTheme","light"],["buttonType","flat"],["class","mat-menu-trigger"]],[[8,"disabled",0],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==l.Hb(e,2)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Hb(e,2)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Hb(e,2)._handleClick(n)&&i),i}),$e,Be)),l.ub(1,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),l.ub(2,1196032,null,0,we.g,[Qe.a,l.l,l.Q,we.c,[2,we.d],[8,null],[2,Ge.b],pe.e],{menu:[0,"menu"]},null),(e()(),l.Pb(3,0,[" "," "])),(e()(),l.vb(4,0,null,0,1,"app-icon",[["class","ml-1"],["icon","caret-down"]],null,null,null,se,oe)),l.ub(5,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(6,0,null,null,8,"mat-menu",[],null,null,null,Ce.d,Ce.b)),l.Mb(6144,null,we.d,null,[we.h]),l.Mb(6144,null,we.b,null,[we.d]),l.ub(9,1294336,[["sortActions",4]],3,we.h,[l.l,l.z,we.a],null,null),l.Nb(603979776,1,{_allItems:1}),l.Nb(603979776,2,{items:1}),l.Nb(603979776,3,{lazyContent:0}),(e()(),l.lb(16777216,null,0,1,null,Ig)),l.ub(14,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"flat","light"),e(t,2,0,l.Hb(t,9)),e(t,5,0,"caret-down"),e(t,9,0),e(t,14,0,n.sortOptions)}),(function(e,t){var n=t.component;e(t,0,0,l.Hb(t,1).disabled,l.Hb(t,2).menuOpen||null),e(t,3,0,n.sort.label)}))}var zg=function(e){return e.Inline="inline",e.Block="block",e}({});class Fg{constructor(){this.render=zg.Inline}ngOnInit(){}}var Lg=l.tb({encapsulation:2,styles:[[".app-button-group{display:-webkit-inline-box;display:inline-flex;position:relative}.app-button-group--inline{display:-webkit-inline-box;display:inline-flex}.app-button-group--block{display:-webkit-box;display:flex}.app-button-group--expanded{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;-webkit-box-pack:center;justify-content:center}.app-button-group button[app-button]{position:relative;z-index:1;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1}.app-button-group button[app-button]:hover{z-index:2}.app-button-group button[app-button]:first-child .app-button,.app-button-group button[app-button]:first-child .app-button:after{border-top-right-radius:0;border-bottom-right-radius:0}.app-button-group button[app-button]:last-child .app-button,.app-button-group button[app-button]:last-child .app-button:after{border-top-left-radius:0;border-bottom-left-radius:0}.app-button-group button[app-button]:last-child .app-button{margin-left:1px}.app-button-group button[app-button]:last-child .app-button--outline{margin-left:-1px}.app-button-group button[app-button]:not(:first-child):not(:last-child) .app-button,.app-button-group button[app-button]:not(:first-child):not(:last-child) .app-button:after{border-radius:0}.app-button-group button[app-button]:not(:first-child):not(:last-child) .app-button{margin-left:1px}.app-button-group button[app-button]:not(:first-child):not(:last-child) .app-button--outline{margin-left:-1px}"]],data:{}});function Eg(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,4,"div",[["class","app-button-group"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Ib(3,1),l.Gb(null,0)],(function(e,t){var n=e(t,3,0,"app-button-group--"+t.component.render);e(t,2,0,"app-button-group",n)}),null)}let Ng=(()=>{class e{constructor(e){this.store=e,this.galleryViewMode=np}ngOnInit(){}handleViewModeClick(e){this.store.dispatch(new Io.SetViewMode(e))}}return Object(b.__decorate)([Object(g.e)(ap.getViewMode),Object(b.__metadata)("design:type",V.a)],e.prototype,"viewMode$",void 0),e})();var Rg=l.tb({encapsulation:0,styles:[[""]],data:{}});function Ag(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,11,"app-button-group",[],null,null,null,Eg,Lg)),l.ub(1,114688,null,0,Fg,[],null,null),(e()(),l.vb(2,0,null,0,4,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleViewModeClick(i.galleryViewMode.Cards)&&l),l}),$e,Be)),l.ub(3,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],selected:[2,"selected"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(5,0,null,0,1,"app-icon",[["icon","th"]],null,null,null,se,oe)),l.ub(6,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(7,0,null,0,4,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleViewModeClick(i.galleryViewMode.List)&&l),l}),$e,Be)),l.ub(8,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],selected:[2,"selected"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(10,0,null,0,1,"app-icon",[["icon","bars"]],null,null,null,se,oe)),l.ub(11,114688,null,0,ae,[],{icon:[0,"icon"]},null)],(function(e,t){var n=t.component;e(t,1,0),e(t,3,0,"flat","light",l.Qb(t,3,2,l.Hb(t,4).transform(n.viewMode$))===n.galleryViewMode.Cards),e(t,6,0,"th"),e(t,8,0,"flat","light",l.Qb(t,8,2,l.Hb(t,9).transform(n.viewMode$))===n.galleryViewMode.List),e(t,11,0,"bars")}),(function(e,t){e(t,2,0,l.Hb(t,3).disabled),e(t,7,0,l.Hb(t,8).disabled)}))}let Dg=(()=>{class e{constructor(e){this.store=e,this.galleryViewMode=np}ngOnInit(){}handleSort(e){this.store.dispatch(new Io.SetSort(e))}toggleView(e){this.store.dispatch(new Io.SetViewMode(e))}}return Object(b.__decorate)([Object(g.e)(ap.getViewMode),Object(b.__metadata)("design:type",V.a)],e.prototype,"viewMode$",void 0),Object(b.__decorate)([Object(g.e)(ap.getSort),Object(b.__metadata)("design:type",V.a)],e.prototype,"sort$",void 0),Object(b.__decorate)([Object(g.e)(ap.getSortOptions),Object(b.__metadata)("design:type",V.a)],e.prototype,"sortOptions$",void 0),e})();var Ug=l.tb({encapsulation:0,styles:[[""]],data:{}});function Bg(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,3,"app-sort",[["class","mr-4"]],null,[[null,"sortChange"]],(function(e,t,n){var l=!0;return"sortChange"===t&&(l=!1!==e.component.handleSort(n)&&l),l}),Tg,Hg)),l.ub(1,114688,null,0,Mg,[l.i],{sort:[0,"sort"],sortOptions:[1,"sortOptions"]},{sortChange:"sortChange"}),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(4,0,null,null,1,"app-gallery-view-mode",[],null,null,null,Ag,Rg)),l.ub(5,114688,null,0,Ng,[g.i],null,null)],(function(e,t){var n=t.component;e(t,1,0,l.Qb(t,1,0,l.Hb(t,2).transform(n.sort$)),l.Qb(t,1,1,l.Hb(t,3).transform(n.sortOptions$))),e(t,5,0)}),null)}var $g=n("szML"),Vg=n("9N3a"),Qg=function(e){return e.Model="model",e.Tags="tags",e.CreatedBy="created-by",e.UpdatedBy="updated-by",e.Actions="actions",e}({});class Gg{constructor(e){this.changeDetectorRef=e,this.selectLabel="Select",this._columns=[Qg.Model,Qg.Tags,Qg.CreatedBy,Qg.UpdatedBy,Qg.Actions],this.showActions=!1,this.checkable=!1,this.checkedResults=[],this.checkedChange=new l.n,this.selectBookmark=new l.n}get columns(){return this._columns}set columns(e){this._columns=e}get results(){return this._results}set results(e){this._results=e,this.changeDetectorRef.markForCheck()}ngOnInit(){}handleSelect(e){this.selectBookmark.emit(e)}handleCheckedChange(e){const t=e.checked?[...this.checkedResults,e.source.value]:this.checkedResults.filter(t=>t!==e.source.value);this.checkedChange.emit(t)}isChecked(e){return this.checkedResults.indexOf(e)>=0}}var Wg=l.tb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}[_nghost-%COMP%]{display:block;height:100%;width:100%}.gallery[_ngcontent-%COMP%]{width:100%;height:100%}.gallery__table[_ngcontent-%COMP%]{width:100%}.gallery__row[_ngcontent-%COMP%]:nth-child(even){background:#f9fafd}.gallery__row[_ngcontent-%COMP%]:hover{background:#eaeff5;cursor:pointer}.gallery__row[_ngcontent-%COMP%]:hover   .gallery__actions[_ngcontent-%COMP%], .gallery__row[_ngcontent-%COMP%]:hover   .gallery__checkbox[_ngcontent-%COMP%]{visibility:visible}.gallery__row--checked[_ngcontent-%COMP%]:nth-child(even), .gallery__row--checked[_ngcontent-%COMP%]:nth-child(odd){background:#d7e0ea}.gallery__row--checked[_ngcontent-%COMP%]   .gallery__checkbox[_ngcontent-%COMP%]{visibility:visible}.gallery__cell[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em;padding:8px;vertical-align:middle}.gallery__cell--header[_ngcontent-%COMP%]{background:#f9fafd;box-shadow:0 1px 0 #d7e0ea;padding:8px;color:#96a8c0;text-align:left;font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.gallery__cell--meta[_ngcontent-%COMP%]{color:#f9fafd}.gallery__cell--tags[_ngcontent-%COMP%]{width:180px}.gallery__cell--author[_ngcontent-%COMP%]{color:#96a8c0;width:120px}.gallery__cell--updated[_ngcontent-%COMP%]{color:#96a8c0;width:160px}.gallery__cell--checkbox[_ngcontent-%COMP%]{width:32px}.gallery__cell--actions[_ngcontent-%COMP%]{width:80px}.gallery__model[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-flex:1;flex:1 1 auto}.gallery__image-container[_ngcontent-%COMP%]{background:url(/assets/images/logo-dark-transparent.svg) center center/75% no-repeat #f9fafd;border-radius:4px;border:1px solid #d7e0ea;-webkit-box-flex:0;flex:0 0 36px;height:36px;margin-right:8px}.gallery__image[_ngcontent-%COMP%]{border-radius:4px;width:100%;height:100%;background-size:cover}.gallery__label[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em;font-weight:500;word-break:break-word}.gallery__actions[_ngcontent-%COMP%]{visibility:hidden;white-space:nowrap}.gallery__checkbox[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;visibility:hidden}"]],data:{}});function Jg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"div",[["class","gallery__image"]],null,null,null,null,null)),l.Mb(512,null,Y.C,Y.D,[l.l,l.t,l.F]),l.ub(2,278528,null,0,Y.p,[Y.C],{ngStyle:[0,"ngStyle"]},null),l.Kb(3,{"background-image":0})],(function(e,t){var n=e(t,3,0,"url("+t.parent.context.$implicit.thumbnail_url+")");e(t,2,0,n)}),null)}function qg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Kg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Pb(1,null,[" "," on "]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.last_editor_first_name||t.parent.context.$implicit.last_editor)}))}function Xg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"div",[["appEventFence",""],["class","gallery__checkbox hide-sm"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,1).onClick(n,n.target)&&i),i}),null,null)),l.ub(1,16384,null,0,re,[],null,null),(e()(),l.vb(2,0,null,null,2,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==e.component.handleCheckedChange(n)&&l),l}),ce.b,ce.a)),l.Mb(5120,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(4,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],{value:[0,"value"],checked:[1,"checked"]},{change:"change"})],(function(e,t){e(t,4,0,t.parent.parent.context.$implicit.id,t.component.isChecked(t.parent.parent.context.$implicit.id))}),(function(e,t){e(t,2,0,l.Hb(t,4).id,null,l.Hb(t,4).indeterminate,l.Hb(t,4).checked,l.Hb(t,4).disabled,"before"==l.Hb(t,4).labelPosition,"NoopAnimations"===l.Hb(t,4)._animationMode)}))}function Zg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"td",[["appEventFence",""],["class","gallery__cell gallery__cell--checkbox hide-md"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,1).onClick(n,n.target)&&i),i}),null,null)),l.ub(1,16384,null,0,re,[],null,null),(e()(),l.lb(16777216,null,null,1,null,Xg)),l.ub(3,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,3,0,t.component.checkable)}),null)}function Yg(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function eh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,"td",[["appEventFence",""],["class","gallery__cell gallery__cell--actions hide-md"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,1).onClick(n,n.target)&&i),i}),null,null)),l.ub(1,16384,null,0,re,[],null,null),(e()(),l.vb(2,0,null,null,3,"div",[["class","gallery__actions"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,2,null,Yg)),l.ub(4,540672,null,0,Y.t,[l.Q],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Kb(5,{$implicit:0})],(function(e,t){var n=t.component,l=e(t,5,0,t.parent.context.$implicit);e(t,4,0,l,n.galleryActionsTemplate)}),null)}function th(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,26,"tr",[["class","gallery__row"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSelect(e.context.$implicit)&&l),l}),null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"gallery__row--checked":0}),(e()(),l.vb(4,0,null,null,6,"td",[["class","gallery__cell gallery__cell--model"]],null,null,null,null,null)),(e()(),l.vb(5,0,null,null,5,"div",[["class","gallery__model"]],null,null,null,null,null)),(e()(),l.vb(6,0,null,null,2,"div",[["class","gallery__image-container"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Jg)),l.ub(8,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(9,0,null,null,1,"div",[["class","gallery__label"]],null,null,null,null,null)),(e()(),l.Pb(10,null,["",""])),(e()(),l.vb(11,0,null,null,4,"td",[["class","gallery__cell gallery__cell--tags hide-md"]],null,null,null,null,null)),(e()(),l.vb(12,0,null,null,3,"span",[["class","text-10 text-uppercase text-medium text-dim"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,2,null,qg)),l.ub(14,540672,null,0,Y.t,[l.Q],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Kb(15,{$implicit:0}),(e()(),l.vb(16,0,null,null,1,"td",[["class","gallery__cell gallery__cell--author hide-md"]],null,null,null,null,null)),(e()(),l.Pb(17,null,[" "," "])),(e()(),l.vb(18,0,null,null,4,"td",[["class","gallery__cell gallery__cell--updated hide-md"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Kg)),l.ub(20,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.Pb(21,null,[" "," "])),l.Lb(22,2),(e()(),l.lb(16777216,null,null,1,null,Zg)),l.ub(24,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,eh)),l.ub(26,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.isChecked(t.context.$implicit.id));e(t,2,0,"gallery__row",l),e(t,8,0,t.context.$implicit.thumbnail_url);var i=e(t,15,0,t.context.$implicit);e(t,14,0,i,n.galleryTagsTemplate),e(t,20,0,null==t.context.$implicit.editor?null:t.context.$implicit.editor.name),e(t,24,0,n.checkable),e(t,26,0,n.showActions)}),(function(e,t){e(t,10,0,t.context.$implicit.title),e(t,17,0,t.context.$implicit.author_first_name||t.context.$implicit.author);var n=l.Qb(t,21,0,e(t,22,0,l.Hb(t.parent,0),t.context.$implicit.update_date_time||t.context.$implicit.create_date_time,"shortDate"));e(t,21,0,n)}))}function nh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"td",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null))],null,null)}function lh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"th",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null))],null,null)}function ih(e){return l.Rb(0,[l.Jb(0,Y.e,[l.u]),(e()(),l.vb(1,0,null,null,20,"virtual-scroller",[["bufferAmount","20"],["class","gallery"]],[[2,"horizontal",null],[2,"vertical",null],[2,"selfScroll",null]],null,null,$g.b,$g.a)),l.ub(2,1032192,[["scroll",4]],2,Vg.b,[l.l,l.F,l.z,l.i,l.B,[2,"virtual-scroller-default-options"]],{stripedTable:[0,"stripedTable"],bufferAmount:[1,"bufferAmount"],items:[2,"items"]},null),l.Nb(603979776,1,{headerElementRef:0}),l.Nb(603979776,2,{containerElementRef:0}),(e()(),l.vb(5,0,null,0,16,"table",[["class","gallery__table"]],null,null,null,null,null)),(e()(),l.vb(6,0,[[2,0],["container",1]],null,2,"tbody",[],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,th)),l.ub(8,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),(e()(),l.vb(9,0,[[1,0],["header",1]],null,12,"thead",[],null,null,null,null,null)),(e()(),l.vb(10,0,null,null,1,"th",[["class","gallery__cell gallery__cell--header"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Model"])),(e()(),l.vb(12,0,null,null,1,"th",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Tags"])),(e()(),l.vb(14,0,null,null,1,"th",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Author"])),(e()(),l.vb(16,0,null,null,1,"th",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Updated"])),(e()(),l.lb(16777216,null,null,1,null,nh)),l.ub(19,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,lh)),l.ub(21,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,!0,"20",n.results),e(t,8,0,l.Hb(t,2).viewPortItems),e(t,19,0,n.checkable),e(t,21,0,n.showActions)}),(function(e,t){e(t,1,0,l.Hb(t,2).horizontal,!l.Hb(t,2).horizontal,!l.Hb(t,2).parentScroll)}))}class ah{constructor(e){this.changeDetectorRef=e,this.galleryColumns=Qg,this.selectLabel="Select",this._columns=[Qg.Model,Qg.Tags,Qg.CreatedBy,Qg.UpdatedBy,Qg.Actions],this.checkable=!1,this.checked=!1,this.showActions=!1,this.selectBookmark=new l.n,this.checkedChange=new l.n}get columns(){return this._columns}set columns(e){this._columns=e}get result(){return this._result}set result(e){this._result=e,this.changeDetectorRef.markForCheck()}ngOnInit(){}hasColumns(...e){return e.some(e=>this.hasColumn(e))}hasColumn(e){return this.columns.some(t=>t===e)}handleSelect(e){this.selectBookmark.emit(e)}handleCheckedChange(e){this.checkedChange.emit({id:e.source.value,checked:e.checked})}}var oh=l.tb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}[_nghost-%COMP%]{padding:1px}[_nghost-%COMP%]:focus{outline:0}.gallery-card[_ngcontent-%COMP%]{background:#fff;border-radius:4px;box-shadow:0 -1px 1px 0 rgba(16,24,35,.15),0 1px 2px 0 rgba(16,24,35,.2);display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;width:100%;height:100%;position:relative;overflow:hidden}.gallery-card[_ngcontent-%COMP%]:hover{cursor:pointer}.gallery-card[_ngcontent-%COMP%]:hover   .gallery-card__hover[_ngcontent-%COMP%]{display:block;opacity:1}.gallery-card[_ngcontent-%COMP%]:hover   .gallery-card__actions[_ngcontent-%COMP%]{opacity:1}.gallery-card--checked[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #0060c4}.gallery-card__image-container[_ngcontent-%COMP%]{background:url(/assets/images/logo-dark-transparent.svg) center center/30% no-repeat #eaeff5;border-radius:4px 4px 0 0;position:relative;-webkit-box-flex:1;flex:1 1 auto;display:-webkit-box;display:flex}.gallery-card__image[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;position:relative;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;background-size:cover;background-position:top center}.gallery-card__body[_ngcontent-%COMP%]{color:#283853;background:#fff;padding:12px;word-break:break-word;-webkit-box-flex:0;flex:0 1 72px}.gallery-card__label[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em;font-weight:500}.gallery-card__hover[_ngcontent-%COMP%]{color:#fff;left:0;right:0;top:0;bottom:0;opacity:0;position:absolute;background:rgba(28,42,63,.9);-webkit-transition:opacity .25s;transition:opacity .25s;z-index:2}.gallery-card__action[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;border:1px solid #fff;border-radius:4px;position:absolute;left:30%;top:40%;right:30%;text-align:center;padding:10px 12px}.gallery-card__meta[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em;color:#d7e0ea;padding:12px;position:absolute;bottom:0}.gallery-card__header[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;padding:8px 8px 8px 16px;min-height:36px}.gallery-card__check[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto}.gallery-card__actions[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;float:right;text-align:right;margin:-8px -8px 0 0;-webkit-transition:opacity 250ms;transition:opacity 250ms}"]],data:{}});function sh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"div",[["class","gallery-card__image"]],null,null,null,null,null)),l.Mb(512,null,Y.C,Y.D,[l.l,l.t,l.F]),l.ub(2,278528,null,0,Y.p,[Y.C],{ngStyle:[0,"ngStyle"]},null),l.Kb(3,{"background-image":0})],(function(e,t){var n=e(t,3,0,"url("+t.component.result.thumbnail_url+")");e(t,2,0,n)}),null)}function rh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Pb(1,null,["Created by ",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.result.author_first_name||n.result.author)}))}function ch(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l.Pb(1,null,["Updated by "," on ",""])),l.Lb(2,2)],null,(function(e,t){var n=t.component,i=n.result.last_editor_first_name||n.result.last_editor,a=l.Qb(t,1,1,e(t,2,0,l.Hb(t.parent,0),n.result.update_date_time||n.result.create_date_time,"shortDate"));e(t,1,0,i,a)}))}function uh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"div",[["class","gallery-card__check theme-ghost"]],[[2,"card__check--checked",null]],null,null,null,null)),(e()(),l.vb(1,0,null,null,2,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==e.component.handleCheckedChange(n)&&l),l}),ce.b,ce.a)),l.Mb(5120,null,ie.m,(function(e){return[e]}),[ue.b]),l.ub(3,8568832,null,0,ue.b,[l.l,l.i,pe.e,l.z,[8,null],[2,ue.a],[2,de.a]],{value:[0,"value"],checked:[1,"checked"]},{change:"change"})],(function(e,t){var n=t.component;e(t,3,0,n.result.id,n.checked)}),(function(e,t){e(t,0,0,t.component.checked),e(t,1,0,l.Hb(t,3).id,null,l.Hb(t,3).indeterminate,l.Hb(t,3).checked,l.Hb(t,3).disabled,"before"==l.Hb(t,3).labelPosition,"NoopAnimations"===l.Hb(t,3)._animationMode)}))}function ph(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function dh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function bh(e){return l.Rb(2,[l.Jb(0,Y.e,[l.u]),(e()(),l.vb(1,0,null,null,30,"div",[["class","gallery-card"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleSelect(i.result)&&l),l}),null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(3,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(4,{"gallery-card--checked":0}),(e()(),l.vb(5,0,null,null,14,"div",[["class","gallery-card__image-container"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,sh)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(8,0,null,null,11,"div",[["class","gallery-card__hover hide-sm"]],null,null,null,null,null)),(e()(),l.vb(9,0,null,null,4,"div",[["class","gallery-card__meta"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,rh)),l.ub(11,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,ch)),l.ub(13,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(14,0,null,null,1,"div",[["class","gallery-card__action"]],null,null,null,null,null)),(e()(),l.Pb(15,null,[" "," "])),(e()(),l.vb(16,0,null,null,3,"div",[["appEventFence",""],["class","gallery-card__header"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,17).onClick(n,n.target)&&i),i}),null,null)),l.ub(17,16384,null,0,re,[],null,null),(e()(),l.lb(16777216,null,null,1,null,uh)),l.ub(19,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(20,0,null,null,11,"div",[["class","gallery-card__body"]],null,null,null,null,null)),(e()(),l.vb(21,0,null,null,4,"div",[["appEventFence",""],["class","gallery-card__actions hide-sm"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,22).onClick(n,n.target)&&i),i}),null,null)),l.ub(22,16384,null,0,re,[],null,null),(e()(),l.lb(16777216,null,null,2,null,ph)),l.ub(24,540672,null,0,Y.t,[l.Q],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Kb(25,{$implicit:0}),(e()(),l.vb(26,0,null,null,1,"div",[["class","gallery-card__label"]],null,null,null,null,null)),(e()(),l.Pb(27,null,["",""])),(e()(),l.vb(28,0,null,null,3,"div",[["class","text-10 text-uppercase text-medium text-dim mt-2"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,2,null,dh)),l.ub(30,540672,null,0,Y.t,[l.Q],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Kb(31,{$implicit:0})],(function(e,t){var n=t.component,l=e(t,4,0,n.checked);e(t,3,0,"gallery-card",l),e(t,7,0,n.result.thumbnail_url),e(t,11,0,n.hasColumn(n.galleryColumns.CreatedBy)&&n.result.author),e(t,13,0,n.hasColumn(n.galleryColumns.UpdatedBy)&&n.result.last_editor),e(t,19,0,n.checkable);var i=e(t,25,0,n.result);e(t,24,0,i,n.galleryActionsTemplate);var a=e(t,31,0,n.result);e(t,30,0,a,n.galleryTagsTemplate)}),(function(e,t){var n=t.component;e(t,15,0,n.selectLabel),e(t,27,0,n.result.title)}))}class gh{constructor(){this.galleryColumns=Qg,this.selectLabel="Select",this._columns=[Qg.Model,Qg.Tags,Qg.CreatedBy,Qg.UpdatedBy,Qg.Actions],this.checkable=!1,this.checkedResults=[],this.showActions=!1,this.checkedChange=new l.n,this.selectBookmark=new l.n}get columns(){return this._columns}set columns(e){this._columns=e}get results(){return this._results}set results(e){this._results=e}ngOnInit(){}handleSelect(e){this.selectBookmark.emit(e)}handleCheckedChange(e){const t=e.checked?[...this.checkedResults,e.id]:this.checkedResults.filter(t=>t!==e.id);this.checkedChange.emit(t)}isChecked(e){return this.checkedResults.indexOf(e)>=0}}var hh=l.tb({encapsulation:2,styles:[[":host{display:block;height:100%;width:100%}.gallery-cards{display:block;height:100%;width:100%}.gallery-cards__loading{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin-top:20vh}.gallery-cards__content{display:block;padding:1px;height:100%}.gallery-cards__content .scrollable-content{display:grid;padding:1px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));grid-auto-rows:364px;grid-auto-flow:row;-webkit-box-pack:center;justify-content:center}.gallery-cards__content .scrollable-content app-gallery-card{padding:16px}"]],data:{}});function mh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"app-gallery-card",[],null,[[null,"selectBookmark"],[null,"checkedChange"]],(function(e,t,n){var l=!0,i=e.component;return"selectBookmark"===t&&(l=!1!==i.handleSelect(n)&&l),"checkedChange"===t&&(l=!1!==i.handleCheckedChange(n)&&l),l}),bh,oh)),l.ub(1,114688,null,2,ah,[l.i],{galleryActionsTemplate:[0,"galleryActionsTemplate"],galleryTagsTemplate:[1,"galleryTagsTemplate"],selectLabel:[2,"selectLabel"],columns:[3,"columns"],result:[4,"result"],checkable:[5,"checkable"],checked:[6,"checked"],showActions:[7,"showActions"]},{selectBookmark:"selectBookmark",checkedChange:"checkedChange"}),l.Nb(335544320,3,{galleryActionsTemplate:0}),l.Nb(335544320,4,{galleryTagsTemplate:0})],(function(e,t){var n=t.component;e(t,1,0,n.galleryActionsTemplate,n.galleryTagsTemplate,n.selectLabel,n.columns,t.context.$implicit,n.checkable,n.isChecked(t.context.$implicit.id),n.showActions)}),null)}function _h(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,6,"div",[["class","gallery-cards"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,5,"virtual-scroller",[["class","gallery-cards__content"]],[[2,"horizontal",null],[2,"vertical",null],[2,"selfScroll",null]],null,null,$g.b,$g.a)),l.ub(2,1032192,[["scroll",4]],2,Vg.b,[l.l,l.F,l.z,l.i,l.B,[2,"virtual-scroller-default-options"]],{items:[0,"items"]},null),l.Nb(603979776,1,{headerElementRef:0}),l.Nb(603979776,2,{containerElementRef:0}),(e()(),l.lb(16777216,null,0,1,null,mh)),l.ub(6,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.results),e(t,6,0,l.Hb(t,2).viewPortItems)}),(function(e,t){e(t,1,0,l.Hb(t,2).horizontal,!l.Hb(t,2).horizontal,!l.Hb(t,2).parentScroll)}))}class fh{constructor(e){this.changeDetectorRef=e,this.galleryViewMode=np,this.loading=!1,this.viewMode=np.Cards,this.selectLabel="Select",this.checkable=!1,this.showActions=!1,this.checkedResults=[],this.selectBookmark=new l.n,this.checkedChange=new l.n}get results(){return this._results}set results(e){this._results=e,this.changeDetectorRef.markForCheck()}ngOnInit(){switch(o.exportType){case"bookmark":this.columns=[Qg.Model,Qg.Tags,Qg.CreatedBy,Qg.UpdatedBy,Qg.Actions];break;case"module":this.columns=[Qg.Model,Qg.Actions]}}handleSelect(e){this.selectBookmark.emit(e)}handleCheckedChange(e){this.checkedChange.emit(e)}}var yh=l.tb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;height:100%;position:relative}.no-results[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:100%;width:100%;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:absolute;left:0;top:0}"]],data:{}});function vh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"app-gallery-list",[],null,[[null,"selectBookmark"],[null,"checkedChange"]],(function(e,t,n){var l=!0,i=e.component;return"selectBookmark"===t&&(l=!1!==i.handleSelect(n)&&l),"checkedChange"===t&&(l=!1!==i.handleCheckedChange(n)&&l),l}),ih,Wg)),l.ub(1,114688,null,2,Gg,[l.i],{galleryActionsTemplate:[0,"galleryActionsTemplate"],galleryTagsTemplate:[1,"galleryTagsTemplate"],selectLabel:[2,"selectLabel"],columns:[3,"columns"],results:[4,"results"],showActions:[5,"showActions"],checkable:[6,"checkable"],checkedResults:[7,"checkedResults"]},{checkedChange:"checkedChange",selectBookmark:"selectBookmark"}),l.Nb(335544320,1,{galleryActionsTemplate:0}),l.Nb(335544320,2,{galleryTagsTemplate:0})],(function(e,t){var n=t.component;e(t,1,0,n.galleryActionsTemplate,n.galleryTagsTemplate,n.selectLabel,n.columns,n.results,n.showActions,n.checkable,n.checkedResults)}),null)}function xh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"app-gallery-cards",[],null,[[null,"selectBookmark"],[null,"checkedChange"]],(function(e,t,n){var l=!0,i=e.component;return"selectBookmark"===t&&(l=!1!==i.handleSelect(n)&&l),"checkedChange"===t&&(l=!1!==i.handleCheckedChange(n)&&l),l}),_h,hh)),l.ub(1,114688,null,2,gh,[],{galleryActionsTemplate:[0,"galleryActionsTemplate"],galleryTagsTemplate:[1,"galleryTagsTemplate"],selectLabel:[2,"selectLabel"],columns:[3,"columns"],results:[4,"results"],checkable:[5,"checkable"],checkedResults:[6,"checkedResults"],showActions:[7,"showActions"]},{checkedChange:"checkedChange",selectBookmark:"selectBookmark"}),l.Nb(335544320,3,{galleryActionsTemplate:0}),l.Nb(335544320,4,{galleryTagsTemplate:0})],(function(e,t){var n=t.component;e(t,1,0,n.galleryActionsTemplate,n.galleryTagsTemplate,n.selectLabel,n.columns,n.results,n.checkable,n.checkedResults,n.showActions)}),null)}function Oh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-spinner",[["label","Loading..."],["size","large"]],null,null,null,Wp,Qp)),l.ub(1,114688,null,0,Vp,[],{size:[0,"size"],label:[1,"label"]},null)],(function(e,t){e(t,1,0,"large","Loading...")}),null)}function Ch(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"div",[["class","no-results text-dim text-14 text-uppercase text-light"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["No Models Found"]))],null,null)}function wh(e){return l.Rb(2,[(e()(),l.lb(16777216,null,null,1,null,vh)),l.ub(1,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,xh)),l.ub(3,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Oh)),l.ub(5,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Ch)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.viewMode===n.galleryViewMode.List&&!n.loading&&n.results),e(t,3,0,n.viewMode===n.galleryViewMode.Cards&&!n.loading&&n.results),e(t,5,0,n.loading),e(t,7,0,!n.loading&&n.results&&0===(null==n.results?null:n.results.length))}),null)}class jh{constructor(e){this.changeDetectorRef=e,this.viewMode=np.Cards,this.checkedResults=[],this.loading=!1,this.selectLabel="Select",this.checkable=!0,this.showActions=!0,this.selectBookmark=new l.n}get results(){return this._results}set results(e){this._results=e,this.changeDetectorRef.markForCheck()}ngOnInit(){}handleSelect(e){this.selectBookmark.emit(e)}}var kh=l.tb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;width:100%;height:100%}.gallery-container[_ngcontent-%COMP%]{height:100%;width:100%;display:grid;display:grid;grid-template-areas:'filters controls' 'body body';grid-template-columns:1fr auto;grid-template-rows:auto 1fr}.gallery-container__filters[_ngcontent-%COMP%]{grid-area:filters;padding:8px 8px 8px 0}.gallery-container__controls[_ngcontent-%COMP%]{grid-area:controls;padding:8px 0}.gallery-container__body[_ngcontent-%COMP%]{grid-area:body;padding:8px 0;overflow-y:hidden}"]],data:{}});function Sh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-gallery-filters-loft",[],null,null,null,hg,cg)),l.ub(1,245760,null,0,rg,[g.i,ie.f],null,null)],(function(e,t){e(t,1,0)}),null)}function Ph(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-gallery-filters-studio",[],null,null,null,kg,fg)),l.ub(1,245760,null,0,_g,[g.i,l.i,ie.f],null,null)],(function(e,t){e(t,1,0)}),null)}function Mh(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,13,"div",[["class","gallery-container theme-light"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,4,"div",[["class","gallery-container__filters"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Sh)),l.ub(3,81920,null,0,Sg,[l.N,l.Q],null,null),(e()(),l.lb(16777216,null,null,1,null,Ph)),l.ub(5,81920,null,0,Pg,[l.N,l.Q],null,null),(e()(),l.vb(6,0,null,null,2,"div",[["class","gallery-container__controls"]],null,null,null,null,null)),(e()(),l.vb(7,0,null,null,1,"app-gallery-controls",[],null,null,null,Bg,Ug)),l.ub(8,114688,null,0,Dg,[g.i],null,null),(e()(),l.vb(9,0,null,null,4,"div",[["class","gallery-container__body"]],null,null,null,null,null)),(e()(),l.vb(10,0,null,null,3,"app-gallery-results",[],null,[[null,"selectBookmark"]],(function(e,t,n){var l=!0;return"selectBookmark"===t&&(l=!1!==e.component.handleSelect(n)&&l),l}),wh,yh)),l.ub(11,114688,null,2,fh,[l.i],{galleryActionsTemplate:[0,"galleryActionsTemplate"],galleryTagsTemplate:[1,"galleryTagsTemplate"],loading:[2,"loading"],viewMode:[3,"viewMode"],selectLabel:[4,"selectLabel"],results:[5,"results"],checkable:[6,"checkable"],showActions:[7,"showActions"],checkedResults:[8,"checkedResults"]},{selectBookmark:"selectBookmark"}),l.Nb(335544320,1,{galleryActionsTemplate:0}),l.Nb(335544320,2,{galleryTagsTemplate:0})],(function(e,t){var n=t.component;e(t,3,0),e(t,5,0),e(t,8,0),e(t,11,0,n.galleryActionsTemplate,n.galleryTagsTemplate,n.loading,n.viewMode,n.selectLabel,n.results,n.checkable,n.showActions,n.checkedResults)}),null)}var Hh=l.tb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;height:calc(90vh - 48px);width:calc(90vw - 48px)}"]],data:{}});function Ih(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"app-list-item",[],null,null,null,lg,ng)),l.ub(1,114688,null,0,tg,[],null,null),(e()(),l.vb(2,0,null,0,1,"app-icon",[["icon","lock"]],null,null,null,se,oe)),l.ub(3,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.Pb(-1,0,[" Premium "]))],(function(e,t){e(t,1,0),e(t,3,0,"lock")}),null)}function Th(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"app-list-item",[],null,null,null,lg,ng)),l.ub(1,114688,null,0,tg,[],null,null),(e()(),l.Pb(-1,0,[" Animated "]))],(function(e,t){e(t,1,0)}),null)}function zh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"app-list-item",[],null,null,null,lg,ng)),l.ub(1,114688,null,0,tg,[],null,null),(e()(),l.Pb(-1,0,[" Tour "]))],(function(e,t){e(t,1,0)}),null)}function Fh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,8,"app-list",[["listType","commafied"]],null,null,null,sg,og)),l.ub(1,114688,null,0,ag,[],{listType:[0,"listType"]},null),(e()(),l.lb(16777216,null,0,2,null,Ih)),l.ub(3,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,0,1,null,Th)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,0,1,null,zh)),l.ub(8,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"commafied"),e(t,3,0,t.context.$implicit.premium&&!l.Qb(t,3,0,l.Hb(t,4).transform(n.isPremiumUser$))),e(t,6,0,t.context.$implicit.animated),e(t,8,0,t.context.$implicit.tour)}),null)}function Lh(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,1,"div",[["class","import__header"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,[" Import Chapters\n"])),(e()(),l.vb(2,0,null,null,7,"app-gallery-container",[["class","import__content"],["selectLabel","Import"]],null,[[null,"selectBookmark"]],(function(e,t,n){var l=!0;return"selectBookmark"===t&&(l=!1!==e.component.handleSelect(n)&&l),l}),Mh,kh)),l.ub(3,114688,null,2,jh,[l.i],{viewMode:[0,"viewMode"],loading:[1,"loading"],selectLabel:[2,"selectLabel"],checkable:[3,"checkable"],showActions:[4,"showActions"],results:[5,"results"]},{selectBookmark:"selectBookmark"}),l.Nb(335544320,1,{galleryActionsTemplate:0}),l.Nb(335544320,2,{galleryTagsTemplate:0}),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(0,[[2,2],["galleryTags",2]],null,0,null,Fh))],(function(e,t){var n=t.component;e(t,3,0,l.Qb(t,3,0,l.Hb(t,6).transform(n.viewMode$)),l.Qb(t,3,1,l.Hb(t,7).transform(n.loading$)),"Import",!1,!1,l.Qb(t,3,5,l.Hb(t,8).transform(n.results$)))}),null)}function Eh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-import-model-dialog",[],null,null,null,Lh,Hh)),l.ub(1,245760,null,0,sp,[g.i,pp.l,l.i],null,null)],(function(e,t){e(t,1,0)}),null)}var Nh=l.rb("app-import-model-dialog",sp,Eh,{},{},[]);class Rh{constructor(e){this.popupRef=e,this.renderMethod="component"}ngOnInit(){this.content=this.popupRef.content,"string"==typeof this.content?this.renderMethod="text":this.content instanceof l.N&&(this.renderMethod="template",this.context={close:this.popupRef.close.bind(this.popupRef)})}}class Ah{constructor(e,t,n){this.overlay=e,this.content=t,this.data=n,this.afterClosed=new $.a,this.afterClosed$=this.afterClosed.asObservable(),e.backdropClick().subscribe(()=>this._close("backdropClick",n))}close(e){this._close("close",e)}_close(e,t){this.overlay.dispose(),this.afterClosed.next({type:e,data:t}),this.afterClosed.complete()}}var Dh=l.tb({encapsulation:2,styles:[[".popup{background:#fff;border-radius:4px;padding:8px;overflow-y:auto;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3)}"]],data:{}});function Uh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.content)}))}function Bh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function $h(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Bh)),l.ub(2,540672,null,0,Y.t,[l.Q],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.context,n.content)}),null)}function Vh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Qh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Vh)),l.ub(2,671744,null,0,Y.k,[l.Q],{ngComponentOutlet:[0,"ngComponentOutlet"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,2,0,t.component.content)}),null)}function Gh(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,8,"div",[["class","popup"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,7,null,null,null,null,null,null,null)),l.ub(2,16384,null,0,Y.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.lb(16777216,null,null,1,null,Uh)),l.ub(4,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,$h)),l.ub(6,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,Qh)),l.ub(8,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){e(t,2,0,t.component.renderMethod),e(t,4,0,"text"),e(t,6,0,"template"),e(t,8,0,"component")}),null)}function Wh(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-popup",[],null,null,null,Gh,Dh)),l.ub(1,114688,null,0,Rh,[Ah],null,null)],(function(e,t){e(t,1,0)}),null)}var Jh=l.rb("app-popup",Rh,Wh,{},{},[]),qh=n("VLCt"),Kh=n("3UWI");let Xh=(()=>{class e{constructor(e,t,n){this.store=e,this.viewService=t,this.changeDetectorRef=n,this.defaultImage="/assets/images/view-chapter-thumbnail-placeholder.png",this.autoscroll=!0,this.ngUnsubscribe=new $.a,this.nextChapter=null}ngOnInit(){this.initChaptersObserver()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngAfterViewInit(){this.initScrollObserver()}initChaptersObserver(){Object(Gu.b)([this.store.select(ac.getStoryChapters),this.store.select(ac.getSelectedChapterIndex)]).pipe(Object(Kh.a)(300),Object(Q.a)(this.ngUnsubscribe)).subscribe(([e,t])=>{const n=t+1;this.nextChapter=n>=e.length?null:e[n],this.changeDetectorRef.markForCheck()})}initScrollObserver(){this.selectedChapterId$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.scrollChapterIntoView(e)})}handleChapterClick(e){this.viewService.selectChapter(e)}handleNextChapterClick(){this.viewService.nextChapter()}getChapterThumb(e){const t=this.store.selectSnapshot(ac.getRegisteredThumbnails).get(e);return t?t.snapshot||t.urls.small:""}scrollChapterIntoView(e){const t=this.chapterList.nativeElement.querySelector(`[data-chapter-id=${e}]`);t&&this.autoscroll&&"scrollBehavior"in document.documentElement.style&&t.scrollIntoView({behavior:"auto",block:"nearest"})}isViewed(e){return this.store.selectSnapshot(ac.getChaptersViewed).some(t=>t===e)}}return Object(b.__decorate)([Object(g.e)(ac.getStoryChapters),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapters$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterId),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedChapterId$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterIndex),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedChapterIndex$",void 0),Object(b.__decorate)([Object(g.e)(ac.getRegisteredThumbnails),Object(b.__metadata)("design:type",V.a)],e.prototype,"thumbnails$",void 0),Object(b.__decorate)([Object(g.e)(ac.getChaptersViewed),Object(b.__metadata)("design:type",V.a)],e.prototype,"chaptersViewed$",void 0),e})();var Zh=n("3E0/");class Yh{}let em=(()=>{class e{constructor(e){this.http=e,this.wikiCache=new Map}getWikiText(e,t=!0){if(t&&this.wikiCache.has(e)){const t=this.wikiCache.get(e);return Object(k.a)(t)}return this.http.get(`/search/wiki?name=${e}`).pipe(Object(r.a)(e=>e.description),Object(S.a)(e=>404===e.status?Object(k.a)(""):Object(ns.a)(e)),Object(Po.a)(t=>this.wikiCache.set(e,t)))}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(s.c))},token:e,providedIn:"root"}),e})();class tm{constructor(e,t,n="_color",l){this.label=e,this.recipe=t,this.icon=n,this.group=l}}var nm=function(e){return e.Colors="Colors",e.Effects="Effects",e}({}),lm=function(e){return e.Colors="_color",e.Effects="adjust",e}({});const im=new tm("Original",new Ks({tintColor:!1,saturation:!1,contrast:!1,brightness:!1,opacity:!1}),"times-circle",nm.Colors),am=new tm("Red",{tintColor:[1,0,0],saturation:!1,contrast:!1,brightness:!1,opacity:!1},lm.Colors,nm.Colors),om=(new tm("Yellow",new Ks({tintColor:[1,1,0],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),lm.Colors,nm.Colors),new tm("Green",new Ks({tintColor:[0,1,0],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),lm.Colors,nm.Colors),new tm("Cyan",new Ks({tintColor:[0,1,1],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),lm.Colors,nm.Colors),new tm("Blue",new Ks({tintColor:[0,0,1],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),lm.Colors,nm.Colors),new tm("Pink",new Ks({tintColor:[1,0,1],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),lm.Colors,nm.Colors),new tm("Grayscale",new Ks({tintColor:!1,saturation:-100,contrast:!1,brightness:!1,opacity:!1}),lm.Effects,nm.Effects),new tm("Desaturated",new Ks({tintColor:!1,saturation:-50,contrast:!1,brightness:!1,opacity:!1}),lm.Effects,nm.Effects),new tm("Fade",new Ks({tintColor:[0,0,0],contrast:!1,brightness:55,saturation:-100,opacity:new qs({edge:1,center:0,edgeBias:0,centerBias:1,power:1})}),lm.Effects,nm.Effects));var sm;(sm||(sm={})).getColorRecipe=function(e,t){const n=e.scene.objects[t];if(n instanceof e.scene.Object){const e=n.getProperties();return{tintColor:Object(vt.get)(e,"tintColor")?e.tintColor:[1,1,1],brightness:e.brightness,saturation:e.saturation,contrast:e.contrast,opacity:e.opacity}}return null};let rm=(()=>{class e{constructor(e,t,n){this.store=e,this.graphService=t,this.engineService=n,this.highlightDisabled=!1}colorObject(e,t){const{tintColor:n,saturation:l,brightness:i,contrast:a,opacity:o}=t,s=Human.scene.objects[e];s instanceof Human.scene.Object&&(Object(vt.isNil)(n)||s.setTintColor(n),Object(vt.isNil)(l)||s.setSaturation(l),Object(vt.isNil)(i)||s.setBrightness(i),Object(vt.isNil)(a)||s.setContrast(a),Object(vt.isNil)(o)||s.setOpacity(o))}getColor(e){return sm.getColorRecipe(Human,e)}uncolorObject(e){const t=Human.scene.objects[e];t instanceof Human.scene.Object&&(t.clearColorModifiers(),t.clearOpacityModifiers())}unpaint(e){const t=this.store.selectSnapshot(Wr.getViewGraph);this.graphService.getLeafDescendants(t,e.id).forEach(e=>{this.engineService.getObjects(e).forEach(e=>{const t=Human.scene.objects[e];t instanceof Human.scene.Object&&(t.clearColorModProperties(),t.clearOpacityModProperties())})})}paint(e,t){const n=this.store.selectSnapshot(Wr.getViewGraph),l=Ks.toEngine(t);this.graphService.getLeafDescendants(n,e.id).forEach(e=>{this.engineService.getObjects(e).forEach(e=>{this.colorObject(e,l)})})}highlight(e,t){if(!1===this.highlightDisabled||!1===t){const n=this.store.selectSnapshot(Wr.getViewGraph);this.graphService.getLeafDescendants(n,e.id).forEach(e=>{this.engineService.getObjects(e).forEach(e=>{const n=Human.scene.objects[e];n instanceof Human.scene.Object&&n.setHighlight(t)})})}}xRay(e,t){Human.scene.objects[e.id].setXRay(t)}paintAll(e,t){e.forEach(e=>{this.paint(e,t)})}unpaintAll(e){e.forEach(e=>{this.unpaint(e)})}highlightAll(e,t){e.forEach(e=>{this.highlight(e,t)})}inverseXRay(e,t){const n=e.map(e=>e.id),l=this.graphService.getInverseSelection(t,n),i=this.graphService.getNodes(t,l);this.paintAll(i,om.recipe),this.paintAll(e,im.recipe)}disableHighlight(){this.highlightDisabled=!0}enableHighlight(){this.highlightDisabled=!1}setHighlightColor(e){Human.renderer.highlightColor=[...e]}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(g.i),l.Vb(Ps),l.Vb(Ls))},token:e,providedIn:"root"}),e})();const cm={hit:null,selectedNode:null,labelEditNode:null,hoveredNode:null,checkedNodes:[],querying:!1};let um=(()=>{let e=class{constructor(e,t,n,l,i){this.store=e,this.graphService=t,this.engineService=n,this.wikiService=l,this.paintService=i}static getHit(e){return e.hit}static getHoveredNode(e){return e.hoveredNode}static getCheckedNodeIds(e){return e.checkedNodes.map(e=>e.id)}static getCheckedNodes(e){return e.checkedNodes}static getSelectedNode(e){return e.selectedNode}static getQuerying(e){return e.querying}static getLabelEditNode(e){return e.labelEditNode}setLabelEditNode(e,t){e.patchState({labelEditNode:t.node})}selectNode(e,t){e.patchState({selectedNode:t.node})}hoverNode(e,t){e.patchState({hoveredNode:t.node,hit:Object.assign({},t.hit||null)})}checkNode(e,t){const n=e.getState().checkedNodes;if(t.checked)n.some(e=>e.id===t.node.id)||e.patchState({checkedNodes:[...n,t.node]});else{const l=n.filter(e=>e.id!==t.node.id);e.patchState({checkedNodes:[...l]})}}checkAllNodes(e,t){const n=this.store.selectSnapshot(Wr.getViewGraph),l=Object.values(n.roots),i=this.graphService.getAllLeafDescendants(n,l.map(e=>e.id)),a=this.graphService.getNodes(n,i);e.patchState({checkedNodes:[...a]})}checkInverseNodes(e,t){const n=this.store.selectSnapshot(Wr.getViewGraph),l=this.graphService.getAllLeafDescendants(n,t.nodes.map(e=>e.id)),i=this.graphService.getInverseSelection(n,l),a=this.graphService.getNodes(n,i);e.patchState({checkedNodes:[...a]})}setCheckedNodes(e,t){e.patchState({checkedNodes:[...t.nodes]})}toggleVisibleNodes(e,t){const n=t.nodes.map(e=>e.id);this.engineService.toggleNodes(n,t.visible)}togglePickableNodes(e,t){const n=this.store.selectSnapshot(Wr.getViewGraph),l=t.nodes.map(e=>e.id),i=this.engineService.setNodesPickable(n,l,t.pickable);this.store.dispatch(new bi(i))}toggleInversePickableNodes(e,t){const n=t.nodes.map(e=>e.id),l=this.graphService.getInverseSelection(t.viewGraph,n),i=this.graphService.getNodes(t.viewGraph,l);this.store.dispatch(new mo(i,t.pickable))}expandNode(e,t){const n=this.store.selectSnapshot(Wr.getViewGraph);this.graphService.getAncestors(n,t.node.id,!0).forEach(e=>{n.nodes[e].boolState.expanded=!0}),this.store.dispatch(new ni(n))}collapseNode(e,t){const n=this.store.selectSnapshot(Wr.getViewGraph);n.nodes[t.node.id].boolState.expanded=!1,this.store.dispatch(new ni(n))}resetEngineNodes(e,t){e.setState(cm)}hideInverse(e,t){const n=t.nodes.map(e=>e.id),l=this.graphService.getInverseSelection(t.viewGraph,n),i=this.graphService.getNodes(t.viewGraph,l);this.store.dispatch(new ho(i,!1))}isolate(e,t){this.store.dispatch(new yo(t.nodes,t.viewGraph)),this.store.dispatch(new ho(t.nodes,!0,!1))}queryNodeInfo(e,{node:t}){e.patchState({querying:!0}),this.wikiService.getWikiText(t.label).pipe(Object(z.a)(()=>e.patchState({querying:!1}))).subscribe(n=>e.dispatch(new Co(t,n)),()=>e.dispatch(new wo(t)))}queryNodeInfoSuccess(e,{node:t,description:n}){e.dispatch(new xo(t,n))}setNodeInfo(e,{node:t,description:n}){const l=this.store.selectSnapshot(Wr.getViewGraph),i=l.nodes[t.id];if(i){i.description=n,this.store.dispatch(new ni(l));const t=e.getState().selectedNode;e.patchState({selectedNode:t})}}paintNodes(e,{nodes:t,recipe:n}){this.paintService.paintAll(t,n)}unpaintNodes(e,{nodes:t}){this.paintService.unpaintAll(t)}};return Object(b.__decorate)([Object(g.a)(So),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,So]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setLabelEditNode",null),Object(b.__decorate)([Object(g.a)(so),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,so]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"selectNode",null),Object(b.__decorate)([Object(g.a)(oo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,oo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"hoverNode",null),Object(b.__decorate)([Object(g.a)(ro),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ro]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"checkNode",null),Object(b.__decorate)([Object(g.a)(co),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,co]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"checkAllNodes",null),Object(b.__decorate)([Object(g.a)(uo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,uo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"checkInverseNodes",null),Object(b.__decorate)([Object(g.a)(go),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,go]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setCheckedNodes",null),Object(b.__decorate)([Object(g.a)(ho),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ho]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"toggleVisibleNodes",null),Object(b.__decorate)([Object(g.a)(mo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,mo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"togglePickableNodes",null),Object(b.__decorate)([Object(g.a)(_o),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,_o]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"toggleInversePickableNodes",null),Object(b.__decorate)([Object(g.a)(po),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,po]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"expandNode",null),Object(b.__decorate)([Object(g.a)(bo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,bo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"collapseNode",null),Object(b.__decorate)([Object(g.a)(fo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,fo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetEngineNodes",null),Object(b.__decorate)([Object(g.a)(yo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,yo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"hideInverse",null),Object(b.__decorate)([Object(g.a)(vo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,vo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"isolate",null),Object(b.__decorate)([Object(g.a)(Oo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Oo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"queryNodeInfo",null),Object(b.__decorate)([Object(g.a)(Co),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Co]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"queryNodeInfoSuccess",null),Object(b.__decorate)([Object(g.a)(xo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,xo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setNodeInfo",null),Object(b.__decorate)([Object(g.a)(jo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,jo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"paintNodes",null),Object(b.__decorate)([Object(g.a)(ko),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ko]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"unpaintNodes",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Yh]),Object(b.__metadata)("design:returntype",void 0)],e,"getHit",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Yh]),Object(b.__metadata)("design:returntype",void 0)],e,"getHoveredNode",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Yh]),Object(b.__metadata)("design:returntype",void 0)],e,"getCheckedNodeIds",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Yh]),Object(b.__metadata)("design:returntype",void 0)],e,"getCheckedNodes",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Yh]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedNode",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Yh]),Object(b.__metadata)("design:returntype",void 0)],e,"getQuerying",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Yh]),Object(b.__metadata)("design:returntype",void 0)],e,"getLabelEditNode",null),Object(b.__decorate)([Object(g.g)({name:"engineNodes",defaults:cm})],e)})();var pm=function(e){return e.Hide="hide",e.Show="show",e.Collapse="collapse",e}({}),dm=function(e){return e.None="none",e.Small="small",e.Full="full",e}({});class bm{constructor(e=pm.Hide,t=!0){this.status=e,this.enable=t}}var gm,hm=n("qpAl"),mm=n.n(hm);!function(e){function t(t){if(i()){if(t||(t=document.body),e.isFullscreen())return;mm.a.prefixed("requestFullscreen",document.body)()}}function n(){i()&&mm.a.prefixed("exitFullscreen",document)()}function l(){return mm.a.fullscreen&&mm.a.prefixed("fullscreenEnabled",document)}function i(){return!!l()||(console.warn("Fullscreen is not enabled"),!1)}function a(){return mm.a.prefixed("fullscreenElement",document)}e.toggleFullscreen=function(e){null===a()?t(e):n()},e.requestFullscreen=t,e.exitFullscreen=n,e.canFullscreen=l,e.checkFullscreenSupport=i,e.getFullscreenElement=a,e.isFullscreen=function(){return null!=a()},e.onFullscreenChange=function(){const e="mozfullscreenchange webkitfullscreenchange MSFullscreenChange fullscreenchange".split(" ").map(e=>Object(ib.a)(document.body,e));return Object(Wu.a)(...e)}}(gm||(gm={}));var _m=function(e){return e.Light="light",e.Dark="dark",e.Themed="themed",e}({});let fm=(()=>{class e{constructor(e,t){this.store=e,this.graphService=t,this.theme=_m.Dark,this.ngUnsubscribe=new $.a}ngOnInit(){this.store.select(um.getCheckedNodes).pipe(Object(G.a)(e=>1===e.length),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{setTimeout(()=>{this.scrollNodeIntoView(e)})})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}scrollNodeIntoView(e){const t=this.graphService.sanitizeNodeID(e[0].id),n=document.querySelector(`[data-id=${t}]`);n&&"scrollBehavior"in document.documentElement.style&&n.scrollIntoView({behavior:"smooth",block:"nearest"})}}return Object(b.__decorate)([Object(g.e)(Wr.getViewGraph),Object(b.__metadata)("design:type",V.a)],e.prototype,"viewGraph$",void 0),e})();var ym=n("C9yA"),vm=function(e){return e[e.List=0]="List",e[e.Tree=1]="Tree",e}({});class xm{constructor(e,t,n,i,a,o){this.renderer=e,this.changeDetectorRef=t,this.elementRef=n,this.engineService=i,this.graphService=a,this.store=o,this._query="",this._displayMode=vm.List,this.displayModeChange=new l.n,this.theme=_m.Dark,this.treeSearchDisplayMode=vm,this.searchResults=[],this.searchHeight=0,this.ngUnsubscribe=new $.a}get query(){return this._query}set query(e){this._query=e||"",this.handleQueryChange()}get displayMode(){return this._displayMode}set displayMode(e){null!=e&&(this._displayMode=e,this.handleQueryChange(),this.displayModeChange.emit(this.displayMode))}get viewGraph(){return this._viewGraph}set viewGraph(e){this._viewGraph=e,this.leafNodes=this.engineService.getLeaves(),this.buildPrunedViewGraph(this.displayMode),this.handleQueryChange(),this.changeDetectorRef.markForCheck()}ngOnInit(){}buildPrunedViewGraph(e){const t=this.store.selectSnapshot(ac.getSelectedChapter),n=this.engineService.createViewGraph(t.showObjects,!0);this.prunedViewGraph=n}ngAfterViewInit(){this.renderer.listen("window","resize",e=>{this.resize()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleQueryChange(){const e=this.search(this._query,this.displayMode===vm.List?this.prunedViewGraph:this.viewGraph);this.displayMode===vm.Tree&&(this.searchGraph=this.getTree(e)),this.searchResults=e,this.resize()}getTree(e){const t={nodes:{},successors:{},predecessors:{},roots:{}};return e.forEach(e=>{this.graphService.addNode(t,e)}),e.forEach(e=>{const n=this.graphService.getAncestors(this.viewGraph,e.id,!1);let l=e;n.every(e=>{const n=this.graphService.getNodes(t,[e]);let i=null;0===n.length?0===(i=this.graphService.getNodes(this.viewGraph,[e])[0]).depth?this.graphService.addRootNode(t,i):this.graphService.addNode(t,i):i=n[0];const a=this.graphService.addEdge(t,i.id,l.id);return l=i,a})}),t}resize(){this.getSearchHeight().pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.searchHeight=e,this.changeDetectorRef.markForCheck()})}getSearchHeight(){return new V.a(e=>{setTimeout(()=>{const t=this.elementRef.nativeElement.offsetHeight;null!=t&&(e.next(t),e.complete())})})}search(e,t){return void 0===t?[]:(e=e.toLowerCase(),Object.values(t.nodes).filter(e=>this.leafNodes.indexOf(e.id)>=0).filter(t=>0===e.length||Object(ym.remove)(t.label.toLowerCase()).indexOf(e)>=0).sort((e,t)=>e.label.localeCompare(t.label)))}trackTreeNode(e,t){return t.id}}class Om{}const Cm={audio:new bm,camera:new bm(pm.Show,!0),chapterList:new bm(pm.Show,!1),column:new bm,description:new bm,drawer:new class extends bm{constructor(e=!1){super(),this.isExpandedInitially=e}},fullscreen:new bm,help:new bm,labelInfo:new bm,labelList:new bm(pm.Show,!1),logo:new class extends bm{constructor(e=!0){super(),this.isHyperLink=e}},media:new class extends bm{constructor(e=dm.Small){super(),this.template=e}},menu:new bm,nodeInfo:new bm(pm.Hide,!1),pagination:new bm,presenter:new bm(pm.Hide,!1),reset:new bm,search:new bm,titleOnly:new bm,toolbar:new bm,tools:new bm,anatomyLabels:new bm},wm={labelsBreakpoint:480,inputEnabled:!0,fullscreenActive:!1,presentationActive:!1,drawerCoversContent:!1,searchDisplayMode:vm.Tree,showNodeInfo:!1,showHelp:!1,loaderActive:!1,loaderType:Qo.Play,usePrintImage:!1,multiPickModeEnabled:!1,canHover:!1,canTouch:!1,canFullscreen:!1,layout:Cm,initialLayout:Cm};let jm=(()=>{let e=class{static getLayout(e){return e.layout}static getInitialLayout(e){return e.initialLayout}static getLabelsBreakpoint(e){return e.labelsBreakpoint}static getInputEnabled(e){return e.inputEnabled}static getFullscreenActive(e){return e.fullscreenActive}static getPresentationActive(e){return e.presentationActive}static getDrawerCoversContent(e){return e.drawerCoversContent}static getShowNodeInfo(e){return e.showNodeInfo}static getShowHelp(e){return e.showHelp}static getLoaderActive(e){return e.loaderActive}static getLoaderType(e){return e.loaderType}static getCanTouch(e){return e.canTouch}static getCanHover(e){return e.canHover}static getMultiPickModeEnabled(e){return e.multiPickModeEnabled}static getSearchDisplayMode(e){return e.searchDisplayMode}static getUsePrintImage(e){return e.usePrintImage}setLayout(e,t){const n=e.getState().layout;e.patchState({layout:Object.assign({},n,t.layout)})}setInitialLayout(e,{layout:t}){e.patchState({initialLayout:t})}setInputEnabled(e,t){e.patchState({inputEnabled:t.enabled})}setCanHover(e,t){e.patchState({canHover:t.canHover})}setCanTouch(e,t){e.patchState({canTouch:t.canTouch})}setCanFullscreen(e,t){e.patchState({canFullscreen:t.canFullscreen})}setSearchDisplayMode(e,t){e.patchState({searchDisplayMode:t.mode})}toggleNodeInfo(e,t){e.patchState({showNodeInfo:t.show})}togglePresentation(e,t){e.patchState({presentationActive:t.active})}toggleHelp(e,t){e.patchState({showHelp:t.show})}toggleLoader(e,t){e.patchState({loaderActive:t.show})}setLoaderType(e,t){e.patchState({loaderType:t.loaderType})}setMultiPickModeEnabled(e,t){e.patchState({multiPickModeEnabled:t.enabled})}setLabelBreakpoint(e,t){e.patchState({labelsBreakpoint:t.labelsBreakpoint})}setUsePrintImage(e,t){e.patchState({usePrintImage:t.usePrintImage})}ngxsOnInit(e){gm.onFullscreenChange().subscribe(t=>{e.patchState({fullscreenActive:gm.isFullscreen()})})}};return Object(b.__decorate)([Object(g.a)(B.SetLayout),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.SetLayout]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setLayout",null),Object(b.__decorate)([Object(g.a)(B.SetInitialLayout),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.SetInitialLayout]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setInitialLayout",null),Object(b.__decorate)([Object(g.a)(B.SetInputEnabled),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.SetInputEnabled]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setInputEnabled",null),Object(b.__decorate)([Object(g.a)(B.SetCanHover),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.SetCanHover]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setCanHover",null),Object(b.__decorate)([Object(g.a)(B.SetCanTouch),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.SetCanTouch]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setCanTouch",null),Object(b.__decorate)([Object(g.a)(B.SetCanFullscreen),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.SetCanFullscreen]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setCanFullscreen",null),Object(b.__decorate)([Object(g.a)(B.SetSearchDisplayMode),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.SetSearchDisplayMode]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setSearchDisplayMode",null),Object(b.__decorate)([Object(g.a)(B.ToggleNodeInfo),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.ToggleNodeInfo]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"toggleNodeInfo",null),Object(b.__decorate)([Object(g.a)(B.TogglePresentation),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.TogglePresentation]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"togglePresentation",null),Object(b.__decorate)([Object(g.a)(B.ToggleHelp),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.ToggleHelp]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"toggleHelp",null),Object(b.__decorate)([Object(g.a)(B.ToggleLoader),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.ToggleLoader]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"toggleLoader",null),Object(b.__decorate)([Object(g.a)(B.SetLoaderType),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.SetLoaderType]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setLoaderType",null),Object(b.__decorate)([Object(g.a)(B.SetMultiPickModeEnabled),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.SetMultiPickModeEnabled]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setMultiPickModeEnabled",null),Object(b.__decorate)([Object(g.a)(B.SetLabelBreakpoint),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.SetLabelBreakpoint]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setLabelBreakpoint",null),Object(b.__decorate)([Object(g.a)(B.SetUsePrintImage),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,B.SetUsePrintImage]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setUsePrintImage",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getLayout",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getInitialLayout",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getLabelsBreakpoint",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getInputEnabled",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getFullscreenActive",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getPresentationActive",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getDrawerCoversContent",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getShowNodeInfo",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getShowHelp",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getLoaderActive",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getLoaderType",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getCanTouch",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getCanHover",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getMultiPickModeEnabled",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getSearchDisplayMode",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Om]),Object(b.__metadata)("design:returntype",void 0)],e,"getUsePrintImage",null),Object(b.__decorate)([Object(g.g)({name:"view",defaults:wm})],e)})();var km=function(e){return e[e.Content=0]="Content",e[e.Label=1]="Label",e[e.Tools=2]="Tools",e[e.Search=3]="Search",e[e.Help=4]="Help",e[e.NodeInfo=5]="NodeInfo",e[e.LabelInfo=6]="LabelInfo",e}({});const Sm=["ui-bd.class","ui-play-pause","ui-camera-mode","ui-center","ui-cross-section","ui-dissect","ui-fs","ui-tools-display","ui-tree","ui-zoom","ui-zoom-in","ui-zoom-out","ui-pan","ui-share","ui-keys","ui-slider","o","background.color-stops","background.gradient-type","dd","dn","image-display","imageDisplay","imageSrc","pre","referrer"];function Pm(e){const{id:t,s:n,m:l,be:i,b:a}=e;let o="";if(t)o=t;else if(i)o=i;else if(a){const e=parseInt(a,10);o=Number.isNaN(e)?"":function(e){const t=[];let n,l=e;for(;l>0;)[l,n]=(i=l,[Math.floor(i/62),i%62]),t.unshift("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"[n]);var i;return t.join("")}(e)}else l&&(o=function(e,t="male"){return e.includes("/")?e:`production/${t}Adult/${e}`}(l,"female"===n?"female":"male"));return o.replace(/\.json$/,"")}function Mm(e){return Pm(e).includes("/")?"module":"bookmark"}const Hm={type:e=>Mm(e),id:e=>Pm(e),background:e=>e.bgstd||e["background.colors"]||e.background};function Im(e){if(3===e.length){const{0:t,1:n,2:l}=e;return{x:t,y:n,z:l}}return null}const Tm={camera:function(e){const t=e.split(",").map(e=>parseFloat(e));if(t.length%3==0&&!t.some(e=>Number.isNaN(e))){const e=t.slice(0,3),n=t.slice(3,6),l=t.slice(6,9);return{eye:Im(e),look:Im(n),up:Im(l)}}return null},background:function(e){const t=Ve.getColors(e);if(t){const e=[...t[0][255],...t[1][255]];return new Bo(e,"radial",[0,100])}return null}};function zm(e){const t=function(e){const t=Object.keys(e),n=t.filter(e=>Sm.includes(e));if(n.length>0){const e=[`The following URL parameters have been deprecated: "${n.join('", "')}"`,"Please contact support@biodigital.com for more information."];console.warn(e.join("\n"))}return t.reduce((e,t)=>(Sm.includes(t)&&delete e[t],e),e)}(e);var n;return function(e){const t=e=>{if(e){const t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if(!isNaN(Number(t)))return Number(t)}return e};return Object.keys(e).reduce((n,l)=>{const i=(Tm[l]||t)(e[l]);return"load-rotate"===l&&isNaN(Number(i))?n:(n[l]=i,n)},{})}((n=t,Object.keys(Hm).filter(e=>void 0===n[e]).reduce((e,t)=>{const l=(0,Hm[t])(n);return void 0!==l&&(e[t]=l),e},n)))}var Fm,Lm=function(e){return e.JumpTo="jumpTo",e.FlyTo="flyTo",e}({});!function(e){class t{constructor(e){this.breakpoint=e}}t.type="[View] Set Breakpoint",e.SetBreakpoint=t}(Fm||(Fm={}));var Em=function(e){return e[e.XSmall=0]="XSmall",e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Large=3]="Large",e[e.XLarge=4]="XLarge",e}({});class Nm{}let Rm=(()=>{let e=class{constructor(e,t){this.breakpointObserver=e,this.store=t}static getBreakpoint(e){return e.breakpoint}setBreakpoint(e,t){e.patchState({breakpoint:t.breakpoint})}ngxsOnInit(e){const t=this.breakpointObserver.observe(["(max-width: 374px)"]),n=this.breakpointObserver.observe(["(max-width: 599px)"]),l=this.breakpointObserver.observe(["(max-width: 959px)"]),i=this.breakpointObserver.observe(["(max-width: 1439px)"]),a=this.breakpointObserver.observe(["(min-width: 1440px)"]);Object(Gu.b)(t,n,l,i,a).pipe(Object(r.a)(([e,t,n,l,i])=>e.matches?Em.XSmall:t.matches?Em.Small:n.matches?Em.Medium:l.matches?Em.Large:i.matches?Em.XLarge:null),Object(mg.a)(),Object(G.a)(e=>null!=e)).subscribe(t=>{e.dispatch(new Fm.SetBreakpoint(t))})}};return Object(b.__decorate)([Object(g.a)(Fm.SetBreakpoint),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Fm.SetBreakpoint]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setBreakpoint",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Nm]),Object(b.__metadata)("design:returntype",void 0)],e,"getBreakpoint",null),Object(b.__decorate)([Object(g.g)({name:"breakpoint",defaults:{breakpoint:null}})],e)})();class Am{constructor(e,t){this.action=e,this.value=t,this.createdAt=(new Date).valueOf()}}var Dm=function(e){return e[e.SetNodeVisible=0]="SetNodeVisible",e}({});class Um{}const Bm={histories:[],current:-1,cache:{}};let $m=(()=>{let e=class{constructor(e,t,n){this.store=e,this.engineService=t,this.chapterService=n}static getHistories(e){return e.histories}static getCurrent(e){return e.current}addHistory(e,t){let{current:n,histories:l}=e.getState();(l=l.slice(0,n+1)).length>=100&&l.unshift(),l.push(t.history),n=l.length-1,e.patchState({histories:[...l],current:n})}redo(e,t){const n=[...e.getState().histories],l=e.getState().current+1,i=n[l];if(i){switch(i.action){case Dm.SetNodeVisible:this.toggleVisibleNodes(e,i)}e.patchState({current:l})}}undo(e,t){const n=[...e.getState().histories],l=e.getState().current-1;if(!n.length||l<0)return;const i=n[l];switch(i.action){case Dm.SetNodeVisible:this.toggleVisibleNodes(e,i)}e.patchState({current:l})}resetHistory(e,t){e.setState(Bm)}ClearHistory(e,t){e.patchState({histories:[],current:-1})}toggleVisibleNodes(e,t){const n=Object.values(t.value),l=n.filter(e=>e.boolState.shown),i=n.filter(e=>!e.boolState.shown);e.dispatch(new ho(l,!0,!1)),e.dispatch(new ho(i,!1,!1))}cacheChapterSynchronization(e,t){const{chapterId:n,cacheId:l}=t,i=this.getCacheKey(l,n),a=e.getState().cache;t.readOnly&&a[i]||(a[i]=Object.assign({},t.synchronization),e.patchState({cache:Object.assign({},a)}))}revertChapterSynchronization(e,t){const{chapterId:n,cacheId:l}=t,i=this.getSynchronization(e,l,n);if(i){let e=this.store.selectSnapshot(ac.getStoryChapters).find(e=>e.id===n);(e=Object.assign({},e)).synchronization=i,this.engineService.setGraphState(e.synchronization);const t=this.store.selectSnapshot(ac.getStoryChapters).findIndex(t=>e.id===t.id);this.store.dispatch(new Na(e)),this.chapterService.addChapterToEngine(e,t)}}removeChapterSynchronization(e,t){const n=this.getCacheKey(t.cacheId,t.chapterId),l=Object.assign({},e.getState().cache);delete l[n],e.patchState({cache:Object.assign({},l)})}copyChapterSynchronization(e,t){const n=this.getSynchronization(e,t.sourceCacheId,t.sourceChapterId);e.dispatch(new $i(t.targetCacheId,t.targetChapterId,n))}getSynchronization(e,t,n){const l=this.getCacheKey(t,n);return e.getState().cache[l]}getCacheKey(e,t){return`${e}_${t}`}};return Object(b.__decorate)([Object(g.a)(Ri),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ri]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"addHistory",null),Object(b.__decorate)([Object(g.a)(Di),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Di]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"redo",null),Object(b.__decorate)([Object(g.a)(Ai),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ai]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"undo",null),Object(b.__decorate)([Object(g.a)(Ui),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ui]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetHistory",null),Object(b.__decorate)([Object(g.a)(Bi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Bi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"ClearHistory",null),Object(b.__decorate)([Object(g.a)($i),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,$i]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"cacheChapterSynchronization",null),Object(b.__decorate)([Object(g.a)(Vi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Vi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"revertChapterSynchronization",null),Object(b.__decorate)([Object(g.a)(Gi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Gi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"removeChapterSynchronization",null),Object(b.__decorate)([Object(g.a)(Qi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Qi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"copyChapterSynchronization",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Um]),Object(b.__metadata)("design:returntype",void 0)],e,"getHistories",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Um]),Object(b.__metadata)("design:returntype",void 0)],e,"getCurrent",null),Object(b.__decorate)([Object(g.g)({name:"history",defaults:Bm})],e)})(),Vm=(()=>{class e{constructor(e,t){this.store=e,this.chapterService=t}recordViewGraphHistory(){this.store.select(Wr.getViewGraph).pipe(Object(Zh.a)(1),Object(G.a)(e=>Object.values(e.nodes).length>0),Object(r.a)(e=>{const t=Object.values(e.nodes).reduce((e,t)=>(e[t.id]={id:t.id,boolState:{shown:t.boolState.shown}},e),{});return JSON.stringify(t)}),Object(mg.a)(),Object($u.a)(1)).subscribe(e=>{const t=JSON.parse(e);this.store.dispatch(new Ri(new Am(Dm.SetNodeVisible,t)))})}resetChapter(){let e=this.store.selectSnapshot(ac.getSelectedChapter);if(!e)return;this.store.dispatch(new Vi("root",e.id)),this.store.dispatch(new Qi("root",e.id,"cache",e.id));const t=this.store.selectSnapshot($m).cache;e=Object.assign({},e,{synchronization:Object.assign({},t[`root_${e.id}`])}),this.store.dispatch(new go([])),this.store.dispatch(new Na(e)),this.chapterService.addChapterToEngine(e,0)}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(g.i),l.Vb(pr))},token:e,providedIn:"root"}),e})(),Qm=(()=>{class e{constructor(e){this.store=e}chapterHasTransition(e,t){const n=t?"transitions.pre":"transitions.post",l=Object(vt.get)(e,n);return!!l&&(t?l.onPrevious:l.onNext)}searchChapterTransitions(e,t,n){let l=[...n],i=l.findIndex(t=>t.id===e),a=l.findIndex(e=>e.id===t);const o=a<i;if(o&&(i=(l=l.reverse()).findIndex(t=>t.id===e),a=l.findIndex(e=>e.id===t)),i<0||a<0||i===a)return null;const s=l.slice(i,a).find(e=>this.chapterHasTransition(e,o));return s?o?s.transitions.pre:s.transitions.post:null}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(g.i))},token:e,providedIn:"root"}),e})();var Gm=function(e,t,n,l){return new(n||(n=Promise))((function(i,a){function o(e){try{r(l.next(e))}catch(t){a(t)}}function s(e){try{r(l.throw(e))}catch(t){a(t)}}function r(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}r((l=l.apply(e,t||[])).next())}))};let Wm=(()=>{class e{constructor(e,t,n,l,i,a){this.store=e,this.actions=t,this.historyService=n,this.location=l,this.engineService=i,this.transitionService=a}initStory(e,t,n){this.store.dispatch(new _a(e,t,!0));const l=this.store.select(Wr.getReady),i=this.store.select(Mc.getIncomingStoryInfo);Object(Gu.b)(l,i).pipe(Object(G.a)(([e,t])=>e&&!!t.id),Object($u.a)(1)).subscribe(()=>{this.store.dispatch(new Fa),this.store.dispatch(new da(e,t,n))})}nextChapter(){const e=this.store.selectSnapshot(ac.getSelectedChapterIndex),t=this.store.selectSnapshot(ac.getStoryChapters)[e+1];t&&this.selectChapter(t)}previousChapter(){const e=this.store.selectSnapshot(ac.getSelectedChapterIndex),t=this.store.selectSnapshot(ac.getStoryChapters)[e-1];t&&this.selectChapter(t)}selectChapter(e){return Gm(this,void 0,void 0,(function*(){const t=this.store.selectSnapshot(ac.getSelectedChapterId),n=e.id,l=this.store.selectSnapshot(ac.getStoryChapters),i=this.transitionService.searchChapterTransitions(t,n,l);i&&(yield this.chapterTransition(i)),this.store.dispatch([new ya(e.id),new Fa(e)])}))}chapterTransition(e){return new Promise(t=>{e.camera&&this.store.dispatch(new kr(e.camera,!0,e.duration)),e.fadeColor&&this.store.dispatch(new ei(e.fadeColor,e.duration)),setTimeout(()=>{t(!0)},1e3*e.duration)})}hideSelectedStructures(){const e=this.store.selectSnapshot(um.getCheckedNodes);this.store.dispatch(new ho(e,!1))}selectTool(e){this.store.dispatch(new mi(e))}toggleColumn(e){const t=this.store.selectSnapshot(jm.getLayout);t.column.status=(e=null==e?!(t.column.status===pm.Show):e)?pm.Show:pm.Collapse,this.store.dispatch(new B.SetLayout(t))}togglePresentation(){this.store.selectSnapshot(jm.getPresentationActive)?this.stopPresentation():this.startPresentation()}startPresentation(){this.store.dispatch(new B.TogglePresentation(!0))}stopPresentation(){this.store.dispatch(new B.TogglePresentation(!1))}toggleHelp(e){e=null==e?!this.store.selectSnapshot(jm.getShowHelp):e,this.store.dispatch(new B.ToggleHelp(e))}toggleLoader(e){e=null==e?!this.store.selectSnapshot(jm.getLoaderActive):e,this.store.dispatch(new B.ToggleLoader(e))}toggleLabels(e){this.store.dispatch(new hi(e))}toggleSearch(e){const t=this.store.selectSnapshot(Rm.getBreakpoint),n=this.store.selectSnapshot(jm.getLayout);n.search.status=(e=null==e?!(n.search.status===pm.Show):e)?pm.Show:pm.Hide,(t===Em.Medium||t===Em.Small||t>=Em.Large&&e)&&this.toggleColumn(e),e&&(n.nodeInfo.status=pm.Hide),this.store.dispatch(new B.SetLayout(n))}toggleNodeInfo(e){this.toggleInfoLayout("nodeInfo",e)}toggleLabelInfo(e){this.toggleInfoLayout("labelInfo",e)}toggleInfoLayout(e,t){const n=this.store.selectSnapshot(jm.getLayout);(t=null==t?n[e].status===pm.Hide:t)?(n[e].status=pm.Show,["nodeInfo","labelInfo"].filter(t=>t!==e).forEach(e=>n[e].status=pm.Hide)):n[e].status=pm.Hide,this.store.dispatch(new B.SetLayout(n))}delegateNodeClick(e,t){if(this.clearSelectedLabel(),e||t.srcEvent.shiftKey)if(t.srcEvent.shiftKey||this.store.selectSnapshot(jm.getMultiPickModeEnabled))this.checkNode(e);else switch(this.store.selectSnapshot(Wr.getActiveTool)){case Qr.Hide:this.hideNode(e);break;case Qr.Select:this.selectNode(e);break;case Qr.Isolate:this.isolateNode(e);break;case Qr.Fade:this.fadeNode(e)}else this.clearAllSelected()}clearAllSelected(){this.clearSelectedLabel(),this.clearSelectedNodes()}clearSelectedLabel(){this.store.dispatch(new la)}clearSelectedNodes(){this.store.dispatch(new go([])),this.store.dispatch(new so(null))}checkNode(e,t){void 0!==e&&(null==t&&(t=this.store.selectSnapshot(um.getCheckedNodes).some(t=>t.id===e.id)),this.store.dispatch(new ro(e,!t)),this.store.dispatch(new so(e)))}fadeNode(e){this.store.dispatch(new jo([e],om.recipe))}isolateNode(e){const t=this.store.selectSnapshot(Wr.getViewGraph);this.store.dispatch(new vo([e],t))}selectNode(e){const t=this.store.selectSnapshot(um.getCheckedNodes).some(t=>t.id===e.id);this.store.dispatch(new go(t?[]:[e])),this.store.dispatch(new so(t?null:e)),this.store.dispatch(new po(e)),this.store.dispatch(new Oo(e))}hideNode(e){this.store.dispatch(new ho([e],!1)),this.store.dispatch(new go([])),this.store.dispatch(new Ga([e],!1,!0)),this.historyService.recordViewGraphHistory()}selectLabel(e,t=!1){const{objectId:n,states:l}=e;this.store.dispatch(new la(e)),t&&n&&0===l.length&&this.store.dispatch(new ci(n,!0))}initChapter(e){return Gm(this,void 0,void 0,(function*(){const t=this.engineService.createViewGraph({},!1);this.store.dispatch(new ni(t)),this.store.dispatch(new $i("root",e.id,e.synchronization,!0)),this.store.dispatch(new Qi("root",e.id,"cache",e.id)),this.store.dispatch(new kr(e.camera.location,e.camera.action===Lm.FlyTo))}))}initHistory(){this.store.select(Wr.getViewGraph).pipe(Object($u.a)(1),Object(Zh.a)(1)).subscribe(()=>{this.resetHistory()})}resetCamera(){const e=this.store.selectSnapshot(ac.getSelectedChapter);e&&this.store.dispatch(new kr(e.camera.location))}resetHistory(){this.store.dispatch(new Bi),this.historyService.recordViewGraphHistory()}resetLayout(){const{layout:e,loaderActive:t}=this.store.selectSnapshot(jm);t?Object.keys(e).forEach(t=>{e[t].status=pm.Hide}):(Object.keys(e).forEach(t=>{e[t].status=pm.Show}),e.search.status=pm.Hide,e.tools.status=pm.Hide,e.nodeInfo.status=pm.Hide,e.labelInfo.status=pm.Hide,e.media.status=pm.Hide,e.menu.status=pm.Hide,e.drawer.status=pm.Hide,this.store.selectSnapshot(jm.getPresentationActive)&&(e.menu.status=pm.Hide,e.column.status=pm.Hide,e.drawer.status=pm.Hide)),this.store.dispatch(new B.SetLayout(e))}undo(){this.store.dispatch(new Ai)}toggleAnimation(){const e=!this.store.selectSnapshot(Wr.getAnimationPlaying);this.store.dispatch(new _i(e))}normalizeQueryParams(e){const t=Object.assign({},e);return{id:Pm(t),type:Mm(t),lang:e.lang}}sanitizeRouteId(e){return e=e.replace(/\.json$/,""),this.location.replaceState("view",`?id=${e}`),e}openInNewTab(){const e=window.document.location.href;window.open(e)}getComputedTransform(e){const t=getComputedStyle(e).transform.replace("matrix3d","").replace("matrix","").replace("(","").replace(")","").split(",").map(e=>e.trim()).map(e=>parseInt(e,10)),n=16===t.length?t[12]:t[4],l=16===t.length?t[13]:t[5];return Number.isNaN(n)||Number.isNaN(l)?null:{x:n,y:l}}inferDrawerMode(e){let t=km.Content;return e.nodeInfo.status===pm.Show?t=km.NodeInfo:e.labelInfo.status===pm.Show&&(t=km.LabelInfo),t}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(g.i),l.Vb(g.b),l.Vb(Vm),l.Vb(Y.h),l.Vb(Ls),l.Vb(Qm))},token:e,providedIn:"root"}),e})();var Jm=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-chapters{max-height:320px;overflow:auto}.view-chapters__header{border-top:var(--view-chapters-border);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:16px 0;margin-top:16px}.view-chapters__next{font-size:14px;letter-spacing:.35px;line-height:1.4em;font-style:italic;padding:8px;border-radius:4px;-webkit-box-flex:1;flex-grow:1}.view-chapters__next:hover{background:var(--view-chapters-bg--hover);color:var(--view-chapters-color--hover);cursor:pointer}.view-chapters__toggle{-webkit-box-pack:end;justify-content:flex-end;flex-shrink:1;text-align:right;margin-left:4px}.view-chapters__item{font-size:14px;letter-spacing:.35px;line-height:1.4em;outline:0;display:-webkit-box;display:flex;padding:8px;margin:4px;border-radius:2px;border-left:4px solid transparent;background-color:transparent;color:#131c2a;border-left:var(--view-chapters-border);background-color:var(--view-chapters-bg);color:var(--view-chapters-color);-webkit-transition:background-color 125ms,color 125ms,border 125ms;transition:background-color 125ms,color 125ms,border 125ms}.view-chapters__item:hover{cursor:pointer;background:var(--view-chapters-bg--hover)}.view-chapters__item--selected{border-left:4px solid #2d72dc;background-color:#f1f5fc;background:var(--view-chapters-bg--selected);border-left:var(--view-chapters-border--selected)}.view-chapters__index{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 32px;-webkit-box-pack:center;justify-content:center}.view-chapters__thumb{background-color:#f9fafd;background-color:var(--view-chapters-thumb-bg);border-radius:4px;background-repeat:no-repeat;-webkit-box-flex:0;flex:0 0 56px;height:56px;width:56px;-webkit-transition:border-color .1s;transition:border-color .1s;background-size:cover}.view-chapters__title{word-wrap:break-word;overflow-wrap:break-word;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;padding-right:4px}"]],data:{}});function qm(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,10,"li",[["aria-role","button"],["class","view-chapters__item"],["tabindex","0"]],[[1,"aria-label",0],[1,"data-chapter-id",0]],[[null,"click"],[null,"keyup.enter"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleChapterClick(e.context.$implicit)&&l),"keyup.enter"===t&&(l=!1!==i.handleChapterClick(e.context.$implicit)&&l),l}),null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Jb(131072,Y.b,[l.i]),l.Kb(4,{"view-chapters__item--viewed":0,"view-chapters__item--selected":1}),(e()(),l.vb(5,0,null,null,1,"div",[["class","view-chapters__index"]],null,null,null,null,null)),(e()(),l.Pb(6,null,["","."])),(e()(),l.vb(7,0,null,null,1,"div",[["class","view-chapters__title"]],null,null,null,null,null)),(e()(),l.Pb(8,null,["",""])),(e()(),l.vb(9,0,null,null,1,"div",[["class","view-chapters__thumb"]],null,null,null,null,null)),l.ub(10,1720320,null,0,qh.a,[l.l,l.z,l.B,[2,"options"]],{lazyImage:[0,"lazyImage"],defaultImage:[1,"defaultImage"]},null)],(function(e,t){var n=t.component,i=e(t,4,0,n.isViewed(t.context.$implicit.id),t.context.$implicit.id===l.Qb(t,2,1,l.Hb(t,3).transform(n.selectedChapterId$)));e(t,2,0,"view-chapters__item",i),e(t,10,0,n.getChapterThumb(t.context.$implicit.id),n.defaultImage)}),(function(e,t){e(t,0,0,t.context.$implicit.info.displayName,t.context.$implicit.id),e(t,6,0,t.context.index+1),e(t,8,0,t.context.$implicit.info.displayName)}))}function Km(e){return l.Rb(2,[l.Nb(671088640,1,{chapterList:0}),(e()(),l.vb(1,0,[[1,0],["chapterList",1]],null,5,"nav",[["aria-label","Chapters"],["class","view-chapters"],["role","navigation"]],[[8,"hidden",0]],null,null,null,null)),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(3,0,null,null,3,"ol",[],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,2,null,qm)),l.ub(5,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,5,0,l.Qb(t,5,0,l.Hb(t,6).transform(n.chapters$)))}),(function(e,t){var n,i=t.component;e(t,1,0,1===(null==(n=l.Qb(t,1,0,l.Hb(t,2).transform(i.chapters$)))?null:n.length))}))}function Xm(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-view-chapters",[],null,null,null,Km,Jm)),l.ub(1,4440064,null,0,Xh,[g.i,Wm,l.i],null,null)],(function(e,t){e(t,1,0)}),null)}var Zm=l.rb("app-view-chapters",Xh,Xm,{defaultImage:"defaultImage",autoscroll:"autoscroll"},{},[]);class Ym{constructor(){}ngOnInit(){}}var e_=l.tb({encapsulation:2,styles:[[".message{background-color:#0060c4;color:#fff}@media print{.message{display:none}}"]],data:{}});function t_(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,1,"div",[["class","message p-4 text-12"]],null,null,null,null,null)),l.Gb(null,0)],null,null)}const n_=()=>window.navigator.userAgent.includes("Trident"),l_="show_ie_warning",i_="seen_warning";class a_{constructor(e){this.changeDetector=e,this.show=!1,this.message="For the full interactive 3D experience please try loading this content in Chrome or Firefox."}ngOnInit(){if(!n_())return;const e=document.cookie.includes(`${l_}=${i_}`);this.show=!e,this.changeDetector.markForCheck()}handleDismissClick(){this.show=!1,document.cookie=`${l_}=${i_}`}}var o_=l.tb({encapsulation:0,styles:[[".warning[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.warning__text[_ngcontent-%COMP%]{text-align:center;-webkit-box-flex:1;flex:1}.warning__close[_ngcontent-%COMP%]{cursor:pointer;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;display:-webkit-box;display:flex;width:32px;height:32px}"]],data:{}});function s_(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,8,"app-warning-message",[],null,null,null,t_,e_)),l.ub(1,114688,null,0,Ym,[],null,null),(e()(),l.vb(2,0,null,0,6,"div",[["class","warning"]],null,null,null,null,null)),(e()(),l.vb(3,0,null,null,1,"div",[["class","warning__text"]],null,null,null,null,null)),(e()(),l.Pb(4,null,[" "," "])),(e()(),l.vb(5,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),l.vb(6,0,null,null,2,"div",[["class","warning__close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleDismissClick()&&l),l}),null,null)),(e()(),l.vb(7,0,null,null,1,"app-icon",[["icon","times"],["size","lg"],["title","Close"]],null,null,null,se,oe)),l.ub(8,114688,null,0,ae,[],{icon:[0,"icon"],size:[1,"size"]},null)],(function(e,t){e(t,1,0),e(t,8,0,"times","lg")}),(function(e,t){e(t,4,0,t.component.message)}))}function r_(e){return l.Rb(2,[(e()(),l.lb(16777216,null,null,1,null,s_)),l.ub(1,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,!0===t.component.show)}),null)}var c_=n("vqkR"),u_=function(e){return e.Column="column",e.ColumnToggle="column-toggle",e.Drawer="drawer",e.TitleOnly="title-only",e.Tools="tools",e.Toolbar="toolbar",e.Camera="camera",e.Media="media",e.Mediabar="mediabar",e.Reset="reset",e.Audio="audio",e.Menu="menu",e.Pagination="pagination",e.Fullscreen="fullscreen",e.Help="help",e.Description="description",e.NodeInfo="nodeInfo",e.Search="search",e.Presenter="presenter",e.Logo="logo",e.LabelList="labelList",e.ChapterList="chapterList",e.AnatomyLabels="anatomyLabels",e}({});const p_=wm.layout;class d_{}const b_=(e,t)=>void 0===e?t:e;function g_(...e){return!!e.some(e=>!0===e)||!e.some(e=>!1===e)&&void 0}function h_(e,t,n){return Object.values(dm).indexOf(n)>=0?n:!1===e?dm.None:null!=t?t?dm.Full:dm.Small:null}var m_;!function(e){function t(e){return{[u_.Column]:e,[u_.Drawer]:e,[u_.Tools]:e,[u_.Toolbar]:e,[u_.Fullscreen]:e,[u_.Help]:e,[u_.Camera]:e,[u_.Search]:e,[u_.Presenter]:e,[u_.Menu]:e,[u_.Audio]:e,[u_.Pagination]:e,[u_.NodeInfo]:e,[u_.Reset]:e,[u_.LabelList]:e,[u_.ChapterList]:e,[u_.Media]:e?dm.Full:dm.None,[u_.TitleOnly]:e,all:e,drawerExpandedInitially:null,logoIsHyperLink:null,[u_.AnatomyLabels]:null,[u_.Logo]:!0}}function n(e,t){return null==t?e:Object(vt.uniq)([...Object.keys(e),...Object.keys(t)]).reduce((n,l)=>(n[l]=null!=e[l]?e[l]:t[l],n),new d_)}e.convertAPIUIConfigToUIConfig=function(e){const l=null!=e.all?t(e.all):new d_;return n({all:e.all,[u_.Help]:g_(e.help,e.help),[u_.Tools]:g_(e.tools,e.tools),[u_.Toolbar]:e.toolbar,[u_.Fullscreen]:g_(e.fullscreen,e.fullscreen),[u_.Search]:g_(e.objectTree,e.search),[u_.Audio]:e.audio,[u_.Media]:h_(e.playPause,g_(e.scrubber,e["scrubber.chapters"]),e.media),[u_.Camera]:g_(e.nav,e.cameraMode,e.center,e.zoomIn,e.zoomOut,e.nav),[u_.Pagination]:g_(e.tour,e["tour.chapters"]),[u_.Reset]:e.reset,[u_.Column]:g_(e.info,e.info),[u_.Drawer]:g_(e.info,e.info),[u_.TitleOnly]:g_(e.info,e.info),[u_.LabelList]:e.labelList,[u_.ChapterList]:e.chapterList,[u_.NodeInfo]:e.anatomyDescriptions,[u_.Menu]:e.menu,[u_.Logo]:void 0,[u_.Presenter]:void 0,logoIsHyperLink:void 0,drawerExpandedInitially:void 0,[u_.AnatomyLabels]:g_(e.anatomyLabels,e.anatomyLabels)},l)},e.convertUrlUIConfigToUIConfig=function(e){const l=null!=e["ui-all"]?t(e["ui-all"]):new d_;return n({[u_.NodeInfo]:e["ui-anatomy-descriptions"],[u_.Tools]:e["ui-tools"],[u_.Toolbar]:e["ui-toolbar"],[u_.Media]:h_(null,g_(e["ui-scrubber"],e["ui-scrubber.chapters"],e["ui-scrubber.tour"]),e["ui-media-controls"]),[u_.Reset]:e["ui-reset"],[u_.Audio]:e["ui-audio"],[u_.Fullscreen]:e["ui-fullscreen"],[u_.Help]:e["ui-help"],[u_.Camera]:e["ui-nav"],[u_.Presenter]:e["ui-presenter"],[u_.Menu]:e["ui-menu"],[u_.Pagination]:e["ui-tour"],[u_.Search]:g_(e["ui-search"],e["ui-object-tree"]),[u_.Column]:g_(e["ui-info"],e["ui-panel"]),[u_.Drawer]:g_(e["ui-info"],e["ui-panel"]),[u_.Description]:g_(e["ui-info"]),[u_.TitleOnly]:g_(e["ui-info"]),[u_.Logo]:g_(e["ui-bd"],e["ui-logo"]),logoIsHyperLink:g_(e["ui-bd.link"],e["ui-logo.islink"]),[u_.LabelList]:e["ui-label-list"],[u_.ChapterList]:e["ui-chapter-list"],all:e["ui-all"],drawerExpandedInitially:e["ui-info-expand"],[u_.AnatomyLabels]:g_(e["ui-anatomy-labels"])},l)},e.convertChapterToUIConfig=function(e){const t=e.ui;if(!t||!t.config)return null;const n=new d_;return n[u_.Column]=t.config.info,n[u_.Drawer]=t.config.info,n[u_.Fullscreen]=t.config.fullscreen,n[u_.Search]=t.config.objectTree,n[u_.Camera]=t.config.nav,n[u_.Media]=h_(t.config.playPause,t.config.scrubber,t.config.mediaControls),n},e.generateUIAllConfig=t,e.mergeUIConfigs=n,e.createLayoutFromConfig=function(e,t){const n=JSON.parse(JSON.stringify(e));return n.nodeInfo.enable=b_(t[u_.NodeInfo],p_.nodeInfo.enable),n.pagination.enable=b_(t[u_.Pagination],p_.pagination.enable),n.drawer.isExpandedInitially=b_(t.drawerExpandedInitially,p_.drawer.isExpandedInitially),n.tools.enable=b_(t[u_.Tools],p_.tools.enable),n.toolbar.enable=b_(t[u_.Toolbar],p_.toolbar.enable),n.media.enable=b_(t[u_.Media]!==dm.None,p_.media.enable),n.media.template=t[u_.Media],n.fullscreen.enable=b_(t[u_.Fullscreen],p_.fullscreen.enable),n.help.enable=b_(t[u_.Help],p_.help.enable),n.description.enable=b_(t[u_.Description],p_.description.enable),n.titleOnly.enable=b_(t[u_.TitleOnly],p_.titleOnly.enable),n.camera.enable=b_(t[u_.Camera],p_.camera.enable),n.search.enable=b_(t[u_.Search],p_.search.enable),n.presenter.enable=b_(t[u_.Presenter],p_.presenter.enable),n.menu.enable=b_(t[u_.Menu],p_.menu.enable),n.logo.enable=b_(t[u_.Logo],p_.logo.enable),n.logo.isHyperLink=b_(t.logoIsHyperLink,p_.logo.isHyperLink),n.labelList.enable=b_(t[u_.LabelList],p_.labelList.enable),n.chapterList.enable=b_(t[u_.ChapterList],p_.chapterList.enable),n.audio.enable=b_(t[u_.Audio],p_.audio.enable),n.reset.enable=b_(t[u_.Reset],p_.reset.enable),n.column.enable=b_(t[u_.Column],p_.column.enable),n.drawer.enable=b_(t[u_.Drawer],p_.drawer.enable),n.anatomyLabels.enable=b_(t[u_.AnatomyLabels],p_.anatomyLabels.enable),n},e.getScrollSetting=function(e){return e["disable-scroll"]?Go.DoNotCapture:e["disable-scroll.alert"]||e["disable-scroll.overlay"]?Go.DoNotCaptureShowMessage:Go.Capture},e.getUsePrintImage=function(e){return!0===e["ui-print-image"]},e.getLoader=function(e,t,n){const l=e["initial.play"]||e.initial||e["initial.button"]||e["initial.hand"]||e["initial.hand-hint"]||t;return{loaderType:(()=>{switch(!0){case e.initial:case e["initial.button"]:return Qo.Button;case e["initial.hand"]:case e["initial.hand-hint"]:return Qo.Hand;case e["initial.play"]:return Qo.Play;default:return n}})(),isLoaderActive:l}}}(m_||(m_={}));var __=function(e){return e.Content="content",e.Engine="engine",e.Auth="auth",e}({}),f_=n("yLV6");let y_=(()=>{class e{constructor(e,t){this.storyLoadProgress=e,this.chunkLoadProgress=t}}return e.type="[Engine Progress] set progress",e})();const v_={storyLoadProgress:0,chunkLoadProgress:0};let x_=(()=>{let e=class{constructor(e){this.store=e}static getStoryLoadProgress(e){return e.storyLoadProgress}static getChunkLoadProgress(e){return e.chunkLoadProgress}setProgress(e,t){e.patchState({storyLoadProgress:t.storyLoadProgress,chunkLoadProgress:t.chunkLoadProgress})}};return Object(b.__decorate)([Object(g.a)(y_),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,y_]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setProgress",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object]),Object(b.__metadata)("design:returntype",void 0)],e,"getStoryLoadProgress",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object]),Object(b.__metadata)("design:returntype",void 0)],e,"getChunkLoadProgress",null),Object(b.__decorate)([Object(g.g)({name:"engineProgress",defaults:v_})],e)})();var O_=function(e){return e.EventOn="apiEvents.on",e.EventOnce="apiEvents.once",e}({});function C_(e,t){return function(e){return e.getEvent(Vo.ClientMessage).pipe(Object(G.a)(e=>(e.call===O_.EventOn||e.call===O_.EventOnce)&&"string"==typeof e.params),Object(r.a)(e=>e.params))}(e).pipe(Object(G.a)(e=>e===t))}class w_{constructor(e,t,n,l,i,a,o,s,r,c,u){this.locationStrategy=e,this.router=t,this.store=n,this.actions=l,this.activatedRoute=i,this.widgetAPIHandler=a,this.errorService=o,this.engineService=s,this.cameraService=r,this.numberService=c,this.renderer=u,this.title="Biodigital Human",this.ngUnsubscribe=new $.a}ngOnInit(){this.initErrorHandling(),this.initInteractions();const e=this.activatedRoute.snapshot.data.widgetUrlConfig;this.initWidgetBreakpoints(e),this.initWidgetSetup(e),this.initWidgetAuth(),this.initViewAnalytics(),this.initInteractionAnalytics(),this.initBackgroundFromWidget(e),this.initBackgroundFromChapter(),this.initCamera(e),this.initRotation(e),this.widgetAPIHandler.listen(),this.initChaptersReadyListener(),this.initDynamicLayout()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initWidgetSetup(e){const t=window!==window.top,n=t?BD_DOCUMENT_REFERRER:window.location.href;this.store.dispatch(new m(n,t,e));const l=this.store.selectSnapshot(jm.getLayout),i=m_.convertUrlUIConfigToUIConfig(e),a=m_.createLayoutFromConfig(l,i);this.store.dispatch(new B.SetLayout(a)),this.store.dispatch(new B.SetInitialLayout(a));const o=m_.getScrollSetting(e);this.store.dispatch(new Xl(o));const{loaderType:s,isLoaderActive:r}=m_.getLoader(e,this.store.selectSnapshot(jm.getLoaderActive),this.store.selectSnapshot(jm.getLoaderType)),c=m_.getUsePrintImage(e);this.store.dispatch([new B.SetLoaderType(s),new B.ToggleLoader(r),new B.SetUsePrintImage(c)])}initWidgetAuth(){this.store.selectSnapshot(U.getEmbedded)&&this.store.dispatch(new v)}initViewAnalytics(){const e=["loaded","interactive","complete"].includes(document.readyState);(e?Object(k.a)(e):Object(ib.a)(document,"DOMContentLoaded")).pipe(Object($u.a)(1),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.store.dispatch(new _(R.View))})}initInteractionAnalytics(){this.interactionChance$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.store.dispatch(new _(R.ChanceInteraction))}),this.firstInteraction$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.store.dispatch(new _(R.FirstInteraction))})}initErrorHandling(){this.actions.pipe(Object(g.l)(ja),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>this.handleContentErrors()),this.engineService.getEvent(Vo.Error).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>this.handleEngineErrors(e)),this.actions.pipe(Object(g.l)(O),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>this.handleAuthErrors(e))}initWidgetBreakpoints({"ui-collapse-label":e,"annotation-collapse":t}){const n=[e,t].find(e=>!Object(vt.isNil)(e));Object(vt.isNil)(n)||this.store.dispatch(new B.SetLabelBreakpoint(n))}initInteractions(){const e=this.getCanvasInteraction(),t=this.actions.pipe(Object(g.l)(so,ho,yo,mo,_o,vo));this.interactionReady$=this.store.select(ac.getSelectedChapter).pipe(Object(G.a)(e=>e&&e.readyState.model),Object($u.a)(1));const n=this.engineService.getCanvas();this.interactionChance$=Object(ht.a)(this.interactionReady$,this.getIntersectionObserver(n,.75)).pipe(Object($u.a)(1)),this.firstInteraction$=Object(Wu.a)(e,t).pipe(Object(c_.a)(this.interactionReady$),Object($u.a)(1))}initBackgroundFromWidget({background:e}){e&&(this.setWidgetTransparent(Bo.isTransparent(e)),this.actions.pipe(Object(g.k)(Ea),Object($u.a)(1),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.store.dispatch(new Aa(e))}))}initBackgroundFromChapter(){this.store.select(ac.getSelectedChapter).pipe(Object(G.a)(e=>null!=e),Object(r.a)(e=>Bo.isTransparent(e.background)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.setWidgetTransparent(e)})}initCamera({camera:e}){e&&this.actions.pipe(Object(g.l)(va),Object($u.a)(1),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.store.dispatch(new kr(e,!1))})}initRotation({"load-rotate":e}){if(e){let t=performance.now();Object(Ro.a)(0,Ao.animationFrame).pipe(Object(r.a)(()=>e*(performance.now()-t)*.001),Object(Po.a)(()=>t=performance.now()),Object(Q.a)(this.firstInteraction$),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.cameraService.rotateCameraStatic(0,e)}),this.firstInteraction$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{const e=this.store.selectSnapshot(ac.getSelectedChapter),t=Object(vt.get)(e,"camera.location");t&&this.store.dispatch(new kr(t,!0,2))})}}initChaptersReadyListener(){Object(Gu.b)(C_(this.engineService,Vo.TimelineChapterTransition),this.engineService.getEvent(Vo.TimelineChaptersActivated)).pipe(Object($u.a)(1),Object(Q.a)(this.ngUnsubscribe)).subscribe(([e,t])=>{this.engineService.fireEvent(Vo.TimelineChaptersActivated,t)}),this.engineService.getEvent(Vo.ClientsConnected).pipe(Object($u.a)(1),Object(Zh.a)(0),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.engineService.fireEvent(Vo.HumanLoaded,null)}),Object(Gu.b)(C_(this.engineService,Vo.SceneLoaded),this.store.select(Mc.getStory)).pipe(Object(G.a)(([e,t])=>!Object(vt.isNil)(t)),Object($u.a)(1),Object(Q.a)(this.ngUnsubscribe)).subscribe(([e,t])=>{this.engineService.fireEvent(Vo.SceneLoaded,t)}),Object(Gu.b)(C_(this.engineService,Vo.HumanProgress),this.store.select(x_.getStoryLoadProgress),this.store.select(ac.getStoryChapters),this.store.select(ac.getChaptersLoaded)).pipe(Object(r.a)(([e,t,n,l])=>({percentage:this.numberService.roundNumber(100*t,2),chapters:n.map(e=>{const t=e.id;return{id:t,model:l.modelChapters.some(e=>e.id===t),animation:l.animationChapters.some(e=>e.id===t)}})})),Object(mg.a)((e,t)=>JSON.stringify(e)===JSON.stringify(t)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.engineService.fireEvent(Vo.HumanProgress,e)}),this.store.select(ac.getAllChaptersModelsReady).pipe(Object(G.a)(e=>e),Object(Q.a)(this.ngUnsubscribe)).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.engineService.fireEvent(Vo.Started,null)})}initDynamicLayout(){Object(Gu.b)(this.store.select(U.getWidgetApiUIConfig),this.store.select(U.getWidgetUrlConfig),this.store.select(ac.getSelectedChapter)).pipe(Object(G.a)(([e,t,n])=>null!=n&&null!=t),Object(Q.a)(this.ngUnsubscribe)).subscribe(([e,t,n])=>{const l=m_.convertUrlUIConfigToUIConfig(t),i=m_.convertChapterToUIConfig(n);let a=new d_;a=m_.mergeUIConfigs(a,e),a=m_.mergeUIConfigs(a,l),a=m_.mergeUIConfigs(a,i);const o=this.store.selectSnapshot(jm.getLayout),s=m_.createLayoutFromConfig(o,a);this.store.dispatch(new B.SetLayout(s))})}handleContentErrors(){this.store.dispatch(new _a(null,null)),this.redirectToErrorPage(__.Content)}handleEngineErrors(e){const t={category:e.name,log:JSON.stringify({log:e.log,stack:e.stack,webglInfo:e.webglInfo}),message:e.message};this.errorService.logError(t).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(),this.redirectToErrorPage(__.Engine,e.name)}handleAuthErrors(e){this.redirectToErrorPage(__.Auth,e.response.errorCode)}redirectToErrorPage(e,t){if((this.router.url||"").match("/error"))return;const n=this.locationStrategy.getBaseHref(),l=this.router.createUrlTree([`${n}/error`],{queryParams:{errorType:e,errorCode:t,errorUrl:this.router.url}}),i=this.router.serializeUrl(l);window.location.href=i}getCanvasInteraction(){let e;return new V.a(t=>{const n=this.engineService.getCanvas();(e=new f_.Manager(n)).add([new f_.Tap({event:"singletap"}),new f_.Tap({event:"doubletap",taps:2}),new f_.Pan({event:"pan",direction:f_.DIRECTION_ALL,threshold:0})]);const l=(()=>t.next()).bind(this);e.on("panstart",l),e.on("singletap",l)}).pipe(Object(z.a)(()=>{e&&(e.destroy(),e=null)}),Object(Q.a)(this.ngUnsubscribe))}getIntersectionObserver(e,t){return new V.a(n=>{const l=new IntersectionObserver(i=>{i[0].intersectionRatio>=t&&(n.next(e),n.complete(),l.unobserve(e))},{root:null,threshold:t});l.observe(e)})}setWidgetTransparent(e){e?this.renderer.setStyle(document.body,"background","none transparent"):this.renderer.removeStyle(document.body,"background")}}function j_(e){const{procName:t,actionFn:n,aliases:l=[],mapFnIn:i,mapFnOut:a}=e,o=function(e){const t=this,l=i?i(e):e,o=n(l);if(void 0!==o)if(o instanceof V.a)o.subscribe(e=>{const n=a?a(e):e;t.setResult(n)});else{const e=a?a(o):o;t.setResult(e)}};[t,...l].forEach(e=>Human.rpc.define(e,o))}function k_(e){const t=e.captureCamera();return{position:t.lookAt.eye,target:t.lookAt.look,up:t.lookAt.up,zoom:t.zoom}}var S_,P_,M_=n("SxV6");(P_=S_||(S_={})).selectedNodesAsDict=function(e){return e.selectSnapshot(um.getCheckedNodeIds).reduce((e,t)=>(e[t]=!0,e),{})},P_.isObjectSelected=function(e,t,n,l){if(t[e])return!0;const i=Object.keys(t);for(const a of i)if(l.getLeafDescendants(n,a).includes(e))return!0;return!1};var H_,I_,T_=n("IOcx");function z_(e,t){return e.dispatch(new ii(!1)),e.dispatch(new ai([])),t.fireEvent(Vo.SceneXrayDisabled,void 0),!0}(H_||(H_={})).getCanvasPos=function(e,t,n,l,i){n&&T_.a.add(t,n,t);const a=e.renderer.getViewMat(),o=e.renderer.getProjMat(),s=T_.b.create();T_.a.transformMat4(s,t,a),s[3]=1,T_.b.transformMat4(s,s,o);const r=s[1],c=s[3];return[Math.round((1+s[0]/c)*l/2),Math.round((1-r/c)*i/2)]},function(e){e.isLegacyCaptureFormat=function(e){return void 0!==e.engineVersion},e.convertCaptureFormat=function(e){const t=Object.keys(e.objects).reduce((e,t)=>(e.push({objectId:t,selected:!1,hidden:!1}),e),[]);return{storyId:e.timeline.rootName.replace(".json",""),camera:{lookAt:e.camera,zoom:void 0},labels:[],objects:t,background:[],activeChapterId:e.timeline.scrub?e.timeline.scrub.chapterId:void 0}}}(I_||(I_={}));var F_=function(e){return e[e.Immediate=0]="Immediate",e[e.HumanReady=1]="HumanReady",e}({});function L_(e){return e?{objectId:e.objectId,canvasPosition:{x:e.canvasPos[0],y:e.canvasPos[1]},mode:"query",position:e.worldPos?{x:e.worldPos[0],y:e.worldPos[1],z:e.worldPos[2]}:void 0}:null}function E_(e,t,n){const l=S_.selectedNodesAsDict(t),i=t.selectSnapshot(Wr.getViewGraph);return e.reduce((e,t)=>(e[t]=(e=>{const t=Human.scene.objects[e],a=t.isLeaf()?S_.isObjectSelected(e,l,i,n):void 0;return{objectId:t.objectId,name:t.displayName,description:t.description||"",shown:t.shown,selected:a,children:t.objects.map(e=>e.objectId),parent:t.parent?t.parent.objectId:null}})(t),e),{})}function N_(e,t){return!!e.media&&Object.values(e.media).some(({data:e})=>e&&e.streamType===t)}function R_(e,t){const n=t.includes("/")?a.Module:a.Bookmark;e.dispatch(new da(t,n))}function A_(e,t,n){const l=t.selectSnapshot(Wr.getViewGraph),i=Object.keys(e).filter(e=>void 0!==l.nodes[e]).filter(t=>!0===e[t]).map(e=>n.getNode(l,e));return t.dispatch(new go(i)),!0}function D_(e,t,n){const l=n.getLeaves().map(e=>({objectId:e,recipe:t.getColor(e)}));return e.dispatch(new ai(l)),e.dispatch(new ii(!0)),n.fireEvent(Vo.SceneXrayEnabled,void 0),!0}function U_(e,t,n){Human.rpc.defineEvent(e,{events:t||[e],map:n||(e=>e)})}var B_=n("I65S");function $_(e){return Ve.getColors(e).map(e=>e[255])}function V_(e){return e.selectSnapshot(uu.getChapterLabels)}function Q_(e,t){return function(e,t){return e.find(e=>t===e.id)}(V_(e),t)}function G_(e,t){const n=function(e,t){return e.scene.markers.markers[t]}(e,t.id);return{annotationId:t.id,objectId:t.objectId||null,title:t.title,description:t.description,shown:t.shown,occludable:t.occludable,position:n?{x:n.pos[0],y:n.pos[1],z:n.pos[2]}:{x:t.pos[0],y:t.pos[1],z:t.pos[2]},canvasPosition:n?{x:n.canvasPos[0],y:n.canvasPos[1]}:{x:t.offset[0],y:t.offset[1]}}}function W_(e,t){const n=Q_(e,t.annotationId);return n?Object.assign({},n,t):null}function J_(e,t){return t&&e.dispatch(new na(t)),!0}function q_(e,t){return e.dispatch(new ra(t)),!0}function K_(e,t){return e.reduce((e,n)=>Object.assign({},e,{[`${n}`]:t}),{})}function X_(e,t){return function(e,n){return Object.entries(e).filter(([e,n])=>((e,n)=>n===t)(0,n)).reduce((e,[t,n])=>Object.assign({},e,{[`${t}`]:n}),{})}(e)}function Z_(e,t){return Object.keys(X_(e,t))}function Y_(e,t,n){return function(e,t){return e.filter(e=>t.includes(e.id))}(e,Z_(t,n))}function ef(e,t,n){const l=Z_(t,n).map(t=>(function(e,...t){const n=t.map(t=>e.filter(e=>t===e.objectId));return function(e){const t=new Set(e);return Array.from(t.values())}([].concat(...n))})(e,t)).map(e=>e.map(e=>e.id));return K_([].concat(...l),n)}function tf(e,t){return[{eventName:Vo.AnnotationsCreated,aliasEvents:[Vo.LabelCreated],mapFn:t=>G_(e,t)},{eventName:Vo.AnnotationsDestroyed,aliasEvents:[Vo.LabelDestroyed],mapFn:e=>({annotationId:e.id})},{eventName:Vo.AnnotationsShown,aliasEvents:[Vo.LabelsShown]},{eventName:Vo.AnnotationsHidden,aliasEvents:[Vo.LabelsHidden]},{eventName:Vo.AnnotationsPositionUpdated,aliasEvents:[Vo.HotspotsPositionUpdated]}]}function nf(e,t,n){return[{procName:$o.AnnotationsInfo,actionFn:()=>V_(t),mapFnOut:t=>(function(e,t){return t.reduce((t,n)=>(t[n.id]=G_(e,n),t),{})})(e,t)},{procName:$o.AnnotationsCreate,mapFnIn:l=>(function(e,t,n,l){const i=t.selectSnapshot(ac.getSelectedChapter),a={annotationId:l.annotationId,title:l.title,description:l.description,objectId:e.scene.objects[l.objectId]?l.objectId:void 0,pos:l.position,occludable:l.occludable,labelOffset:l.labelOffset,shown:l.shown,labelShown:l.shown};return a.objectId&&void 0===a.pos&&(a.pos=e.scene.objects[a.objectId].center),n.deserializeAnnotation(a,i,Ns.Annotation)})(e,t,n,l),actionFn:e=>(function(e,t){return t.objectId||t.pos?(e.dispatch(new qi(t)),t):null})(t,e),mapFnOut:t=>t?G_(e,t):null},{procName:$o.AnnotationsUpdate,mapFnIn:e=>W_(t,e),actionFn:e=>J_(t,e)},{procName:$o.AnnotationsSetTitle,mapFnIn:e=>W_(t,e),actionFn:e=>J_(t,e)},{procName:$o.AnnotationsSetDescription,mapFnIn:e=>W_(t,e),actionFn:e=>J_(t,e)},{procName:$o.AnnotationsDestroy,mapFnIn:e=>Q_(t,e),actionFn:e=>(function(e,t){return t&&e.dispatch(new Zi(t)),!0})(t,e)},{procName:$o.ShowAnnotations,aliases:[$o.SetAnnotationsShown],actionFn:()=>q_(t,!0)},{procName:$o.HideAnnotations,actionFn:()=>q_(t,!1)},{procName:$o.AnnotationsSetLabelsShown,mapFnIn:e=>(function(e,t){const{annotations:n,objects:l,replace:i}=t,a=n||{},o=l||{},s=V_(e),r=Object.assign({},X_(a,!0),X_(a,!1),ef(s,o,!0),ef(s,o,!1));return i?Object.assign({},K_(s.map(e=>e.id),!1),r):r})(t,e),actionFn:e=>(function(e,t){const n=V_(e),l=Y_(n,t,!1),i=Y_(n,t,!0);e.dispatch(new sa(i,!0)),e.dispatch(new sa(l,!1))})(t,e)}]}const lf={};function af(e,t){t.hasOwnProperty("data")&&(t[e]=t.data)}const of={hotspotSeedId:0,hotspotIdMap:new Map,getHotspotMap:e=>{const{hotspotIdMap:t,createHotspotId:n}=of;return e.selectSnapshot(uu.getLabels).forEach(e=>{const l=e.id;void 0===t.get(l)&&n(l)}),t},createHotspotId:e=>(of.hotspotSeedId++,of.hotspotIdMap.set(e,of.hotspotSeedId),of.hotspotSeedId),getHotspotIdByLabel:(e,t,n)=>{const{getHotspotMap:l,createHotspotId:i}=of,a=l(e).get(t);return n&&void 0===a?i(t):a},getLabelIdByHotspotId:(e,t)=>{const n=of.getHotspotMap(e),l=Array.from(n).find(([e,n])=>n===t);return l?l[0]:null}};function sf(e,t){const n=e.selectSnapshot(uu.getLabels);return void 0!==t?n.filter(e=>e.chapterId===t):n}function rf(e,t){const n=sf(e),l=of.getLabelIdByHotspotId(e,t);return n.find(e=>e.id===l)}function cf(e){return e===ir.CirclePlus?Es.Plus:e===ir.CircleMinus?Es.Minus:Es.Default}function uf(e,t){return of.getHotspotIdByLabel(e,t)}function pf(e,t){return Object.assign({},t,{id:uf(e,t.id)})}function df(e,t,n){const l=t.selectSnapshot(ac.getStoryChapters);return n.map(n=>(function(e,t,n,l){const{id:i,chapterId:a,title:o,objectId:s}=l,r=n.findIndex(e=>a===e.id),c=of.getHotspotIdByLabel(t,i,!0),u=function(e,t){return e.scene.markers.markers[t]}(e,i);return{id:c,title:o,objectId:s,position:u?bf(u.pos):null,direction:u?bf(u.dir):null,canvasPosition:u?(p=u.canvasPos,{x:p[0],y:p[1]}):null,chapterScope:r,type:l.pinType===Es.PlusMinus?ir.CirclePlus:ir.Circle,shown:l.shown,data:lf[l.id]};var p})(e,t,l,n))}function bf(e){return{x:e[0],y:e[1],z:e[2]}}function gf(e){return[e.x,e.y,e.z]}function hf(e,t,n){return e.dispatch(new sa(t,n)),!0}function mf(e,t){if("number"==typeof t){const n=rf(e,t);return n?[n]:[]}return sf(e)}function _f(e,t){return[{eventName:Vo.HotspotsEntered,mapFn:e=>pf(t,e)},{eventName:Vo.HotspotsLeft,mapFn:e=>pf(t,e)},{eventName:Vo.HotspotsPicked,mapFn:e=>pf(t,e)},{eventName:Vo.HotspotsDisplayUpdated,mapFn:e=>pf(t,e)},{eventName:Vo.HotspotsPositionUpdated,mapFn:e=>(function(e,t){const{id:n,canvasPos:l}=t,{x:i,y:a}=l;return{id:uf(e,n),canvasPosition:{x:i,y:a,0:i,1:a}}})(t,e)}]}function ff(e,t,n){return[{procName:$o.HotspotsInfo,actionFn:n=>{const l="number"==typeof n?n:void 0;if(void 0!==l){const n=rf(t,l);return df(e,t,[n])[0]}{const n=mf(t,l);return df(e,t,n)}}},{procName:$o.HotspotsTypes,mapFnIn:()=>Object.values(ir).map(e=>`${e}`),actionFn:e=>e},{procName:$o.HotspotsCreate,mapFnIn:e=>(function(e,t,n){const{title:l,objectId:i,position:a,direction:o,chapterScope:s,type:r}=n,c=e.selectSnapshot(ac.getStoryChapters),u=e.selectSnapshot(ac.getSelectedChapter),p=e.selectSnapshot(ac.getSelectedChapterIndex),d="number"==typeof s?s:p,b=c[d]||u,g=!1!==n.shown,h=g&&!!l,m={title:l,type:r||ir.CircleLabel,objectId:i,pos:a?gf(a):null,dir:o?gf(o):null,shown:g,symbol:"",className:""},_=t.deserializeHotspots({},b,d,m);return _.title=l,_.expandTag=!0,_.flyTo=!1,_.flyToTarget=null,_.occludable=!0,_.pinGlow=!1,_.pinType=Es.PlusMinus,_.shown=g,_.hideTag=!h,_.hideWire=!0,_.theme=Ns.StudioNext,_.pinType=cf(r),af(_.id,n),_})(t,n,e),actionFn:e=>(function(e,t){return t.objectId||t.pos?(e.dispatch(new qi(t)),t):null})(t,e),mapFnOut:e=>e?uf(t,e.id):null},{procName:$o.HotspotsUpdate,mapFnIn:e=>(function(e,t){const n=rf(e,t.id);return n?function(e,t){const{title:n,objectId:l,direction:i,position:a,shown:o,type:s}=e,r=Object.assign({},t,{title:n,objectId:l,shown:o,pos:a?gf(a):null,dir:i?gf(i):null,pinType:s?cf(s):null});return af(t.id,e),Object.assign({},t,Object(vt.omitBy)(r,vt.isNil))}(t,n):null})(t,e),actionFn:e=>e?function(e,t){return e.dispatch(new na(t)),t}(t,e):null},{procName:$o.HotspotsDestroy,mapFnIn:e=>rf(t,e),actionFn:e=>e?function(e,t){return e.dispatch(new Zi(t)),t}(t,e):null},{procName:$o.HotspotsShow,mapFnIn:e=>mf(t,e),actionFn:e=>hf(t,e,!0)},{procName:$o.HotspotsHide,mapFnIn:e=>mf(t,e),actionFn:e=>hf(t,e,!1)}]}let yf=(()=>{class e{constructor(e,t,n,l,i,a,o,s,r,c,u){this.store=e,this.actions=t,this.cameraService=n,this.engineService=l,this.animationService=i,this.imageService=a,this.paintService=o,this.labelsService=s,this.graphService=r,this.historyService=c,this.viewService=u,this.webGLInfo=SceneJS.WEBGL_INFO}listen(){const e=this.initProcedures(),t=(this.initEvents(),this.getReadyProcedures(e));!function(e,t){let n=!1;const l=[];e.clients.addClient(i=>{let a,o;const s=[];function r(e){a?c(e):s.push(e)}function c(e){const t=JSON.stringify(e);a.postMessage(t,o)}function u(t){if(e.rpc.windowClientEnabled){const{id:l,call:i,params:a}=t;try{e.rpc.call(l,i,a),e.rpc.log(i),e.events.fire(Vo.ClientMessage,t)}catch(n){e.log.error("Human.clients.windowClient",`Error executing RPC call [callId: ${l}, procedure: ${i}]: ${n}`)}}}e.events.on(Vo.HumanLoaded,()=>{r({message:"status",status:"loaded"})}),e.events.on(Vo.Started,()=>{r({message:"status",status:"ready"}),n=!0,function(){for(;l.length>0;)u(l.shift())}()}),e.events.on(Vo.Error,e=>{r({error:e})}),e.rpc.onResult((t,n)=>{r({results:{[t]:e.rpc.filterUnsafeProperties(n)}})}),window.addEventListener("message",(function(p){let d={};const{data:b,origin:g,source:h}=p;try{d=JSON.parse(b)}catch(m){return}"connect"!==d.action||a?d.call&&(!n&&t.includes(d.call)?l.push(d):u(d)):(e.log.info("Human.clients.windowClient","Client connected"),i.connected(),a=h,o=g,r({message:"connected"}),function(){for(;s.length>0;)c(s.shift())}())}))})}(Human,t)}initEvents(){const e=[{eventName:Vo.HumanLoaded},{eventName:Vo.HumanReady,aliasEvents:[Vo.HumanStarted]},{eventName:Vo.HumanProgress,mapFn:e=>e},{eventName:Vo.Error,aliasEvents:[Vo.HumanError],mapFn:e=>e}];e.forEach(e=>{U_(e.eventName,e.aliasEvents,e.mapFn)});const t=(n=this.store,l=this.graphService,i=this.animationService,[{eventName:Vo.SceneLoaded,mapFn:e=>(function(e,t,n,l){const{displayName:i,description:a}=t,o=Object.keys(Human.scene.objects),s=function(e,t){return e.map(e=>({chapterId:e.id,title:e.displayName,description:e.description,animated:t.isChapterAnimated(e),video:N_(e,"video"),audio:N_(e,"audio")}))}(t.chapters,l);return{title:i,description:a,objects:E_(o,e,n),chapters:s}})(n,e,l,i)},{eventName:Vo.ScenePicked,aliasEvents:[Vo.PickPicked],mapFn:L_},{eventName:Vo.SceneObjectsSelected,mapFn:e=>e.selectedObjectsUpdate},{eventName:Vo.SceneObjectsShown,mapFn:e=>e.enabledObjectsUpdate},{eventName:Vo.Debug_SceneReady,aliasEvents:[Vo.Started]},{eventName:Vo.SceneRestored,mapFn:()=>!0},{eventName:Vo.SceneXrayEnabled,mapFn:()=>!0},{eventName:Vo.SceneXrayDisabled,mapFn:()=>!0}]);var n,l,i;t.forEach(e=>{U_(e.eventName,e.aliasEvents,e.mapFn)});const a=(o=this.cameraService,[{eventName:Vo.CameraUpdated,aliasEvents:[Vo.CameraRested],mapFn:()=>k_(o)}]);var o;a.forEach(e=>{U_(e.eventName,e.aliasEvents,e.mapFn)});const s=[{eventName:Vo.TimelineChapterTransition,aliasEvents:[Vo.TimelineChaptersActivated],mapFn:e=>({previousChapter:e.oldChapterIndex,currentChapter:e.newChapterIndex,time:e.time})},{eventName:Vo.TimelinePlaying,mapFn:e=>e.time},{eventName:Vo.TimelineCompleted,mapFn:()=>!0}];s.forEach(e=>{U_(e.eventName,e.aliasEvents,e.mapFn)});const r=[];r.forEach(e=>{U_(e.eventName,e.aliasEvents,e.mapFn)});const c=[];c.forEach(e=>{U_(e.eventName,e.aliasEvents,e.mapFn)});const u=function(e,t){return[...tf(e),..._f(0,t)]}(Human,this.store);return u.forEach(e=>{U_(e.eventName,e.aliasEvents,e.mapFn)}),[...e,...t,...a,...s,...r,...c,...u]}initProcedures(){const e=(t=Human,n=this.webGLInfo,[{procName:$o.HumanInfo,actionFn:()=>({version:t.VERSION,webglInfo:n,apiFunctions:t.rpc.getProcedures().sort(),apiEvents:t.rpc.getEvents().sort()})}]);var t,n;e.forEach(e=>{j_(e)});const l=function(e,t,n,l,i,a){return[{procName:$o.focusObject,actionFn:l=>(function(e,t,n,l){e.select&&e.xray?D_(t,n,l):z_(t,l),e.select&&A_({[e.objectId]:!0},t,l),t.dispatch(new ci(e.objectId,!0,1))}(l,e,n,t),!0)},{procName:$o.dissectSetEnabled,actionFn:t=>(e.dispatch(new mi(t.enable?Qr.Hide:Qr.Select)),!0)},{procName:$o.sceneSetClickMode,actionFn:t=>{const n=(()=>"select"===t?Qr.Select:"hide"===t?Qr.Hide:"fade"===t?Qr.Fade:Qr.Select)();return e.dispatch(new mi(n)),!0}},{procName:$o.pickSingleSetEnabled,actionFn:t=>{const n=(()=>{switch(t.enable){case void 0:return!e.selectSnapshot(jm.getMultiPickModeEnabled);case!0:return!1;case!1:return!0}})();return e.dispatch(new B.SetMultiPickModeEnabled(n)),!0}},{procName:$o.pickMultiSetEnabled,actionFn:t=>{const n=(()=>{switch(t.enable){case void 0:return!e.selectSnapshot(jm.getMultiPickModeEnabled);default:return t.enable}})();return e.dispatch(new B.SetMultiPickModeEnabled(n)),!0}},{procName:$o.getCanvasPos,actionFn:e=>{const n=t.getCanvas();return H_.getCanvasPos(Human,e.worldPos,e.offset,n.width,n.height)}},{procName:$o.SceneCapture,actionFn:()=>(function(e,t,n){const l=n.captureCamera(),i=function(e,t){const n=S_.selectedNodesAsDict(e),l=e.selectSnapshot(Wr.getViewGraph);return Object.keys(Human.scene.objects).map(e=>{const i=(()=>{const t=Human.scene.objects[e].shown;switch(t){case void 0:return;default:return!t}})();return{objectId:e,selected:S_.isObjectSelected(e,n,l,t),hidden:i}})}(e,t),a=e.selectSnapshot(ac.getStoryChapters).map(e=>({chapterId:e.id,background:e.background||qr})),o=e.selectSnapshot(Mc.getStoryId);return{camera:l,labels:e.selectSnapshot(uu.getLabels),storyId:o,objects:i,background:a,activeChapterId:e.selectSnapshot(ac.getSelectedChapterId)}})(e,i,l)},{procName:$o.SceneRestore,actionFn:n=>{const l=I_.isLegacyCaptureFormat(n);return function(e,t,n,l){return new V.a(i=>{n.getEvent(Vo.HumanStarted).pipe(Object(M_.a)()).subscribe(()=>{(function(e,t,n,l=!1){return new Promise(i=>{const a=t.selectSnapshot(Wr.getViewGraph),o=e=>n.getNode(a,e.objectId),s=e.objects.filter(e=>!0===e.selected).map(o),r=(()=>l?Human.scene.getLeaves().filter(t=>void 0===e.objects.find(e=>e.objectId===t)).map(e=>o({objectId:e})).filter(e=>e):e.objects.filter(e=>!0===e.hidden).map(o).filter(e=>e))(),c=e.background.map(e=>new Ra(e.chapterId,e.background)),u=e.activeChapterId?[new La(e.activeChapterId)]:[],p=void 0!==e.camera.zoom?[new Ir(e.camera.zoom)]:[];setTimeout(()=>{t.dispatch([new kr(e.camera.lookAt,!1),new Ji(e.labels),new ho(r,!1),new go(s),...p,...u,...c]),i()})})})(e,t,n,l).then(()=>{n.fireEvent(Vo.SceneRestored,void 0),i.next(!0),i.complete()})}),R_(t,e.storyId)})}(l?I_.convertCaptureFormat(n):n,e,t,l)}},{procName:$o.SceneEnableXrayMode,actionFn:()=>D_(e,n,t)},{procName:$o.SceneDisableXrayMode,actionFn:()=>z_(e,t)},{procName:$o.SceneLoad,actionFn:t=>(R_(e,t),!0)},{procName:$o.SceneReset,actionFn:()=>(a.resetChapter(),!0)},{procName:$o.SceneInfo,actionFn:t=>{const n=t&&t.objectId?[t.objectId]:Object.keys(Human.scene.objects);return function(e,t,n,l){return{name:e,objects:E_(t,n,l)}}(e.selectSnapshot(Mc.getStory).displayName,n,e,i)}},{procName:$o.ScenePick,actionFn:e=>L_(t.pickScene({x:e.x,y:e.y,rayPick:!0}))},{procName:$o.SceneSelectObjects,actionFn:n=>A_(n,e,t)},{procName:$o.SceneShowObjects,actionFn:e=>(t.setNodesVisible(e),!0),readyState:F_.HumanReady},{procName:$o.IsolateObject,actionFn:e=>{const n={};for(const t of Human.scene.getLeaves())n[t]=!1;e=e instanceof Array?e:[e];for(const t of e)n[t]=!0;return t.setNodesVisible(n),!0}},{procName:$o.SceneTransformObject,actionFn:e=>(t.transformObject(e.objectId,e),!0)},{procName:$o.SceneColorObject,actionFn:e=>{const{objectId:t,tintColor:l,saturation:i,contrast:a,brightness:o,opacity:s}=e;return n.colorObject(t,{tintColor:l,saturation:i,contrast:a,brightness:o,opacity:s}),!0}},{procName:$o.SceneGetColor,actionFn:e=>n.getColor(e.objectId)},{procName:$o.SceneUncolorObject,actionFn:e=>(n.uncolorObject(e.objectId),!0)},{procName:$o.SceneDisableHighlight,actionFn:()=>(n.disableHighlight(),!0)},{procName:$o.SceneEnableHighlight,actionFn:()=>(n.enableHighlight(),!0)},{procName:$o.SceneSetHighlightColor,actionFn:e=>(n.setHighlightColor(e),!0)}]}(this.store,this.engineService,this.paintService,this.cameraService,this.graphService,this.historyService);l.forEach(e=>{j_(e)});const i=(a=this.store,o=this.cameraService,[{procName:$o.CameraInfo,actionFn:()=>k_(o)},{procName:$o.CameraOrbit,actionFn:e=>(a.dispatch(new Nr(void 0===e.pitch?0:e.pitch,void 0===e.yaw?0:e.yaw)),!0)},{procName:$o.CameraPan,actionFn:e=>(a.dispatch(new Fr(void 0===e.x?0:e.x,void 0===e.y?0:e.y,void 0===e.z?0:e.z)),!0)},{procName:$o.CameraReset,actionFn:()=>a.dispatch(new Mr)},{procName:$o.CameraSet,actionFn:e=>{const t=e.animate||!1;if(e.objectId)return a.dispatch(new ci(e.objectId,t,e.animationDuration)),!0;const n=k_(o);return a.dispatch(new kr({eye:e.position||n.position,look:e.target||n.target,up:e.up||n.up},t)),!0}},{procName:$o.CameraZoom,actionFn:e=>(a.dispatch(new Ir(e||0)),!0)},{procName:$o.setCameraMode,actionFn:e=>(a.dispatch(new Rr("pan"===e?"pan":"rotate")),!0)}]);var a,o;i.forEach(e=>{j_(e)});const s=function(e,t,n,l){return[{procName:$o.TimelineQuery,actionFn:()=>({chapters:e.selectSnapshot(ac.getStoryChapters).map(e=>{const{description:t,displayName:n}=e.info;return{description:t,displayName:n,annotations:e.labels.map(e=>({title:e.title,description:e.description}))}})})},{procName:$o.TimelineInfo,actionFn:()=>(function(e,t){const n=t.getTimeFrame(),l=e.selectSnapshot(ac.getSelectedChapter),i=-1===Object(vt.get)(l,"ui.play.count",0);return{time:t.getTime(),startTime:n.firstTime,endTime:n.lastTime,chapters:e.selectSnapshot(ac.getStoryChapters).map(e=>e.id),playing:t.isPlaying(),loop:i}})(e,n)},{procName:$o.TimelinePlay,actionFn:l=>{const i=l.loop||!1;if(void 0===l.time&&void 0===l.chapterId){const t=e.selectSnapshot(ac.getSelectedChapterId);return n.play({numChapters:1,loop:i,queue:!1,startChapterId:t}),!0}const a=Math.max(0,l.time),o=n.getTimeFrame().lastTime,s=Math.min(a,o-.001);return new V.a(a=>{t.pipe(Object(g.k)(La),Object($u.a)(1)).subscribe(()=>{const e={numChapters:1,queue:!1,loop:i};n.play(void 0!==l.time?Object.assign({},e,{startTime:s}):Object.assign({},e,{startChapterId:l.chapterId})),a.next(!0),a.complete()});const o=(()=>l.chapterId?l.chapterId:n.mapGlobalTimeToLocal(s,{tie:"later"}).branch.id)();e.dispatch(new La(o))})}},{procName:$o.TimelinePause,actionFn:()=>(n.pause(),!0)},{procName:$o.TimelineSet,actionFn:l=>{if(void 0===l.time&&void 0===l.chapterId)return!0;if(void 0!==l.chapterId)return e.dispatch(new La(l.chapterId)),!0;const i=Math.max(0,l.time),a=n.getTimeFrame().lastTime,o=Math.min(i,a);return new V.a(l=>{t.pipe(Object(g.k)(La),Object($u.a)(1)).subscribe(()=>{n.scrub({time:o,which:0===o?"second":"first"}),l.next(!0),l.complete()});const i=n.mapGlobalTimeToLocal(o,0===o?{tie:"later"}:{});e.dispatch(new La(i.branch.id))})}},{procName:$o.TimelineNext,actionFn:()=>(l.nextChapter(),!0)},{procName:$o.TimelinePrev,actionFn:()=>(l.previousChapter(),!0)}]}(this.store,this.actions,this.animationService,this.viewService);s.forEach(e=>{j_(e)});const r=function(e){return[{procName:$o.InputEnable,actionFn:()=>(e.dispatch(new w(!0)),!0)},{procName:$o.InputDisable,actionFn:()=>(e.dispatch(new w(!1)),!0)}]}(this.store);r.forEach(e=>{j_(e)});const c=function(e,t,n,l,i){return[{procName:$o.UIGetBackground,actionFn:()=>(function(e){const{colors:t,gradientType:n,colorStops:l}=e;return{colors:[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]]],gradientType:n,colorStops:l}})(t.selectSnapshot(ac.getSelectedChapterBackground))},{procName:$o.UISetBackground,mapFnIn:e=>{const{colors:t,colorStops:n,gradientType:l}=e;return{colors:t?$_(t):t,gradientType:l,colorStops:n}},actionFn:e=>{if(e){const n=t.selectSnapshot(ac.getSelectedChapterBackground),{colors:l,colorStops:i,gradientType:a}=n,o=e.colors?[].concat(...e.colors):l,s=new Bo(o,e.gradientType||a,e.colorStops||i);t.dispatch(new Ua(s))}}},{procName:$o.UIGetWordPosition,actionFn:t=>{const{worldPos:n}=e.renderer.pick.pick(t.x,t.y,{rayPick:!0});if(n){const{0:e,1:t,2:l}=n;return{x:e,y:t,z:l}}return null}},{procName:$o.UISetLoadingExperience,actionFn:e=>(Object(vt.isEmpty)(e)?t.dispatch(new B.ToggleLoader(!1)):t.dispatch([new B.SetLoaderType(e),new B.ToggleLoader(!0)]),!0)},{procName:$o.UISetScrollCaptureMode,actionFn:e=>(t.dispatch(new Xl(e)),!0)},{procName:$o.UIGetDisplay,actionFn:()=>{const e=t.selectSnapshot(jm.getLayout);return{audio:e.audio.enable,fullscreen:e.fullscreen.enable,help:e.help.enable,nav:e.camera.enable,cameraMode:e.camera.enable,center:e.camera.enable,zoomIn:e.camera.enable,zoomOut:e.camera.enable,info:e.column.enable||e.drawer.enable,playPause:e.media.enable,scrubber:e.media.enable,"scrubber.chapters":e.media.enable,tools:e.tools.enable,"tools-display":e.tools.enable,tour:e.pagination.enable,"tour.chapters":e.pagination.enable,objectTree:e.search.enable,anatomyLabels:e.anatomyLabels.enable,share:!1,dissect:!1,xray:!1,annotations:!1}}},{procName:$o.UISetDisplay,actionFn:e=>{const n=m_.convertAPIUIConfigToUIConfig(e);t.dispatch(new j(n))}},{procName:$o.UIResetDisplay,actionFn:()=>{const e=t.selectSnapshot(jm.getInitialLayout);t.dispatch(new B.SetLayout(e))}},{procName:$o.UISnapshot,aliases:[$o.SceneSnapshot],mapFnIn:e=>{const{width:t,height:n}=l.getCanvas();return Object.assign({width:t,height:n,openInTab:!1},e)},actionFn:e=>{const{width:l,height:a,openInTab:o}=e,s=t.selectSnapshot(ac.getSelectedChapterId);return t.dispatch(new eo(s,{width:l,height:a},!0,!0)).pipe(Object(_t.a)(()=>n.pipe(Object(g.l)(to),Object($u.a)(1))),Object(_t.a)(e=>i.blobToBase64(e.blob)),Object(Po.a)(e=>{o&&e&&function(e){const t=window.open("","_blank");if(t){const n=t.document.createElement("iframe");n.src=e,t.document.body.style.margin="0",n.style.border="none",n.style.height="100%",n.style.width="100%",t.document.body.appendChild(n)}}(e)}),Object(S.a)(()=>Object(B_.of)(null)))}}]}(Human,this.store,this.actions,this.engineService,this.imageService);c.forEach(e=>{j_(e)});const u=function(e,t,n){return[...nf(e,t,n),...ff(e,t,n),{procName:$o.LabelsSetEnabled,aliases:[$o.AnnotationsSetEnabled],actionFn:e=>{t.dispatch(new hi(e.enable))}}]}(Human,this.store,this.labelsService);return u.forEach(e=>{j_(e)}),[...e,...l,...i,...s,...r,...c,...u]}getReadyProcedures(e){return e.filter(e=>e.readyState===F_.HumanReady).map(e=>e.procName)}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(g.i),l.Vb(g.b),l.Vb(wt),l.Vb(Ls),l.Vb(tc),l.Vb(It),l.Vb(rm),l.Vb(sr),l.Vb(Ps),l.Vb(Vm),l.Vb(Wm))},token:e,providedIn:"root"}),e})();var vf=l.tb({encapsulation:0,styles:[[".widget__messages[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:fixed;top:0;left:0;right:0;z-index:101}.widget-shell[_ngcontent-%COMP%]{pointer-events:none;position:fixed;top:0;bottom:0;left:0;right:0;z-index:99999;border:var(--widget-shell-border)}"]],data:{}});function xf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,"div",[["class","widget theme-light"]],null,null,null,null,null)),(e()(),l.vb(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l.ub(2,212992,null,0,u.q,[u.b,l.Q,l.k,[8,null],l.i],null,null),(e()(),l.vb(3,0,null,null,2,"div",[["class","widget__messages pt-2 pr-2 pl-2"]],null,null,null,null,null)),(e()(),l.vb(4,0,null,null,1,"app-ie-warning",[["appShowIE11",""]],null,null,null,r_,o_)),l.ub(5,114688,null,0,a_,[l.i],null,null),(e()(),l.vb(6,0,null,null,0,"div",[["class","widget-shell"]],null,null,null,null,null))],(function(e,t){e(t,2,0),e(t,5,0)}),null)}function Of(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-widget-master",[],null,null,null,xf,vf)),l.ub(1,245760,null,0,w_,[Y.i,u.m,g.i,g.b,u.a,yf,Ho,Ls,wt,xt,l.F],null,null)],(function(e,t){e(t,1,0)}),null)}var Cf=l.rb("app-widget-master",w_,Of,{},{},[]);class wf{transform(e,t){return Object(vt.lowerCase)(e).split(" ").map(e=>Object(vt.upperFirst)(e)).join(" ")}}class jf{constructor(){this.iconType="solid",this.iconPlacement="bottom",this.arrow="",this.color="",this.labelSize="medium",this.label=""}ngOnInit(){}}var kf=l.tb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}[_nghost-%COMP%]{white-space:nowrap}.button-icon[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.button-icon__label[_ngcontent-%COMP%]{color:#d7e0ea}.theme-light[_nghost-%COMP%]   .button-icon__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .button-icon__label[_ngcontent-%COMP%]{color:#1c2a3f}.theme-dark[_nghost-%COMP%]   .button-icon__label[_ngcontent-%COMP%], .theme-dark   [_nghost-%COMP%]   .button-icon__label[_ngcontent-%COMP%]{color:#d7e0ea}.button-icon__label--light[_ngcontent-%COMP%]{color:#d7e0ea!important}.button-icon__label--dark[_ngcontent-%COMP%]{color:#1c2a3f!important}.button-icon--left[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center}.button-icon--left[_ngcontent-%COMP%]   .button-icon__label[_ngcontent-%COMP%]{padding-right:4px}.button-icon--left[_ngcontent-%COMP%]   .button-icon__label--small[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.button-icon--left[_ngcontent-%COMP%]   .button-icon__label--medium[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.button-icon--left[_ngcontent-%COMP%]   .button-icon__label--large[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.button-icon--left[_ngcontent-%COMP%]   .button-icon__icon[_ngcontent-%COMP%]{margin-right:8px}.button-icon--bottom[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.button-icon--bottom[_ngcontent-%COMP%]   .button-icon__label[_ngcontent-%COMP%]{margin-top:4px}.button-icon--bottom[_ngcontent-%COMP%]   .button-icon__label--small[_ngcontent-%COMP%]{font-size:6px;letter-spacing:.36px;line-height:1.25em;text-transform:uppercase}.button-icon--bottom[_ngcontent-%COMP%]   .button-icon__label--medium[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.button-icon--bottom[_ngcontent-%COMP%]   .button-icon__label--large[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.button-icon__arrow[_ngcontent-%COMP%]{display:inline-block;margin-left:4px}"]],data:{}});function Sf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-icon",[["class","button-icon__arrow"],["icon","angle-down"],["size","sm"]],null,null,null,se,oe)),l.ub(1,114688,null,0,ae,[],{icon:[0,"icon"],size:[1,"size"]},null)],(function(e,t){e(t,1,0,"angle-down","sm")}),null)}function Pf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-icon",[["class","button-icon__arrow"],["icon","angle-up"],["size","sm"]],null,null,null,se,oe)),l.ub(1,114688,null,0,ae,[],{icon:[0,"icon"],size:[1,"size"]},null)],(function(e,t){e(t,1,0,"angle-up","sm")}),null)}function Mf(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,14,"div",[["class","button-icon"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l.vb(3,0,null,null,6,"div",[["class","button-icon__icon"]],null,null,null,null,null)),(e()(),l.vb(4,0,null,null,1,"app-icon",[],null,null,null,se,oe)),l.ub(5,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.lb(16777216,null,null,1,null,Sf)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Pf)),l.ub(9,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(10,0,null,null,4,"div",[["class","button-icon__label"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(12,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(13,{"button-icon__label--light":0,"button-icon__label--dark":1,"button-icon__label--small":2,"button-icon__label--medium":3,"button-icon__label--large":4}),(e()(),l.Pb(14,null,[" "," "]))],(function(e,t){var n=t.component;e(t,2,0,"button-icon","button-icon--"+n.iconPlacement),e(t,5,0,n.icon),e(t,7,0,"down"===n.arrow),e(t,9,0,"up"===n.arrow);var l=e(t,13,0,"light"===n.color,"dark"===n.color,"small"===n.labelSize,"medium"===n.labelSize,"large"===n.labelSize);e(t,12,0,"button-icon__label",l)}),(function(e,t){e(t,14,0,t.component.label)}))}class Hf{constructor(e,t,n){this.templateRef=e,this.viewContainer=t,this.router=n,this._appFlagApplicationMode="include"}get appFlagApplication(){return this._appFlagApplication}set appFlagApplication(e){this._appFlagApplication=e}get appFlagApplicationMode(){return this._appFlagApplicationMode}set appFlagApplicationMode(e){this._appFlagApplicationMode=e}get appFlagApplicationPage(){return this._appFlagApplicationPage}set appFlagApplicationPage(e){this._appFlagApplicationPage=e}ngOnInit(){this.update()}update(){let e=!1,t=!1,n=!1;if(""===this.appFlagApplication?t=!0:Array.isArray(this.appFlagApplication)?t=this.appFlagApplication.some(e=>e===o.application):"string"==typeof this.appFlagApplication&&(t=this.appFlagApplication===o.application),null==this.appFlagApplicationPage)n=!0;else{const e=this.router.url;Array.isArray(this.appFlagApplicationPage)?n=this.appFlagApplicationPage.some(t=>e.indexOf(t)>=0):"string"==typeof this.appFlagApplicationPage&&(n=e.indexOf(this.appFlagApplicationPage)>=0)}(e=t&&n)&&"include"===this.appFlagApplicationMode||!e&&"exclude"===this.appFlagApplicationMode?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()}}var If=function(e){return e.View="view",e.Edit="edit",e.Manage="manage",e.Embed="embed",e.Delete="delete",e.CopyLink="copy-link",e.CopyBookmark="copy-bookmark",e.CopyTeamBookmark="copy-team-bookmark",e}({});class Tf{constructor(e,t,n,o,s,r,c,u,p){this.dialog=e,this.dialogService=t,this.store=n,this.actions=o,this.snackbar=s,this.clipboardService=r,this.bookmarksService=c,this.exploreService=u,this.changeDetectorRef=p,this.bookmarkActionsEnum=If,this.application=i,this.bookmarkSubject=new je.a(null),this.bookmarkType=a.Module,this.bookmarkEmbedTypes=[a.Bookmark],this.theme="dark",this.bookmarkActions=[If.View,If.Edit,If.Manage,If.Embed,If.Delete,If.CopyLink],this.otherActions=[],this.otherClick=new l.n,this.ngUnsubscribe=new $.a}get bookmark(){return this._bookmark}set bookmark(e){null!=e&&this.bookmarkSubject.next(e)}ngOnInit(){this.bookmarkSubject.pipe(Object(G.a)(e=>null!=e),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this._bookmark=e,this.bookmarkId=e.id,this.bindApplicationEvents(),this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}bindApplicationEvents(){this.actions.pipe(Object(g.l)(sl,bl),Object(G.a)(e=>e.bookmarkId===this.bookmark.id),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.handleDeleteSuccess()}),this.actions.pipe(Object(g.l)(rl,gl),Object(G.a)(e=>e.bookmarkId===this.bookmark.id),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.handleDeleteFailure()}),this.actions.pipe(Object(g.l)(at),Object(G.a)(()=>!this.store.selectSnapshot(Lo.getPublishing)),Object(G.a)(e=>e.model.id===this.bookmark.id),Object(_t.a)(e=>this.copyToClipboard(e.url)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.snackbar.open(e?"Successfully copied link to clipboard.":"Unable to copy link to clipboard.")}),this.actions.pipe(Object(g.l)(ot),Object(G.a)(e=>e.model.id===this.bookmark.id),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.snackbar.open("Unable to generate URL.")}),this.actions.pipe(Object(g.l)(Tl),Object(G.a)(e=>e.sourceId===this.bookmark.id),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleCopySuccess(e)}),this.actions.pipe(Object(g.l)(zl),Object(G.a)(e=>e.id===this.bookmark.id),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleCopyFailure(e.error)})}handleDeleteSuccess(){this.snackbar.open("Successfully deleted 3D model")}handleDeleteFailure(){this.snackbar.open("There was an error deleting the 3D model")}handleManageClick(){this.dialogService.openManageDialog(this.bookmark)}handleMenuOpened(){this.bookmarkSubject.value||(this.bookmarkType===a.Module?this.exploreService.getConditionModel(this.bookmarkId).subscribe(e=>{this.bookmarkSubject.next(e),this.bookmarkSubject.complete()}):this.bookmarksService.getBookmarkModel(this.bookmarkId).subscribe(e=>{this.bookmarkSubject.next(e),this.bookmarkSubject.complete()}))}handleDeleteClick(){this.delete()}handleCopySuccess({groupAccess:e,collection:t}){const n=this.bookmark.title;this.snackbar.open(t?`${n} was successfully added to the "${t.collection_name}" collection.`:e?`${n} was successfully added to Team Models.`:`${n} was successfully added to My Models`)}handleCopyFailure(e){switch(Object(vt.get)(e,"error.error.message")){case"Action forbidden.  Your account content limit has been reached":this.dialogService.openLimitDialog().afterClosed().subscribe(e=>{e&&this.dialogService.openUpgradeDialog()});break;default:this.snackbar.open("There was an error adding to My Models")}}handleEmbedModel(){this.dialog.open(kp,{width:"90vw",height:"95vh",data:{bookmark:this.bookmark}})}handleCopyLinkClick(){this.copyLink()}handleCopyBookmarkClick(){this.copyBookmark()}handleAddTeamModelClick(){this.dialogService.openAddTeamModelDialog(this.bookmark)}handleOtherClick(e){this.otherClick.emit(e)}copyToClipboard(e){return this.clipboardService.copyToClipboard(e).pipe(Object(_t.a)(t=>t?Object(k.a)(t):this.dialogService.openClipboardDialog(e).afterClosed()))}hasActions(...e){return e.some(e=>this.hasAction(e))}hasAction(e){const t=this.bookmarkActions.some(t=>t===e);if(!t)return t;switch(e){case If.Delete:return this.bookmark&&this.bookmark.is_owner||this.bookmark.favorite;case If.Embed:return this.bookmarkEmbedTypes.includes(this.bookmarkType);case If.CopyBookmark:return this.bookmark&&!this.bookmark.is_owner&&!this.bookmark.favorite&&!this.bookmark.unavailable;default:return t}}delete(){this.dialogService.openConfirmDialog({data:{titleText:"Delete 3D model",bodyText:"Are you sure you want to delete this 3D model?",confirmText:"Delete",confirmColor:"warn"}}).afterClosed().pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{e&&this.store.dispatch(this.bookmark.favorite?new dl(this.bookmark):new ol(this.bookmarkId))})}copyLink(){const e=this.store.selectSnapshot(Bc.getWidgetOptions)||new mt;this.store.dispatch(new it(this.bookmark,e))}copyBookmark(){const e=this.store.selectSnapshot(zo.getUserLocale).lang;this.store.dispatch(new Il(this.bookmarkId,this.bookmarkType,e))}}var zf=l.tb({encapsulation:0,styles:[[""]],data:{}});function Ff(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-spinner",[],null,null,null,Wp,Qp)),l.ub(2,114688,null,0,Vp,[],null,null)],(function(e,t){e(t,2,0)}),null)}function Lf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==l.Hb(e,2).onClick()&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),l.ub(2,16384,null,0,u.n,[u.m,u.a,[8,null],l.F,l.l],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),l.Kb(3,{id:0}),l.Ib(4,1),(e()(),l.Pb(-1,0,[" View "]))],(function(e,t){var n=e(t,3,0,t.component.bookmarkId),l=e(t,4,0,"/view");e(t,2,0,n,l)}),(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Ef(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Pb(-1,null,["Edit in Studio"]))],null,null)}function Nf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Pb(-1,null,["Edit in Loft"]))],null,null)}function Rf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,8,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==l.Hb(e,2).onClick()&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),l.ub(2,16384,null,0,u.n,[u.m,u.a,[8,null],l.F,l.l],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),l.Kb(3,{id:0}),l.Ib(4,1),(e()(),l.lb(16777216,null,0,1,null,Ef)),l.ub(6,81920,null,0,Hf,[l.N,l.Q,u.m],{appFlagApplication:[0,"appFlagApplication"]},null),(e()(),l.lb(16777216,null,0,1,null,Nf)),l.ub(8,81920,null,0,Hf,[l.N,l.Q,u.m],{appFlagApplication:[0,"appFlagApplication"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.bookmarkId),i=e(t,4,0,"/edit");e(t,2,0,l,i),e(t,6,0,n.application.Studio),e(t,8,0,n.application.Loft)}),(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Af(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(1,49152,null,0,Sb.a,[],null,null)],null,(function(e,t){e(t,0,0,l.Hb(t,1).vertical?"vertical":"horizontal",l.Hb(t,1).vertical,!l.Hb(t,1).vertical,l.Hb(t,1).inset)}))}function Df(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleCopyLinkClick()&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,[" Copy URL "]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Uf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleEmbedModel()&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,[" Publish... "]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Bf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(1,49152,null,0,Sb.a,[],null,null)],null,(function(e,t){e(t,0,0,l.Hb(t,1).vertical?"vertical":"horizontal",l.Hb(t,1).vertical,!l.Hb(t,1).vertical,l.Hb(t,1).inset)}))}function $f(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleManageClick()&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,[" Manage... "]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Vf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleDeleteClick()&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,[" Delete... "]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Qf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(1,49152,null,0,Sb.a,[],null,null)],null,(function(e,t){e(t,0,0,l.Hb(t,1).vertical?"vertical":"horizontal",l.Hb(t,1).vertical,!l.Hb(t,1).vertical,l.Hb(t,1).inset)}))}function Gf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleCopyBookmarkClick()&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,[" Add to My Models "]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Wf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleAddTeamModelClick()&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,[" Add to Team Models "]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Jf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Qf)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Gf)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Wf)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.hasActions(n.bookmarkActionsEnum.CopyBookmark)),e(t,4,0,n.hasActions(n.bookmarkActionsEnum.CopyBookmark)),e(t,6,0,n.hasActions(n.bookmarkActionsEnum.CopyTeamBookmark))}),null)}function qf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,18,null,null,null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Lf)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Rf)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Af)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Df)),l.ub(8,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Uf)),l.ub(10,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Bf)),l.ub(12,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,$f)),l.ub(14,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Vf)),l.ub(16,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Jf)),l.ub(18,81920,null,0,Pg,[l.N,l.Q],null,null),(e()(),l.lb(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.hasActions(n.bookmarkActionsEnum.View)),e(t,4,0,n.hasActions(n.bookmarkActionsEnum.Edit)),e(t,6,0,n.hasActions(n.bookmarkActionsEnum.View,n.bookmarkActionsEnum.Edit)),e(t,8,0,n.hasActions(n.bookmarkActionsEnum.CopyLink)),e(t,10,0,n.hasActions(n.bookmarkActionsEnum.Embed)),e(t,12,0,n.hasActions(n.bookmarkActionsEnum.Manage,n.bookmarkActionsEnum.Delete)),e(t,14,0,n.hasActions(n.bookmarkActionsEnum.Manage)),e(t,16,0,n.hasActions(n.bookmarkActionsEnum.Delete)),e(t,18,0)}),null)}function Kf(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,16,null,null,null,null,null,null,null)),(e()(),l.vb(1,16777216,null,null,4,"button",[["app-button",""],["aria-haspopup","true"],["class","mat-menu-trigger"]],[[1,"aria-expanded",0],[8,"disabled",0]],[[null,"menuOpened"],[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"mousedown"===t&&(i=!1!==l.Hb(e,2)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Hb(e,2)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Hb(e,2)._handleClick(n)&&i),"menuOpened"===t&&(i=!1!==a.handleMenuOpened()&&i),i}),$e,Be)),l.ub(2,1196032,null,0,we.g,[Qe.a,l.l,l.Q,we.c,[2,we.d],[8,null],[2,Ge.b],pe.e],{menu:[0,"menu"]},{menuOpened:"menuOpened"}),l.ub(3,114688,null,0,Ue,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.vb(4,0,null,0,1,"app-icon",[["icon","ellipsis-v"]],null,null,null,se,oe)),l.ub(5,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(6,0,null,null,10,"mat-menu",[],null,null,null,Ce.d,Ce.b)),l.Mb(6144,null,we.d,null,[we.h]),l.Mb(6144,null,we.b,null,[we.d]),l.ub(9,1294336,[["mainMenu",4]],3,we.h,[l.l,l.z,we.a],null,null),l.Nb(603979776,1,{_allItems:1}),l.Nb(603979776,2,{items:1}),l.Nb(603979776,3,{lazyContent:0}),(e()(),l.lb(16777216,null,0,1,null,Ff)),l.ub(14,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,0,1,null,qf)),l.ub(16,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,l.Hb(t,9)),e(t,3,0,n.theme),e(t,5,0,"ellipsis-v"),e(t,9,0),e(t,14,0,!n.bookmark),e(t,16,0,n.bookmark)}),(function(e,t){e(t,1,0,l.Hb(t,2).menuOpen||null,l.Hb(t,3).disabled)}))}function Xf(e){return l.Rb(2,[(e()(),l.lb(16777216,null,null,1,null,Kf)),l.ub(1,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.bookmarkId)}),null)}let Zf=(()=>{class e{constructor(e,t,n,l,a){this.activatedRoute=e,this.store=t,this.changeDetectorRef=n,this.exploreService=l,this.storyService=a,this.ngUnsubscribe=new $.a,this.id="",this.type="",this.category="",this.isLoft=o.application===i.Loft}ngOnInit(){this.story$.pipe(Object(G.a)(e=>null!=e),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.id=this.activatedRoute.snapshot.queryParams.id,this.type=this.storyService.getStoryType(this.activatedRoute.snapshot.queryParams.id),this.category=this.exploreService.getStoryCategory(e),this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}get bookmarkActions(){const e=this.store.selectSnapshot(Bc.getOrganization);return[If.CopyLink,If.Embed,If.CopyBookmark,...e?[If.CopyTeamBookmark]:[]]}}return Object(b.__decorate)([Object(g.e)(Mc.getStory),Object(b.__metadata)("design:type",V.a)],e.prototype,"story$",void 0),e})();var Yf=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-internal-header{padding:12px 12px 0;border-bottom:1px solid #eaeff5;border-bottom:var(--view-internal-header-border)}.view-internal-header__controls{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;padding-bottom:8px}.view-internal-header__logo{background:url(logo-color.e5306d37dd40b7ac98d4.svg) center center no-repeat rgba(215,224,234,.3);background-size:24px 24px;border-radius:4px;border:1px solid #eaeff5;border-bottom:var(--view-internal-header-border);width:36px;height:36px;-webkit-transition:background-color 250ms,background-image 250ms;transition:background-color 250ms,background-image 250ms;-webkit-box-flex:0;flex:0 0 36px}.view-internal-header__logo:hover{background-color:rgba(215,224,234,.6)}.view-internal-header__breadcrumb{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase;cursor:pointer;display:inline-block;margin:16px 0;color:#6a82a4;color:var(--view-internal-header-breadcrumb-color);text-decoration:none}.view-internal-header__breadcrumb:hover{text-decoration:underline}"]],data:{}});function ey(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,"a",[["class","view-internal-header__breadcrumb"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),l.ub(1,671744,null,0,u.o,[u.m,u.a,Y.i],{routerLink:[0,"routerLink"]},null),l.Ib(2,2),(e()(),l.vb(3,0,null,null,1,"app-icon",[["icon","caret-left"]],null,null,null,se,oe)),l.ub(4,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.Pb(5,null,[" "," "])),l.Lb(6,1)],(function(e,t){var n=e(t,2,0,"/explore",t.component.category);e(t,1,0,n),e(t,4,0,"caret-left")}),(function(e,t){var n=t.component;e(t,0,0,l.Hb(t,1).target,l.Hb(t,1).href);var i=l.Qb(t,5,0,e(t,6,0,l.Hb(t.parent,0),n.category));e(t,5,0,i)}))}function ty(e){return l.Rb(2,[l.Jb(0,wf,[]),(e()(),l.vb(1,0,null,null,16,"div",[["class","view-internal-header"]],null,null,null,null,null)),(e()(),l.vb(2,0,null,null,13,"div",[["class","view-internal-header__controls"]],null,null,null,null,null)),(e()(),l.vb(3,16777216,null,null,2,"a",[["class","view-internal-header__logo"],["matTooltip","Back to Dashboard"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"longpress"===t&&(i=!1!==l.Hb(e,5).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,5)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,5)._handleTouchend()&&i),i}),null,null)),l.ub(4,671744,null,0,u.o,[u.m,u.a,Y.i],{routerLink:[0,"routerLink"]},null),l.ub(5,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),(e()(),l.vb(6,0,null,null,9,"div",[["class","panel__actions hide-sm"]],null,null,null,null,null)),(e()(),l.vb(7,0,null,null,6,"button",[["app-button",""],["buttonTheme","light"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,8).onClick()&&i),i}),$e,Be)),l.ub(8,16384,null,0,u.n,[u.m,u.a,[8,null],l.F,l.l],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),l.Kb(9,{id:0}),l.Ib(10,1),l.ub(11,114688,null,0,Ue,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),l.vb(12,0,null,0,1,"app-button-icon",[["icon","pen"],["iconPlacement","left"]],null,null,null,Mf,kf)),l.ub(13,114688,null,0,jf,[],{icon:[0,"icon"],iconPlacement:[1,"iconPlacement"],label:[2,"label"]},null),(e()(),l.vb(14,0,null,null,1,"app-bookmark-actions",[["theme","light"]],null,null,null,Xf,zf)),l.ub(15,245760,null,0,Tf,[pp.e,gp,g.i,g.b,hp.c,Xc,Rc,Tc,l.i],{bookmarkId:[0,"bookmarkId"],bookmarkType:[1,"bookmarkType"],theme:[2,"theme"],bookmarkActions:[3,"bookmarkActions"]},null),(e()(),l.lb(16777216,null,null,1,null,ey)),l.ub(17,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,"/"),e(t,5,0,"Back to Dashboard");var l=e(t,9,0,n.id),i=e(t,10,0,"/edit");e(t,8,0,l,i),e(t,11,0,"light"),e(t,13,0,"pen","left",n.isLoft?"Edit in Loft":"Edit in Studio"),e(t,15,0,n.id,n.type,"light",n.bookmarkActions),e(t,17,0,"module"===n.type&&n.category)}),(function(e,t){e(t,3,0,l.Hb(t,4).target,l.Hb(t,4).href),e(t,7,0,l.Hb(t,11).disabled)}))}class ny{constructor(){this.unpadded=!1}ngOnInit(){}updateViewHeight(){const e=.01*window.innerHeight;this.viewColumn.nativeElement.style.setProperty("--vh",`${e}px`)}}var ly=l.tb({encapsulation:0,styles:[[".view-column[_ngcontent-%COMP%]{pointer-events:initial;background:#fff;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#131c2a;background:var(--view-column-background);box-shadow:var(--view-column-toggle-shadow);color:var(--view-column-color);width:320px;height:100%;position:absolute;left:0;z-index:30}.view-column--unpadded[_ngcontent-%COMP%]   .view-column__body[_ngcontent-%COMP%]{padding:0}.view-column__inner[_ngcontent-%COMP%]{background:#fff;border-right:1px solid #eaeff5;background:var(--view-column-background);border-right:var(--view-column-border);display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%;width:320px;position:absolute;left:0;-webkit-transition:left .5s;transition:left .5s;z-index:10}.view-column__inner--out[_ngcontent-%COMP%]{left:-320px}.view-column__header[_ngcontent-%COMP%]{flex-shrink:1;background:var(--view-column-background)}.view-column__header[_ngcontent-%COMP%]:empty{display:none}.view-column__body[_ngcontent-%COMP%]{overflow-y:auto;-webkit-box-flex:1;flex-grow:1;height:100%;padding:16px 12px}"]],data:{}});function iy(e){return l.Rb(2,[l.Nb(671088640,1,{viewColumn:0}),(e()(),l.vb(1,0,[[1,0],["viewColumn",1]],null,8,"div",[["class","view-column"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(3,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(4,{"view-column--unpadded":0}),(e()(),l.vb(5,0,null,null,4,"div",[["class","view-column__inner"]],null,null,null,null,null)),(e()(),l.vb(6,0,null,null,1,"div",[["class","view-column__header"]],null,null,null,null,null)),l.Gb(null,0),(e()(),l.vb(8,0,null,null,1,"div",[["class","view-column__body"]],null,null,null,null,null)),l.Gb(null,1)],(function(e,t){var n=e(t,4,0,t.component.unpadded);e(t,3,0,"view-column",n)}),null)}class ay{constructor(){this.label="",this.showHeader=!0}ngOnInit(){}}var oy=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-panel{padding:0 0 32px;margin-bottom:16px;border-bottom:var(--view-panel-border)}.view-panel__label{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;color:var(--view-panel-color);font-weight:600;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;min-height:28px}.view-panel__header{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:justify;justify-content:space-between;margin-bottom:16px}"]],data:{}});function sy(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"div",[["class","view-panel__header"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"div",[["class","view-panel__label"]],null,null,null,null,null)),(e()(),l.Pb(2,null,[" "," "])),l.Gb(null,0)],null,(function(e,t){e(t,2,0,t.component.label)}))}function ry(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,3,"div",[["class","view-panel"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,sy)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Gb(null,1)],(function(e,t){e(t,2,0,t.component.showHeader)}),null)}class cy{constructor(e){this.domSanitizer=e}set html(e){this.safeHTML=this.domSanitizer.bypassSecurityTrustHtml(e||"")}ngOnInit(){}}var uy=l.tb({encapsulation:2,styles:[['.html a,.html a:visited{color:var(--view-description-link-color)}.html a:hover{text-decoration:none}.html p{padding-bottom:16px}.html ol,.html ul{margin:8px}.html ul{list-style-type:disc}.html ol{list-style-type:decimal}.html li{margin-left:8px}.html b,.html strong{font-weight:700}.html em,.html i{font-style:italic}.html sub{vertical-align:sub;font-size:.8em}.html sup{vertical-align:super;font-size:.8em}.html dt,.html mark{display:inline-block;width:16px;height:16px;border-radius:50%;overflow:hidden}.html dt{float:left;clear:left;margin:0 4px 0 0}.html dd:after{content:"";display:block;margin-bottom:12px}']],data:{}});function py(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,0,"div",[["class","html"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.safeHTML)}))}class dy{constructor(e){this.changeRef=e,this.playingChange=new l.n,this.readyChange=new l.n,this.mediaSupportCache={},this.source="",this.ngUnsubscribe=new $.a}set media(e){e&&this.setMedia(e)}get media(){return this._media}get playing(){return this._playing}set playing(e){e!==this.playing&&(this._playing=e,this.playingChange.emit(this.playing))}get ready(){return this._ready}set ready(e){e!==this.ready&&(this._ready=e,this.readyChange.emit(this.ready))}ngOnInit(){this.initMediaEvents(),this.initMediaPlayback()}ngOnDestroy(){this.pause(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}play(){this.ready&&this._audioEl.play()}pause(){this.ready&&this._audioEl.pause()}reset(){this.pause(),this.time=0,this.playing=!1,this.ready=!1,this.error=!1,this.changeRef.markForCheck()}setMedia(e){this._media=e,this.source=`/content/states/${this.media.data.fullUrl}`,this.initMediaPlayback()}initMediaPlayback(){this.autoPlay=this.playing,this.reset()}initMediaEvents(){this._audioEl=this.audioElRef.nativeElement,this.reset(),Object(ib.a)(this._audioEl,"loadeddata").pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.ready=this._audioEl.readyState>0}),Object(ib.a)(this._audioEl,"play").pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.playing=!0,this.changeRef.markForCheck()}),Object(ib.a)(this._audioEl,"pause").pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.playing=!1,this.changeRef.markForCheck()}),Object(ib.a)(this._audioEl,"timeupdate").pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.time=this._audioEl.currentTime}),Object(ib.a)(this._audioEl,"canplay").pipe(Object(G.a)(()=>!this.playing&&this.autoPlay),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.play()}),Object(ib.a)(this._audioEl,"error").pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.error=!0})}}var by=l.tb({encapsulation:0,styles:[[""]],data:{}});function gy(e){return l.Rb(2,[l.Nb(402653184,1,{audioElRef:0}),(e()(),l.vb(1,0,[[1,0],["audioElRef",1]],null,0,"audio",[["type","audio/m4a"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,1,0,t.component.source)}))}class hy{constructor(){this.selectable=!1,this.size="medium",this.buttonType="default",this.direction="column",this._selected=!1,this.disabled=!1,this.selectedChange=new l.n}get selected(){return this._selected}set selected(e){this._selected=e,this.selectedChange=new l.n}ngOnInit(){}handleClick(){this.disabled||this.selectable&&(this.selected=!this.selected)}}var my,_y=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}button[app-pin-button]{border-color:transparent;background:0 0;border-width:0;padding:0;outline:0;margin:0}button[app-pin-button]:not([disabled]):hover{cursor:pointer}.pin-button{display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;-webkit-box-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent}.pin-button:hover{cursor:pointer}.pin-button:hover:not(.pin-button--selected):not(.pin-button--disabled) .pin-button__pin{background:#d7e0ea;background:var(--pin-button-pin-background--hover)}.pin-button:active:hover .pin-button__pin{background:#d7e0ea;background:var(--pin-button-pin-background--active)}.pin-button--selected .pin-button__pin{background-color:#2d72dc;background-color:var(--pin-button-pin-background--selected);color:#fff;color:var(--pin-button-pin-color--selected)}.pin-button--selected .pin-button__label{color:#2d72dc;color:var(--pin-button-label-color--selected);font-weight:600}.pin-button--small .pin-button__pin{border-radius:14px;min-width:28px;height:28px}.pin-button--small .pin-button__label{margin-top:0}.pin-button--row{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.pin-button--row .pin-button__label{margin:0 0 0 4px}.pin-button--ghost:not(.pin-button--selected) .pin-button__pin{background:0 0}.pin-button--outline:not(.pin-button--selected) .pin-button__pin{background:0 0;border:var(--pin-button-pin-border)}.pin-button--disabled{opacity:.2}.pin-button--disabled:hover{cursor:auto}.pin-button--floating .pin-button__pin{background-color:#fff;background-color:var(--pin-button-pin-background--floating);box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);box-shadow:var(--pin-button-shadow)}.pin-button__pin{border-radius:18px;display:-webkit-box;display:flex;font-size:12px;float:left;min-width:36px;height:36px;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:relative;background-color:#eaeff5;color:#1c2a3f;background-color:var(--pin-button-pin-background);color:var(--pin-button-pin-color);-webkit-transition:background-color 125ms;transition:background-color 125ms}.pin-button__label{font-size:10px;letter-spacing:.25px;line-height:1.4em;color:#1c2a3f;color:var(--pin-button-label-color);padding:2px 0 4px}.pin-button__image{width:100%;height:100%;background-size:50%;background-repeat:no-repeat;background-position:center}"]],data:{}});function fy(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-icon",[],null,null,null,se,oe)),l.ub(1,114688,null,0,ae,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,t.component.icon)}),null)}function yy(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"span",[["class","pin-button__image"]],[[4,"backgroundImage",null]],null,null,null,null))],null,(function(e,t){e(t,0,0,"url("+t.component.src+")")}))}function vy(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"div",[["class","pin-button__label"]],null,null,null,null,null)),(e()(),l.Pb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.label)}))}function xy(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,11,"div",[["class","pin-button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleClick()&&l),l}),null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"pin-button--selected":0,"pin-button--disabled":1,"pin-button--small":2,"pin-button--ghost":3,"pin-button--outline":4,"pin-button--floating":5,"pin-button--row":6}),(e()(),l.vb(4,0,null,null,5,"div",[["class","pin-button__pin"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,fy)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,yy)),l.ub(8,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Gb(null,0),(e()(),l.lb(16777216,null,null,1,null,vy)),l.ub(11,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.selected,n.disabled,"small"===n.size,"ghost"===n.buttonType,"outline"===n.buttonType,"floating"===n.buttonType,"row"===n.direction);e(t,2,0,"pin-button",l),e(t,6,0,n.icon),e(t,8,0,n.src),e(t,11,0,n.label)}),null)}!function(e){e.normalize=function(e){return`${e||""}`.replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(t)).replace(/(&.+;)/gi,(e,t)=>String.fromCharCode(e.charCodeAt(0)))}}(my||(my={}));class Oy{transform(e,t){return my.normalize(`${e||""}`)}}let Cy=(()=>{class e{constructor(e,t){this.layoutService=e,this.changeDetectorRef=t,this._isPopulated=!1,this.isPopulatedChange=new l.n,this.viewLayout=u_,this.ngUnsubscribe=new $.a,this.chapterTitle="",this.chapterAudio=null}get isPopulated(){return this._isPopulated}set isPopulated(e){this._isPopulated=e,this.isPopulatedChange.emit(this.isPopulated)}ngOnInit(){this.initContentListener(),this.initLayoutListener()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}isEnabled(e){return this.layoutService.isLayoutEnabled(e)}initContentListener(){Object(Gu.b)(this.chapter$,this.selectedChapterAudio$).pipe(Object(G.a)(([e,t])=>null!=e),Object(Q.a)(this.ngUnsubscribe)).subscribe(([e,t])=>{this.chapterTitle=my.normalize(e.info.displayName),this.chapterAudio=t,this.isPopulated=!!this.chapterTitle||null!=this.chapterAudio})}initLayoutListener(){this.layout$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.changeDetectorRef.markForCheck()})}handleAudioPlayClick(){this.audio.playing?this.audio.pause():this.audio.play()}}return Object(b.__decorate)([Object(g.e)(ac.getSelectedChapter),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapter$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterAudio),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedChapterAudio$",void 0),Object(b.__decorate)([Object(g.e)(jm.getLayout),Object(b.__metadata)("design:type",V.a)],e.prototype,"layout$",void 0),e})(),wy=(()=>{class e{constructor(e){this.store=e,this.layout=null,this.breakpoint=null}getBase(){return{layout:this.store.selectSnapshot(jm.getLayout),breakpoint:this.store.selectSnapshot(Rm.getBreakpoint),loaderActive:this.store.selectSnapshot(jm.getLoaderActive)}}isDrawerVisible(){const{loaderActive:e,layout:t,breakpoint:n}=this.getBase();return!e&&!(n>=Em.Large)&&(o.application!==i.Viewer||t.drawer.enable||t.nodeInfo.status===pm.Show||t.labelInfo.status===pm.Show)}isColumnVisible(){const{loaderActive:e,layout:t,breakpoint:n}=this.getBase();return!e&&!(n<Em.Large)&&t.column.status!==pm.Collapse&&(o.application!==i.Viewer||t.column.enable&&this.doesContentShow())}isColumnToggleVisible(){const{loaderActive:e,layout:t,breakpoint:n}=this.getBase();return!e&&!(n<Em.Large)&&t.column.enable&&this.doesContentShow()}isTitleOnlyVisible(){const{loaderActive:e,layout:t,breakpoint:n}=this.getBase();return!e&&!(n<Em.Large)&&!this.doesContentShow()&&t.titleOnly.enable}isToolsVisible(){const{loaderActive:e}=this.getBase();return!e&&this.isLayoutVisible(u_.Tools)}isToolbarVisible(){const{loaderActive:e,layout:t}=this.getBase();return!e&&t.toolbar.enable}isLogoVisible(){const{layout:e}=this.getBase();return e.logo.enable}isCameraVisible(){const{loaderActive:e,layout:t}=this.getBase();return!e&&t.camera.enable}isPaginationVisible(){const{loaderActive:e,layout:t}=this.getBase();return!e&&t.pagination.enable}isMenuVisible(){const{loaderActive:e,layout:t}=this.getBase();return!e&&t.menu.enable}isNodeInfoColumnVisible(){const{loaderActive:e,layout:t,breakpoint:n}=this.getBase();return!e&&(!!(n>=Em.Large&&this.isLayoutVisible(u_.NodeInfo))||(n<Em.Large?!t.drawer.enable&&this.isLayoutVisible(u_.NodeInfo):void 0))}isNodeInfoVisible(e){const{loaderActive:t,breakpoint:n}=this.getBase();return!t&&(n>=Em.Large&&"column"===e?this.isLayoutVisible(u_.NodeInfo):n<Em.Large&&"drawer"===e&&this.isLayoutVisible(u_.NodeInfo))}isSearchColumnVisible(){const{loaderActive:e}=this.getBase();return!e&&this.isLayoutVisible(u_.Search)}isVisible(e){switch(e){case u_.Column:return this.isColumnVisible();case u_.ColumnToggle:return this.isColumnToggleVisible();case u_.Drawer:return this.isDrawerVisible();case u_.TitleOnly:return this.isTitleOnlyVisible();case u_.Tools:return this.isToolsVisible();case u_.Toolbar:return this.isToolbarVisible();case u_.Logo:return this.isLogoVisible();case u_.Camera:return this.isCameraVisible();case u_.Pagination:return this.isPaginationVisible();case u_.Menu:return this.isMenuVisible();case u_.Search:return this.isSearchColumnVisible();default:return this.isLayoutVisible(e)}}isLayoutVisible(e){const t=this.store.selectSnapshot(jm.getLayout),n=this.store.selectSnapshot(jm.getLoaderActive);return t[e]?!n&&t[e].enable&&t[e].status!==pm.Hide:(console.warn("Attempting to check visibility of a non-existent element: ${element}"),!1)}isLayoutEnabled(e){return this.store.selectSnapshot(jm.getLayout)[e].enable}doesContentShow(){const{layout:e}=this.getBase(),t=this.store.selectSnapshot(uu.getChapterLabels),n=this.store.selectSnapshot(ac.getChapterCount),l=Object(vt.get)(this.store.selectSnapshot(ac.getSelectedChapter),"info.description");return e.labelList.enable&&t.length>0||e.chapterList.enable&&n>1||null!=l&&Object(vt.trim)(l).length>0}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(g.i))},token:e,providedIn:"root"}),e})();var jy=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-title{font-size:14px;letter-spacing:.35px;line-height:1.4em;word-wrap:break-word;overflow-wrap:break-word;font-weight:600;color:var(--view-title-color);text-align:left}.view-title--center{text-align:center}.view-title--large{font-size:18px;letter-spacing:.45px;line-height:1.4em}"]],data:{}});function ky(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"div",[["class","view-title__audio"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-view-audio",[],null,null,null,gy,by)),l.ub(2,245760,[[1,4],["audio",4]],0,dy,[l.i],{media:[0,"media"]},null),(e()(),l.vb(3,0,null,null,1,"button",[["app-pin-button",""],["buttonType","ghost"],["direction","row"],["size","small"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleAudioPlayClick()&&l),l}),xy,_y)),l.ub(4,114688,null,0,hy,[],{icon:[0,"icon"],label:[1,"label"],size:[2,"size"],buttonType:[3,"buttonType"],direction:[4,"direction"],selected:[5,"selected"]},null)],(function(e,t){e(t,2,0,t.component.chapterAudio),e(t,4,0,l.Hb(t,2).playing?"volume-mute":"volume",l.Hb(t,2).playing?"Pause Audio":"Play Audio","small","ghost","row",l.Hb(t,2).playing)}),null)}function Sy(e){return l.Rb(2,[l.Jb(0,Oy,[]),l.Nb(671088640,1,{audio:0}),(e()(),l.vb(2,0,null,null,8,"header",[["class","view-title"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(4,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(5,{"view-title--center":0,"view-title--large":1}),(e()(),l.vb(6,0,null,null,2,"h1",[["id","view-chapter-title"]],null,null,null,null,null)),(e()(),l.Pb(7,null,["",""])),l.Lb(8,1),(e()(),l.lb(16777216,null,null,1,null,ky)),l.ub(10,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,5,0,"center"===n.alignTitle,"large"===n.size);e(t,4,0,"view-title",l),e(t,10,0,n.chapterAudio&&n.isEnabled(n.viewLayout.Audio))}),(function(e,t){var n=t.component,i=l.Qb(t,7,0,e(t,8,0,l.Hb(t,0),n.chapterTitle));e(t,7,0,i)}))}let Py=(()=>{class e{constructor(e,t,n){this.viewService=e,this.layoutService=t,this.changeDetectorRef=n,this.viewLayout=u_,this.ngUnsubscribe=new $.a,this.storyTitle="",this.chapterTitle="",this.chapterDescription="",this.chapterAudio=null,this.layout="drawer",this._isPopulated=!1,this.isPopulatedChange=new l.n}get isPopulated(){return this._isPopulated}set isPopulated(e){this._isPopulated=e,this.isPopulatedChange.emit(this.isPopulated)}ngOnInit(){this.initContentListener(),this.initLayoutListener()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}isEnabled(e){return this.layoutService.isLayoutEnabled(e)}initContentListener(){Object(Gu.b)(this.story$,this.chapter$,this.selectedChapterAudio$).pipe(Object(G.a)(([e,t,n])=>null!=e&&null!=t),Object(Q.a)(this.ngUnsubscribe)).subscribe(([e,t,n])=>{this.storyTitle=o.application!==i.Viewer?my.normalize(e.displayName):"",this.chapterTitle=my.normalize(t.info.displayName),this.chapterDescription=Object(vt.trim)(t.info.description),this.chapterAudio=n,this.isPopulated=null!=!!this.storyTitle||!!this.chapterTitle||!!this.chapterDescription||null!=this.chapterAudio})}initLayoutListener(){this.layout$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.changeDetectorRef.markForCheck()})}handlePreviousChapterClick(){this.viewService.previousChapter()}handleNextChapterClick(){this.viewService.nextChapter()}handleAudioPlayClick(){this.audio.playing?this.audio.pause():this.audio.play()}}return Object(b.__decorate)([Object(g.e)(Mc.getStory),Object(b.__metadata)("design:type",V.a)],e.prototype,"story$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapter),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapter$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterIndex),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapterIndex$",void 0),Object(b.__decorate)([Object(g.e)(ac.getChapterCount),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapterCount$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterAudio),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedChapterAudio$",void 0),Object(b.__decorate)([Object(g.e)(jm.getLayout),Object(b.__metadata)("design:type",V.a)],e.prototype,"layout$",void 0),e})();var My=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-description{color:var(--view-description-primary-color);display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:left;justify-content:left}.view-description--layout-column .view-description__chapter-title{font-size:18px;letter-spacing:.45px;line-height:1.4em}.view-description--layout-column .view-description__body{padding-top:12px}.view-description--layout-drawer .view-description__story-title{text-align:center}.view-description--layout-drawer .view-description__chapter-title{font-size:14px;letter-spacing:.35px;line-height:1.4em;text-align:center}.view-description--layout-drawer .view-description__story-title--large{font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-description__inner{-webkit-box-flex:1;flex:1}.view-description__story-title{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase;word-wrap:break-word;overflow-wrap:break-word;-webkit-box-flex:1;flex-grow:1;font-weight:600;color:var(--view-description-secondary-color)}.view-description__story-title--large{font-size:18px;letter-spacing:.45px;line-height:1.4em;text-transform:initial}.view-description__body{font-size:14px;letter-spacing:.35px;line-height:1.4em;word-wrap:break-word;overflow-wrap:break-word;padding-top:8px;color:var(--view-description-secondary-color)}"]],data:{}});function Hy(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"div",[["class","view-description__story-title"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"view-description__story-title--large":0}),(e()(),l.Pb(4,null,[" "," "]))],(function(e,t){var n=e(t,3,0,!t.component.chapterTitle);e(t,2,0,"view-description__story-title",n)}),(function(e,t){e(t,4,0,t.component.storyTitle)}))}function Iy(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[["class","view-description__body"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-view-html",[],null,null,null,py,uy)),l.ub(2,114688,null,0,cy,[No.b],{html:[0,"html"]},null)],(function(e,t){e(t,2,0,t.component.chapterDescription)}),null)}function Ty(e){return l.Rb(2,[l.Nb(671088640,1,{audio:0}),(e()(),l.vb(1,0,null,null,12,"div",[["class","view-description"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(3,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(4,{"view-description--layout-column":0,"view-description--layout-drawer":1}),(e()(),l.vb(5,0,null,null,8,"div",[["class","view-description__inner"]],null,null,null,null,null)),(e()(),l.vb(6,0,null,null,7,"article",[["aria-labelledby","view-chapter-title"],["aria-roledescription","Chapter Description"],["role","region"]],null,null,null,null,null)),(e()(),l.vb(7,0,null,null,4,"header",[["class","view-description__header"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Hy)),l.ub(9,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(10,0,null,null,1,"app-view-title",[],null,null,null,Sy,jy)),l.ub(11,245760,null,0,Cy,[wy,l.i],{size:[0,"size"],alignTitle:[1,"alignTitle"]},null),(e()(),l.lb(16777216,null,null,1,null,Iy)),l.ub(13,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,4,0,"column"===n.layout,"drawer"===n.layout);e(t,3,0,"view-description",l),e(t,9,0,n.storyTitle&&n.storyTitle!=n.chapterTitle),e(t,11,0,"column"===n.layout?"large":"medium","column"===n.layout?"left":"center"),e(t,13,0,n.chapterDescription)}),null)}let zy=(()=>{class e{constructor(e){this.viewService=e}ngOnInit(){}handleLabelClick(e){this.viewService.selectLabel(e,!0)}}return Object(b.__decorate)([Object(g.e)(uu.getChapterLabels),Object(b.__metadata)("design:type",V.a)],e.prototype,"labels$",void 0),Object(b.__decorate)([Object(g.e)(uu.getSelectedLabel),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedLabel$",void 0),e})();var Fy=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-labels__item{outline:0;border-left:4px solid transparent;border-left:var(--view-labels-border);border-radius:2px;display:-webkit-box;display:flex;padding:12px 8px;margin-bottom:4px;cursor:pointer;-webkit-transition:background-color 125ms,color 125ms,border 125ms;transition:background-color 125ms,color 125ms,border 125ms}.view-labels__item:hover{background:#f1f5fc;background:var(--view-labels-bg--hover)}.view-labels__item--selected{background:#f1f5fc;border-left:4px solid #2d72dc;background:var(--view-labels-bg--selected);border-left:var(--view-labels-border--selected)}.view-labels__pre{-webkit-box-flex:0;flex:0 0 32px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.view-labels__pin{border:1px solid #131c2a;background-color:transparent;color:#131c2a;border:var(--view-labels-pin-border);background-color:var(--view-labels-pin-bg);color:var(--view-labels-pin-color);border-radius:50%;font-family:Helvetica,Arial,sans-serif;width:16px;height:16px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-transition:background-color .1s,border-color .1s,color .1s;transition:background-color .1s,border-color .1s,color .1s}.view-labels__title{font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-labels__description{color:#374a68;color:var(--view-labels-description-color);padding-top:4px;font-size:14px;letter-spacing:.35px;line-height:1.4em}"]],data:{}});function Ly(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"div",[["style","height: 18px"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["+"]))],null,null)}function Ey(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"div",[["class","view-labels__description"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.description)}))}function Ny(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,12,"li",[["aria-role","button"],["class","view-labels__item"],["tabindex","0"]],[[1,"aria-label",0]],[[null,"click"],[null,"keyup.enter"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleLabelClick(e.context.$implicit)&&l),"keyup.enter"===t&&(l=!1!==i.handleLabelClick(e.context.$implicit)&&l),l}),null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Jb(131072,Y.b,[l.i]),l.Kb(4,{"view-labels__item--selected":0}),(e()(),l.vb(5,0,null,null,3,"div",[["class","view-labels__pre"]],null,null,null,null,null)),(e()(),l.vb(6,0,null,null,2,"div",[["class","view-labels__pin"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Ly)),l.ub(8,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(9,0,null,null,3,"div",[["class","view-labels__body"]],null,null,null,null,null)),(e()(),l.vb(10,0,null,null,0,"div",[["class","view-labels__title"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Ey)),l.ub(12,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n,i=t.component,a=e(t,4,0,(null==(n=l.Qb(t,2,1,l.Hb(t,3).transform(i.selectedLabel$)))?null:n.id)===t.context.$implicit.id);e(t,2,0,"view-labels__item",a),e(t,8,0,"plusMinus"===t.context.$implicit.pinType),e(t,12,0,t.context.$implicit.description)}),(function(e,t){e(t,0,0,t.context.$implicit.title),e(t,10,0,t.context.$implicit.title)}))}function Ry(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,4,"nav",[["aria-label","Labels"],["role","navigation"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,3,"ul",[["class","view-labels"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,2,null,Ny)),l.ub(3,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,3,0,l.Qb(t,3,0,l.Hb(t,4).transform(n.labels$)))}),null)}let Ay=(()=>{class e{constructor(e,t,n,l){this.store=e,this.viewService=t,this.layoutService=n,this.changeDetectorRef=l,this.ngUnsubscribe=new $.a,this.layout="column",this.viewLayout=u_}ngOnInit(){this.store.select(jm.getLayout).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}isVisible(e){return this.layoutService.isLayoutVisible(e)}isEnabled(e){return this.layoutService.isLayoutEnabled(e)}handlePrevClick(){this.selectLabel(-1)}handleNextClick(){this.selectLabel(1)}selectLabel(e){const t=this.store.selectSnapshot(uu.getChapterLabels),n=t.length,l=this.store.selectSnapshot(uu.getSelectedLabelId),i=t.findIndex(e=>e.id===l),a=t[((-1!==i?i+e:0)%n+n)%n];a&&this.viewService.selectLabel(a,!0)}}return Object(b.__decorate)([Object(g.e)(ac.getStoryChapters),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapters$",void 0),Object(b.__decorate)([Object(g.e)(uu.getChapterLabels),Object(b.__metadata)("design:type",V.a)],e.prototype,"labels$",void 0),e})();var Dy=l.tb({encapsulation:0,styles:[[".view-content-mode[_ngcontent-%COMP%]{padding-bottom:24px}"]],data:{}});function Uy(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"app-view-panel",[],[[8,"hidden",0]],null,null,ry,oy)),l.ub(1,114688,null,0,ay,[],{showHeader:[0,"showHeader"]},null),(e()(),l.vb(2,0,null,1,1,"app-view-description",[],null,[[null,"isPopulatedChange"]],(function(e,t,n){var l=!0;return"isPopulatedChange"===t&&(l=!1!==(e.component.isPopulated=n)&&l),l}),Ty,My)),l.ub(3,245760,null,0,Py,[Wm,wy,l.i],{layout:[0,"layout"],isPopulated:[1,"isPopulated"]},{isPopulatedChange:"isPopulatedChange"})],(function(e,t){var n=t.component;e(t,1,0,!1),e(t,3,0,n.layout,n.isPopulated)}),(function(e,t){e(t,0,0,!t.component.isPopulated)}))}function By(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,"div",[["actions",""],["class","flex"]],null,null,null,null,null)),(e()(),l.vb(1,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","chevron-left"],["matTooltip","Previous Label"],["size","small"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,2).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,2)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,2)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handlePrevClick()&&i),i}),xy,_y)),l.ub(2,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(3,114688,null,0,hy,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),l.vb(4,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","chevron-right"],["matTooltip","Next Label"],["size","small"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,5).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,5)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,5)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleNextClick()&&i),i}),xy,_y)),l.ub(5,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(6,114688,null,0,hy,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null)],(function(e,t){e(t,2,0,"Previous Label"),e(t,3,0,"chevron-left","small","ghost"),e(t,5,0,"Next Label"),e(t,6,0,"chevron-right","small","ghost")}),null)}function $y(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,"app-view-panel",[["label","Labels"]],null,null,null,ry,oy)),l.ub(1,114688,null,0,ay,[],{label:[0,"label"]},null),(e()(),l.lb(16777216,null,0,2,null,By)),l.ub(3,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(5,0,null,1,1,"app-view-labels",[],null,null,null,Ry,Fy)),l.ub(6,114688,null,0,zy,[Wm],null,null)],(function(e,t){var n,i=t.component;e(t,1,0,"Labels"),e(t,3,0,(null==(n=l.Qb(t,3,0,l.Hb(t,4).transform(i.labels$)))?null:n.length)>1),e(t,6,0)}),null)}function Vy(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"app-view-panel",[["label","Chapters"]],null,null,null,ry,oy)),l.ub(1,114688,null,0,ay,[],{label:[0,"label"]},null),(e()(),l.vb(2,0,null,1,1,"app-view-chapters",[],null,null,null,Km,Jm)),l.ub(3,4440064,null,0,Xh,[g.i,Wm,l.i],{autoscroll:[0,"autoscroll"]},null)],(function(e,t){e(t,1,0,"Chapters"),e(t,3,0,!1)}),null)}function Qy(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,8,"div",[["class","view-content-mode"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Uy)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,2,null,$y)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,Vy)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n,i,a=t.component;e(t,2,0,a.isVisible(a.viewLayout.Description)),e(t,4,0,(null==(n=l.Qb(t,4,0,l.Hb(t,5).transform(a.labels$)))?null:n.length)&&a.isVisible(a.viewLayout.LabelList)),e(t,7,0,(null==(i=l.Qb(t,7,0,l.Hb(t,8).transform(a.chapters$)))?null:i.length)>1&&a.isVisible(a.viewLayout.ChapterList)&&"drawer"!=a.layout)}),null)}class Gy{constructor(e){this.el=e}ngAfterContentInit(){setTimeout(()=>{this.el.nativeElement.focus()},0)}}class Wy{constructor(){}onClick(e,t){t.select()}}class Jy{constructor(e,t){this.graphService=e,this.store=t,this.treeTheme=_m,this.graphSubject=new je.a(null),this.theme=_m.Dark,this.nodes=[],this.ngUnsubscribe=new $.a}get graph(){return this._graph}set graph(e){e&&(this._graph=e,this.graphSubject.next(e))}ngOnInit(){this.graphSubject.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{e&&this.getNodes()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}getNodes(){const e=this.node?vs.getSuccessors(this.graph,this.node.id):vs.getRoots(this.graph);this.nodes=this.graphService.getNodes(this.graph,e)}countChildren(e){return vs.getSuccessors(this.graph,e.id).length}hasChildren(e){return this.countChildren(e)>0}trackTreeNode(e,t){return t.id}handleExpandClick(e,t){this.store.dispatch(t?new bo(e):new po(e))}}class qy{constructor(e,t,n,l,a){this.store=e,this.graphService=t,this.changeDetectorRef=n,this.clipboardService=l,this.snackbar=a,this.application=i,this.shortId="",this.theme="dark"}get node(){return this._node}set node(e){this._node=e;const t=this.node.id.split("-");this.shortId=2===t.length?t[1]:t[0]}ngOnInit(){}isChecked(e){return this.store.selectSnapshot(um.getCheckedNodes).some(t=>t.id===e.id)}checkNode(e,t){void 0===t&&(t=!this.isChecked(e)),this.store.dispatch(new ro(e,t))}checkInverse(e){this.store.dispatch(new uo([e]))}setCheckedNodes(e,t){void 0===t&&(t=!this.isChecked(e)),this.store.dispatch(new go(t?[e]:[]))}flyToNode(e){this.store.dispatch(new ci(e.id))}hideNode(e){this.store.dispatch(new Bl([e],!1))}hideInverse(e){const t=this.store.selectSnapshot(Wr.getViewGraph);this.store.dispatch(new yo([e],t))}showNode(e){this.store.dispatch(new Bl([e],!0)),this.changeDetectorRef.markForCheck()}toggleVisible(e,t){this.store.dispatch(new ho([e],t=void 0===t?!e.boolState.shown:t)),this.changeDetectorRef.markForCheck()}togglePickable(e,t){this.store.dispatch(new $l([e],t)),this.changeDetectorRef.markForCheck()}toggleInversePickable(e,t){const n=this.store.selectSnapshot(Wr.getViewGraph);this.store.dispatch(new _o([e],n,t))}fadeInverseNodes(e){const t=this.store.selectSnapshot(Wr.getViewGraph),n=this.graphService.getInverseSelection(t,[e.id]),l=this.graphService.getNodes(t,n);this.store.dispatch(new jo(l,om.recipe))}fadeNode(e){this.store.dispatch(new jo([e],om.recipe))}editNodeLabel(e){this.store.dispatch(new So(e))}copy(e){this.clipboardService.copyToClipboard(e).subscribe(()=>{this.snackbar.open(`Copied ${e} to clipboard.`)})}}var Ky=l.tb({encapsulation:0,styles:[[""]],data:{}});function Xy(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.vb(1,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,2)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,2)._handleMouseEnter()&&i),"mousedown"===t&&(i=!1!==l.Hb(e,3)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Hb(e,3)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Hb(e,3)._handleClick(n)&&i),i}),Ce.c,Ce.a)),l.ub(2,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),l.ub(3,1196032,null,0,we.g,[Qe.a,l.l,l.Q,we.c,[2,we.d],[6,we.e],[2,Ge.b],pe.e],{menu:[0,"menu"]},null),(e()(),l.Pb(-1,0,["Select"])),(e()(),l.vb(5,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(6,49152,null,0,Sb.a,[],null,null)],(function(e,t){e(t,3,0,l.Hb(t.parent,39))}),(function(e,t){e(t,1,0,l.Hb(t,2).role,l.Hb(t,2)._highlighted,l.Hb(t,2)._triggersSubmenu,l.Hb(t,2)._getTabIndex(),l.Hb(t,2).disabled.toString(),l.Hb(t,2).disabled||null,l.Hb(t,3).menuOpen||null),e(t,5,0,l.Hb(t,6).vertical?"vertical":"horizontal",l.Hb(t,6).vertical,!l.Hb(t,6).vertical,l.Hb(t,6).inset)}))}function Zy(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.toggleVisible(a.node,!0)&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Show"]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Yy(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.toggleVisible(a.node,!1)&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Hide"]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function ev(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(2,49152,null,0,Sb.a,[],null,null),(e()(),l.vb(3,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,4)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,4)._handleMouseEnter()&&i),"mousedown"===t&&(i=!1!==l.Hb(e,5)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Hb(e,5)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Hb(e,5)._handleClick(n)&&i),i}),Ce.c,Ce.a)),l.ub(4,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),l.ub(5,1196032,null,0,we.g,[Qe.a,l.l,l.Q,we.c,[2,we.d],[6,we.e],[2,Ge.b],pe.e],{menu:[0,"menu"]},null),(e()(),l.Pb(-1,0,["Pickable / Unpickable"])),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,5,0,l.Hb(t.parent,83))}),(function(e,t){e(t,1,0,l.Hb(t,2).vertical?"vertical":"horizontal",l.Hb(t,2).vertical,!l.Hb(t,2).vertical,l.Hb(t,2).inset),e(t,3,0,l.Hb(t,4).role,l.Hb(t,4)._highlighted,l.Hb(t,4)._triggersSubmenu,l.Hb(t,4)._getTabIndex(),l.Hb(t,4).disabled.toString(),l.Hb(t,4).disabled||null,l.Hb(t,5).menuOpen||null)}))}function tv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(2,49152,null,0,Sb.a,[],null,null),(e()(),l.vb(3,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,4)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,4)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.editNodeLabel(a.node)&&i),i}),Ce.c,Ce.a)),l.ub(4,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Edit Object Name"]))],null,(function(e,t){e(t,1,0,l.Hb(t,2).vertical?"vertical":"horizontal",l.Hb(t,2).vertical,!l.Hb(t,2).vertical,l.Hb(t,2).inset),e(t,3,0,l.Hb(t,4).role,l.Hb(t,4)._highlighted,l.Hb(t,4)._triggersSubmenu,l.Hb(t,4)._getTabIndex(),l.Hb(t,4).disabled.toString(),l.Hb(t,4).disabled||null)}))}function nv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(2,49152,null,0,Sb.a,[],null,null),(e()(),l.vb(3,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,4)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,4)._handleMouseEnter()&&i),"mousedown"===t&&(i=!1!==l.Hb(e,5)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Hb(e,5)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Hb(e,5)._handleClick(n)&&i),i}),Ce.c,Ce.a)),l.ub(4,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),l.ub(5,1196032,null,0,we.g,[Qe.a,l.l,l.Q,we.c,[2,we.d],[6,we.e],[2,Ge.b],pe.e],{menu:[0,"menu"]},null),(e()(),l.Pb(-1,0,["Copy"])),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,5,0,l.Hb(t.parent,97))}),(function(e,t){e(t,1,0,l.Hb(t,2).vertical?"vertical":"horizontal",l.Hb(t,2).vertical,!l.Hb(t,2).vertical,l.Hb(t,2).inset),e(t,3,0,l.Hb(t,4).role,l.Hb(t,4)._highlighted,l.Hb(t,4)._triggersSubmenu,l.Hb(t,4)._getTabIndex(),l.Hb(t,4).disabled.toString(),l.Hb(t,4).disabled||null,l.Hb(t,5).menuOpen||null)}))}function lv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.toggleVisible(a.node,!0)&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[10,4],[11,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Show This"]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function iv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.toggleVisible(a.node,!1)&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[10,4],[11,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Hide This"]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function av(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.togglePickable(a.node,!1)&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[13,4],[14,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Make Unpickable"]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function ov(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.togglePickable(a.node,!0)&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[13,4],[14,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Make Pickable"]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function sv(e){return l.Rb(2,[(e()(),l.vb(0,16777216,null,null,4,"button",[["app-button",""],["aria-haspopup","true"],["buttonSize","xsmall"],["class","mat-menu-trigger"]],[[1,"aria-expanded",0],[8,"disabled",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==l.Hb(e,1)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Hb(e,1)._handleClick(n)&&i),i}),$e,Be)),l.ub(1,1196032,null,0,we.g,[Qe.a,l.l,l.Q,we.c,[2,we.d],[8,null],[2,Ge.b],pe.e],{menu:[0,"menu"]},null),l.ub(2,114688,null,0,Ue,[],{buttonSize:[0,"buttonSize"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.vb(3,0,null,0,1,"app-icon",[["icon","ellipsis-v"]],null,null,null,se,oe)),l.ub(4,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(5,0,null,null,32,"mat-menu",[],null,null,null,Ce.d,Ce.b)),l.Mb(6144,null,we.d,null,[we.h]),l.Mb(6144,null,we.b,null,[we.d]),l.ub(8,1294336,[["nodeActions",4]],3,we.h,[l.l,l.z,we.a],{overlapTrigger:[0,"overlapTrigger"]},null),l.Nb(603979776,1,{_allItems:1}),l.Nb(603979776,2,{items:1}),l.Nb(603979776,3,{lazyContent:0}),(e()(),l.lb(16777216,null,0,1,null,Xy)),l.ub(13,81920,null,0,Hf,[l.N,l.Q,u.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"],appFlagApplicationPage:[2,"appFlagApplicationPage"]},null),(e()(),l.lb(16777216,null,0,1,null,Zy)),l.ub(15,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,0,1,null,Yy)),l.ub(17,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(18,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,19)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,19)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.hideInverse(a.node)&&i),i}),Ce.c,Ce.a)),l.ub(19,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Isolate"])),(e()(),l.vb(21,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(22,49152,null,0,Sb.a,[],null,null),(e()(),l.vb(23,16777216,null,0,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,24)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,24)._handleMouseEnter()&&i),"mousedown"===t&&(i=!1!==l.Hb(e,25)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Hb(e,25)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Hb(e,25)._handleClick(n)&&i),i}),Ce.c,Ce.a)),l.ub(24,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),l.ub(25,1196032,null,0,we.g,[Qe.a,l.l,l.Q,we.c,[2,we.d],[6,we.e],[2,Ge.b],pe.e],{menu:[0,"menu"]},null),(e()(),l.Pb(-1,0,["Fade"])),(e()(),l.lb(16777216,null,0,1,null,ev)),l.ub(28,81920,null,0,Hf,[l.N,l.Q,u.m],{appFlagApplication:[0,"appFlagApplication"]},null),(e()(),l.vb(29,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(30,49152,null,0,Sb.a,[],null,null),(e()(),l.vb(31,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,32)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,32)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.flyToNode(a.node)&&i),i}),Ce.c,Ce.a)),l.ub(32,180224,[[1,4],[2,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Fly To"])),(e()(),l.lb(16777216,null,0,1,null,tv)),l.ub(35,81920,null,0,Hf,[l.N,l.Q,u.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"],appFlagApplicationPage:[2,"appFlagApplicationPage"]},null),(e()(),l.lb(16777216,null,0,1,null,nv)),l.ub(37,81920,null,0,Hf,[l.N,l.Q,u.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"],appFlagApplicationPage:[2,"appFlagApplicationPage"]},null),(e()(),l.vb(38,0,null,null,12,"mat-menu",[],null,null,null,Ce.d,Ce.b)),l.ub(39,1294336,[["selectActions",4]],3,we.h,[l.l,l.z,we.a],null,null),l.Nb(603979776,4,{_allItems:1}),l.Nb(603979776,5,{items:1}),l.Nb(603979776,6,{lazyContent:0}),l.Mb(2048,null,we.d,null,[we.h]),l.Mb(2048,null,we.b,null,[we.d]),(e()(),l.vb(45,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,46)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,46)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.checkNode(a.node,!0)&&i),i}),Ce.c,Ce.a)),l.ub(46,180224,[[4,4],[5,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Select This"])),(e()(),l.vb(48,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,49)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,49)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.checkInverse(a.node)&&i),i}),Ce.c,Ce.a)),l.ub(49,180224,[[4,4],[5,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Select Everything Else"])),(e()(),l.vb(51,0,null,null,12,"mat-menu",[],null,null,null,Ce.d,Ce.b)),l.ub(52,1294336,[["fadeActions",4]],3,we.h,[l.l,l.z,we.a],null,null),l.Nb(603979776,7,{_allItems:1}),l.Nb(603979776,8,{items:1}),l.Nb(603979776,9,{lazyContent:0}),l.Mb(2048,null,we.d,null,[we.h]),l.Mb(2048,null,we.b,null,[we.d]),(e()(),l.vb(58,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,59)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,59)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.fadeNode(a.node)&&i),i}),Ce.c,Ce.a)),l.ub(59,180224,[[7,4],[8,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Fade This"])),(e()(),l.vb(61,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,62)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,62)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.fadeInverseNodes(a.node)&&i),i}),Ce.c,Ce.a)),l.ub(62,180224,[[7,4],[8,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Fade Everything Else"])),(e()(),l.vb(64,0,null,null,15,"mat-menu",[],null,null,null,Ce.d,Ce.b)),l.Mb(6144,null,we.d,null,[we.h]),l.Mb(6144,null,we.b,null,[we.d]),l.ub(67,1294336,[["showHideActions",4]],3,we.h,[l.l,l.z,we.a],null,null),l.Nb(603979776,10,{_allItems:1}),l.Nb(603979776,11,{items:1}),l.Nb(603979776,12,{lazyContent:0}),(e()(),l.lb(16777216,null,0,1,null,lv)),l.ub(72,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,0,1,null,iv)),l.ub(74,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(75,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(76,49152,null,0,Sb.a,[],null,null),(e()(),l.vb(77,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,78)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,78)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.hideInverse(a.node)&&i),i}),Ce.c,Ce.a)),l.ub(78,180224,[[10,4],[11,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Hide Everything Else"])),(e()(),l.vb(80,0,null,null,15,"mat-menu",[],null,null,null,Ce.d,Ce.b)),l.Mb(6144,null,we.d,null,[we.h]),l.Mb(6144,null,we.b,null,[we.d]),l.ub(83,1294336,[["pickableActions",4]],3,we.h,[l.l,l.z,we.a],null,null),l.Nb(603979776,13,{_allItems:1}),l.Nb(603979776,14,{items:1}),l.Nb(603979776,15,{lazyContent:0}),(e()(),l.lb(16777216,null,0,1,null,av)),l.ub(88,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,0,1,null,ov)),l.ub(90,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(91,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(92,49152,null,0,Sb.a,[],null,null),(e()(),l.vb(93,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,94)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,94)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.toggleInversePickable(a.node,!1)&&i),i}),Ce.c,Ce.a)),l.ub(94,180224,[[13,4],[14,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Make Everything Else Unpickable"])),(e()(),l.vb(96,0,null,null,17,"mat-menu",[],null,null,null,Ce.d,Ce.b)),l.ub(97,1294336,[["copyActions",4]],3,we.h,[l.l,l.z,we.a],null,null),l.Nb(603979776,16,{_allItems:1}),l.Nb(603979776,17,{items:1}),l.Nb(603979776,18,{lazyContent:0}),l.Mb(2048,null,we.d,null,[we.h]),l.Mb(2048,null,we.b,null,[we.d]),(e()(),l.vb(103,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,104)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,104)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.copy(a.shortId)&&i),i}),Ce.c,Ce.a)),l.ub(104,180224,[[16,4],[17,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Copy Short ID"])),(e()(),l.vb(106,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,107)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,107)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.copy(a.node.id)&&i),i}),Ce.c,Ce.a)),l.ub(107,180224,[[16,4],[17,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Copy Full ID"])),(e()(),l.vb(109,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(110,49152,null,0,Sb.a,[],null,null),(e()(),l.vb(111,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,112)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,112)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.copy(a.node.label)&&i),i}),Ce.c,Ce.a)),l.ub(112,180224,[[16,4],[17,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,["Copy Display Name"]))],(function(e,t){var n=t.component;e(t,1,0,l.Hb(t,8)),e(t,2,0,"xsmall",n.theme),e(t,4,0,"ellipsis-v"),e(t,8,0,!0),e(t,13,0,n.application.All,"include","/edit"),e(t,15,0,!n.node.boolState.shown),e(t,17,0,n.node.boolState.shown),e(t,25,0,l.Hb(t,52)),e(t,28,0,n.application.Loft),e(t,35,0,n.application.Loft,"include","/edit"),e(t,37,0,n.application.Loft,"include","/edit"),e(t,39,0),e(t,52,0),e(t,67,0),e(t,72,0,!n.node.boolState.shown),e(t,74,0,n.node.boolState.shown),e(t,83,0),e(t,88,0,n.node.boolState.pickable),e(t,90,0,!n.node.boolState.pickable),e(t,97,0)}),(function(e,t){e(t,0,0,l.Hb(t,1).menuOpen||null,l.Hb(t,2).disabled),e(t,18,0,l.Hb(t,19).role,l.Hb(t,19)._highlighted,l.Hb(t,19)._triggersSubmenu,l.Hb(t,19)._getTabIndex(),l.Hb(t,19).disabled.toString(),l.Hb(t,19).disabled||null),e(t,21,0,l.Hb(t,22).vertical?"vertical":"horizontal",l.Hb(t,22).vertical,!l.Hb(t,22).vertical,l.Hb(t,22).inset),e(t,23,0,l.Hb(t,24).role,l.Hb(t,24)._highlighted,l.Hb(t,24)._triggersSubmenu,l.Hb(t,24)._getTabIndex(),l.Hb(t,24).disabled.toString(),l.Hb(t,24).disabled||null,l.Hb(t,25).menuOpen||null),e(t,29,0,l.Hb(t,30).vertical?"vertical":"horizontal",l.Hb(t,30).vertical,!l.Hb(t,30).vertical,l.Hb(t,30).inset),e(t,31,0,l.Hb(t,32).role,l.Hb(t,32)._highlighted,l.Hb(t,32)._triggersSubmenu,l.Hb(t,32)._getTabIndex(),l.Hb(t,32).disabled.toString(),l.Hb(t,32).disabled||null),e(t,45,0,l.Hb(t,46).role,l.Hb(t,46)._highlighted,l.Hb(t,46)._triggersSubmenu,l.Hb(t,46)._getTabIndex(),l.Hb(t,46).disabled.toString(),l.Hb(t,46).disabled||null),e(t,48,0,l.Hb(t,49).role,l.Hb(t,49)._highlighted,l.Hb(t,49)._triggersSubmenu,l.Hb(t,49)._getTabIndex(),l.Hb(t,49).disabled.toString(),l.Hb(t,49).disabled||null),e(t,58,0,l.Hb(t,59).role,l.Hb(t,59)._highlighted,l.Hb(t,59)._triggersSubmenu,l.Hb(t,59)._getTabIndex(),l.Hb(t,59).disabled.toString(),l.Hb(t,59).disabled||null),e(t,61,0,l.Hb(t,62).role,l.Hb(t,62)._highlighted,l.Hb(t,62)._triggersSubmenu,l.Hb(t,62)._getTabIndex(),l.Hb(t,62).disabled.toString(),l.Hb(t,62).disabled||null),e(t,75,0,l.Hb(t,76).vertical?"vertical":"horizontal",l.Hb(t,76).vertical,!l.Hb(t,76).vertical,l.Hb(t,76).inset),e(t,77,0,l.Hb(t,78).role,l.Hb(t,78)._highlighted,l.Hb(t,78)._triggersSubmenu,l.Hb(t,78)._getTabIndex(),l.Hb(t,78).disabled.toString(),l.Hb(t,78).disabled||null),e(t,91,0,l.Hb(t,92).vertical?"vertical":"horizontal",l.Hb(t,92).vertical,!l.Hb(t,92).vertical,l.Hb(t,92).inset),e(t,93,0,l.Hb(t,94).role,l.Hb(t,94)._highlighted,l.Hb(t,94)._triggersSubmenu,l.Hb(t,94)._getTabIndex(),l.Hb(t,94).disabled.toString(),l.Hb(t,94).disabled||null),e(t,103,0,l.Hb(t,104).role,l.Hb(t,104)._highlighted,l.Hb(t,104)._triggersSubmenu,l.Hb(t,104)._getTabIndex(),l.Hb(t,104).disabled.toString(),l.Hb(t,104).disabled||null),e(t,106,0,l.Hb(t,107).role,l.Hb(t,107)._highlighted,l.Hb(t,107)._triggersSubmenu,l.Hb(t,107)._getTabIndex(),l.Hb(t,107).disabled.toString(),l.Hb(t,107).disabled||null),e(t,109,0,l.Hb(t,110).vertical?"vertical":"horizontal",l.Hb(t,110).vertical,!l.Hb(t,110).vertical,l.Hb(t,110).inset),e(t,111,0,l.Hb(t,112).role,l.Hb(t,112)._highlighted,l.Hb(t,112)._triggersSubmenu,l.Hb(t,112)._getTabIndex(),l.Hb(t,112).disabled.toString(),l.Hb(t,112).disabled||null)}))}class rv{}var cv=function(e){return e.Chapter="chapter",e.Label="label",e.Paint="paint",e.Position="position",e}({});class uv{}let pv=(()=>{class e{constructor(e){this.colorRecipe=e}}return e.type="[Edit Paint] Set Color Recipe",e})(),dv=(()=>{class e{constructor(e){this.brushMode=e}}return e.type="[Edit Paint] Set Paint Brush Mode",e})(),bv=(()=>{class e{constructor(){}}return e.type="[Edit Paint] Clear Color Recipe",e})(),gv=(()=>{class e{constructor(){}}return e.type="[Edit Paint] Reset Paint",e})();const hv={colorRecipe:am.recipe,brushMode:function(e){return e[e.Modify=0]="Modify",e[e.Replace=1]="Replace",e}({}).Modify};let mv=(()=>{let e=class{constructor(){}static getColorRecipe(e){return e.colorRecipe}static getPaintBrushMode(e){return e.brushMode}setColorRecipe(e,{colorRecipe:t}){e.patchState({colorRecipe:t})}setBrushMode(e,t){e.patchState({brushMode:t.brushMode})}clearColorRecipe(e,t){e.patchState({colorRecipe:null})}resetPaint(e,t){e.setState(hv)}};return Object(b.__decorate)([Object(g.a)(pv),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,pv]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setColorRecipe",null),Object(b.__decorate)([Object(g.a)(dv),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,dv]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setBrushMode",null),Object(b.__decorate)([Object(g.a)(bv),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,bv]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"clearColorRecipe",null),Object(b.__decorate)([Object(g.a)(gv),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,gv]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetPaint",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[uv]),Object(b.__metadata)("design:returntype",void 0)],e,"getColorRecipe",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[uv]),Object(b.__metadata)("design:returntype",void 0)],e,"getPaintBrushMode",null),Object(b.__decorate)([Object(g.g)({name:"editPaint",defaults:hv})],e)})();class _v{constructor(e,t,n){this.label=e,this.width=t,this.height=n}}const fv=new _v("Don't Resize",-1,-1),yv=(new _v("Common (Mobile)",360,640),new _v("Common (Minimum)",300,300),new _v("Common (Publish Default)",700,550),new _v("iPhone X",375,812),new _v("iPad (Portrait)",768,1024),new _v("iPad (Landscape)",1024,768),{view:cv.Chapter,showColumns:!0,showLeftColumn:!0,showRightColumn:!0,showHeader:!0,showFooter:!0,record:!0,layerOrderMode:!1,showTreeNodeIds:!1,canvasSize:fv,canvasSettings:{emulateDrawer:!0,emulateColumn:!0}});let vv=(()=>{let e=class{static getView(e){return e.view}static getShowColumns(e){return e.showColumns}static getShowLeftColumn(e){return e.showLeftColumn}static getShowRightColumn(e){return e.showRightColumn}static getShowHeader(e){return e.showHeader}static getShowFooter(e){return e.showFooter}static getRecord(e){return e.record}static getLayerOrderMode(e){return e.layerOrderMode}static getShowTreeNodeIds(e){return e.showTreeNodeIds}static getCanvasSize(e){return e.canvasSize}static getCanvasSettings(e){return e.canvasSettings}SetLayerOrderMode(e,t){e.patchState({layerOrderMode:t.layerOrderMode})}ShowTreeNodeIds(e,t){const n=null!=t.show?t.show:!e.getState().showTreeNodeIds;e.patchState({showTreeNodeIds:n})}setView(e,t){e.patchState({view:t.view})}nextView(e,t){const{view:n}=e.getState(),l=Object.values(cv),i=l[l.indexOf(n)+1]||l[0];e.patchState({view:i})}previousView(e,t){const{view:n}=e.getState(),l=Object.values(cv),i=l[l.indexOf(n)-1]||l[l.length-1];e.patchState({view:i})}showColumns(e,t){e.patchState({showColumns:t.show})}showColumn(e,t){switch(t.column){case"left":e.patchState({showLeftColumn:t.show});break;case"right":e.patchState({showRightColumn:t.show});break;case"header":e.patchState({showHeader:t.show});break;case"footer":e.patchState({showFooter:t.show})}}resetEditPage(e,t){e.setState(yv),e.dispatch(new gv)}setObjectVisibility(e,t){e.dispatch(new ho(t.nodes,t.visible));const n=e.getState().record;e.dispatch(new Ga(t.nodes,t.visible,n))}setObjectPickable(e,t){e.dispatch(new mo(t.nodes,t.pickable));const n=e.getState().record;e.dispatch(new Wa(t.nodes,t.pickable,n))}setCanvasSize(e,t){e.patchState({canvasSize:t.size})}};return Object(b.__decorate)([Object(g.a)(Vl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Vl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"SetLayerOrderMode",null),Object(b.__decorate)([Object(g.a)(Ql),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ql]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"ShowTreeNodeIds",null),Object(b.__decorate)([Object(g.a)(El),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,El]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setView",null),Object(b.__decorate)([Object(g.a)(Nl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Nl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"nextView",null),Object(b.__decorate)([Object(g.a)(Rl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Nl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"previousView",null),Object(b.__decorate)([Object(g.a)(Al),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Al]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"showColumns",null),Object(b.__decorate)([Object(g.a)(Dl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Dl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"showColumn",null),Object(b.__decorate)([Object(g.a)(Ul),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ul]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetEditPage",null),Object(b.__decorate)([Object(g.a)(Bl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Bl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setObjectVisibility",null),Object(b.__decorate)([Object(g.a)($l),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,$l]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setObjectPickable",null),Object(b.__decorate)([Object(g.a)(Gl),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Gl]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setCanvasSize",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rv]),Object(b.__metadata)("design:returntype",void 0)],e,"getView",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rv]),Object(b.__metadata)("design:returntype",void 0)],e,"getShowColumns",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rv]),Object(b.__metadata)("design:returntype",void 0)],e,"getShowLeftColumn",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rv]),Object(b.__metadata)("design:returntype",void 0)],e,"getShowRightColumn",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rv]),Object(b.__metadata)("design:returntype",void 0)],e,"getShowHeader",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rv]),Object(b.__metadata)("design:returntype",void 0)],e,"getShowFooter",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rv]),Object(b.__metadata)("design:returntype",void 0)],e,"getRecord",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rv]),Object(b.__metadata)("design:returntype",void 0)],e,"getLayerOrderMode",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rv]),Object(b.__metadata)("design:returntype",void 0)],e,"getShowTreeNodeIds",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rv]),Object(b.__metadata)("design:returntype",void 0)],e,"getCanvasSize",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rv]),Object(b.__metadata)("design:returntype",void 0)],e,"getCanvasSettings",null),Object(b.__decorate)([Object(g.g)({name:"edit",defaults:yv,children:[mv]})],e)})(),xv=(()=>{class e{constructor(e,t,n,l){this.store=e,this.graphService=t,this.router=n,this.changeDetection=l,this.treeTheme=_m,this.isLoft="module"===o.exportType,this.nested=!0,this.theme=_m.Dark,this.checked=!1,this.hasChildren=!1,this.editLabelMode=!1,this.sanitizedID="",this.parentId="",this.shortId="",this.ngUnsubscribe=new $.a}get node(){return this._node}set node(e){this._node=e,this.sanitizedID=this.graphService.sanitizeNodeID(this.node.id);const t=this.node.id.split("-");2===t.length?(this.parentId=t[0],this.shortId=t[1]):(this.shortId=t[0],this.parentId=""),this.shortId=this.shortId.replace(/_/g," "),this.checked=this.isChecked(this.node),this.hasChildren=vs.getSuccessors(this.graph,this.node.id).length>0,this.changeDetection.markForCheck()}ngOnInit(){this.checkedNodesIds$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.checked=e.some(e=>e===this.node.id),this.changeDetection.markForCheck()}),this.labelEditNode$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.editLabelMode=e===this.node}),this.isEditMode=this.router.url.indexOf("/edit")>=0}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleExpandClick(e,t){this.store.dispatch(t?new po(e):new bo(e))}handleNodeClick(e,t){e.shiftKey?this.checkNode(t):(this.setCheckedNodes(t),this.isEditMode||this.store.dispatch(new ci(t.id)),this.handleExpandClick(t,!t.boolState.expanded))}toggleVisible(e,t){this.store.dispatch(new ho([e],t=void 0===t?!e.boolState.shown:t)),this.changeDetection.markForCheck()}handleLayerOrder(e,t){const n=parseInt(e.target.value,10);this.setLayerOrder(t,n)}isChecked(e){return this.store.selectSnapshot(um.getCheckedNodes).some(t=>t.id===e.id)}checkNode(e,t){void 0===t&&(t=!this.isChecked(e)),this.store.dispatch(new ro(e,t))}setCheckedNodes(e,t){void 0===t&&(t=!this.isChecked(e)),this.store.dispatch(new go(t?[e]:[]))}setLayerOrder(e,t){this.store.dispatch(new yi([e],t)),this.changeDetection.markForCheck()}handleLabel(e){const t=e.target;e instanceof KeyboardEvent?("enter"===e.key.toLowerCase()&&(this.setLabel(t.value),this.setEditLabelMode(!1)),"escape"===e.key.toLowerCase()&&this.setEditLabelMode(!1)):e instanceof FocusEvent&&"blur"===e.type&&(this.setLabel(t.value),this.setEditLabelMode(!1))}setLabel(e){this.node.label=e,this.store.dispatch(new vi(this.node.id,e))}setEditLabelMode(e){o.application===i.Loft&&this.isEditMode&&this.store.dispatch(new So(e?this.node:null))}}return Object(b.__decorate)([Object(g.e)(um.getCheckedNodeIds),Object(b.__metadata)("design:type",V.a)],e.prototype,"checkedNodesIds$",void 0),Object(b.__decorate)([Object(g.e)(vv.getLayerOrderMode),Object(b.__metadata)("design:type",V.a)],e.prototype,"layerOrderMode$",void 0),Object(b.__decorate)([Object(g.e)(vv.getShowTreeNodeIds),Object(b.__metadata)("design:type",V.a)],e.prototype,"showTreeNodeIds$",void 0),Object(b.__decorate)([Object(g.e)(um.getLabelEditNode),Object(b.__metadata)("design:type",V.a)],e.prototype,"labelEditNode$",void 0),e})();var Ov=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}:host{display:block}.tree-node{margin:4px 0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;height:100%;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;min-width:200px;-webkit-transition:background-color .12s;transition:background-color .12s}.tree-node:hover{cursor:pointer}.tree-node:hover .tree-node__actions,.tree-node:hover .tree-node__visible{visibility:visible}.tree-node:hover .tree-node__label{color:#fff}.tree-node--themed{padding-right:12px}.tree-node--themed:hover{background-color:#f9fafd;background-color:var(--tree-node-bg--hover)}.tree-node--themed:hover .tree-node__label{color:#131c2a;color:var(--tree-node-color--hover)}.tree-node--themed .tree-node__label{color:#131c2a;color:var(--tree-node-color);font-size:13px;letter-spacing:.325px;line-height:1.4em}.tree-node--themed.tree-node--selected,.tree-node--themed.tree-node--selected:hover{background-color:#f1f5fc;background-color:var(--tree-node-bg--selected)}.tree-node--themed.tree-node--selected .tree-node__actions,.tree-node--themed.tree-node--selected .tree-node__label{color:#131c2a;color:var(--tree-node-color--selected)}.tree-node--themed.tree-node--selected .tree-node__actions,.tree-node--themed.tree-node--selected .tree-node__expand,.tree-node--themed.tree-node--selected .tree-node__visible{background-color:#f1f5fc;color:#131c2a;background-color:var(--tree-node-button-bg--selected);color:var(--tree-node-button-color--selected)}.tree-node--themed.tree-node--selected .tree-node__actions:hover,.tree-node--themed.tree-node--selected .tree-node__expand:hover,.tree-node--themed.tree-node--selected .tree-node__visible:hover{background-color:var(--tree-node-button-bg--hover);color:var(--tree-node-button-color--hover)}.tree-node--themed.tree-node--unpickable{border:1px dashed #d7e0ea}.tree-node--themed.tree-node--hidden .tree-node__label{color:#96a8c0;color:var(--tree-node-color--hidden)}.tree-node--themed .tree-node__actions,.tree-node--themed .tree-node__expand,.tree-node--themed .tree-node__visible{background-color:transparent;background-color:var(--tree-node-button-bg);color:#96a8c0;color:var(--tree-node-button-color);border-radius:4px}.tree-node--themed .tree-node__actions:hover,.tree-node--themed .tree-node__expand:hover,.tree-node--themed .tree-node__visible:hover{background-color:transparent;color:inherit;background-color:var(--tree-node-button-bg--hover);color:var(--tree-node-button-color--hover)}.tree-node--light:hover{background:rgba(234,239,245,.5)}.tree-node--light:hover .tree-node__label{color:#131c2a}.tree-node--light .tree-node__label{color:#283853;font-weight:400;font-size:14px;line-height:1.33em}.tree-node--light.tree-node--selected:hover{background:#2d72dc}.tree-node--light.tree-node--selected .tree-node__actions,.tree-node--light.tree-node--selected .tree-node__expand,.tree-node--light.tree-node--selected .tree-node__label,.tree-node--light.tree-node--selected .tree-node__visible{color:#fff}.tree-node--light.tree-node--selected .tree-node__actions:hover,.tree-node--light.tree-node--selected .tree-node__expand:hover,.tree-node--light.tree-node--selected .tree-node__visible:hover{color:#f9fafd}.tree-node--light.tree-node--unpickable{border:1px dashed #d7e0ea}.tree-node--light.tree-node--hidden .tree-node__label{color:#96a8c0;font-weight:300}.tree-node--light .tree-node__actions,.tree-node--light .tree-node__expand,.tree-node--light .tree-node__visible{color:#6a82a4;border-radius:4px}.tree-node--light .tree-node__actions:hover,.tree-node--light .tree-node__expand:hover,.tree-node--light .tree-node__visible:hover{background-color:#eaeff5;color:#131c2a}.tree-node.tree-node--hidden.tree-node--selected .tree-node__label{color:#96a8c0}.tree-node--selected{background-color:#2d72dc}.tree-node--selected .tree-node__label{color:#fff}.tree-node--unpickable{border:1px dashed #6a82a4}.tree-node--hidden .tree-node__actions,.tree-node--hidden .tree-node__expand,.tree-node--hidden .tree-node__label,.tree-node--hidden .tree-node__visible{color:#6a82a4}.tree-node--hidden .tree-node__visible{visibility:visible}.tree-node__label{font-size:12px;letter-spacing:.3px;letter-spacing:.5px;font-weight:400;line-height:1.3em;color:#d7e0ea;padding:8px 4px 8px 12px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-flex:1;flex:1 1 100%;min-height:28px}.tree-node__label--padded{padding-left:32px}.tree-node__expand i{-webkit-transition:-webkit-transform .12s;transition:-webkit-transform .12s;transition:transform .12s;transition:transform .12s,-webkit-transform .12s}.tree-node__expand--open app-icon{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.tree-node .tree-node__expand+.tree-node__label{margin-left:-8px}.tree-node__actions,.tree-node__expand,.tree-node__visible{border-radius:4px;color:#d7e0ea;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 30px;height:30px;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.tree-node__actions:hover,.tree-node__expand:hover,.tree-node__visible:hover{background-color:#1c2a3f;color:#fff;cursor:pointer}.tree-node--selected .tree-node__actions:hover,.tree-node--selected .tree-node__expand:hover,.tree-node--selected .tree-node__visible:hover{background-color:#2d72dc}.tree-node__actions,.tree-node__visible{visibility:hidden}.tree-node__layer-order{font-size:10px;-webkit-box-flex:0;flex:0 0 56px;min-height:28px;height:28px;padding:4px;margin:2px;text-align:center}.tree-node .tree-node__eye,.tree-node .tree-node__eye-slash{display:none}.tree-node.tree-node--hidden .tree-node__eye-slash,.tree-node:hover .tree-node__eye-slash{display:inline}.tree-node.tree-node--hidden .tree-node__visible:hover .tree-node__eye-slash{display:none}.tree-node.tree-node--hidden .tree-node__visible:hover .tree-node__eye{display:inline}"]],data:{}});function Cv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"div",[["appEventFence",""],["class","tree-node__expand"]],[[2,"tree-node__expand--open",null]],[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1).onClick(n,n.target)&&i),"click"===t&&(i=!1!==a.handleExpandClick(a.node,a.node.boolState.expanded)&&i),i}),null,null)),l.ub(1,16384,null,0,re,[],null,null),(e()(),l.vb(2,0,null,null,1,"app-icon",[["icon","caret-right"]],null,null,null,se,oe)),l.ub(3,114688,null,0,ae,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,3,0,"caret-right")}),(function(e,t){e(t,0,0,t.component.node.boolState.expanded)}))}function wv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"div",[["class","text-10 text-uppercase"],["style","opacity: 0.7;"]],null,null,null,null,null)),(e()(),l.Pb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.shortId)}))}function jv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,9,"div",[["class","tree-node__label"]],null,[[null,"dblclick"]],(function(e,t,n){var l=!0;return"dblclick"===t&&(l=!1!==e.component.setEditLabelMode(!0)&&l),l}),null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"tree-node__label--padded":0}),(e()(),l.vb(4,0,null,null,5,"div",[["class","flex flex-column"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,2,null,wv)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(8,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Pb(9,null,[" "," "]))],(function(e,t){var n=t.component,i=e(t,3,0,!n.hasChildren&&n.nested);e(t,2,0,"tree-node__label",i),e(t,6,0,l.Qb(t,6,0,l.Hb(t,7).transform(n.showTreeNodeIds$)))}),(function(e,t){e(t,9,0,t.component.node.label)}))}function kv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"input",[["appAutoFocus",""],["appEventFence",""],["class","input"],["type","text"]],[[8,"value",0]],[[null,"blur"],[null,"keyup"],[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,2).onClick(n,n.target)&&i),"blur"===t&&(i=!1!==a.handleLabel(n)&&i),"keyup"===t&&(i=!1!==a.handleLabel(n)&&i),i}),null,null)),l.ub(1,1064960,null,0,Gy,[l.l],null,null),l.ub(2,16384,null,0,re,[],null,null)],null,(function(e,t){e(t,0,0,t.component.node.label)}))}function Sv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"input",[["appEventFence",""],["class","input input--small tree-node__layer-order"],["type","text"]],[[8,"value",0]],[[null,"change"],[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1).onClick(n,n.target)&&i),"change"===t&&(i=!1!==a.handleLayerOrder(n,a.node)&&i),i}),null,null)),l.ub(1,16384,null,0,re,[],null,null)],null,(function(e,t){e(t,0,0,t.component.node.numState.layer)}))}function Pv(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,21,"div",[["class","tree-node"],["tabindex","0"]],[[1,"data-id",0]],[[null,"keyup.enter"],[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"keyup.enter"===t&&(l=!1!==i.handleNodeClick(n,i.node)&&l),"click"===t&&(l=!1!==i.handleNodeClick(n,i.node)&&l),l}),null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"tree-node--light":0,"tree-node--themed":1,"tree-node--hidden":2,"tree-node--selected":3,"tree-node--unpickable":4}),(e()(),l.lb(16777216,null,null,1,null,Cv)),l.ub(5,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,jv)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,kv)),l.ub(9,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,2,null,Sv)),l.ub(11,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(13,0,null,null,5,"div",[["appEventFence",""],["class","tree-node__visible"]],null,[[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,14).onClick(n,n.target)&&i),"click"===t&&(i=!1!==a.toggleVisible(a.node)&&i),i}),null,null)),l.ub(14,16384,null,0,re,[],null,null),(e()(),l.vb(15,0,null,null,1,"app-icon",[["class","tree-node__eye"],["icon","eye"],["size","xs"]],null,null,null,se,oe)),l.ub(16,114688,null,0,ae,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.vb(17,0,null,null,1,"app-icon",[["class","tree-node__eye-slash"],["icon","eye-slash"],["size","xs"]],null,null,null,se,oe)),l.ub(18,114688,null,0,ae,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.vb(19,0,null,null,2,"app-node-actions",[["appEventFence",""]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,21).onClick(n,n.target)&&i),i}),sv,Ky)),l.ub(20,114688,null,0,qy,[g.i,Ps,l.i,Xc,hp.c],{node:[0,"node"],theme:[1,"theme"]},null),l.ub(21,16384,null,0,re,[],null,null)],(function(e,t){var n=t.component,i=e(t,3,0,n.theme===n.treeTheme.Light,n.theme===n.treeTheme.Themed,!n.node.boolState.shown,n.checked,!n.node.boolState.pickable&&n.isLoft);e(t,2,0,"tree-node",i),e(t,5,0,n.nested&&n.hasChildren),e(t,7,0,!n.editLabelMode),e(t,9,0,n.editLabelMode),e(t,11,0,l.Qb(t,11,0,l.Hb(t,12).transform(n.layerOrderMode$))),e(t,16,0,"eye","xs"),e(t,18,0,"eye-slash","xs"),e(t,20,0,n.node,n.theme)}),(function(e,t){e(t,0,0,t.component.sanitizedID)}))}var Mv=l.tb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.tree-group[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tree-group--themed[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:after{background:var(--tree-node-collapse-color)}.tree-group--themed[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover{background:0 0}.tree-group--themed[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover:after{background:var(--tree-node-collapse-color--hover)}.tree-group--light[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:after{background:#eaeff5}.tree-group--light[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover{background:0 0}.tree-group--light[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover:after{background:#d7e0ea}.tree-group__children[_ngcontent-%COMP%]{padding-left:20px;position:relative}.tree-group__collapse[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;width:20px;z-index:1}.tree-group__collapse[_ngcontent-%COMP%]:after{content:\" \";display:block;position:absolute;width:1px;left:10px;top:0;bottom:0;background:#1c2a3f}.tree-group__collapse[_ngcontent-%COMP%]:hover{cursor:pointer}.tree-group__collapse[_ngcontent-%COMP%]:hover:after{background:#283853}"]],data:{}});function Hv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"div",[["class","tree-group__collapse"]],[[8,"title",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleExpandClick(e.parent.parent.context.$implicit,!0)&&l),l}),null,null))],null,(function(e,t){e(t,0,0,t.parent.parent.context.$implicit.label)}))}function Iv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"div",[["class","tree-group__children"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Hv)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(3,0,null,null,1,"app-tree-group",[],null,[[null,"clickNode"]],(function(e,t,n){var l=!0;return"clickNode"===t&&(l=!1!==e.component.handleNodeClick(n)&&l),l}),zv,Mv)),l.ub(4,245760,null,0,Jy,[Ps,g.i],{graph:[0,"graph"],theme:[1,"theme"],node:[2,"node"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.hasChildren(t.parent.context.$implicit)),e(t,4,0,n.graph,n.theme,t.parent.context.$implicit)}),null)}function Tv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,7,"div",[["class","tree-group"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"tree-group--light":0,"tree-group--themed":1}),(e()(),l.vb(4,0,null,null,1,"app-tree-nested-node",[],null,null,null,Pv,Ov)),l.ub(5,245760,null,0,xv,[g.i,Ps,u.m,l.i],{graph:[0,"graph"],node:[1,"node"],theme:[2,"theme"]},null),(e()(),l.lb(16777216,null,null,1,null,Iv)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.theme===n.treeTheme.Light,n.theme===n.treeTheme.Themed);e(t,2,0,"tree-group",l),e(t,5,0,n.graph,t.context.$implicit,n.theme),e(t,7,0,t.context.$implicit.boolState.expanded)}),null)}function zv(e){return l.Rb(2,[(e()(),l.lb(16777216,null,null,1,null,Tv)),l.ub(1,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.nodes,n.trackTreeNode)}),null)}var Fv=l.tb({encapsulation:0,styles:[[""]],data:{}});function Lv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"app-tree-group",[],null,null,null,zv,Mv)),l.ub(1,245760,null,0,Jy,[Ps,g.i],{graph:[0,"graph"],theme:[1,"theme"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,n.searchGraph?n.searchGraph:l.Qb(t,1,0,l.Hb(t,2).transform(n.viewGraph$)),n.theme)}),null)}var Ev=n("Wucu"),Nv=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.tree-search{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;height:100%}.tree-search__tree{-webkit-box-flex:1;flex-grow:1;width:100%}.tree-search__empty{font-size:14px;letter-spacing:.35px;line-height:1.4em;padding:12px;font-style:italic;margin-top:12px}.tree-search cdk-virtual-scroll-viewport{-webkit-box-flex:1;flex:1 1 auto}.tree-search cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{padding-right:12px}"]],data:{}});function Rv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"div",[["class","tree-search__empty"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,[" No results "]))],null,null)}function Av(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[["class","pr-3 pv-3"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-tree",[["class","tree-search__tree"]],null,null,null,Lv,Fv)),l.ub(2,245760,null,0,fm,[g.i,Ps],{theme:[0,"theme"],searchGraph:[1,"searchGraph"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.theme,n.searchGraph)}),null)}function Dv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-tree-nested-node",[["class","mr-3"],["style","height: 64px;"]],null,null,null,Pv,Ov)),l.ub(2,245760,null,0,xv,[g.i,Ps,u.m,l.i],{graph:[0,"graph"],node:[1,"node"],nested:[2,"nested"],theme:[3,"theme"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.prunedViewGraph,t.context.$implicit,!1,n.theme)}),null)}function Uv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,"cdk-virtual-scroll-viewport",[["class","pv-3 cdk-virtual-scroll-viewport"]],[[4,"height","px"],[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,Ev.b,Ev.a)),l.Mb(6144,null,wb.b,null,[wb.d]),l.ub(2,540672,null,0,wb.a,[],{itemSize:[0,"itemSize"]},null),l.Mb(1024,null,wb.i,wb.k,[wb.a]),l.ub(4,245760,null,0,wb.d,[l.l,l.i,l.z,[2,wb.i],[2,Ge.b],wb.f],null,null),(e()(),l.lb(16777216,null,0,1,null,Dv)),l.ub(6,409600,null,0,wb.c,[l.Q,l.N,l.s,[1,wb.d],l.z],{cdkVirtualForOf:[0,"cdkVirtualForOf"],cdkVirtualForTrackBy:[1,"cdkVirtualForTrackBy"]},null)],(function(e,t){var n=t.component;e(t,2,0,64),e(t,4,0),e(t,6,0,n.searchResults,n.trackTreeNode)}),(function(e,t){e(t,0,0,t.component.searchHeight,"horizontal"===l.Hb(t,4).orientation,"horizontal"!==l.Hb(t,4).orientation)}))}function Bv(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,6,"div",[["class","tree-search"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Rv)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Av)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Uv)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,0===n.searchResults.length),e(t,4,0,n.displayMode===n.treeSearchDisplayMode.Tree),e(t,6,0,n.displayMode===n.treeSearchDisplayMode.List)}),null)}let $v=(()=>{class e{constructor(e,t){this.viewService=e,this.store=t,this.query="",this.treeTheme=_m,this.treeSearchDisplayMode=vm}ngOnInit(){}handleSearchKeyup(e,t){"Escape"===e.key&&(this.handleExitClick(),this.searchInput.nativeElement.blur()),this.query=t}handleExitClick(){this.query="",this.viewService.toggleSearch(!1)}toggleDisplayMode(){let e=this.store.selectSnapshot(jm.getSearchDisplayMode);this.setDisplayMode(e=e===vm.List?vm.Tree:vm.List)}setDisplayMode(e){this.store.dispatch(new B.SetSearchDisplayMode(e))}}return Object(b.__decorate)([Object(g.e)(Wr.getViewGraph),Object(b.__metadata)("design:type",V.a)],e.prototype,"viewGraph$",void 0),Object(b.__decorate)([Object(g.e)(jm.getSearchDisplayMode),Object(b.__metadata)("design:type",V.a)],e.prototype,"searchDisplayMode$",void 0),e})();var Vv=l.tb({encapsulation:2,styles:[[".view-search{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%}@-webkit-keyframes appear{from{background-color:transparent}}@keyframes appear{from{background-color:transparent}}.view-search__header{background-color:#2d72dc;background-color:var(--view-search-header-bg);-webkit-box-flex:0;flex:0 0 auto;display:-webkit-box;display:flex;padding:12px 12px 16px;-webkit-animation:250ms ease-out appear;animation:250ms ease-out appear}.view-search__input-container{background-color:#fff;background-color:var(--view-search-input-bg);display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;border-radius:4px}.view-search__input{color:#131c2a;color:var(--view-search-active-color);background:0 0;border:1px solid transparent;outline:0;-webkit-box-flex:1;flex:1 0 auto;padding:8px 12px;font-size:13px;font-family:'Inter UI',\"Font Awesome 5 Pro\"!important}.view-search__input::-ms-clear{display:none}.view-search__input::-webkit-input-placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__input::-moz-placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__input:-ms-input-placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__input::-ms-input-placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__input::placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__action{background:0 0;border:0;color:#96a8c0;color:var(--view-search-inactive-color);cursor:pointer;width:36px;height:36px;outline:0}.view-search__action:hover{color:#131c2a;color:var(--view-search-active-color)}.view-search__divider{border-right:1px solid #96a8c0;border-right:1px solid var(--view-search-divider-color);margin:8px 0}.view-search__body{-webkit-box-flex:1;flex:1 1 100%;overflow-y:scroll;padding-left:12px}.view-search__actions{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}@media not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none){.view-search__input{font-size:16px;padding:4px 8px;width:0}}}"]],data:{}});function Qv(e){return l.Rb(2,[l.Nb(671088640,1,{searchInput:0}),(e()(),l.vb(1,0,null,null,21,"div",[["class","view-search"]],null,null,null,null,null)),(e()(),l.vb(2,0,null,null,15,"div",[["class","view-search__header"]],null,null,null,null,null)),(e()(),l.vb(3,0,null,null,14,"div",[["class","view-search__input-container"]],null,null,null,null,null)),(e()(),l.vb(4,0,[[1,0],["searchInput",1]],null,2,"input",[["appAutoFocus",""],["appSelectOnFocus",""],["aria-label","Search Anatomy"],["class","view-search__input"],["placeholder","Search Anatomy..."],["role","search"],["type","search"]],[[8,"value",0]],[[null,"keyup"],[null,"click"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,6).onClick(n,n.target)&&i),"keyup"===t&&(i=!1!==a.handleSearchKeyup(n,l.Hb(e,4).value)&&i),i}),null,null)),l.ub(5,1064960,null,0,Gy,[l.l],null,null),l.ub(6,16384,null,0,Wy,[],null,null),(e()(),l.vb(7,16777216,null,null,5,"button",[["class","view-search__action"],["type","button"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,8).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,8)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,8)._handleTouchend()&&i),"click"===t&&(i=!1!==a.toggleDisplayMode()&&i),i}),null,null)),l.ub(8,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(10,0,null,null,2,"app-icon",[["aria-hidden",""]],null,null,null,se,oe)),l.ub(11,114688,null,0,ae,[],{icon:[0,"icon"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(13,0,null,null,0,"div",[["class","view-search__divider"]],null,null,null,null,null)),(e()(),l.vb(14,16777216,null,null,3,"button",[["class","view-search__action"],["matTooltip","Close Search"],["type","button"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,15).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,15)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,15)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleExitClick()&&i),i}),null,null)),l.ub(15,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),(e()(),l.vb(16,0,null,null,1,"app-icon",[["icon","times"]],null,null,null,se,oe)),l.ub(17,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(18,0,null,null,4,"div",[["class","view-search__body"]],null,null,null,null,null)),(e()(),l.vb(19,0,null,null,3,"app-tree-search",[],null,null,null,Bv,Nv)),l.ub(20,4440064,null,0,xm,[l.F,l.i,l.l,Ls,Ps,g.i],{query:[0,"query"],displayMode:[1,"displayMode"],viewGraph:[2,"viewGraph"],theme:[3,"theme"]},null),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,8,0,l.Qb(t,8,0,l.Hb(t,9).transform(n.searchDisplayMode$))===n.treeSearchDisplayMode.List?"Switch to Anatomy Tree":"Switch to Anatomy List"),e(t,11,0,l.Qb(t,11,0,l.Hb(t,12).transform(n.searchDisplayMode$))===n.treeSearchDisplayMode.List?"sitemap":"list"),e(t,15,0,"Close Search"),e(t,17,0,"times"),e(t,20,0,n.query,l.Qb(t,20,1,l.Hb(t,21).transform(n.searchDisplayMode$)),l.Qb(t,20,2,l.Hb(t,22).transform(n.viewGraph$)),n.treeTheme.Themed)}),(function(e,t){e(t,4,0,t.component.query)}))}let Gv=(()=>{class e{constructor(e,t,n){this.store=e,this.actions=t,this.changeRef=n,this.layout="drawer",this.showClose=!0,this.isOpen=!1,this.ngUnsubscribe=new $.a}ngOnInit(){this.initInfoListeners()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}handleHideClick(e){this.store.dispatch(new ho([e],!1))}handleCloseClick(){const e=this.store.selectSnapshot(jm.getLayout);e.nodeInfo.status=pm.Hide,this.store.dispatch(new B.SetLayout(e))}initInfoListeners(){this.actions.pipe(Object(g.k)(Co,wo,xo),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.isOpen=!0,this.changeRef.markForCheck()})}formatHTML(e){return e.trim().replace(new RegExp("\r?\n","g"),"<br><br>")}}return Object(b.__decorate)([Object(g.e)(um.getSelectedNode),Object(b.__metadata)("design:type",V.a)],e.prototype,"node$",void 0),Object(b.__decorate)([Object(g.e)(um.getQuerying),Object(b.__metadata)("design:type",V.a)],e.prototype,"querying$",void 0),e})();var Wv=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-node-description{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.view-node-description--layout-drawer .view-node-description__body{margin-top:8px}.view-node-description--layout-column .view-node-description__body{margin-top:4px}.view-node-description__header{display:-webkit-box;display:flex}.view-node-description__title{font-size:18px;letter-spacing:.45px;line-height:1.4em;-webkit-box-flex:1;flex:1 1 auto;font-weight:600;align-self:center}.view-node-description--layout-drawer .view-node-description__title{font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-node-description__body{font-size:14px;letter-spacing:.35px;line-height:1.4em;color:var(--view-description-secondary-color)}.view-node-description__attribution{color:var(--view-description-secondary-color);margin-top:16px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.view-node-description__actions{cursor:pointer;outline:0;border:none;background:0 0;padding:4px 8px}"]],data:{}});function Jv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"button",[["app-pin-button",""],["class","mr-1 mt-1"],["icon","arrow-left"],["size","small"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseClick()&&l),l}),xy,_y)),l.ub(1,114688,null,0,hy,[],{icon:[0,"icon"],size:[1,"size"]},null)],(function(e,t){e(t,1,0,"arrow-left","small")}),null)}function qv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[["class","view-node-description__body"]],[[2,"text-italic",null],[8,"innerHTML",1]],null,null,null,null)),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i])],null,(function(e,t){var n,i,a=t.component;e(t,0,0,!(null!=(n=l.Qb(t,0,0,l.Hb(t,1).transform(a.node$)))&&n.description),a.formatHTML((null==(i=l.Qb(t,0,1,l.Hb(t,2).transform(a.node$)))?null:i.description)||"No description available"))}))}function Kv(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"div",[["class","view-node-description__attribution"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,[" Source: "])),(e()(),l.vb(2,0,null,null,1,"span",[["class","text-italic"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Wikipedia"]))],null,null)}function Xv(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,15,"div",[["class","view-node-description"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"view-node-description--layout-column":0,"view-node-description--layout-drawer":1}),(e()(),l.vb(4,0,null,null,5,"div",[["class","view-node-description__header"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Jv)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(7,0,null,null,2,"div",[["class","view-node-description__title"]],null,null,null,null,null)),(e()(),l.Pb(8,null,["",""])),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,qv)),l.ub(11,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,Kv)),l.ub(14,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n,i=t.component,a=e(t,3,0,"column"===i.layout,"drawer"===i.layout);e(t,2,0,"view-node-description",a),e(t,6,0,i.showClose),e(t,11,0,!l.Qb(t,11,0,l.Hb(t,12).transform(i.querying$))),e(t,14,0,null==(n=l.Qb(t,14,0,l.Hb(t,15).transform(i.node$)))?null:n.description)}),(function(e,t){var n,i=t.component;e(t,8,0,null==(n=l.Qb(t,8,0,l.Hb(t,9).transform(i.node$)))?null:n.label)}))}let Zv=(()=>{class e{constructor(e,t,n){this.viewService=e,this.layoutService=t,this.changeDetectorRef=n,this.ngUnsubscribe=new $.a,this.viewLayout=u_,this.application=i}ngOnInit(){this.initLayoutObserver()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initLayoutObserver(){Object(Gu.b)(this.layout$,this.chapter$).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}isVisible(e){switch(e){case u_.Column:return this.layoutService.isColumnVisible();case u_.NodeInfo:return this.layoutService.isNodeInfoVisible("column");case u_.Search:return this.layoutService.isSearchColumnVisible()}}handleSearchClick(){this.viewService.toggleSearch(!0)}}return Object(b.__decorate)([Object(g.e)(ac.getSelectedChapter),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapter$",void 0),Object(b.__decorate)([Object(g.e)(jm.getLayout),Object(b.__metadata)("design:type",V.a)],e.prototype,"layout$",void 0),e})();var Yv=l.tb({encapsulation:2,styles:[[".view-column-container{pointer-events:none;height:100%;width:320px;position:fixed;left:0;top:0;z-index:30}.view-column-container app-view-column{position:absolute;left:0;top:0;height:100%;z-index:40}"]],data:{animation:[{type:7,name:"slideInOut",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateX(-320px)"},offset:null},{type:4,styles:{type:6,styles:{transform:"*"},offset:null},timings:"300ms ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateX(-320px)"},offset:null},timings:"300ms ease-in-out"}],options:null}],options:{}}]}});function ex(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-view-internal-header",[],null,null,null,ty,Yf)),l.ub(1,245760,null,0,Zf,[u.a,g.i,l.i,Tc,hr],null,null)],(function(e,t){e(t,1,0)}),null)}function tx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,7,"app-view-column",[["class","view-column-container__inner"]],[[24,"@slideInOut",0]],null,null,iy,ly)),l.ub(1,114688,null,0,ny,[],null,null),(e()(),l.vb(2,0,null,0,2,null,null,null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,ex)),l.ub(4,81920,null,0,Hf,[l.N,l.Q,u.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"]},null),(e()(),l.vb(5,0,null,1,2,null,null,null,null,null,null,null)),(e()(),l.vb(6,0,null,null,1,"app-view-content-mode",[["layout","column"]],null,null,null,Qy,Dy)),l.ub(7,245760,null,0,Ay,[g.i,Wm,wy,l.i],{layout:[0,"layout"]},null)],(function(e,t){var n=t.component;e(t,1,0),e(t,4,0,n.application.Viewer,"exclude"),e(t,7,0,"column")}),(function(e,t){e(t,0,0,void 0)}))}function nx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"app-view-column",[["class","view-column-container__inner"]],[[24,"@slideInOut",0]],null,null,iy,ly)),l.ub(1,114688,null,0,ny,[],{unpadded:[0,"unpadded"]},null),(e()(),l.vb(2,0,null,1,1,"app-view-search",[],null,null,null,Qv,Vv)),l.ub(3,114688,null,0,$v,[Wm,g.i],null,null)],(function(e,t){e(t,1,0,!0),e(t,3,0)}),(function(e,t){e(t,0,0,void 0)}))}function lx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"app-view-column",[["class","view-column-container__inner"]],[[24,"@slideInOut",0]],null,null,iy,ly)),l.ub(1,114688,null,0,ny,[],null,null),(e()(),l.vb(2,0,null,1,1,"app-view-node-description",[["layout","column"]],null,null,null,Xv,Wv)),l.ub(3,245760,null,0,Gv,[g.i,g.b,l.i],{layout:[0,"layout"]},null)],(function(e,t){e(t,1,0),e(t,3,0,"column")}),(function(e,t){e(t,0,0,void 0)}))}function ix(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,6,"div",[["class","view-column-container"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,tx)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,nx)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,lx)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.isVisible(n.viewLayout.Column)),e(t,4,0,n.isVisible(n.viewLayout.Search)),e(t,6,0,n.isVisible(n.viewLayout.NodeInfo))}),null)}class ax{constructor(){this.canExit=!1,this.padding="normal",this.orientation="horizontal",this.name="",this.exit=new l.n}ngOnInit(){}handleExitClick(){this.exit.emit()}}var ox=l.tb({encapsulation:2,styles:[[".pillbox{border-radius:32px;background-color:rgba(255,255,255,.8);box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#131c2a;background-color:var(--pillbox-bg);box-shadow:var(--pillbox-shadow);color:var(--pillbox-color);padding:6px 16px;display:-webkit-inline-box;display:inline-flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;overflow:hidden;-webkit-transition:padding 150ms;transition:padding 150ms}.pillbox--padding-dense{padding:4px}.pillbox--padding-none{padding:0}.pillbox--vertical{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.pillbox__divider{border-right:1px solid rgba(0,0,0,.1);border-right:var(--pillbox-border);height:18px;margin:0 8px}"]],data:{}});function sx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,0,"div",[["class","pillbox__divider"]],null,null,null,null,null)),(e()(),l.vb(2,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","times"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,4).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,4)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,4)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleExitClick()&&i),i}),xy,_y)),l.ub(3,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),l.ub(4,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){var n=t.component;e(t,3,0,"times","ghost"),e(t,4,0,"Close "+n.name)}),null)}function rx(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,6,"div",[["class","pillbox"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"pillbox--padding-dense":0,"pillbox--padding-none":1,"pillbox--vertical":2}),l.Gb(null,0),(e()(),l.lb(16777216,null,null,1,null,sx)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,"dense"===n.padding,"none"===n.padding,"vertical"===n.orientation);e(t,2,0,"pillbox",l),e(t,6,0,n.canExit)}),null)}var cx=n("Mc5n"),ux=n("gcYM");let px=(()=>{class e{constructor(e,t,n,l,i,a){this.engineService=e,this.animationService=t,this.renderer=n,this.viewService=l,this.changeDetectorRef=i,this.store=a,this.showHandle=!0,this.ngUnsubscribe=new $.a,this.trackWidth=0,this.dragPosition={x:16,y:0},this.dragMove=new $.a}ngOnInit(){this.initChapterListener(),this.initTimelineListener(),this.initDragListener()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initChapterListener(){this.selectedChapterId$.pipe(Object(G.a)(e=>null!=e),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.timerange=this.animationService.getChapterLocalTimerange(e)})}initTimelineListener(){this.engineService.getEvent(Vo.TimelinePlaying).pipe(Object(ux.a)(20),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>this.tick(e.time)),this.engineService.getEvent(Vo.TimelineScrubbed).pipe(Object(ux.a)(20),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{const t=this.calcScrubbedPercent(e.time);this.setScrubberBar(t)})}initDragListener(){this.dragMove.pipe(Object(Kh.a)(20),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{const t=this.calculateHandlePercent();this.scrubToPercent(t)})}handleDragMoved(e){this.dragMove.next(e)}tick(e){if(!this.timerange)return;const t=this.calcScrubbedPercent(e);this.setScrubberBar(t),0===this.trackWidth&&(this.trackWidth=this.track.nativeElement.offsetWidth),this.showHandle&&(this.dragPosition=Object.assign({},this.dragPosition,{x:16+this.trackWidth*(t/100)}),this.changeDetectorRef.markForCheck())}calculateHandlePercent(){const{left:e,right:t}=this.scrubber.nativeElement.getBoundingClientRect(),n=t-e-32;return(this.handle.nativeElement.getBoundingClientRect().left-e)/n*100}scrubToPercent(e){const t=e/100*this.timerange.lastTime,n=0===e?"second":"first",l=this.store.selectSnapshot(ac.getSelectedChapterId),i=this.animationService.mapLocalTimeToGlobal(l,t);this.animationService.scrub({time:i,which:n})}handlePlayClick(){this.viewService.toggleAnimation()}setScrubberBar(e){this.renderer.setStyle(this.bar.nativeElement,"width",`${e}%`)}calcScrubbedPercent(e){const{firstTime:t,lastTime:n}=this.timerange,l=this.animationService.mapGlobalTimeToLocal(e).time,i=Math.max(t,Math.min(l,n));return Math.round(i/n*100)}}return Object(b.__decorate)([Object(g.e)(Wr.getAnimationPlaying),Object(b.__metadata)("design:type",V.a)],e.prototype,"animationPlaying$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterId),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedChapterId$",void 0),Object(b.__decorate)([Object(g.e)(jm.getCanTouch),Object(b.__metadata)("design:type",V.a)],e.prototype,"canTouch$",void 0),e})();var dx=l.tb({encapsulation:2,styles:[['.view-scrubber{position:relative;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;height:28px;width:100%}.view-scrubber:hover .view-scrubber__handle:after{opacity:1}.view-scrubber--draggable .view-scrubber__track{left:16px;right:16px}.view-scrubber__track{position:absolute;background:rgba(28,42,63,.5);background:var(--scrubber-track-bg);z-index:1;height:3px;left:0;right:0}.view-scrubber__bar{position:absolute;background:var(--scrubber-track-color);height:3px;z-index:2;width:0;left:0}.view-scrubber__handle{width:28px;height:28px;margin-left:-16px;left:0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:absolute;z-index:2}.view-scrubber__handle--hide{display:none}.view-scrubber__handle:after{opacity:0;-webkit-transition:opacity 250ms;transition:opacity 250ms;content:"";width:8px;height:8px;border-radius:4px;background:var(--scrubber-handle-color);box-shadow:var(--scrubber-handle-shadow)}.view-scrubber__handle:hover:after{opacity:1;background:var(--scrubber-handle-color--hover)}.view-scrubber__handle-touch:after{opacity:1}']],data:{}});function bx(e){return l.Rb(2,[l.Nb(402653184,1,{scrubber:0}),l.Nb(402653184,2,{track:0}),l.Nb(402653184,3,{bar:0}),l.Nb(402653184,4,{handle:0}),(e()(),l.vb(4,0,[[1,0],["scrubber",1]],null,15,"div",[["class","view-scrubber"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(6,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(7,{"view-scrubber--draggable":0}),(e()(),l.vb(8,0,[[2,0],["track",1]],null,1,"div",[["class","view-scrubber__track"]],null,null,null,null,null)),(e()(),l.vb(9,0,[[3,0],["bar",1]],null,0,"div",[["class","view-scrubber__bar"]],null,null,null,null,null)),(e()(),l.vb(10,16777216,[[4,0],["handle",1]],null,9,"div",[["cdkDrag",""],["cdkDragBoundary",".view-scrubber"],["cdkDragLockAxis","x"],["class","view-scrubber__handle cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],[[null,"cdkDragMoved"]],(function(e,t,n){var l=!0;return"cdkDragMoved"===t&&(l=!1!==e.component.handleDragMoved(n)&&l),l}),null,null)),l.Mb(6144,null,cx.g,null,[cx.c]),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(13,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Jb(131072,Y.b,[l.i]),l.Kb(15,{"view-scrubber__handle--hide":0,"view-scrubber__handle-touch":1}),l.ub(16,4866048,null,3,cx.c,[l.l,[3,cx.b],Y.d,l.z,l.Q,cx.a,[2,Ge.b],cx.d,l.i],{lockAxis:[0,"lockAxis"],boundaryElement:[1,"boundaryElement"],freeDragPosition:[2,"freeDragPosition"]},{moved:"cdkDragMoved"}),l.Nb(603979776,5,{_handles:1}),l.Nb(603979776,6,{_previewTemplate:0}),l.Nb(603979776,7,{_placeholderTemplate:0})],(function(e,t){var n=t.component,i=e(t,7,0,n.showHandle);e(t,6,0,"view-scrubber",i);var a=e(t,15,0,!n.showHandle,l.Qb(t,13,1,l.Hb(t,14).transform(n.canTouch$)));e(t,13,0,"view-scrubber__handle",a),e(t,16,0,"x",".view-scrubber",n.dragPosition)}),(function(e,t){e(t,10,0,l.Hb(t,16).disabled,l.Hb(t,16)._dragRef.isDragging())}))}class gx{constructor(e,t){this.el=e,this.renderer=t}ngOnInit(){n_()&&this.renderer.setStyle(this.el.nativeElement,"display","none")}}var hx=n("zMNK"),mx=function(e){return e.Above="above",e.Below="below",e.Left="left",e.Right="right",e}({});const _x={[mx.Above]:{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-12},[mx.Below]:{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:12},[mx.Left]:{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-12},[mx.Right]:{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:12}};let fx=(()=>{class e{constructor(e,t){this.overlay=e,this.injector=t}open({origin:e,content:t,data:n,width:l,height:i}){const a=this.overlay.create(this.getOverlayConfig({origin:e,width:l,height:i})),o=new Ah(a,t,n),s=this.createInjector(o,this.injector);return a.attach(new hx.c(Rh,null,s)),o}createInjector(e,t){const n=new WeakMap([[Ah,e]]);return new hx.e(t,n)}getPositionStrategy(e,t){return this.overlay.position().flexibleConnectedTo(e).withPositions(this.getPositions(t))}getOverlayConfig({origin:e,width:t,height:n}){return new Qe.b({width:t,height:n,hasBackdrop:!0,backdropClass:"popup-scrim",positionStrategy:this.getOverlayPosition(e),scrollStrategy:this.overlay.scrollStrategies.reposition()})}getOverlayPosition(e,t){return t=t||[mx.Above,mx.Below,mx.Left,mx.Right],this.overlay.position().flexibleConnectedTo(e).withPositions(this.getPositions(t)).withPush(!0)}getPositions(e){return e.map(e=>_x[e])}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(Qe.a),l.Vb(l.o))},token:e,providedIn:"root"}),e})();var yx=function(e){return e[e.Main=0]="Main",e[e.Media=1]="Media",e[e.Tools=2]="Tools",e[e.Empty=3]="Empty",e}({}),vx=function(e){return e[e.ViewToolbarMain=0]="ViewToolbarMain",e[e.ViewToolsPlay=1]="ViewToolsPlay",e[e.ViewToolsNewTab=2]="ViewToolsNewTab",e[e.ViewToolsFullscreen=3]="ViewToolsFullscreen",e[e.ViewToolsTools=4]="ViewToolsTools",e[e.ViewToolsSearch=5]="ViewToolsSearch",e[e.ViewToolsMediaBarToggle=6]="ViewToolsMediaBarToggle",e[e.ViewToolsPreviousChapter=7]="ViewToolsPreviousChapter",e[e.ViewToolsNextChapter=8]="ViewToolsNextChapter",e[e.ViewToolsChapterCount=9]="ViewToolsChapterCount",e[e.ViewToolsMore=10]="ViewToolsMore",e[e.EngineCameraBar=11]="EngineCameraBar",e}({});let xx=(()=>{class e{constructor(e,t,n,i,a){this.viewService=e,this.layoutService=t,this.store=n,this.changeDetectorRef=i,this.popupService=a,this.viewToolsMode=yx,this.viewLayout=u_,this.breakpointEnum=Em,this.testSelectors=vx,this.canFullscreen=!0,this.isFullscreen=!1,this.toolEnum=Qr,this.mediaControlsEnum=dm,this.ngUnsubscribe=new $.a,this.animate=!0,this._mode=yx.Main,this.collapsePagination=!1,this.modeChange=new l.n}get mode(){return this._mode}set mode(e){this._mode=e}ngOnInit(){this.canFullscreen=gm.canFullscreen(),this.initLayoutListener(),this.initBreakpointListener(),this.initChapterListener(),this.initFullscreenListener()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initLayoutListener(){this.store.select(jm.getLayout).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.mediaTemplate=e.media.template,this.changeDetectorRef.markForCheck()})}initBreakpointListener(){this.store.select(Rm.getBreakpoint).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.breakpoint=e,this.changeDetectorRef.markForCheck()})}initChapterListener(){this.store.select(ac.getSelectedChapterIndex).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.chaptersPopup&&this.chaptersPopup.close()})}initFullscreenListener(){this.fullscreen$=gm.onFullscreenChange(),this.fullscreen$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.isFullscreen=gm.isFullscreen(),this.changeDetectorRef.markForCheck()})}handleSelectTool(e){this.viewService.selectTool(e)}handleUndoClick(){this.viewService.undo()}handleToggleLabelsClick(){this.viewService.toggleLabels()}handleFullscreenClick(){gm.toggleFullscreen()}handleSearchClick(){this.viewService.toggleSearch()}handlePlayClick(){this.viewService.toggleAnimation()}handlePresentClick(){this.viewService.togglePresentation()}handleHelpClick(){this.viewService.toggleHelp()}handleNewTabClick(){this.viewService.openInNewTab()}handlePreviousClick(){this.viewService.previousChapter()}handleNextClick(){this.viewService.nextChapter()}handleChapterCountClick(){this.toggleChaptersPopup()}toggleChaptersPopup(){this.chaptersPopup=this.popupService.open({origin:this.chapterCount.nativeElement,content:Xh,width:"300px"}),console.log(this.chaptersPopup)}toggleToolbar(e){const t=this.store.selectSnapshot(jm.getLayout);t.media.status=pm.Hide,t.tools.status=pm.Hide,t.toolbar.status=pm.Hide,t[e].status=pm.Show,this.store.dispatch(new B.SetLayout(t))}isEnabled(e){return this.layoutService.isLayoutEnabled(e)}}return Object(b.__decorate)([Object(g.e)(Wr.getActiveTool),Object(b.__metadata)("design:type",V.a)],e.prototype,"activeTool$",void 0),Object(b.__decorate)([Object(g.e)(jm.getPresentationActive),Object(b.__metadata)("design:type",V.a)],e.prototype,"presentationActive$",void 0),Object(b.__decorate)([Object(g.e)(ac.getIsChapterAnimated),Object(b.__metadata)("design:type",V.a)],e.prototype,"isChapterAnimated$",void 0),Object(b.__decorate)([Object(g.e)(Wr.getShowLabels),Object(b.__metadata)("design:type",V.a)],e.prototype,"showLabels$",void 0),Object(b.__decorate)([Object(g.e)(Wr.getAnimationPlaying),Object(b.__metadata)("design:type",V.a)],e.prototype,"animationPlaying$",void 0),Object(b.__decorate)([Object(g.e)(uu.getChapterLabels),Object(b.__metadata)("design:type",V.a)],e.prototype,"labels$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterTitle),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapterTitle$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterIndex),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapterIndex$",void 0),Object(b.__decorate)([Object(g.e)(ac.getNextChapter),Object(b.__metadata)("design:type",V.a)],e.prototype,"nextChapter$",void 0),Object(b.__decorate)([Object(g.e)(ac.getPreviousChapter),Object(b.__metadata)("design:type",V.a)],e.prototype,"previousChapter$",void 0),Object(b.__decorate)([Object(g.e)(ac.getChapterCount),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapterCount$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterAudio),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedChapterAudio$",void 0),e})();var Ox=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-tools{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;overflow:hidden}@-webkit-keyframes viewToolsToggle{0%,100%{opacity:1}50%{opacity:0}}@keyframes viewToolsToggle{0%,100%{opacity:1}50%{opacity:0}}.view-tools--swap{-webkit-animation:.3s ease-in-out viewToolsToggle;animation:.3s ease-in-out viewToolsToggle}.view-tools--dense .view-tools__divider{margin:4px}.view-tools__inner{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.view-tools__group{border-right:var(--view-tools-border);padding:0 8px;display:-webkit-box;display:flex}.view-tools__group:empty{display:none}.view-tools__group:empty:first-of-type+.view-tools__group:not(:empty),.view-tools__group:first-of-type{padding-left:0}.view-tools__group:last-of-type{border-right:none;padding-right:0}.view-tools__item{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.view-tools__item:not(:last-child){margin-right:4px}.view-tools__divider{border-right:var(--view-tools-border);margin:4px 8px}.view-tools__count{font-size:12px;letter-spacing:.3px;line-height:1.4em;white-space:nowrap}"]],data:{}});function Cx(e){return l.Rb(0,[(e()(),l.vb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","pen"],["matTooltip","Open Explore Tools"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==a.toggleToolbar("tools")&&i),i}),xy,_y)),l.ub(1,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(2,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,1,0,"Open Explore Tools"),e(t,2,0,"pen","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsTools)}))}function wx(e){return l.Rb(0,[(e()(),l.vb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","search"],["matTooltip","Open Search"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleSearchClick()&&i),i}),xy,_y)),l.ub(1,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(2,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,1,0,"Open Search"),e(t,2,0,"search","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsSearch)}))}function jx(e){return l.Rb(0,[(e()(),l.vb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","expand"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleFullscreenClick()&&i),i}),xy,_y)),l.ub(1,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(2,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,1,0,t.component.isFullscreen?"Exit Fullscreen":"Enter Fullscreen"),e(t,2,0,"expand","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsFullscreen)}))}function kx(e){return l.Rb(0,[(e()(),l.vb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","external-link"],["matTooltip","Open in New Tab"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleNewTabClick()&&i),i}),xy,_y)),l.ub(1,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(2,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,1,0,"Open in New Tab"),e(t,2,0,"external-link","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsNewTab)}))}function Sx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,8,"div",[["class","view-tools__group"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Cx)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,wx)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,jx)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,kx)),l.ub(8,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.isEnabled(n.viewLayout.Tools)),e(t,4,0,n.isEnabled(n.viewLayout.Search)),e(t,6,0,n.canFullscreen&&n.isEnabled(n.viewLayout.Fullscreen)),e(t,8,0,!n.canFullscreen&&n.isEnabled(n.viewLayout.Fullscreen))}),null)}function Px(e){return l.Rb(0,[(e()(),l.vb(0,16777216,null,null,4,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["matTooltip","Open Media Bar"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==a.toggleToolbar("media")&&i),i}),xy,_y)),l.ub(1,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(2,114688,null,0,hy,[],{buttonType:[0,"buttonType"]},null),(e()(),l.vb(3,0,null,0,1,"app-view-scrubber",[["style","width: 16px"]],null,null,null,bx,dx)),l.ub(4,245760,null,0,px,[Ls,tc,l.F,Wm,l.i,g.i],{showHandle:[0,"showHandle"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,1,0,"Open Media Bar"),e(t,2,0,"ghost"),e(t,4,0,!1)}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsMediaBarToggle)}))}function Mx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,7,"div",[["class","view-tools__group"]],null,null,null,null,null)),(e()(),l.vb(1,16777216,null,null,4,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,2).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,2)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,2)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handlePlayClick()&&i),i}),xy,_y)),l.ub(2,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.Jb(131072,Y.b,[l.i]),l.ub(4,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,1,null,Px)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,l.Qb(t,2,0,l.Hb(t,3).transform(n.animationPlaying$))?"Pause Animation":"Play Animation"),e(t,4,0,l.Qb(t,4,0,l.Hb(t,5).transform(n.animationPlaying$))?"pause":"play","ghost"),e(t,7,0,n.mediaTemplate===n.mediaControlsEnum.Full)}),(function(e,t){e(t,1,0,t.component.testSelectors.ViewToolsPlay)}))}function Hx(e){return l.Rb(0,[(e()(),l.vb(0,16777216,null,null,10,"button",[["app-pin-button",""],["buttonType","ghost"],["matTooltip","Toggle Chapter List"]],[[1,"data-test",0],[1,"visible",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleChapterCountClick()&&i),i}),xy,_y)),l.ub(1,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(2,114688,null,0,hy,[],{buttonType:[0,"buttonType"]},null),(e()(),l.vb(3,0,null,0,3,"div",[["aria-hidden","true"],["class","ph-2 text-bold"],["style","white-space: nowrap;"]],null,null,null,null,null)),(e()(),l.Pb(4,null,[" "," / "," "])),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(7,0,null,0,3,"span",[["class","visually-hidden"]],null,null,null,null,null)),(e()(),l.Pb(8,null,[" Toggle Chapter List, Chapter "," of "," "])),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,1,0,"Toggle Chapter List"),e(t,2,0,"ghost")}),(function(e,t){var n=t.component;e(t,0,0,n.testSelectors.ViewToolsChapterCount,n.breakpoint!==n.breakpointEnum.Small),e(t,4,0,l.Qb(t,4,0,l.Hb(t,5).transform(n.chapterIndex$))+1,l.Qb(t,4,1,l.Hb(t,6).transform(n.chapterCount$))),e(t,8,0,l.Qb(t,8,0,l.Hb(t,9).transform(n.chapterIndex$))+1,l.Qb(t,8,1,l.Hb(t,10).transform(n.chapterCount$)))}))}function Ix(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,16,"div",[["class","view-tools__group"]],null,null,null,null,null)),(e()(),l.vb(1,16777216,null,null,5,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","arrow-left"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,2).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,2)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,2)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handlePreviousClick()&&i),i}),xy,_y)),l.ub(2,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.ub(5,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],disabled:[2,"disabled"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(7,0,[[1,0],["chapterCount",1]],null,2,"div",[["class","view-tools__item"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Hx)),l.ub(9,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(10,16777216,null,null,6,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","arrow-right"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,11).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,11)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,11)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleNextClick()&&i),i}),xy,_y)),l.ub(11,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.ub(14,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],disabled:[2,"disabled"]},null),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component,i=null;e(t,2,0,l.Qb(t,2,0,l.Hb(t,3).transform(n.previousChapter$))?"Previous: "+(null==(i=l.Qb(t,2,0,l.Hb(t,4).transform(n.previousChapter$)))?null:i.info.displayName):""),e(t,5,0,"arrow-left","ghost",0===l.Qb(t,5,2,l.Hb(t,6).transform(n.chapterIndex$))),e(t,9,0,!n.collapsePagination);var a=null;e(t,11,0,l.Qb(t,11,0,l.Hb(t,12).transform(n.nextChapter$))?"Next: "+(null==(a=l.Qb(t,11,0,l.Hb(t,13).transform(n.nextChapter$)))?null:a.info.displayName):""),e(t,14,0,"arrow-right","ghost",l.Qb(t,14,2,l.Hb(t,15).transform(n.chapterIndex$))===l.Qb(t,14,2,l.Hb(t,16).transform(n.chapterCount$))-1)}),(function(e,t){var n=t.component;e(t,1,0,n.testSelectors.ViewToolsPreviousChapter),e(t,10,0,n.testSelectors.ViewToolsNextChapter)}))}function Tx(e){return l.Rb(0,[(e()(),l.vb(0,16777216,null,null,3,"button",[["app-pin-button",""],["aria-haspopup","true"],["buttonType","ghost"],["class","view-tools__item mat-menu-trigger"],["icon","ellipsis-v"],["matTooltip","More Menu"]],[[1,"data-test",0],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"],[null,"longpress"],[null,"touchend"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==l.Hb(e,1)._handleMousedown(n)&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"click"===t&&(i=!1!==l.Hb(e,1)._handleClick(n)&&i),"longpress"===t&&(i=!1!==l.Hb(e,2).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,2)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,2)._handleTouchend()&&i),i}),xy,_y)),l.ub(1,1196032,null,0,we.g,[Qe.a,l.l,l.Q,we.c,[2,we.d],[8,null],[2,Ge.b],pe.e],{menu:[0,"menu"]},null),l.ub(2,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(3,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,1,0,l.Hb(t.parent.parent,9)),e(t,2,0,"More Menu"),e(t,3,0,"ellipsis-v","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsMore,l.Hb(t,1).menuOpen||null)}))}function zx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,11,null,null,null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Sx)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,2,null,Mx)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,Ix)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(9,0,null,null,2,"div",[["class","view-tools__group"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Tx)),l.ub(11,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.breakpoint>=n.breakpointEnum.Medium),e(t,4,0,l.Qb(t,4,0,l.Hb(t,5).transform(n.isChapterAnimated$))&&n.isEnabled(n.viewLayout.Media)),e(t,7,0,l.Qb(t,7,0,l.Hb(t,8).transform(n.chapterCount$))>1&&n.isEnabled(n.viewLayout.Pagination)),e(t,11,0,n.isEnabled(n.viewLayout.Menu))}),null)}function Fx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,19,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,13,"div",[["class","flex"],["role","radiogroup"]],null,null,null,null,null)),(e()(),l.vb(2,16777216,null,null,3,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","mouse-pointer"],["matTooltip","Select"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,3).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,3)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,3)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleSelectTool(a.toolEnum.Select)&&i),i}),xy,_y)),l.ub(3,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(4,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],selected:[2,"selected"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(6,16777216,null,null,3,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","eye-slash"],["matTooltip","Hide"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,7).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,7)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,7)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleSelectTool(a.toolEnum.Hide)&&i),i}),xy,_y)),l.ub(7,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(8,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],selected:[2,"selected"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(10,16777216,null,null,4,"button",[["app-pin-button",""],["appHideIE11",""],["buttonType","ghost"],["class","view-tools__item"],["icon","adjust"],["matTooltip","Fade"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,11).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,11)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,11)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleSelectTool(a.toolEnum.Fade)&&i),i}),xy,_y)),l.ub(11,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(12,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],selected:[2,"selected"]},null),l.Jb(131072,Y.b,[l.i]),l.ub(14,81920,null,0,gx,[l.l,l.F],null,null),(e()(),l.vb(15,0,null,null,0,"div",[["class","view-tools__divider"]],null,null,null,null,null)),(e()(),l.vb(16,16777216,null,null,3,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","undo"],["matTooltip","Undo"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,17).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,17)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,17)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleUndoClick()&&i),i}),xy,_y)),l.ub(17,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{message:[0,"message"]},null),l.ub(18,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],disabled:[2,"disabled"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(0,null,null,0))],(function(e,t){var n=t.component;e(t,3,0,"Select"),e(t,4,0,"mouse-pointer","ghost",l.Qb(t,4,2,l.Hb(t,5).transform(n.activeTool$))===n.toolEnum.Select),e(t,7,0,"Hide"),e(t,8,0,"eye-slash","ghost",l.Qb(t,8,2,l.Hb(t,9).transform(n.activeTool$))===n.toolEnum.Hide),e(t,11,0,"Fade"),e(t,12,0,"adjust","ghost",l.Qb(t,12,2,l.Hb(t,13).transform(n.activeTool$))===n.toolEnum.Fade),e(t,14,0),e(t,17,0,"Undo"),e(t,18,0,"undo","ghost",l.Qb(t,18,2,l.Hb(t,19).transform(n.activeTool$))!==n.toolEnum.Hide)}),null)}function Lx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleHelpClick()&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[2,4],[3,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.Pb(-1,0,[" Help "]))],null,(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Ex(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Pb(-1,null,["Hide labels"]))],null,null)}function Nx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Pb(-1,null,["Show labels"]))],null,null)}function Rx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.toggleToolbar("tools")&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[2,4],[3,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.vb(2,0,null,0,1,"app-icon",[["icon","pen"]],null,null,null,se,oe)),l.ub(3,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(4,0,null,0,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Open Explore Tools"]))],(function(e,t){e(t,3,0,"pen")}),(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Ax(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleSearchClick()&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[2,4],[3,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.vb(2,0,null,0,1,"app-icon",[["icon","search"]],null,null,null,se,oe)),l.ub(3,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(4,0,null,0,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Open Search"]))],(function(e,t){e(t,3,0,"search")}),(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Dx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Exit Fullscreen"]))],null,null)}function Ux(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Enter Fullscreen"]))],null,null)}function Bx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,7,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleFullscreenClick()&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[2,4],[3,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.vb(2,0,null,0,1,"app-icon",[["icon","expand"]],null,null,null,se,oe)),l.ub(3,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.lb(16777216,null,0,1,null,Dx)),l.ub(5,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,0,1,null,Ux)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,3,0,"expand"),e(t,5,0,n.isFullscreen),e(t,7,0,!n.isFullscreen)}),(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function $x(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,1)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,1)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleNewTabClick()&&i),i}),Ce.c,Ce.a)),l.ub(1,180224,[[2,4],[3,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],null,null),(e()(),l.vb(2,0,null,0,1,"app-icon",[["icon","external-link"]],null,null,null,se,oe)),l.ub(3,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(4,0,null,0,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Open in New Tab"]))],(function(e,t){e(t,3,0,"external-link")}),(function(e,t){e(t,0,0,l.Hb(t,1).role,l.Hb(t,1)._highlighted,l.Hb(t,1)._triggersSubmenu,l.Hb(t,1)._getTabIndex(),l.Hb(t,1).disabled.toString(),l.Hb(t,1).disabled||null)}))}function Vx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,kb.b,kb.a)),l.ub(2,49152,null,0,Sb.a,[],null,null),(e()(),l.lb(16777216,null,null,1,null,Rx)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Ax)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Bx)),l.ub(8,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,$x)),l.ub(10,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){var n=t.component;e(t,4,0,n.isEnabled(n.viewLayout.Tools)),e(t,6,0,n.isEnabled(n.viewLayout.Search)),e(t,8,0,n.canFullscreen&&n.isEnabled(n.viewLayout.Fullscreen)),e(t,10,0,!n.canFullscreen&&n.isEnabled(n.viewLayout.Fullscreen))}),(function(e,t){e(t,1,0,l.Hb(t,2).vertical?"vertical":"horizontal",l.Hb(t,2).vertical,!l.Hb(t,2).vertical,l.Hb(t,2).inset)}))}function Qx(e){return l.Rb(2,[l.Nb(671088640,1,{chapterCount:0}),(e()(),l.vb(1,0,null,null,4,"div",[["aria-label","Tools"],["class","view-tools"],["role","toolbar"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,zx)),l.ub(3,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,Fx)),l.ub(5,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(6,0,null,null,19,"mat-menu",[],null,null,null,Ce.d,Ce.b)),l.Mb(6144,null,we.d,null,[we.h]),l.Mb(6144,null,we.b,null,[we.d]),l.ub(9,1294336,[["moreMenu",4]],3,we.h,[l.l,l.z,we.a],null,null),l.Nb(603979776,2,{_allItems:1}),l.Nb(603979776,3,{items:1}),l.Nb(603979776,4,{lazyContent:0}),(e()(),l.lb(16777216,null,0,1,null,Lx)),l.ub(14,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(15,0,null,0,8,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var i=!0,a=e.component;return"click"===t&&(i=!1!==l.Hb(e,16)._checkDisabled(n)&&i),"mouseenter"===t&&(i=!1!==l.Hb(e,16)._handleMouseEnter()&&i),"click"===t&&(i=!1!==a.handleToggleLabelsClick()&&i),i}),Ce.c,Ce.a)),l.ub(16,180224,[[2,4],[3,4]],0,we.e,[l.l,Y.d,pe.e,[2,we.b]],{disabled:[0,"disabled"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,0,2,null,Ex)),l.ub(19,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,0,2,null,Nx)),l.ub(22,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,0,1,null,Vx)),l.ub(25,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n,i=t.component;e(t,3,0,i.mode===i.viewToolsMode.Main),e(t,5,0,i.mode===i.viewToolsMode.Tools),e(t,9,0),e(t,14,0,i.isEnabled(i.viewLayout.Help)),e(t,16,0,!(null!=(n=l.Qb(t,16,0,l.Hb(t,17).transform(i.labels$)))&&n.length)),e(t,19,0,l.Qb(t,19,0,l.Hb(t,20).transform(i.showLabels$))),e(t,22,0,!l.Qb(t,22,0,l.Hb(t,23).transform(i.showLabels$))),e(t,25,0,i.breakpoint<=i.breakpointEnum.Small)}),(function(e,t){e(t,15,0,l.Hb(t,16).role,l.Hb(t,16)._highlighted,l.Hb(t,16)._triggersSubmenu,l.Hb(t,16)._getTabIndex(),l.Hb(t,16).disabled.toString(),l.Hb(t,16).disabled||null)}))}let Gx=(()=>{class e{constructor(e,t){this.animationService=e,this.viewService=t,this.size="small",this.showPlayPause=!0,this.showScrubber=!0,this.showBar=!0,this.ngUnsubscribe=new $.a}get template(){return this._template}set template(e){this._template=e,this.updateLayoutProperties(this.template)}ngOnInit(){this.initChapterListener()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initChapterListener(){this.selectedChapterId$.pipe(Object(G.a)(e=>null!=e),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.timerange=this.animationService.getChapterLocalTimerange(e)})}updateLayoutProperties(e){this.showBar=e!==dm.None,this.showScrubber=e===dm.Full,this.showPlayPause=e!==dm.None}handlePlayClick(){this.viewService.toggleAnimation()}}return Object(b.__decorate)([Object(g.e)(Wr.getAnimationPlaying),Object(b.__metadata)("design:type",V.a)],e.prototype,"animationPlaying$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterId),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedChapterId$",void 0),e})();var Wx=l.tb({encapsulation:2,styles:[[".view-media-bar{display:-webkit-box;display:flex}.view-media-bar__scrubber{width:120px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}"]],data:{}});function Jx(e){return l.Rb(0,[(e()(),l.vb(0,16777216,null,null,4,"button",[["app-pin-button",""],["buttonType","ghost"],["data-test","Play/Pause__small"],["matTooltipPosition","above"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handlePlayClick()&&i),i}),xy,_y)),l.ub(1,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{position:[0,"position"],message:[1,"message"]},null),l.Jb(131072,Y.b,[l.i]),l.ub(3,114688,null,0,hy,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,"above",l.Qb(t,1,1,l.Hb(t,2).transform(n.animationPlaying$))?"Pause":"Play"),e(t,3,0,l.Qb(t,3,0,l.Hb(t,4).transform(n.animationPlaying$))?"pause":"play","ghost")}),null)}function qx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-view-scrubber",[["class","view-media-bar__scrubber"],["data-test","Scrub__small"]],null,null,null,bx,dx)),l.ub(1,245760,null,0,px,[Ls,tc,l.F,Wm,l.i,g.i],null,null)],(function(e,t){e(t,1,0)}),null)}function Kx(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"div",[["class","view-media-bar"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,Jx)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,qx)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.showPlayPause),e(t,4,0,n.showScrubber)}),null)}function Xx(e){return l.Rb(2,[(e()(),l.lb(16777216,null,null,1,null,Kx)),l.ub(1,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.showBar)}),null)}class Zx{constructor(e,t,n){this.store=e,this.changeDetectorRef=t,this.layoutService=n,this.canExit=!0,this.mode=yx.Main,this.lockMode=!1,this.position="center",this.ngUnsubscribe=new $.a,this.breakpoint=Em,this.viewToolsMode=yx,this.viewLayout=u_,this.testSelectors=vx,this.collapsePagination=!1}ngOnInit(){this.initLayoutListener(),this.initBreakpointListener()}initLayoutListener(){this.store.select(jm.getLayout).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.lockMode||(this.mode=yx.Main,this.layoutService.isLayoutVisible(u_.Media)&&(this.mediaTemplate=e.media.template,this.mode=yx.Media),this.layoutService.isToolsVisible()&&(this.mode=yx.Tools),this.changeDetectorRef.markForCheck())})}initBreakpointListener(){this.store.select(Rm.getBreakpoint).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.collapsePagination=e<Em.Small,this.changeDetectorRef.markForCheck()})}handleExitClick(){const e=this.store.selectSnapshot(jm.getLayout);e.media.status=pm.Hide,e.tools.status=pm.Hide,this.store.dispatch(new B.SetLayout(e))}}var Yx=l.tb({encapsulation:2,styles:[[".view-toolbar{position:absolute;display:inline-block;z-index:20;bottom:0;right:0}"]],data:{animation:[{type:7,name:"inOutAnimation",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(200px)"},offset:null},{type:4,styles:{type:6,styles:{opacity:1,transform:"*"},offset:null},timings:"300ms ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateY(200px)",opacity:0},offset:null},timings:"300ms ease-in-out"}],options:null}],options:{}}]}});function eO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,7,"div",[["class","view-toolbar"]],[[1,"data-test",0],[24,"@inOutAnimation",0]],null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l.vb(3,0,null,null,4,"app-pillbox",[["name","Primary Toolbar"],["padding","dense"]],null,null,null,rx,ox)),l.ub(4,114688,null,0,ax,[],{padding:[0,"padding"],name:[1,"name"]},null),(e()(),l.vb(5,0,null,0,2,"app-view-tools",[],null,[[null,"modeChange"]],(function(e,t,n){var l=!0;return"modeChange"===t&&(l=!1!==e.component.handleModeChange(n)&&l),l}),Qx,Ox)),l.Mb(512,null,fx,fx,[Qe.a,l.r]),l.ub(7,245760,null,0,xx,[Wm,wy,g.i,l.i,fx],{mode:[0,"mode"],collapsePagination:[1,"collapsePagination"]},{modeChange:"modeChange"})],(function(e,t){var n=t.component;e(t,2,0,"view-toolbar","view-toolbar--"+n.position),e(t,4,0,"dense","Primary Toolbar"),e(t,7,0,n.viewToolsMode.Main,n.collapsePagination)}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolbarMain,void 0)}))}function tO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,"div",[["class","view-toolbar"]],[[24,"@inOutAnimation",0]],null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l.vb(3,0,null,null,3,"app-pillbox",[["name","Media Bar"],["padding","dense"]],null,[[null,"exit"]],(function(e,t,n){var l=!0;return"exit"===t&&(l=!1!==e.component.handleExitClick()&&l),l}),rx,ox)),l.ub(4,114688,null,0,ax,[],{canExit:[0,"canExit"],padding:[1,"padding"],name:[2,"name"]},{exit:"exit"}),(e()(),l.vb(5,0,null,0,1,"app-view-media-bar",[],null,null,null,Xx,Wx)),l.ub(6,245760,null,0,Gx,[tc,Wm],{template:[0,"template"]},null)],(function(e,t){var n=t.component;e(t,2,0,"view-toolbar","view-toolbar--"+n.position),e(t,4,0,n.canExit,"dense","Media Bar"),e(t,6,0,n.mediaTemplate)}),(function(e,t){e(t,0,0,void 0)}))}function nO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,7,"div",[["class","view-toolbar"]],[[24,"@inOutAnimation",0]],null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l.vb(3,0,null,null,4,"app-pillbox",[["name","Explore Tools"],["padding","dense"]],null,[[null,"exit"]],(function(e,t,n){var l=!0;return"exit"===t&&(l=!1!==e.component.handleExitClick()&&l),l}),rx,ox)),l.ub(4,114688,null,0,ax,[],{canExit:[0,"canExit"],padding:[1,"padding"],name:[2,"name"]},{exit:"exit"}),(e()(),l.vb(5,0,null,0,2,"app-view-tools",[],null,null,null,Qx,Ox)),l.Mb(512,null,fx,fx,[Qe.a,l.r]),l.ub(7,245760,null,0,xx,[Wm,wy,g.i,l.i,fx],{mode:[0,"mode"]},null)],(function(e,t){var n=t.component;e(t,2,0,"view-toolbar","view-toolbar--"+n.position),e(t,4,0,n.canExit,"dense","Explore Tools"),e(t,7,0,n.viewToolsMode.Tools)}),(function(e,t){e(t,0,0,void 0)}))}function lO(e){return l.Rb(2,[l.Nb(671088640,1,{viewToolbar:0}),(e()(),l.vb(1,0,null,null,7,null,null,null,null,null,null,null)),l.ub(2,16384,null,0,Y.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.lb(16777216,null,null,1,null,eO)),l.ub(4,16384,null,0,Y.s,[l.Q,l.N,Y.q],null,null),(e()(),l.lb(16777216,null,null,1,null,tO)),l.ub(6,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,nO)),l.ub(8,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.mode),e(t,6,0,n.viewToolsMode.Media),e(t,8,0,n.viewToolsMode.Tools)}),null)}let iO=(()=>{class e{constructor(e){this.changeDetectorRef=e,this.isLight=!0,this.breakpoint=Em,this.ngUnsubscribe=new $.a}ngOnInit(){this.background$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.updateLogoColor(e)})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}updateLogoColor(e){if(!e.colors)return;const t=e.colors.slice(0,3);this.isLight=Ve.isLight(t),this.changeDetectorRef.markForCheck()}}return Object(b.__decorate)([Object(g.e)(jm.getLayout),Object(b.__metadata)("design:type",V.a)],e.prototype,"layout$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterBackground),Object(b.__metadata)("design:type",V.a)],e.prototype,"background$",void 0),Object(b.__decorate)([Object(g.e)(Rm.getBreakpoint),Object(b.__metadata)("design:type",V.a)],e.prototype,"breakpoint$",void 0),e})();var aO=l.tb({encapsulation:2,styles:[[".view-logo--small-color{width:28px;height:28px;background:url(logo-color.e5306d37dd40b7ac98d4.svg) center center no-repeat}.view-logo--full-color{width:112px;height:36px;background:url(powered-by-biodigital-color.1af4a9f2cdc7d71b94c9.svg) center center no-repeat}.view-logo--small-white{width:28px;height:28px;background:url(logo-white.6874afd084344cc1654d.svg) center center no-repeat}.view-logo--full-white{width:112px;height:36px;background:url(powered-by-biodigital-white.30ab6344e33c0a48a1fa.svg) center center no-repeat}.view-logo:not([hidden]){display:-webkit-box;display:flex}.view-logo[href]:hover{cursor:pointer}"]],data:{}});function oO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,9,"a",[["class","view-logo"],["href","https://www.biodigital.com"],["target","_blank"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(3,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.Kb(8,{"view-logo--full-color":0,"view-logo--full-white":1,"view-logo--small-color":2,"view-logo--small-white":3}),(e()(),l.vb(9,0,null,null,1,"span",[["class","visually-hidden"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Powered by Biodigital"]))],(function(e,t){var n=t.component,i=e(t,8,0,n.isLight&&l.Qb(t,3,1,l.Hb(t,4).transform(n.breakpoint$))>n.breakpoint.Small,!n.isLight&&l.Qb(t,3,1,l.Hb(t,5).transform(n.breakpoint$))>n.breakpoint.Small,n.isLight&&l.Qb(t,3,1,l.Hb(t,6).transform(n.breakpoint$))<=n.breakpoint.Small,!n.isLight&&l.Qb(t,3,1,l.Hb(t,7).transform(n.breakpoint$))<=n.breakpoint.Small);e(t,3,0,"view-logo",i)}),null)}function sO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,9,"span",[["class","view-logo"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(3,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.Kb(8,{"view-logo--full-color":0,"view-logo--full-white":1,"view-logo--small-color":2,"view-logo--small-white":3}),(e()(),l.vb(9,0,null,null,1,"span",[["class","visually-hidden"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Powered by Biodigital"]))],(function(e,t){var n=t.component,i=e(t,8,0,n.isLight&&l.Qb(t,3,1,l.Hb(t,4).transform(n.breakpoint$))>n.breakpoint.Small,!n.isLight&&l.Qb(t,3,1,l.Hb(t,5).transform(n.breakpoint$))>n.breakpoint.Small,n.isLight&&l.Qb(t,3,1,l.Hb(t,6).transform(n.breakpoint$))<=n.breakpoint.Small,!n.isLight&&l.Qb(t,3,1,l.Hb(t,7).transform(n.breakpoint$))<=n.breakpoint.Small);e(t,3,0,"view-logo",i)}),null)}function rO(e){return l.Rb(2,[(e()(),l.lb(16777216,null,null,2,null,oO)),l.ub(1,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,sO)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n,i,a=t.component;e(t,1,0,null==(n=l.Qb(t,1,0,l.Hb(t,2).transform(a.layout$)))?null:n.logo.isHyperLink),e(t,4,0,!(null!=(i=l.Qb(t,4,0,l.Hb(t,5).transform(a.layout$)))&&i.logo.isHyperLink))}),null)}let cO=(()=>{class e{constructor(e,t){this.store=e,this.historyService=t,this.showNav=!0,this.showZoom=!0,this.showPan=!0,this.showResetPosition=!0,this.showResetScene=!0,this.viewLayout=u_,this.toolEnum=Qr,this.testSelectors=vx,this.expandNav=!1,this.breakpointEnum=Em,this.padding="none",this.ngUnsubscribe=new $.a}ngOnInit(){}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}setZoom(e){let t=""===e?0:8;this.store.dispatch(new Hr(t="in"===e?-t:t))}returnToChapterCamera(){const e=this.store.selectSnapshot(ac.getSelectedChapter);this.store.dispatch(new kr(e.camera.location))}resetChapter(){this.returnToChapterCamera(),this.historyService.resetChapter(),this.store.dispatch(new go([])),this.store.dispatch(new Yi)}centerCamera(){this.store.dispatch(new ui)}togglePan(){const e="pan"===this.store.selectSnapshot(Vr.getPanMode)?"rotate":"pan";this.store.dispatch(new Rr(e))}toggleNav(){this.expandNav=!this.expandNav}}return Object(b.__decorate)([Object(g.e)(Vr.getPanMode),Object(b.__metadata)("design:type",V.a)],e.prototype,"panMode$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterModified),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedChapterModified$",void 0),Object(b.__decorate)([Object(g.e)(Rm.getBreakpoint),Object(b.__metadata)("design:type",V.a)],e.prototype,"breakpoint$",void 0),e})();var uO=l.tb({encapsulation:2,styles:[[":host{position:relative}.camera-bar{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.camera-bar button{margin-top:8px}.camera-bar__nav{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;overflow:hidden;height:0;-webkit-transition:height 150ms ease-in-out;transition:height 150ms ease-in-out;-webkit-box-pack:justify;justify-content:space-between}.camera-bar__nav--expand{height:148px;margin-bottom:4px}"]],data:{animation:[{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:2,steps:[{type:6,styles:{height:"0"},offset:null},{type:4,styles:{type:6,styles:{height:"*"},offset:null},timings:"125ms ease-in-out"}],options:null}],options:null},{type:1,expr:":leave",animation:[{type:2,steps:[{type:4,styles:{type:6,styles:{height:"0"},offset:null},timings:"125ms 125ms ease-in-out"}],options:null}],options:null}],options:{}}]}});function pO(e){return l.Rb(0,[(e()(),l.vb(0,16777216,null,null,4,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","arrows-alt"],["matTooltipPosition","left"],["size","medium"]],[[1,"tabindex",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==a.togglePan()&&i),i}),xy,_y)),l.ub(1,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{position:[0,"position"],message:[1,"message"]},null),l.Jb(131072,Y.b,[l.i]),l.ub(3,114688,null,0,hy,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"],selected:[3,"selected"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,"left","pan"===l.Qb(t,1,1,l.Hb(t,2).transform(n.panMode$))?"Switch to Rotate Mode":"Switch to Pan Mode"),e(t,3,0,"arrows-alt","medium","ghost","pan"===l.Qb(t,3,3,l.Hb(t,4).transform(n.panMode$)))}),(function(e,t){e(t,0,0,t.component.expandNav?0:-1)}))}function dO(e){return l.Rb(0,[(e()(),l.vb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","plus"],["matTooltip","Zoom In"],["matTooltipPosition","left"],["size","medium"]],[[1,"tabindex",0]],[[null,"touchstart"],[null,"mousedown"],[null,"touchend"],[null,"mouseup"],[null,"mouseleave"],[null,"longpress"],[null,"keydown"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,1)._handleTouchend()&&i),"touchstart"===t&&(i=!1!==a.setZoom("in")&&i),"mousedown"===t&&(i=!1!==a.setZoom("in")&&i),"touchend"===t&&(i=!1!==a.setZoom("")&&i),"mouseup"===t&&(i=!1!==a.setZoom("")&&i),"mouseleave"===t&&(i=!1!==a.setZoom("")&&i),i}),xy,_y)),l.ub(1,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{position:[0,"position"],message:[1,"message"]},null),l.ub(2,114688,null,0,hy,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,1,0,"left","Zoom In"),e(t,2,0,"plus","medium","ghost")}),(function(e,t){e(t,0,0,t.component.expandNav?0:-1)}))}function bO(e){return l.Rb(0,[(e()(),l.vb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","minus"],["matTooltip","Zoom Out"],["matTooltipPosition","left"],["size","medium"]],[[1,"tabindex",0]],[[null,"touchstart"],[null,"mousedown"],[null,"touchend"],[null,"mouseup"],[null,"mouseleave"],[null,"longpress"],[null,"keydown"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,1)._handleTouchend()&&i),"touchstart"===t&&(i=!1!==a.setZoom("out")&&i),"mousedown"===t&&(i=!1!==a.setZoom("out")&&i),"touchend"===t&&(i=!1!==a.setZoom("")&&i),"mouseup"===t&&(i=!1!==a.setZoom("")&&i),"mouseleave"===t&&(i=!1!==a.setZoom("")&&i),i}),xy,_y)),l.ub(1,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{position:[0,"position"],message:[1,"message"]},null),l.ub(2,114688,null,0,hy,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,1,0,"left","Zoom Out"),e(t,2,0,"minus","medium","ghost")}),(function(e,t){e(t,0,0,t.component.expandNav?0:-1)}))}function gO(e){return l.Rb(0,[(e()(),l.vb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","dot-circle"],["matTooltip","Recenter 3D model"],["matTooltipPosition","left"],["size","medium"]],[[1,"tabindex",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,1).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,1)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,1)._handleTouchend()&&i),"click"===t&&(i=!1!==a.returnToChapterCamera()&&i),i}),xy,_y)),l.ub(1,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{position:[0,"position"],message:[1,"message"]},null),l.ub(2,114688,null,0,hy,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,1,0,"left","Recenter 3D model"),e(t,2,0,"dot-circle","medium","ghost")}),(function(e,t){e(t,0,0,t.component.expandNav?0:-1)}))}function hO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,16,"app-pillbox",[["orientation","vertical"],["padding","dense"]],[[1,"data-test",0]],null,null,rx,ox)),l.ub(1,114688,null,0,ax,[],{padding:[0,"padding"],orientation:[1,"orientation"]},null),(e()(),l.vb(2,0,null,0,11,"div",[["class","camera-bar__nav"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(4,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(5,{"camera-bar__nav--expand":0}),(e()(),l.lb(16777216,null,null,1,null,pO)),l.ub(7,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,dO)),l.ub(9,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,bO)),l.ub(11,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,gO)),l.ub(13,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(14,16777216,null,0,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","location-arrow"],["matTooltipPosition","left"],["size","medium"],["tabindex","0"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,15).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,15)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,15)._handleTouchend()&&i),"click"===t&&(i=!1!==a.toggleNav()&&i),i}),xy,_y)),l.ub(15,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{position:[0,"position"],message:[1,"message"]},null),l.ub(16,114688,null,0,hy,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"],selected:[3,"selected"]},null)],(function(e,t){var n=t.component;e(t,1,0,"dense","vertical");var l=e(t,5,0,n.expandNav);e(t,4,0,"camera-bar__nav",l),e(t,7,0,n.showPan),e(t,9,0,n.showZoom),e(t,11,0,n.showZoom),e(t,13,0,n.showResetPosition),e(t,15,0,"left",n.expandNav?"Close 3D controls":"3D controls"),e(t,16,0,"location-arrow","medium","ghost",n.expandNav)}),(function(e,t){e(t,0,0,t.component.testSelectors.EngineCameraBar)}))}function mO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,4,"app-pillbox",[["padding","dense"],["style","margin-top: 8px"]],[[24,"@show",0]],null,null,rx,ox)),l.ub(2,114688,null,0,ax,[],{padding:[0,"padding"]},null),(e()(),l.vb(3,16777216,null,0,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","sync-alt"],["matTooltip","Reset"],["matTooltipPosition","left"],["size","medium"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,4).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,4)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,4)._handleTouchend()&&i),"click"===t&&(i=!1!==a.resetChapter()&&i),i}),xy,_y)),l.ub(4,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{position:[0,"position"],message:[1,"message"]},null),l.ub(5,114688,null,0,hy,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null)],(function(e,t){e(t,2,0,"dense"),e(t,4,0,"left","Reset"),e(t,5,0,"sync-alt","medium","ghost")}),(function(e,t){e(t,1,0,void 0)}))}function _O(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,5,"div",[["class","camera-bar"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,hO)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,2,null,mO)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,2,0,n.showNav),e(t,4,0,n.showResetScene&&l.Qb(t,4,0,l.Hb(t,5).transform(n.selectedChapterModified$)))}),null)}var fO,yO=n("GS7A");(fO||(fO={})).slideTransition=Object(yO.g)([Object(yO.m)({transform:"translateY({{ from }}%)",opacity:0}),Object(yO.e)("{{ duration }}ms ease-out",Object(yO.m)({transform:"translateY({{ to }})",opacity:1}))]);let vO=(()=>{class e{constructor(e){this.viewService=e,this.layout="drawer"}ngOnInit(){}handleCloseClick(){this.viewService.clearSelectedLabel()}}return Object(b.__decorate)([Object(g.e)(uu.getSelectedLabel),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedLabel$",void 0),e})();var xO=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-label-description{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.view-label-description__header{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start}.view-label-description .view-label-description__title{font-size:14px;letter-spacing:.35px;line-height:1.4em;font-weight:700;align-self:center}.view-label-description .view-label-description__body{margin-top:8px;font-size:12px;letter-spacing:.3px;line-height:1.4em}"]],data:{animation:[{type:7,name:"refresh",definitions:[{type:1,expr:":enter",animation:[{type:10,animation:fO.slideTransition,options:{params:{duration:300,from:50,to:0}}}],options:null}],options:{}}]}});function OO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[["class","view-label-description__body"]],null,null,null,null,null)),(e()(),l.Pb(1,null,[" "," "])),l.Jb(131072,Y.b,[l.i])],null,(function(e,t){var n,i=t.component;e(t,1,0,null==(n=l.Qb(t,1,0,l.Hb(t,2).transform(i.selectedLabel$)))?null:n.description)}))}function CO(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,12,"div",[["class","view-label-description"]],[[24,"@refresh",0]],null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"view-label-description--layout-column":0,"view-label-description--layout-drawer":1}),(e()(),l.vb(4,0,null,null,5,"div",[["class","view-label-description__header"]],null,null,null,null,null)),(e()(),l.vb(5,0,null,null,1,"button",[["app-pin-button",""],["class","mr-1"],["icon","arrow-left"],["size","small"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseClick()&&l),l}),xy,_y)),l.ub(6,114688,null,0,hy,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),l.vb(7,0,null,null,2,"div",[["class","view-label-description__title"]],null,null,null,null,null)),(e()(),l.Pb(8,null,[" "," "])),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,OO)),l.ub(11,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n,i=t.component,a=e(t,3,0,"column"===i.layout,"drawer"===i.layout);e(t,2,0,"view-label-description",a),e(t,6,0,"arrow-left","small"),e(t,11,0,null==(n=l.Qb(t,11,0,l.Hb(t,12).transform(i.selectedLabel$)))?null:n.description)}),(function(e,t){var n,i=t.component;e(t,0,0,void 0),e(t,8,0,null==(n=l.Qb(t,8,0,l.Hb(t,9).transform(i.selectedLabel$)))?null:n.title)}))}const wO=64,jO=.4;let kO=(()=>{class e{constructor(e,t,n,i){this.renderer=e,this.changeDetectorRef=t,this.viewService=n,this.store=i,this.enablePagination=!0,this._expandable=!0,this.offsetYChange=new l.n,this.breakpoints={minimumDrawer:{velocity:1/0,point:0},halfDrawer:{velocity:1,point:0}},this.ngUnsubscribe=new $.a,this.viewMode=km,this.viewToolsMode=yx,this.mode=km.Content,this.open=!1}get expandable(){return this._expandable}set expandable(e){this._expandable=e}ngOnInit(){this.initWindowSizeObserver(),this.initLayoutObserver()}ngAfterViewInit(){this.refresh(this.store.selectSnapshot(jm.getLayout).drawer.isExpandedInitially)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initWindowSizeObserver(){this.renderer.listen("window","resize",()=>{this.refresh(!1)})}initLayoutObserver(){this.layout$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.updateMode(e)})}updateViewHeight(){const e=.01*window.innerHeight;this.viewDrawer.nativeElement.style.setProperty("--vh",`${e}px`)}updateStops(){const e=window.innerHeight;this.breakpoints.minimumDrawer.point=-wO,this.breakpoints.halfDrawer.point=Math.floor(-e*jO)}updateMode(e){this.mode=this.viewService.inferDrawerMode(e),this.changeDetectorRef.markForCheck()}resetDrawerPosition(e){setTimeout(()=>{this.slideDrawerToPoint(e?this.breakpoints.halfDrawer.point:this.breakpoints.minimumDrawer.point)})}refresh(e){setTimeout(()=>{this.updateViewHeight(),this.updateStops(),this.resetDrawerPosition(e)})}handleClick(){!this.open&&this.expandable&&this.toggleDrawer(!0)}handleToggleClick(){this.toggleDrawer()}toggleDrawer(e){null==e&&(e=!this.open),this.slideDrawerToPoint((e?this.breakpoints.halfDrawer:this.breakpoints.minimumDrawer).point),this.open=e}slideDrawerToPoint(e){this.renderer.setStyle(this.viewDrawer.nativeElement,"transform",`translate3d(0, ${e}px, 0)`),this.offsetYChange.emit(e)}getDrawerY(){if(this.viewDrawer){const e=this.viewService.getComputedTransform(this.viewDrawer.nativeElement);return e?e.y:null}return null}}return Object(b.__decorate)([Object(g.e)(jm.getLayout),Object(b.__metadata)("design:type",V.a)],e.prototype,"layout$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterIndex),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapterIndex$",void 0),Object(b.__decorate)([Object(g.e)(ac.getChapterCount),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapterCount$",void 0),e})();var SO=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-drawer{border-top:rgba(234,239,245,.8);box-shadow:0 -1px 0 0 rgba(28,42,63,.16);background:rgba(255,255,255,.8);color:#131c2a;border-top:var(--view-drawer-border);box-shadow:var(--view-drawer-shadow);background:var(--view-drawer-background);color:var(--view-drawer-color);left:0;min-height:100vh;right:0;position:absolute;z-index:20;top:100vh;top:calc(var(--vh,1vh) * 100);-webkit-transform:translate3d(0,-64px,0);transform:translate3d(0,-64px,0);-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}.view-drawer--animate{-webkit-transition:background-color 1s ease-in-out;transition:background-color 1s ease-in-out}.view-drawer--active{background-color:#fff;border:1px solid #eaeff5;background-color:var(--view-drawer-background--active);border:var(--view-drawer-border--active)}.view-drawer--closed{background-color:#fff;border:1px solid #eaeff5;background-color:var(--view-drawer-background--closed);border:var(--view-drawer-border--closed);-webkit-transition:background-color 150ms;transition:background-color 150ms}.view-drawer--scrollable{min-height:0}.view-drawer--scrollable .view-drawer__outer{border-top:4px solid transparent;height:40vh;height:calc(var(--vh,1vh) * 40);padding-bottom:48px;overflow-y:scroll}.view-drawer--scrollable .view-drawer__inner{padding-top:12px}.view-drawer--fixed{height:64px;overflow:hidden}.view-drawer--fixed .view-drawer__inner{height:64px;padding:0 16px}.view-drawer--fixed .view-drawer__content{-webkit-box-pack:center;justify-content:center;padding-top:0}.view-drawer__toggle{position:absolute;left:0;top:0;right:0;height:36px;margin:0 0 0 48px;padding:0 48px 0 0;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;z-index:10}.view-drawer__toggle:hover{cursor:pointer}.view-drawer__drag-handle{color:var(--view-drawer-button-color);-webkit-box-pack:center;justify-content:center;-webkit-box-align:start;align-items:flex-start;width:100%;display:-webkit-box;display:flex;position:absolute;top:0;pointer-events:none}.view-drawer__inner{position:relative;padding:12px 16px 0}.view-drawer__content{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;max-width:600px;min-height:64px;margin:0 auto}"]],data:{}});function PO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-icon",[["icon","angle-up"]],null,null,null,se,oe)),l.ub(1,114688,null,0,ae,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,"angle-up")}),null)}function MO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-icon",[["icon","angle-down"]],null,null,null,se,oe)),l.ub(1,114688,null,0,ae,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,"angle-down")}),null)}function HO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[["class","view-drawer__content"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-view-node-description",[["layout","drawer"]],null,null,null,Xv,Wv)),l.ub(2,245760,null,0,Gv,[g.i,g.b,l.i],{layout:[0,"layout"]},null)],(function(e,t){e(t,2,0,"drawer")}),null)}function IO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[["class","view-drawer__content"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-view-label-description",[["layout","drawer"]],null,null,null,CO,xO)),l.ub(2,114688,null,0,vO,[Wm],{layout:[0,"layout"]},null)],(function(e,t){e(t,2,0,"drawer")}),null)}function TO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-view-content-mode",[["layout","drawer"]],null,null,null,Qy,Dy)),l.ub(1,245760,null,0,Ay,[g.i,Wm,wy,l.i],{layout:[0,"layout"]},null)],(function(e,t){e(t,1,0,"drawer")}),null)}function zO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-view-title",[["alignTitle","center"]],null,null,null,Sy,jy)),l.ub(1,245760,null,0,Cy,[wy,l.i],{alignTitle:[0,"alignTitle"]},null)],(function(e,t){e(t,1,0,"center")}),null)}function FO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,4,"div",[["class","view-drawer__content"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,TO)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,zO)),l.ub(4,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.expandable),e(t,4,0,!n.expandable)}),null)}function LO(e){return l.Rb(2,[l.Nb(671088640,1,{viewDrawer:0}),(e()(),l.vb(1,0,[[1,0],["viewDrawer",1]],null,18,"div",[["class","view-drawer"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(3,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(4,{"view-drawer--closed":0,"view-drawer--active":1,"view-drawer--scrollable":2,"view-drawer--fixed":3}),(e()(),l.vb(5,16777216,null,null,5,"div",[["class","view-drawer__toggle"],["matTooltipPosition","above"],["role","button"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var i=!0,a=e.component;return"longpress"===t&&(i=!1!==l.Hb(e,6).show()&&i),"keydown"===t&&(i=!1!==l.Hb(e,6)._handleKeydown(n)&&i),"touchend"===t&&(i=!1!==l.Hb(e,6)._handleTouchend()&&i),"click"===t&&(i=!1!==a.handleToggleClick()&&i),i}),null,null)),l.ub(6,212992,null,0,Cb.d,[Qe.a,l.l,wb.f,l.Q,l.z,jb.a,pe.c,pe.e,Cb.b,[2,Ge.b],[2,Cb.a],[2,No.f]],{position:[0,"position"],message:[1,"message"]},null),(e()(),l.lb(16777216,null,null,1,null,PO)),l.ub(8,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,MO)),l.ub(10,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(11,0,null,null,8,"div",[["class","view-drawer__outer"]],null,null,null,null,null)),(e()(),l.vb(12,0,null,null,7,"div",[["class","view-drawer__inner"]],null,null,null,null,null)),l.ub(13,16384,null,0,Y.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.lb(16777216,null,null,1,null,HO)),l.ub(15,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,IO)),l.ub(17,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,FO)),l.ub(19,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component,l=e(t,4,0,!n.open,n.open,n.open,!n.expandable);e(t,3,0,"view-drawer",l),e(t,6,0,"above",n.open?"Collapse Description":"Expand Description"),e(t,8,0,!n.open),e(t,10,0,n.open),e(t,13,0,n.mode),e(t,15,0,n.viewMode.NodeInfo),e(t,17,0,n.viewMode.LabelInfo),e(t,19,0,n.viewMode.Content)}),null)}let EO=(()=>{class e{constructor(e,t){this.renderer=e,this.viewService=t,this.activeTab="basics"}ngOnInit(){this.initWindowSizeObserver()}ngAfterViewInit(){this.updateViewHeight()}initWindowSizeObserver(){this.renderer.listen("window","resize",()=>{this.updateViewHeight()})}updateViewHeight(){const e=.01*window.innerHeight;this.viewHelp.nativeElement.style.setProperty("--vh",`${e}px`)}handleCloseClick(){this.viewService.toggleHelp(!1)}handleTabClick(e){this.activeTab=e}}return Object(b.__decorate)([Object(g.e)(jm.getCanTouch),Object(b.__metadata)("design:type",V.a)],e.prototype,"canTouch$",void 0),e})();var NO=l.tb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-help{background-color:rgba(16,24,35,.9);color:#fff;background-color:var(--view-help-bg);color:var(--view-help-color);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:fixed;top:0;left:0;right:0;z-index:10000;height:100vh;height:calc(var(--vh,1vh) * 100);max-height:100vh}.view-help__inner{width:100%;max-width:1140px;height:99vh;height:calc(var(--vh,1vh) * 99);overflow:scroll;padding:32px;position:relative}.view-help__close{width:40px;height:40px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:fixed;right:8px;top:8px}.view-help__close:hover{cursor:pointer}.view-help__header{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;border-bottom:1px solid rgba(255,255,255,.3);border-bottom:var(--view-help-border);font-weight:600;padding-bottom:12px;margin-top:32px}.view-help__label{font-size:12px;letter-spacing:.3px;line-height:1.4em;font-weight:600;margin-bottom:12px}.view-help__group{display:-webkit-box;display:flex;justify-content:space-around;flex-wrap:wrap}.view-help__item{font-size:12px;letter-spacing:.3px;line-height:1.4em;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;text-align:center;padding:20px;-webkit-box-flex:0;flex:0 1 180px}.view-help__image{margin-bottom:16px;width:160px;height:100px;background-position:center center;background-repeat:no-repeat}.view-help__icon{font-size:24px;margin-bottom:16px}.view-help__tabs{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.view-help__tab{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;border-bottom:2px solid transparent;padding:12px;text-align:center}.view-help__tab:after{content:'';display:block;border-bottom:3px solid #2d72dc;border-bottom:var(--view-help-tab-border);margin-top:4px;width:0;-webkit-transition:250ms;transition:250ms ease}.view-help__tab:hover{cursor:pointer}.view-help__tab--active:after{width:100%}"]],data:{}});function RO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,20,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(2,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.vb(3,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Rotate the model"])),(e()(),l.Pb(-1,null,[" Click and drag to rotate and view from other angles "])),(e()(),l.vb(6,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(7,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.vb(8,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Pan the model"])),(e()(),l.Pb(-1,null,[" Use the W, A, S, D keys to move side to side or up and down "])),(e()(),l.vb(11,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(12,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.vb(13,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Zoom in and out"])),(e()(),l.Pb(-1,null,[" Use your scroll wheel or trackpad to zoom in and out "])),(e()(),l.vb(16,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(17,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.vb(18,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Explore the anatomy"])),(e()(),l.Pb(-1,null,[" Click on an anatomical structure or label to learn more "]))],null,(function(e,t){e(t,2,0,"url(assets/images/widget/help-rotate.svg)"),e(t,7,0,"url(assets/images/widget/help-pan.svg)"),e(t,12,0,"url(assets/images/widget/help-zoom.svg)"),e(t,17,0,"url(assets/images/widget/help-learn.svg)")}))}function AO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,20,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(2,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.vb(3,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Rotate the model"])),(e()(),l.Pb(-1,null,[" Use one finger to rotate "])),(e()(),l.vb(6,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(7,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.vb(8,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Pan the model"])),(e()(),l.Pb(-1,null,[" Use two fingers to move up and down or side to side "])),(e()(),l.vb(11,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(12,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.vb(13,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Zoom in and out"])),(e()(),l.Pb(-1,null,[" Pinch or expand to zoom in and out "])),(e()(),l.vb(16,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(17,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.vb(18,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Explore the anatomy"])),(e()(),l.Pb(-1,null,[" Tap a label to learn more and get a closer look "]))],null,(function(e,t){e(t,2,0,"url(assets/images/widget/help-rotate.svg)"),e(t,7,0,"url(assets/images/widget/help-pan.svg)"),e(t,12,0,"url(assets/images/widget/help-zoom.svg)"),e(t,17,0,"url(assets/images/widget/help-learn.svg)")}))}function DO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.lb(16777216,null,null,2,null,RO)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,AO)),l.ub(5,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,!l.Qb(t,2,0,l.Hb(t,3).transform(n.canTouch$))),e(t,5,0,l.Qb(t,5,0,l.Hb(t,6).transform(n.canTouch$)))}),null)}function UO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"div",[["class","view-help__header"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,[" Mouse "]))],null,null)}function BO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,15,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(2,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Hold left button to rotate "])),(e()(),l.vb(4,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(5,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Hold right button to pan "])),(e()(),l.vb(7,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(8,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Single-click left button to select a structure "])),(e()(),l.vb(10,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(11,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Double-click left button to auto-focus on a structure "])),(e()(),l.vb(13,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(14,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Long-click to fly to a structure "]))],null,(function(e,t){e(t,2,0,"url(assets/images/widget/help-mouse-hold-left.svg)"),e(t,5,0,"url(assets/images/widget/help-mouse-hold-right.svg)"),e(t,8,0,"url(assets/images/widget/help-mouse-single-click-left.svg)"),e(t,11,0,"url(assets/images/widget/help-mouse-double-click-left.svg)"),e(t,14,0,"url(assets/images/widget/help-mouse-long-press-left.svg)")}))}function $O(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"div",[["class","view-help__header"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,[" Keyboard "]))],null,null)}function VO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,12,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(2,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Rotate with arrows "])),(e()(),l.vb(4,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(5,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Pan up (W), left (A), down (S), right(D) "])),(e()(),l.vb(7,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(8,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Zoom out (-, C) and zoom in (+, E) "])),(e()(),l.vb(10,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(11,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Hold with any previous key to slow down motion "]))],null,(function(e,t){e(t,2,0,"url(assets/images/widget/help-keyboard-rotate.svg)"),e(t,5,0,"url(assets/images/widget/help-keyboard-pan.svg)"),e(t,8,0,"url(assets/images/widget/help-keyboard-zoom.svg)"),e(t,11,0,"url(assets/images/widget/help-keyboard-slow-motion.svg)")}))}function QO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Scroll up and down to zoom "]))],null,(function(e,t){e(t,1,0,"url(assets/images/widget/help-trackpad-scroll.svg)")}))}function GO(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,46,null,null,null,null,null,null,null)),(e()(),l.lb(16777216,null,null,2,null,UO)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,BO)),l.ub(5,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,$O)),l.ub(8,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,VO)),l.ub(11,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(13,0,null,null,1,"div",[["class","view-help__header"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,[" Trackpad "])),(e()(),l.vb(15,0,null,null,12,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),l.vb(16,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(17,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Single-tap to auto-focus a structure "])),(e()(),l.vb(19,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(20,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Double-tap to select a structure "])),(e()(),l.vb(22,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(23,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),l.Pb(-1,null,[" Long-press to fly to a structure "])),(e()(),l.lb(16777216,null,null,2,null,QO)),l.ub(26,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(28,0,null,null,1,"div",[["class","view-help__header"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,[" In-App "])),(e()(),l.vb(30,0,null,null,16,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),l.vb(31,0,null,null,3,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(32,0,null,null,1,"app-icon",[["class","view-help__icon"],["icon","plus"]],null,null,null,se,oe)),l.ub(33,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.Pb(-1,null,[" Zoom in "])),(e()(),l.vb(35,0,null,null,3,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(36,0,null,null,1,"app-icon",[["class","view-help__icon"],["icon","minus"]],null,null,null,se,oe)),l.ub(37,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.Pb(-1,null,[" Zoom out "])),(e()(),l.vb(39,0,null,null,3,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(40,0,null,null,1,"app-icon",[["class","view-help__icon"],["icon","dot-circle"]],null,null,null,se,oe)),l.ub(41,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.Pb(-1,null,[" Recenter 3D model "])),(e()(),l.vb(43,0,null,null,3,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),l.vb(44,0,null,null,1,"app-icon",[["class","view-help__icon"],["icon","arrows"]],null,null,null,se,oe)),l.ub(45,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.Pb(-1,null,[" Pan "]))],(function(e,t){var n=t.component;e(t,2,0,!l.Qb(t,2,0,l.Hb(t,3).transform(n.canTouch$))),e(t,5,0,!l.Qb(t,5,0,l.Hb(t,6).transform(n.canTouch$))),e(t,8,0,!l.Qb(t,8,0,l.Hb(t,9).transform(n.canTouch$))),e(t,11,0,!l.Qb(t,11,0,l.Hb(t,12).transform(n.canTouch$))),e(t,26,0,!l.Qb(t,26,0,l.Hb(t,27).transform(n.canTouch$))),e(t,33,0,"plus"),e(t,37,0,"minus"),e(t,41,0,"dot-circle"),e(t,45,0,"arrows")}),(function(e,t){e(t,17,0,"url(assets/images/widget/help-trackpad-single-tap.svg)"),e(t,20,0,"url(assets/images/widget/help-trackpad-double-tap.svg)"),e(t,23,0,"url(assets/images/widget/help-trackpad-long-press.svg)")}))}function WO(e){return l.Rb(2,[l.Nb(402653184,1,{viewHelp:0}),(e()(),l.vb(1,0,[[1,0],["viewHelp",1]],null,20,"div",[["class","view-help"]],null,null,null,null,null)),(e()(),l.vb(2,0,null,null,19,"div",[["class","view-help__inner"]],null,null,null,null,null)),l.ub(3,16384,null,0,Y.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.vb(4,0,null,null,2,"div",[["class","view-help__close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseClick()&&l),l}),null,null)),(e()(),l.vb(5,0,null,null,1,"app-icon",[["icon","times"]],null,null,null,se,oe)),l.ub(6,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(7,0,null,null,10,"div",[["class","view-help__tabs"]],null,null,null,null,null)),(e()(),l.vb(8,0,null,null,4,"div",[["class","view-help__tab"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleTabClick("basics")&&l),l}),null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(10,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(11,{"view-help__tab--active":0}),(e()(),l.Pb(-1,null,[" Navigation Basics "])),(e()(),l.vb(13,0,null,null,4,"div",[["class","view-help__tab"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleTabClick("all")&&l),l}),null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(15,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(16,{"view-help__tab--active":0}),(e()(),l.Pb(-1,null,[" All Controls "])),(e()(),l.lb(16777216,null,null,1,null,DO)),l.ub(19,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.lb(16777216,null,null,1,null,GO)),l.ub(21,278528,null,0,Y.r,[l.Q,l.N,Y.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.activeTab),e(t,6,0,"times");var l=e(t,11,0,"basics"===n.activeTab);e(t,10,0,"view-help__tab",l);var i=e(t,16,0,"all"===n.activeTab);e(t,15,0,"view-help__tab",i),e(t,19,0,"basics"),e(t,21,0,"all")}),null)}class JO{constructor(e,t,n){this.renderer=e,this.viewService=t,this.actions=n,this.ngUnsubscribe=new $.a,this._percent=0}get percent(){return this._percent}set percent(e){null!=e&&(this._percent=e,this.setProgress(this.percent))}ngOnInit(){this.initSizeObserver()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngAfterViewInit(){this.updateDimensions(),this.initCircle()}initSizeObserver(){Object(ib.a)(window,"resize").pipe(Object(Xo.a)(10),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.updateDimensions()})}calculateRadius(){return this.getCircleWidth()/2}getCircleWidth(){return this.circleRef.nativeElement.offsetWidth}getRadius(){return this.progressCircleRef.nativeElement.r.baseVal.value}getCircumference(){return 2*this.getRadius()*Math.PI}getOffset(e=100){const t=this.getCircumference();return t-e/100*t}setProgress(e){e>=100&&(e=100);const t=this.getCircumference(),n=this.getOffset(e);this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray",`${t} ${t}`),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",`${n}`)}initCircle(){}updateDimensions(){const e=this.calculateRadius();this.renderer.setAttribute(this.progressContainerRef.nativeElement,"width",`${2*e}`),this.renderer.setAttribute(this.progressContainerRef.nativeElement,"height",`${2*e}`),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"r",`${e-6}`),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"cx",`${e}`),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"cy",`${e}`);const t=this.getCircumference();this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray",`${t} ${t}`),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",`${t}`)}}var qO=l.tb({encapsulation:0,styles:[[".play-loader[_ngcontent-%COMP%]{--buttonSize:35vw;background:var(--view-loader-scrim-bg);display:-webkit-box;display:flex;position:fixed;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;-webkit-transition:background-color 250ms,opacity 250ms;transition:background-color 250ms,opacity 250ms;z-index:10000}.play-loader[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:var(--view-loader-scrim-bg--hover)}.play-loader[_ngcontent-%COMP%]:hover   .play-loader__circle[_ngcontent-%COMP%]{background:var(--view-loader-button-bg--hover);color:var(--view-loader-circle-color--hover);-webkit-transform:scale(1.1);transform:scale(1.1)}.play-loader[_ngcontent-%COMP%]:hover   .play-loader__icon[_ngcontent-%COMP%]{color:var(--view-loader-icon-color--hover);-webkit-transform:scale(1.2);transform:scale(1.2)}.play-loader[_ngcontent-%COMP%]:hover   .play-loader__label[_ngcontent-%COMP%]{color:var(--view-loader-label-color--hover)}.play-loader[_ngcontent-%COMP%]:hover   .play-loader__ring[_ngcontent-%COMP%]{stroke:var(--view-loader-progress-color--hover)}.play-loader__circle[_ngcontent-%COMP%]{width:var(--buttonSize);height:var(--buttonSize);border-radius:50%;background-color:var(--view-loader-button-bg);color:var(--view-loader-circle-color);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:relative;-webkit-transition:background-color 250ms,color 250ms,-webkit-transform 250ms;transition:background-color 250ms,color 250ms,-webkit-transform 250ms;transition:background-color 250ms,color 250ms,transform 250ms;transition:background-color 250ms,color 250ms,transform 250ms,-webkit-transform 250ms}.play-loader__icon[_ngcontent-%COMP%]{font-size:calc(var(--buttonSize)/ 2);color:var(--view-loader-icon-color);-webkit-transition:color 250ms,-webkit-transform 250ms;transition:color 250ms,-webkit-transform 250ms;transition:color 250ms,transform 250ms;transition:color 250ms,transform 250ms,-webkit-transform 250ms;margin-right:-10%}.play-loader__label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;z-index:2;font-weight:600}.play-loader__ring[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:3;stroke-width:4;stroke:var(--view-loader-progress-color);fill:transparent;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.play-loader__ring-inner[_ngcontent-%COMP%]{-webkit-transition:stroke-dashoffset .3s;transition:stroke-dashoffset .3s}@media (min-width:600px){.play-loader__circle[_ngcontent-%COMP%]{width:160px;height:160px}.play-loader__icon[_ngcontent-%COMP%]{font-size:80px}}"]],data:{}});function KO(e){return l.Rb(2,[l.Nb(402653184,1,{circleRef:0}),l.Nb(402653184,2,{progressCircleRef:0}),l.Nb(402653184,3,{progressContainerRef:0}),(e()(),l.vb(3,0,null,null,7,"div",[["class","play-loader"]],null,null,null,null,null)),(e()(),l.vb(4,0,[[1,0],["circle",1]],null,6,"div",[["class","play-loader__circle"]],null,null,null,null,null)),(e()(),l.vb(5,0,[[3,0],["progressContainer",1]],null,1,":svg:svg",[["class","play-loader__ring"]],null,null,null,null,null)),(e()(),l.vb(6,0,[[2,0],["progressCircle",1]],null,0,":svg:circle",[["class","play-loader__ring-inner"]],null,null,null,null,null)),(e()(),l.vb(7,0,null,null,1,"app-icon",[["class","play-loader__icon"],["icon","play"]],null,null,null,se,oe)),l.ub(8,114688,null,0,ae,[],{icon:[0,"icon"]},null),(e()(),l.vb(9,0,null,null,1,"div",[["class","play-loader__label"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["3D"]))],(function(e,t){e(t,8,0,"play")}),null)}class XO{constructor(){}ngOnInit(){}}var ZO=l.tb({encapsulation:0,styles:[[".m-1[_ngcontent-%COMP%]{margin:4px!important}.mv-1[_ngcontent-%COMP%]{margin-top:4px!important;margin-bottom:4px!important}.mh-1[_ngcontent-%COMP%]{margin-left:4px!important;margin-right:4px!important}.mt-1[_ngcontent-%COMP%]{margin-top:4px!important}.mr-1[_ngcontent-%COMP%]{margin-right:4px!important}.mb-1[_ngcontent-%COMP%]{margin-bottom:4px!important}.ml-1[_ngcontent-%COMP%]{margin-left:4px!important}.p-1[_ngcontent-%COMP%]{padding:4px!important}.pv-1[_ngcontent-%COMP%]{padding-top:4px!important;padding-bottom:4px!important}.ph-1[_ngcontent-%COMP%]{padding-left:4px!important;padding-right:4px!important}.pt-1[_ngcontent-%COMP%]{padding-top:4px!important}.pr-1[_ngcontent-%COMP%]{padding-right:4px!important}.pb-1[_ngcontent-%COMP%]{padding-bottom:4px!important}.pl-1[_ngcontent-%COMP%]{padding-left:4px!important}.m-2[_ngcontent-%COMP%]{margin:8px!important}.mv-2[_ngcontent-%COMP%]{margin-top:8px!important;margin-bottom:8px!important}.mh-2[_ngcontent-%COMP%]{margin-left:8px!important;margin-right:8px!important}.mt-2[_ngcontent-%COMP%]{margin-top:8px!important}.mr-2[_ngcontent-%COMP%]{margin-right:8px!important}.mb-2[_ngcontent-%COMP%]{margin-bottom:8px!important}.ml-2[_ngcontent-%COMP%]{margin-left:8px!important}.p-2[_ngcontent-%COMP%]{padding:8px!important}.pv-2[_ngcontent-%COMP%]{padding-top:8px!important;padding-bottom:8px!important}.ph-2[_ngcontent-%COMP%]{padding-left:8px!important;padding-right:8px!important}.pt-2[_ngcontent-%COMP%]{padding-top:8px!important}.pr-2[_ngcontent-%COMP%]{padding-right:8px!important}.pb-2[_ngcontent-%COMP%]{padding-bottom:8px!important}.pl-2[_ngcontent-%COMP%]{padding-left:8px!important}.m-3[_ngcontent-%COMP%]{margin:12px!important}.mv-3[_ngcontent-%COMP%]{margin-top:12px!important;margin-bottom:12px!important}.mh-3[_ngcontent-%COMP%]{margin-left:12px!important;margin-right:12px!important}.mt-3[_ngcontent-%COMP%]{margin-top:12px!important}.mr-3[_ngcontent-%COMP%]{margin-right:12px!important}.mb-3[_ngcontent-%COMP%]{margin-bottom:12px!important}.ml-3[_ngcontent-%COMP%]{margin-left:12px!important}.p-3[_ngcontent-%COMP%]{padding:12px!important}.pv-3[_ngcontent-%COMP%]{padding-top:12px!important;padding-bottom:12px!important}.ph-3[_ngcontent-%COMP%]{padding-left:12px!important;padding-right:12px!important}.pt-3[_ngcontent-%COMP%]{padding-top:12px!important}.pr-3[_ngcontent-%COMP%]{padding-right:12px!important}.pb-3[_ngcontent-%COMP%]{padding-bottom:12px!important}.pl-3[_ngcontent-%COMP%]{padding-left:12px!important}.m-4[_ngcontent-%COMP%]{margin:16px!important}.mv-4[_ngcontent-%COMP%]{margin-top:16px!important;margin-bottom:16px!important}.mh-4[_ngcontent-%COMP%]{margin-left:16px!important;margin-right:16px!important}.mt-4[_ngcontent-%COMP%]{margin-top:16px!important}.mr-4[_ngcontent-%COMP%]{margin-right:16px!important}.mb-4[_ngcontent-%COMP%]{margin-bottom:16px!important}.ml-4[_ngcontent-%COMP%]{margin-left:16px!important}.p-4[_ngcontent-%COMP%]{padding:16px!important}.pv-4[_ngcontent-%COMP%]{padding-top:16px!important;padding-bottom:16px!important}.ph-4[_ngcontent-%COMP%]{padding-left:16px!important;padding-right:16px!important}.pt-4[_ngcontent-%COMP%]{padding-top:16px!important}.pr-4[_ngcontent-%COMP%]{padding-right:16px!important}.pb-4[_ngcontent-%COMP%]{padding-bottom:16px!important}.pl-4[_ngcontent-%COMP%]{padding-left:16px!important}.m-5[_ngcontent-%COMP%]{margin:20px!important}.mv-5[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:20px!important}.mh-5[_ngcontent-%COMP%]{margin-left:20px!important;margin-right:20px!important}.mt-5[_ngcontent-%COMP%]{margin-top:20px!important}.mr-5[_ngcontent-%COMP%]{margin-right:20px!important}.mb-5[_ngcontent-%COMP%]{margin-bottom:20px!important}.ml-5[_ngcontent-%COMP%]{margin-left:20px!important}.p-5[_ngcontent-%COMP%]{padding:20px!important}.pv-5[_ngcontent-%COMP%]{padding-top:20px!important;padding-bottom:20px!important}.ph-5[_ngcontent-%COMP%]{padding-left:20px!important;padding-right:20px!important}.pt-5[_ngcontent-%COMP%]{padding-top:20px!important}.pr-5[_ngcontent-%COMP%]{padding-right:20px!important}.pb-5[_ngcontent-%COMP%]{padding-bottom:20px!important}.pl-5[_ngcontent-%COMP%]{padding-left:20px!important}.m-6[_ngcontent-%COMP%]{margin:24px!important}.mv-6[_ngcontent-%COMP%]{margin-top:24px!important;margin-bottom:24px!important}.mh-6[_ngcontent-%COMP%]{margin-left:24px!important;margin-right:24px!important}.mt-6[_ngcontent-%COMP%]{margin-top:24px!important}.mr-6[_ngcontent-%COMP%]{margin-right:24px!important}.mb-6[_ngcontent-%COMP%]{margin-bottom:24px!important}.ml-6[_ngcontent-%COMP%]{margin-left:24px!important}.p-6[_ngcontent-%COMP%]{padding:24px!important}.pv-6[_ngcontent-%COMP%]{padding-top:24px!important;padding-bottom:24px!important}.ph-6[_ngcontent-%COMP%]{padding-left:24px!important;padding-right:24px!important}.pt-6[_ngcontent-%COMP%]{padding-top:24px!important}.pr-6[_ngcontent-%COMP%]{padding-right:24px!important}.pb-6[_ngcontent-%COMP%]{padding-bottom:24px!important}.pl-6[_ngcontent-%COMP%]{padding-left:24px!important}.m-7[_ngcontent-%COMP%]{margin:28px!important}.mv-7[_ngcontent-%COMP%]{margin-top:28px!important;margin-bottom:28px!important}.mh-7[_ngcontent-%COMP%]{margin-left:28px!important;margin-right:28px!important}.mt-7[_ngcontent-%COMP%]{margin-top:28px!important}.mr-7[_ngcontent-%COMP%]{margin-right:28px!important}.mb-7[_ngcontent-%COMP%]{margin-bottom:28px!important}.ml-7[_ngcontent-%COMP%]{margin-left:28px!important}.p-7[_ngcontent-%COMP%]{padding:28px!important}.pv-7[_ngcontent-%COMP%]{padding-top:28px!important;padding-bottom:28px!important}.ph-7[_ngcontent-%COMP%]{padding-left:28px!important;padding-right:28px!important}.pt-7[_ngcontent-%COMP%]{padding-top:28px!important}.pr-7[_ngcontent-%COMP%]{padding-right:28px!important}.pb-7[_ngcontent-%COMP%]{padding-bottom:28px!important}.pl-7[_ngcontent-%COMP%]{padding-left:28px!important}.m-8[_ngcontent-%COMP%]{margin:32px!important}.mv-8[_ngcontent-%COMP%]{margin-top:32px!important;margin-bottom:32px!important}.mh-8[_ngcontent-%COMP%]{margin-left:32px!important;margin-right:32px!important}.mt-8[_ngcontent-%COMP%]{margin-top:32px!important}.mr-8[_ngcontent-%COMP%]{margin-right:32px!important}.mb-8[_ngcontent-%COMP%]{margin-bottom:32px!important}.ml-8[_ngcontent-%COMP%]{margin-left:32px!important}.p-8[_ngcontent-%COMP%]{padding:32px!important}.pv-8[_ngcontent-%COMP%]{padding-top:32px!important;padding-bottom:32px!important}.ph-8[_ngcontent-%COMP%]{padding-left:32px!important;padding-right:32px!important}.pt-8[_ngcontent-%COMP%]{padding-top:32px!important}.pr-8[_ngcontent-%COMP%]{padding-right:32px!important}.pb-8[_ngcontent-%COMP%]{padding-bottom:32px!important}.pl-8[_ngcontent-%COMP%]{padding-left:32px!important}.m-9[_ngcontent-%COMP%]{margin:36px!important}.mv-9[_ngcontent-%COMP%]{margin-top:36px!important;margin-bottom:36px!important}.mh-9[_ngcontent-%COMP%]{margin-left:36px!important;margin-right:36px!important}.mt-9[_ngcontent-%COMP%]{margin-top:36px!important}.mr-9[_ngcontent-%COMP%]{margin-right:36px!important}.mb-9[_ngcontent-%COMP%]{margin-bottom:36px!important}.ml-9[_ngcontent-%COMP%]{margin-left:36px!important}.p-9[_ngcontent-%COMP%]{padding:36px!important}.pv-9[_ngcontent-%COMP%]{padding-top:36px!important;padding-bottom:36px!important}.ph-9[_ngcontent-%COMP%]{padding-left:36px!important;padding-right:36px!important}.pt-9[_ngcontent-%COMP%]{padding-top:36px!important}.pr-9[_ngcontent-%COMP%]{padding-right:36px!important}.pb-9[_ngcontent-%COMP%]{padding-bottom:36px!important}.pl-9[_ngcontent-%COMP%]{padding-left:36px!important}.m-10[_ngcontent-%COMP%]{margin:40px!important}.mv-10[_ngcontent-%COMP%]{margin-top:40px!important;margin-bottom:40px!important}.mh-10[_ngcontent-%COMP%]{margin-left:40px!important;margin-right:40px!important}.mt-10[_ngcontent-%COMP%]{margin-top:40px!important}.mr-10[_ngcontent-%COMP%]{margin-right:40px!important}.mb-10[_ngcontent-%COMP%]{margin-bottom:40px!important}.ml-10[_ngcontent-%COMP%]{margin-left:40px!important}.p-10[_ngcontent-%COMP%]{padding:40px!important}.pv-10[_ngcontent-%COMP%]{padding-top:40px!important;padding-bottom:40px!important}.ph-10[_ngcontent-%COMP%]{padding-left:40px!important;padding-right:40px!important}.pt-10[_ngcontent-%COMP%]{padding-top:40px!important}.pr-10[_ngcontent-%COMP%]{padding-right:40px!important}.pb-10[_ngcontent-%COMP%]{padding-bottom:40px!important}.pl-10[_ngcontent-%COMP%]{padding-left:40px!important}.text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.button-loader[_ngcontent-%COMP%]{background:var(--view-loader-scrim-bg);display:-webkit-box;display:flex;position:fixed;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;-webkit-transition:background-color 250ms,opacity 250ms;transition:background-color 250ms,opacity 250ms;z-index:10000}.button-loader[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:var(--view-loader-scrim-bg--hover)}@media print{.button-loader[_ngcontent-%COMP%]{display:none}}.button-loader[_ngcontent-%COMP%]:hover   .button-loader__button[_ngcontent-%COMP%]{background-color:var(--view-loader-icon-color--hover);-webkit-transform:scale(1.1);transform:scale(1.1)}.button-loader[_ngcontent-%COMP%]:hover   .button-loader__3d-arrow[_ngcontent-%COMP%]{-webkit-transform:scale(1.2);transform:scale(1.2)}.button-loader__button[_ngcontent-%COMP%]{display:-webkit-box;display:flex;padding:12px 28px;border-radius:32px;-webkit-box-align:center;align-items:center;-webkit-transition:background-color 250ms,-webkit-transform 250ms;transition:background-color 250ms,-webkit-transform 250ms;transition:transform 250ms,background-color 250ms;transition:transform 250ms,background-color 250ms,-webkit-transform 250ms;background-color:var(--view-loader-button-bg)}.button-loader__3d-arrow[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform 250ms;transition:-webkit-transform 250ms;transition:transform 250ms;transition:transform 250ms,-webkit-transform 250ms;margin-right:4px}.button-loader__label[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;color:#fff;font-weight:600;margin-left:4px}"]],data:{}});function YO(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,4,"div",[["class","button-loader"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,3,"div",[["class","button-loader__button"]],null,null,null,null,null)),(e()(),l.vb(2,0,null,null,0,"img",[["class","button-loader__3d-arrow"],["src","assets/images/widget/loading_experience/interact-in-3d-arrow.svg"]],null,null,null,null,null)),(e()(),l.vb(3,0,null,null,1,"div",[["class","button-loader__label"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Interact in 3D"]))],null,null)}class eC{constructor(){}ngOnInit(){}}var tC=l.tb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.hand-loader[_ngcontent-%COMP%]{background:var(--view-loader-scrim-bg);display:-webkit-box;display:flex;position:fixed;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;-webkit-transition:background-color 250ms,opacity 250ms;transition:background-color 250ms,opacity 250ms;z-index:10000}.hand-loader[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:var(--view-loader-scrim-bg--hover)}@-webkit-keyframes handKeyframes{0%,100%,60%{-webkit-transform:scale(1.2);transform:scale(1.2)}25%,40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes handKeyframes{0%,100%,60%{-webkit-transform:scale(1.2);transform:scale(1.2)}25%,40%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes circleKeyframes{0%{-webkit-transform:scale(0);transform:scale(0)}20%{-webkit-transform:scale(0);transform:scale(0);opacity:1}100%{-webkit-transform:scale(1);transform:scale(1);opacity:0}}@keyframes circleKeyframes{0%{-webkit-transform:scale(0);transform:scale(0)}20%{-webkit-transform:scale(0);transform:scale(0);opacity:1}100%{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.hand-loader__container[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.hand-loader__circle[_ngcontent-%COMP%]{background-color:#fff;position:absolute;left:50%;margin-left:-40.5px;margin-top:-1.5px;width:70px;height:70px;border-radius:50%;-webkit-animation:2s infinite circleKeyframes;animation:2s infinite circleKeyframes}.hand-loader__3d-hand[_ngcontent-%COMP%]{-webkit-animation:2s ease-in-out infinite handKeyframes;animation:2s ease-in-out infinite handKeyframes;position:absolute;height:96px;width:86px;left:50%;margin-left:-43px;margin-top:27px}.hand-loader__label[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;font-weight:600;color:#fff;text-shadow:0 1px 5px #000;bottom:40px;position:absolute;text-align:center;width:100%}"]],data:{}});function nC(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,5,"div",[["class","hand-loader"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,4,"div",[["class","hand-loader__container"]],null,null,null,null,null)),(e()(),l.vb(2,0,null,null,0,"div",[["class","hand-loader__circle"]],null,null,null,null,null)),(e()(),l.vb(3,0,null,null,0,"img",[["class","hand-loader__3d-hand"],["src","assets/images/widget/loading_experience/interact-in-3d-hand.svg"]],null,null,null,null,null)),(e()(),l.vb(4,0,null,null,1,"div",[["class","hand-loader__label"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,["Interact in 3D"]))],null,null)}class lC{constructor(e,t,n){this.renderer=e,this.viewService=t,this.actions=n,this.ngUnsubscribe=new $.a}initLoaderListener(){this.actions.pipe(Object(g.l)(B.ToggleLoader),Object(G.a)(e=>e.show),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.renderer.removeClass(this.viewLoaderRef.nativeElement,"view-loader--disappear")})}handleClick(){this.renderer.addClass(this.viewLoaderRef.nativeElement,"view-loader--disappear"),setTimeout(()=>{this.viewService.toggleLoader(!1)},250)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}var iC=l.tb({encapsulation:2,styles:[[""]],data:{}});function aC(e){return l.Rb(2,[l.Nb(402653184,1,{viewLoaderRef:0}),(e()(),l.vb(1,0,[[1,0],["viewLoader",1]],null,1,"div",[["class","view-loader"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleClick()&&l),l}),null,null)),l.Gb(null,0)],null,null)}let oC=(()=>{class e{constructor(e,t){this.store=e,this.changeDetectorRef=t,this.ngUnsubscribe=new $.a,this.visible=!1}beforePrint(e){this.visible=!0,this.changeDetectorRef.markForCheck()}afterPrint(e){this.visible=!1,this.changeDetectorRef.markForCheck()}ngOnInit(){this.initImageUrlListener()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initImageUrlListener(){Object(Gu.b)(this.storyChapters$,this.store.select(ac.getRegisteredThumbnails)).pipe(Object(G.a)(([e,t])=>e.length>0&&t.size>0),Object(r.a)(([e,t])=>t.get(e[0].id).urls.large),Object(mg.a)(),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.imageUrl=e,this.changeDetectorRef.markForCheck()})}}return Object(b.__decorate)([Object(g.e)(ac.getStoryChapters),Object(b.__metadata)("design:type",V.a)],e.prototype,"storyChapters$",void 0),e})();var sC=l.tb({encapsulation:0,styles:[[".view-print[_ngcontent-%COMP%]{background-color:#fff;display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:10000;justify-content:space-around;margin:auto;margin-top:0!important}@media print{.view-print[_ngcontent-%COMP%]{display:-webkit-box;display:flex}}.view-print__scrim[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:absolute;z-index:-1;top:0;right:0;bottom:0;left:0}.view-print__image[_ngcontent-%COMP%]{display:block;-webkit-box-flex:1;flex:1 1 auto;-o-object-fit:contain;object-fit:contain;margin:0 auto;z-index:1}"]],data:{}});function rC(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,2,"div",[["class","view-print"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,0,"img",[["class","view-print__scrim"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII="]],null,null,null,null,null)),(e()(),l.vb(2,0,null,null,0,"img",[["class","view-print__image"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,2,0,t.component.imageUrl)}))}let cC=(()=>{class e{constructor(e,t,n){this.viewService=e,this.layoutService=t,this.changeDetectorRef=n,this.ngUnsubscribe=new $.a,this.isIn=!1}ngOnInit(){Object(Gu.b)(this.chapter$,this.layout$).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(([e,t])=>{this.isIn=t.column.status===pm.Collapse,this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}isVisible(){return this.layoutService.isVisible(u_.ColumnToggle)}handleToggleClick(){this.viewService.toggleColumn(),this.viewService.toggleSearch(!1),this.viewService.toggleNodeInfo(!1),this.viewService.toggleLabelInfo(!1),this.changeDetectorRef.markForCheck()}}return Object(b.__decorate)([Object(g.e)(jm.getLayout),Object(b.__metadata)("design:type",V.a)],e.prototype,"layout$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapter),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapter$",void 0),e})();var uC=l.tb({encapsulation:2,styles:[[".view-column-toggle{background:#fff;color:#131c2a;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);background:var(--view-column-toggle-background);box-shadow:var(--view-column-toggle-shadow);color:var(--view-column-toggle-color);border-radius:0 4px 4px 0;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;width:24px;height:36px}.view-column-toggle:hover{background-color:#131c2a;background-color:var(--view-column-toggle-background--hover);cursor:pointer}"]],data:{animation:[{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0,transform:"translateX(-32px)"},offset:null},{type:4,styles:{type:6,styles:{opacity:1,transform:"*"},offset:null},timings:"300ms ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateX(-32px)",opacity:0},offset:null},timings:"300ms ease-in-out"}],options:null}],options:{}}]}});function pC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[["class","view-column-toggle"]],[[24,"@show",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleToggleClick()&&l),l}),null,null)),(e()(),l.vb(1,0,null,null,1,"app-icon",[],null,null,null,se,oe)),l.ub(2,114688,null,0,ae,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,2,0,t.component.isIn?"caret-right":"caret-left")}),(function(e,t){e(t,0,0,void 0)}))}function dC(e){return l.Rb(2,[(e()(),l.lb(16777216,null,null,1,null,pC)),l.ub(1,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.isVisible())}),null)}var bC=n("imBb"),gC=n("7sSR");const hC=64;let mC=(()=>{class e{constructor(e,t,n,l,i,a,o,s,r,c,u){this.activatedRoute=e,this.renderer=t,this.store=n,this.viewService=l,this.historyService=i,this.breakpointObserver=a,this.changeDetectorRef=o,this.actions=s,this.layoutService=r,this.engineService=c,this.title=u,this.breakpoint=Em,this.viewLayoutStatus=pm,this.viewMode=km,this.viewLayout=u_,this.columnLayoutStatus=pm.Hide,this.drawerExpandable=!0,this.drawerOpen=!1,this.drawerY=0,this.loadProgress=0,this.viewToolsMode=yx,this.testSelectors=vx,this.ngUnsubscribe=new $.a}ngOnInit(){this.resetScene();const e=this.viewService.normalizeQueryParams(this.activatedRoute.snapshot.queryParams);this.viewService.initStory(e.id,e.type,e.lang)}ngAfterViewInit(){this.store.dispatch(new ua({tag:!0,pin:!1})),this.store.dispatch(new fi(!0)),this.checkCapabilities(),this.initStoryReady(),this.initSizeObservers(),this.initLayoutObserver(),this.initBreakpointObservers(),this.initKeyboardObserver(),this.initLoadProgressObserver(),this.initLoaderObserver(),this.initResponsiveLabels(),this.initNodeObserver(),this.initChapterObserver(),this.initChaptersObserver(),this.initChapterChangeObserver(),this.positionRelativeElements(this.drawerY)}ngOnDestroy(){this.store.dispatch(new Kl(!1)),this.store.dispatch(new fo),this.store.dispatch(new y_(0,0)),gm.isFullscreen()&&gm.exitFullscreen(),this.unbindKeyboard(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}checkCapabilities(){const e=this.renderer.listen("window","mouseover",()=>{e(),this.store.dispatch(new B.SetCanHover(!0))}),t="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;this.store.dispatch(new B.SetCanTouch(t)),this.store.dispatch(new B.SetCanFullscreen(gm.canFullscreen()))}initBreakpointObservers(){this.breakpoint$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.handleResize()})}initResponsiveLabels(){const e=Object(ib.a)(window,"resize").pipe(Object(Xo.a)(100)),t=this.store.select(jm.getLabelsBreakpoint),n=this.store.select(uu.getSelectedLabel),l=this.store.select(uu.getLabelsCollapsed);n.pipe(Object(G.a)(()=>this.store.selectSnapshot(uu.getLabelsCollapsed)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.viewService.toggleLabelInfo(!!e)}),l.pipe(Object(G.a)(()=>!!this.store.selectSnapshot(uu.getSelectedLabel)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.viewService.toggleLabelInfo(e)}),Object(Gu.b)(e,t).pipe(Object(G.a)(([,e])=>!Object(vt.isNil)(e)),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.checkLabelsCollapsed()}),this.checkLabelsCollapsed()}initSizeObservers(){const e=gC({strategy:"scroll"});Object(ib.a)(window,"resize").pipe(Object(Xo.a)(10),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.updateViewHeight()}),new V.a(t=>{e.listenTo(this.engineContainer.nativeElement,()=>{t.next()})}).pipe(Object(Xo.a)(10)).subscribe(()=>{this.resizeEngineContainer()})}initLayoutObserver(){this.layout$.pipe(Object(G.a)(e=>null!=e),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.refreshLayout()})}initKeyboardObserver(){this.inputEnabled$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{e?this.bindKeyboard():this.unbindKeyboard()})}initNodeObserver(){this.actions.pipe(Object(g.l)(ri),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.viewService.delegateNodeClick(e.node,e.event)}),this.actions.pipe(Object(g.l)(so),Object(G.a)(()=>this.store.selectSnapshot(Wr.getActiveTool)===Qr.Select),Object(r.a)(e=>e.node),Object(ke.a)(),Object(Q.a)(this.ngUnsubscribe)).subscribe(([e,t])=>{this.store.selectSnapshot(jm.getLayout).nodeInfo.status===pm.Show&&(null==t||t.id!==e?this.viewService.toggleNodeInfo(!1):t&&this.store.dispatch(new Oo(t)))})}initChaptersObserver(){this.store.select(ac.getStoryChapters).pipe(Object(G.a)(e=>e.length>0),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.checkDrawerSizing(e)})}initChapterObserver(){this.store.select(ac.getSelectedChapterId).pipe(Object(G.a)(e=>null!=e),Object(r.a)(()=>this.store.selectSnapshot(ac.getSelectedChapter)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.viewService.initHistory(),this.viewService.initChapter(e),this.refreshLayout()})}initChapterChangeObserver(){this.store.select(ac.getSelectedChapterModified).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.refreshLayout()})}initLoadProgressObserver(){this.loadProgress$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.loadProgress=100*e,this.changeDetectorRef.markForCheck()})}initLoaderObserver(){this.loaderActive$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.viewService.resetLayout(),e?(this.historyService.resetChapter(),this.viewService.resetCamera(),this.viewService.toggleLabels(!1)):this.viewService.toggleLabels(!0)})}initStoryReady(){this.actions.pipe(Object(g.l)(wa),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.store.dispatch(new lo)}),this.actions.pipe(Object(g.l)(ho,yo,vo,jo),Object(Xo.a)(300),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{const e=this.store.selectSnapshot(ac.getSelectedChapterId);this.store.dispatch(new no(e,!0))}),this.actions.pipe(Object(g.l)(Vi),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{const e=this.store.selectSnapshot(ac.getSelectedChapterId);this.store.dispatch(new no(e,!1))})}handleColumnToggle(){this.viewService.toggleColumn(),this.changeDetectorRef.markForCheck()}handleDrawerOffsetChange(e){this.drawerY=e,this.drawerOpen=e!==-hC,this.positionRelativeElements(this.drawerY)}handleExitClick(){this.viewService.toggleLoader(!0)}checkLabelsCollapsed(){const e=this.store.selectSnapshot(Rm.getBreakpoint),t=this.store.selectSnapshot(jm.getLabelsBreakpoint),n=this.isLabelBreaking(t);this.store.dispatch(new ca(n,e>=Em.Large?Wi.Toggle:Wi.None))}isLabelBreaking(e){return window.innerWidth<e}bindKeyboard(){bC.bind("1",()=>this.viewService.selectTool(Qr.Select)),bC.bind("2",()=>this.viewService.selectTool(Qr.Hide)),bC.bind("3",()=>this.viewService.selectTool(Qr.Fade)),bC.bind("meta+,",e=>{e.preventDefault(),this.viewService.toggleColumn(),this.changeDetectorRef.markForCheck()}),bC.bind("meta+enter",e=>{e.preventDefault(),this.viewService.togglePresentation()}),bC.bind([".","pagedown"],()=>this.viewService.nextChapter()),bC.bind([",","pageup"],()=>this.viewService.previousChapter()),bC.bind(["del","backspace"],e=>{e.preventDefault(),this.viewService.hideSelectedStructures()}),bC.bind("/",()=>this.viewService.toggleSearch()),bC.bind("?",()=>this.viewService.toggleHelp()),bC.bind("space",e=>{e.preventDefault(),this.viewService.toggleAnimation()})}unbindKeyboard(){bC.reset()}resizeEngineContainer(){const{offsetLeft:e,offsetTop:t,offsetWidth:n,offsetHeight:l}=this.engineContainer.nativeElement,i=new xr(e,t,n,l,Or.Shown);this.store.dispatch(new Ci(i))}updateViewHeight(){const e=.01*window.innerHeight;this.view.nativeElement.style.setProperty("--vh",`${e}px`)}handleResize(){this.viewService.resetLayout()}resetScene(){this.store.dispatch(new Kl(!0)),this.store.dispatch(new Yl(!1)),this.engineService.getEvent(Vo.AssetsLoadProgress).pipe(Object($u.a)(1),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.store.dispatch(new Yl(!0))})}refreshLayout(){const e=this.store.selectSnapshot(jm.getLayout);this.columnLayoutStatus=e.column.status,this.updateViewHeight(),this.resizeEngineContainer(),e.tools.status!==pm.Show&&this.viewService.selectTool(Qr.Select),this.store.dispatch(new oa(!1!==e.anatomyLabels.enable,!1!==e.nodeInfo.enable,!0)),setTimeout(()=>{this.drawer?(this.viewService.inferDrawerMode(e),this.positionRelativeElements(this.drawerY)):this.positionRelativeElements()})}positionRelativeElements(e=0){const t=this.store.selectSnapshot(Rm.getBreakpoint),n=(this.store.selectSnapshot(jm.getDrawerCoversContent),this.isVisible(u_.Drawer)),l=this.isVisible(u_.Camera),i=this.store.selectSnapshot(ac.getSelectedChapterModified);null!=this.viewCameraBar&&l&&this.renderer.setStyle(this.viewCameraBar.nativeElement,"transform","translate3d(-4px, 0, 0)"),this.renderer.setStyle(this.viewToolbar.nativeElement,"transform",`translate3d(${l||i?-60:-8}px, 0, 0)`),this.renderer.setStyle(this.viewSceneBase.nativeElement,"transform",`translate3d(0, ${t>Em.Medium?-8:n?-8+(e+hC):-8}px, 0)`)}checkDrawerSizing(e){const t=e.some(e=>Object(vt.trim)(e.info.description).length>0);this.drawerExpandable=t}isVisible(e){return this.layoutService.isVisible(e)}isEnabled(e){return this.layoutService.isLayoutEnabled(e)}}return Object(b.__decorate)([Object(g.e)(jm.getLayout),Object(b.__metadata)("design:type",V.a)],e.prototype,"layout$",void 0),Object(b.__decorate)([Object(g.e)(jm.getInputEnabled),Object(b.__metadata)("design:type",V.a)],e.prototype,"inputEnabled$",void 0),Object(b.__decorate)([Object(g.e)(jm.getFullscreenActive),Object(b.__metadata)("design:type",V.a)],e.prototype,"fullscreenActive$",void 0),Object(b.__decorate)([Object(g.e)(jm.getDrawerCoversContent),Object(b.__metadata)("design:type",V.a)],e.prototype,"drawerCoversContent$",void 0),Object(b.__decorate)([Object(g.e)(jm.getShowHelp),Object(b.__metadata)("design:type",V.a)],e.prototype,"showHelp$",void 0),Object(b.__decorate)([Object(g.e)(jm.getLoaderActive),Object(b.__metadata)("design:type",V.a)],e.prototype,"loaderActive$",void 0),Object(b.__decorate)([Object(g.e)(jm.getLoaderType),Object(b.__metadata)("design:type",V.a)],e.prototype,"loaderType$",void 0),Object(b.__decorate)([Object(g.e)(jm.getUsePrintImage),Object(b.__metadata)("design:type",V.a)],e.prototype,"usePrintImage$",void 0),Object(b.__decorate)([Object(g.e)(x_.getStoryLoadProgress),Object(b.__metadata)("design:type",V.a)],e.prototype,"loadProgress$",void 0),Object(b.__decorate)([Object(g.e)(Rm.getBreakpoint),Object(b.__metadata)("design:type",V.a)],e.prototype,"breakpoint$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapter),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapter$",void 0),e})();var _C=n("7QIX"),fC=l.tb({encapsulation:2,styles:[[".view-page{border:var(--view-page-border);width:100vw;height:100vh;height:calc(var(--vh,1vh) * 100);max-height:100vh;overflow:hidden;-webkit-transition:padding-left 250ms;transition:padding-left 250ms}.view-page--column-in{padding-left:320px}.view-page--column-out{padding-left:0}.view-page--drawer-push{padding-bottom:64px}.view-page__column{height:100%}.view-page__column-toggle{position:absolute;top:12px;left:0;z-index:10}.view-page__engine{width:100%;height:100%;position:relative}.view-page__menu{position:absolute;right:8px;bottom:0;z-index:30}.view-page__camera-bar{position:absolute;bottom:0;right:0;z-index:20;width:52px}.view-page__logo{display:inline-block;position:absolute;left:8px;bottom:0;z-index:10}.view-page__media-bar{position:absolute;left:50%;margin-left:-100px;width:200px;bottom:0;z-index:10;-webkit-box-pack:center;justify-content:center}.view-page__media-bar:not([hidden]){display:-webkit-box;display:flex}.view-page__title-only{position:fixed;top:8px;left:8px;max-width:304px;z-index:10;padding:12px;border-radius:4px;background:rgba(255,255,255,.8);box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#131c2a;background-color:var(--view-title-background);box-shadow:var(--view-title-shadow)}.view-page__scene-base{position:absolute;left:0;bottom:0;right:0;z-index:10;-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}.view-page__toolbar{position:absolute;display:inline-block;z-index:20;bottom:0;right:0;-webkit-transition:-webkit-transform 250ms;transition:-webkit-transform 250ms;transition:transform 250ms;transition:transform 250ms,-webkit-transform 250ms}.view-block-input{position:fixed;top:0;bottom:0;left:0;right:0;z-index:10000}"]],data:{animation:[{type:7,name:"inOutAnimation",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(200px)"},offset:null},{type:4,styles:{type:6,styles:{opacity:1,transform:"*"},offset:null},timings:"500ms ease-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateY(200px)",opacity:0},offset:null},timings:"300ms"}],options:null}],options:{}}]}});function yC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-view-column-container",[],null,null,null,ix,Yv)),l.ub(1,245760,null,0,Zv,[Wm,wy,l.i],null,null)],(function(e,t){e(t,1,0)}),null)}function vC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[["class","view-page__title-only"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-view-title",[["layout","column"]],null,null,null,Sy,jy)),l.ub(2,245760,null,0,Cy,[wy,l.i],null,null)],(function(e,t){e(t,2,0)}),null)}function xC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-view-toolbar",[["position","right"]],null,null,null,lO,Yx)),l.ub(1,114688,null,0,Zx,[g.i,l.i,wy],{position:[0,"position"]},null)],(function(e,t){e(t,1,0,"right")}),null)}function OC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[["class","view-page__logo"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-view-logo",[],null,null,null,rO,aO)),l.ub(2,245760,null,0,iO,[l.i],null,null)],(function(e,t){e(t,2,0)}),null)}function CC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-engine-camera-bar",[],null,null,null,_O,uO)),l.ub(1,245760,null,0,cO,[g.i,Vm],{showNav:[0,"showNav"],showResetScene:[1,"showResetScene"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.isVisible(n.viewLayout.Camera),n.isVisible(n.viewLayout.Reset))}),null)}function wC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-view-drawer",[],null,[[null,"atMinimumChange"],[null,"offsetYChange"]],(function(e,t,n){var l=!0,i=e.component;return"atMinimumChange"===t&&(l=!1!==i.handleDrawerMinimumChange(n)&&l),"offsetYChange"===t&&(l=!1!==i.handleDrawerOffsetChange(n)&&l),l}),LO,SO)),l.ub(2,4440064,[[8,4],["drawer",4]],0,kO,[l.F,l.i,Wm,g.i],{enablePagination:[0,"enablePagination"],expandable:[1,"expandable"]},{offsetYChange:"offsetYChange"})],(function(e,t){e(t,2,0,!1,t.component.drawerExpandable)}),null)}function jC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"div",[["class","view-block-input"]],null,null,null,null,null))],null,null)}function kC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-view-help",[],null,null,null,WO,NO)),l.ub(1,4308992,null,0,EO,[l.F,Wm],null,null)],(function(e,t){e(t,1,0)}),null)}function SC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-play-loader",[],null,null,null,KO,qO)),l.ub(1,4440064,null,0,JO,[l.F,Wm,g.b],{percent:[0,"percent"]},null)],(function(e,t){e(t,1,0,t.component.loadProgress)}),null)}function PC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-button-loader",[],null,null,null,YO,ZO)),l.ub(1,114688,null,0,XO,[],null,null)],(function(e,t){e(t,1,0)}),null)}function MC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-hand-loader",[],null,null,null,nC,tC)),l.ub(1,114688,null,0,eC,[],null,null)],(function(e,t){e(t,1,0)}),null)}function HC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,10,"app-view-loader",[],null,null,null,aC,iC)),l.ub(1,180224,null,0,lC,[l.F,Wm,g.b],null,null),(e()(),l.lb(16777216,null,0,2,null,SC)),l.ub(3,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,0,2,null,PC)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,0,2,null,MC)),l.ub(9,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,3,0,"play"===l.Qb(t,3,0,l.Hb(t,4).transform(n.loaderType$))),e(t,6,0,"button"===l.Qb(t,6,0,l.Hb(t,7).transform(n.loaderType$))),e(t,9,0,"hand"===l.Qb(t,9,0,l.Hb(t,10).transform(n.loaderType$)))}),null)}function IC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-view-print",[],null,[["window","beforeprint"],["window","afterprint"]],(function(e,t,n){var i=!0;return"window:beforeprint"===t&&(i=!1!==l.Hb(e,1).beforePrint()&&i),"window:afterprint"===t&&(i=!1!==l.Hb(e,1).afterPrint()&&i),i}),rC,sC)),l.ub(1,245760,null,0,oC,[g.i,l.i],null,null)],(function(e,t){e(t,1,0)}),null)}function TC(e){return l.Rb(2,[l.Nb(402653184,1,{engineContainer:0}),l.Nb(402653184,2,{viewContainer:0}),l.Nb(402653184,3,{view:0}),l.Nb(671088640,4,{viewCameraBar:0}),l.Nb(671088640,5,{viewLogo:0}),l.Nb(402653184,6,{viewSceneBase:0}),l.Nb(671088640,7,{viewToolbar:0}),l.Nb(671088640,8,{drawer:0}),(e()(),l.vb(8,0,[[2,0],["viewContainer",1]],null,26,"div",[],null,null,null,null,null)),(e()(),l.vb(9,0,[[3,0],["view",1]],null,25,"div",[["class","view-page"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(11,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(12,{"view-page--column-in":0,"view-page--column-out":1,"view-page--drawer-push":2}),(e()(),l.lb(16777216,null,null,2,null,yC)),l.ub(14,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,vC)),l.ub(17,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(19,0,[[1,0],["engineContainer",1]],null,15,"div",[["class","view-page__engine"]],null,null,null,null,null)),(e()(),l.vb(20,0,null,null,2,"div",[["class","view-page__column-toggle"]],null,null,null,null,null)),(e()(),l.vb(21,0,null,null,1,"app-view-column-toggle",[],null,null,null,dC,uC)),l.ub(22,245760,null,0,cC,[Wm,wy,l.i],null,null),(e()(),l.vb(23,0,[[6,0],["viewSceneBase",1]],null,9,"div",[["class","view-page__scene-base"]],null,null,null,null,null)),(e()(),l.vb(24,0,[[7,0],["viewToolbar",1]],null,2,"div",[["class","view-page__toolbar"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,xC)),l.ub(26,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,1,null,OC)),l.ub(28,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(29,0,[[4,0],["viewCameraBar",1]],null,3,"div",[["class","view-page__camera-bar"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,2,null,CC)),l.ub(31,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,1,null,wC)),l.ub(34,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,null,2,null,jC)),l.ub(36,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,kC)),l.ub(39,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,HC)),l.ub(42,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,2,null,IC)),l.ub(45,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component,i=e(t,12,0,n.isVisible(n.viewLayout.Column),!n.isVisible(n.viewLayout.Column),n.isVisible(n.viewLayout.Drawer));e(t,11,0,"view-page",i),e(t,14,0,!l.Qb(t,14,0,l.Hb(t,15).transform(n.loaderActive$)));var a=null;e(t,17,0,n.isVisible(n.viewLayout.TitleOnly)&&(null==(a=l.Qb(t,17,0,l.Hb(t,18).transform(n.chapter$)))?null:a.info.displayName)),e(t,22,0),e(t,26,0,n.isVisible(n.viewLayout.Toolbar)),e(t,28,0,n.isVisible(n.viewLayout.Logo)),e(t,31,0,!l.Qb(t,31,0,l.Hb(t,32).transform(n.loaderActive$))),e(t,34,0,n.isVisible(n.viewLayout.Drawer)),e(t,36,0,!l.Qb(t,36,0,l.Hb(t,37).transform(n.inputEnabled$))),e(t,39,0,l.Qb(t,39,0,l.Hb(t,40).transform(n.showHelp$))),e(t,42,0,l.Qb(t,42,0,l.Hb(t,43).transform(n.loaderActive$))),e(t,45,0,l.Qb(t,45,0,l.Hb(t,46).transform(n.usePrintImage$)))}),null)}function zC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-view-page",[],null,null,null,TC,fC)),l.ub(1,4440064,null,0,mC,[u.a,l.F,g.i,Wm,Vm,_C.a,l.i,g.b,wy,Ls,No.h],null,null)],(function(e,t){e(t,1,0)}),null)}var FC=l.rb("app-view-page",mC,zC,{},{},[]);const LC={title:"We're unable to find the model you're looking for.",description:'Please check your URL or visit the <a href="/" target="_blank">BioDigital Human</a> to see what\'s available in our 3D model library.'},EC={title:"Your BioDigital Human embed requires proper authentication.",description:""},NC={[P.InvalidUAID]:{title:"Authentication Issues",description:"Your Human Widget has invalid user credentials.",url:"https://support.biodigital.com"}},RC={title:"WebGL Error",description:"It appears your browser isn't supporting WebGL, the HTML standard used to view 3D graphics."},AC={[function(e){return e[e.Error=1]="Error",e[e.ModernizerNoWebGL=2]="ModernizerNoWebGL",e[e.WebGLNotSupported=3]="WebGLNotSupported",e[e.ShaderCompilationFailure=4]="ShaderCompilationFailure",e[e.ShaderLinkFailure=5]="ShaderLinkFailure",e[e.OutOfVRAM=6]="OutOfVRAM",e[e.WebGLContentLost=7]="WebGLContentLost",e}({}).WebGLNotSupported]:{title:"WebGL Unsupported",description:"It appears your browser isn't supporting WebGL, the HTML standard used to view 3D graphics."}},DC={title:"We're unable to find the page you're looking for.",description:'Please check your URL or return to our <a href="/">homepage</a>.'};class UC{constructor(e,t){this.route=e,this.snackBar=t,this.errorTypeEnum=__,this.supportURL="https://support.biodigital.com",this.errorType=__.Content}get widgetError(){let e;switch(this.errorType){case __.Auth:e=NC[this.errorCode]||EC;break;case __.Engine:e=AC[this.errorCode]||RC;break;case __.Content:e=LC;break;default:e=DC}return e}get title(){return Object(vt.get)(this.widgetError,"title",DC.title)}get description(){return Object(vt.get)(this.widgetError,"description",DC.description)}get url(){return Object(vt.get)(this.widgetError,"url",DC.url)}ngOnInit(){this.initErrorHandling()}initErrorHandling(){const{errorType:e,errorCode:t}=this.route.snapshot.queryParams;this.errorType=e,this.errorCode=t}handleActionClick(e){window.open(e)||this.snackBar.open("Unable to open link in new window, please check your pop-up settings.")}}var BC=l.tb({encapsulation:2,styles:[[".error{margin:120px auto;width:640px;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;color:#283853}.error__description a,.error__description a:visited{color:#283853}.error__actions{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.error__action-button{margin-right:12px!important}.error__logo{margin-top:80px;width:240px}@media (max-width:800px),(max-height:480px){.error{margin:80px;width:auto}}@media (max-width:480px),(max-height:360px){.error{margin:40px;width:auto}.error__logo{margin-top:40px;width:160px}}@media (max-width:360px){.error{margin:16px;width:auto}}@media (max-width:300px){.error{margin:8px;width:auto}.error__actions{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.error__action-button{margin-bottom:8px!important}.error__logo{margin-top:16px;width:80%}}"]],data:{}});function $C(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","error__action-button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleActionClick(i.url)&&l),l}),$e,Be)),l.ub(2,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Read More"])),(e()(),l.vb(4,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","error__action-button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleActionClick(i.supportURL)&&l),l}),$e,Be)),l.ub(5,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Contact Us"]))],(function(e,t){e(t,2,0,"outline","light"),e(t,5,0,"flat","light")}),(function(e,t){e(t,1,0,l.Hb(t,2).disabled),e(t,4,0,l.Hb(t,5).disabled)}))}function VC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","error__action-button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleActionClick(i.supportURL)&&l),l}),$e,Be)),l.ub(1,114688,null,0,Ue,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),l.Pb(-1,0,["Contact Us"]))],(function(e,t){e(t,1,0,"outline","light")}),(function(e,t){e(t,0,0,l.Hb(t,1).disabled)}))}function QC(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,8,"div",[["class","error"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"div",[["class","error__title text-24 text-bold"]],null,null,null,null,null)),(e()(),l.Pb(2,null,[" "," "])),(e()(),l.vb(3,0,null,null,0,"div",[["class","error__description text-16 mt-8"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l.vb(4,0,null,null,3,"div",[["class","error__actions mt-8"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,$C)),l.ub(6,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.lb(0,[["defaultActions",2]],null,0,null,VC)),(e()(),l.vb(8,0,null,null,0,"img",[["class","error__logo mt-16"],["src","assets/images/biodigital-logo.svg"]],null,null,null,null,null))],(function(e,t){e(t,6,0,t.component.url,l.Hb(t,7))}),(function(e,t){var n=t.component;e(t,2,0,n.title),e(t,3,0,n.description)}))}function GC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-widget-error",[],null,null,null,QC,BC)),l.ub(1,114688,null,0,UC,[u.a,hp.c],null,null)],(function(e,t){e(t,1,0)}),null)}var WC=l.rb("app-widget-error",UC,GC,{},{},[]);class JC{constructor(e,t,n){this.engineService=e,this.cameraService=t,this.changeDetectionRef=n}ngOnInit(){this.initCameraListener()}initCameraListener(){this.engineService.getEvent(Vo.CameraUpdated).pipe(Object(Kh.a)(50)).subscribe(e=>{this.camera={x:e.eye.x.toFixed(0),y:e.eye.y.toFixed(0),z:e.eye.z.toFixed(0),dist:e.dist.toFixed(0)},this.changeDetectionRef.markForCheck()})}}var qC=l.tb({encapsulation:0,styles:[[".engine-camera-position[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;color:#fff;font-size:10px;text-shadow:0 0 2px rgba(0,0,0,.8);z-index:10}"]],data:{}});function KC(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"div",[["class","engine-camera-position"]],null,null,null,null,null)),(e()(),l.Pb(1,null,[" X:"," Y:"," Z:"," Dist:","\n"]))],null,(function(e,t){var n=t.component;e(t,1,0,null==n.camera?null:n.camera.x,null==n.camera?null:n.camera.y,null==n.camera?null:n.camera.z,null==n.camera?null:n.camera.dist)}))}const XC=1,ZC=80,YC=100,ew=YC-ZC,tw=16;let nw=(()=>{class e{constructor(e,t,n,l,i,a,o){this.renderer=e,this.labelsService=t,this.engineService=n,this.cameraService=l,this.store=i,this.actions=a,this.changeDetection=o,this.labelPinType=Es,this.collapsed=!1,this.collapsedMode=Wi.None,this.theme="classic",this.pinDraggable=!0,this.tagDraggable=!0,this.emitEvents=!0,this.enginePosition=null,this.isSelected=!1,this.isBackgroundDark=!1,this.descriptionCollapsed=!1,this.tagCollapsed=!1,this.scale=1,this.pinDragging=!1,this.screenshotMode=!1,this.hammerManagers=[],this.displayUpdated$=new $.a,this.positionUpdated$=new $.a,this.ngUnsubscribe=new $.a,this.isIE11=n_()}get label(){return this._label}set label(e){const t=0===Object.keys(e).length,n=null==this.label||0===Object.keys(this.label).length;t&&!n?(this._label=e,this.destroyLabel()):t||(this._label=e,this.initLabel(this.label))}get isCollapsed(){return this.collapsedMode===Wi.Toggle?this.collapsed&&!this.isSelected:this.collapsed}ngOnInit(){this.initListeners()}ngAfterViewInit(){this.bindTagEvents(),this.bindPinEvents(),this.bindHoverEvents()}ngOnDestroy(){this.destroyLabel(),this.emitDisplayUpdated({id:this.label.id,inView:!1,shown:!1,objectShown:this.objectShown}),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}destroyLabel(){this.hammerManagers.forEach(e=>e.destroy),this.hammerManagers=[],this.deleteMarker(this.marker)}initListeners(){this.selectedLabel$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>this.handleLabelSelected(e)),this.enginePosition$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.enginePosition=e}),this.engineService.getEvent(Vo.SceneMarkersUpdated).pipe(Object(G.a)(()=>null!=this.label&&null!=this.enginePosition),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.setCanvasPos()}),this.displayUpdated$.pipe(Object(mg.a)((e,t)=>Object(vt.isEqual)(e,t)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.emitEngineEvent(Vo.HotspotsDisplayUpdated,e)}),this.positionUpdated$.pipe(Object(mg.a)((e,t)=>Object(vt.isEqual)(e,t)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.emitEngineEvent(Vo.HotspotsPositionUpdated,e)}),this.background$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{const t=e.colors.slice(0,3),n=e.colors.slice(4,7);this.isBackgroundDark=!Ve.isLight(t,n),this.changeDetection.markForCheck()}),this.actions.pipe(Object(g.l)(eo),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.screenshotMode=!0,this.changeDetection.detectChanges()}),this.actions.pipe(Object(g.k)(to),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.screenshotMode=!1,this.changeDetection.markForCheck()})}bindTagEvents(){const e=new f_(this.tagRef.nativeElement,{domEvents:!0});e.get("pan").set({direction:f_.DIRECTION_ALL,threshold:3}),e.on("pan",e=>{this.tagDraggable&&(e.srcEvent.stopPropagation(),this.cachedTagOffset||(this.cachedTagOffset=this.label.offset),this.label.offset=[this.cachedTagOffset[0]+e.deltaX,this.cachedTagOffset[1]+e.deltaY],e.isFinal&&(this.cachedTagOffset=null,this.store.dispatch(new na(this.label))))}),e.on("tap",e=>{e.srcEvent.preventDefault(),e.srcEvent.stopPropagation(),"BUTTON"===e.target.parentNode.nodeName?this.toggleDescription():this.selectLabel()}),this.hammerManagers.push(e)}bindPinEvents(){const e=new f_(this.pinRef.nativeElement);e.get("pan").set({direction:f_.DIRECTION_ALL,threshold:4}),e.on("pan",e=>{if(!this.pinDraggable)return;e.srcEvent.stopPropagation(),this.pinDragging=!0;let{layerX:t,layerY:n}=e.changedPointers[0];if(t-=tw,n-=tw,this.marker&&this.deleteMarker(this.marker),this.renderer.setStyle(this.labelContainerRef.nativeElement,"transform",`translate(${t}px, ${n}px)`),e.isFinal){this.pinDragging=!1;const e=Object.assign({},this.label),l=Human.renderer.pick.pick({canvasPos:[t,n],rayPick:!0});l.objectId&&(e.dir=this.cameraService.getDirection(l),e.objectId=l.objectId,e.barycentric=[l.barycentric[0],l.barycentric[1],l.barycentric[2]],e.pos=[l.worldPos[0],l.worldPos[1],l.worldPos[2]],e.primitiveIndex=l.primitiveIndex),this.store.dispatch(new na(e))}}),e.on("tap",e=>{e.srcEvent.preventDefault(),e.srcEvent.stopImmediatePropagation(),this.selectLabel()}),this.hammerManagers.push(e)}bindHoverEvents(){const e=this.labelRef.nativeElement;this.renderer.listen(e,"mouseenter",()=>{this.emitEngineEvent(Vo.HotspotsEntered,{id:this.label.id})}),this.renderer.listen(e,"mouseleave",()=>{this.emitEngineEvent(Vo.HotspotsLeft,{id:this.label.id})})}initLabel(e){this.initMarker(e),this.ensureObjectId(e),this.initObjectSubscription(e),this.descriptionCollapsed=e.collapseDescription,this.tagCollapsed=e.hideTag}initMarker(e){this.marker&&this.deleteMarker(this.marker),this.marker=Human.scene.markers.create({id:e.id,pos:e.pos,dir:e.dir,objectId:e.objectId,primitiveIndex:e.primitiveIndex,barycentric:e.barycentric,renderableIndex:e.renderableIndex||0})}checkLabelDisplay(){return{id:this.label.id,shown:this.label.shown,inView:this.isOnCanvas(),objectShown:!0}}ensureObjectId(e){if(!e.objectId){const t=Human.renderer.pick.pick({canvasPos:[this.marker.canvasPos[0],this.marker.canvasPos[1]],rayPick:!0});t.objectId&&(e.objectId=t.objectId,e.states.forEach(e=>{e.errands.forEach(e=>{e.type===tr.flyToObject&&(e.value=t.objectId)})}),this.store.dispatch(new na(e)))}}initObjectSubscription(e){this.object$&&this.object$.unsubscribe(),e.objectId&&(this.object$=this.store.select(Wr.getViewGraphNode).pipe(Object(r.a)(t=>t(e.objectId)),Object(G.a)(e=>!!e),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.objectShown=e.boolState.shown}))}deleteMarker(e){Human.scene.markers.delete(e.id),this.marker=null}toggleDescription(e){this.descriptionCollapsed=e=void 0===e?!this.descriptionCollapsed:e}handleLabelSelected(e){this.isSelected=e&&e.id===this.label.id;const t=Object(vt.get)(e,"states[1].errands"),n=this.store.selectSnapshot(Vr.getLockCamera);this.isSelected&&t&&!n&&t.forEach(e=>{switch(e.type){case tr.flyToObject:this.flyToObject(e.value);break;case tr.flyToCamera:this.flyToPosition(e.value)}this.store.dispatch(new Ar(!0))}),this.tagCollapsed=!(this.label.title||this.label.description)||(this.label.expandTag&&this.label.hideTag?!this.isSelected:this.label.hideTag),this.descriptionCollapsed=this.label.showDescription&&this.label.collapseDescription?!this.isSelected:this.label.collapseDescription}flyToObject(e){this.store.dispatch(new ci(e))}flyToPosition(e){this.store.dispatch(new kr(e))}setCanvasPos(){if(this.pinDragging||!this.marker)return;this.depth=-this.marker.viewPos[2];const e=this.isOccluded(),t=this.isOnCanvas(),n=void 0===this.objectShown?t:t&&this.objectShown;n!==this.shown&&(this.shown=n,this.setDisplay(n)),this.setOpacity(e),this.setElementPosition(),this.setElementScale(),this.setTagPosition(),this.setWirePosition();const{0:l,1:i}=this.marker.canvasPos;this.positionUpdated$.next({id:this.label.id,canvasPos:{x:l,y:i},occluded:e})}selectLabel(){const e=this.store.selectSnapshot(uu.getSelectedLabel);this.store.dispatch(new la(e&&e.id===this.label.id?null:this.label)),this.emitEngineEvent(Vo.HotspotsPicked,{id:this.label.id})}isOccluded(){return!this.isSelected&&this.label.occludable&&(Math.abs(this.marker.viewAngle)>YC||this.marker.occluded||this.depth<0)}isOnCanvas(){const{offsetWidth:e,offsetHeight:t}=this.labelsService.getLabelContainer().nativeElement,[n,l]=this.marker.canvasPos;return n>0&&l>0&&n<e&&l<t}setDisplay(e){this.renderer.setStyle(this.labelRef.nativeElement,"visibility",e?"visible":"hidden"),this.emitDisplayUpdated({id:this.label.id,inView:this.isOnCanvas(),shown:e,objectShown:this.objectShown})}setOpacity(e){let t=XC;e?(this.marker.viewAngle>=ZC&&(t=Math.max(1-(this.marker.viewAngle-ZC)/ew*XC,0)),this.renderer.setStyle(this.labelContainerRef.nativeElement,"opacity",t)):this.renderer.setStyle(this.labelContainerRef.nativeElement,"opacity",1)}setElementPosition(){const e=this.marker.canvasPos;this.renderer.setStyle(this.labelContainerRef.nativeElement,"transform",`translate(${e[0]}px, ${e[1]}px)`)}setElementScale(){const e=this.store.selectSnapshot(Wr.getEnginePosition).width;this.scale=e>1440?e/1440:1;const t=32*this.scale-32;this.renderer.setStyle(this.labelRef.nativeElement,"transform-origin","top left"),this.renderer.setStyle(this.labelRef.nativeElement,"transform",`translate(-${t/2}px, -${t/2}px) scale(${this.scale}, ${this.scale})`)}setTagPosition(){const e=this.label.offset,t=this.tagRef.nativeElement.offsetWidth;switch(this.label.offset[0]>0?"left":"right"){case"left":this.renderer.setStyle(this.tagRef.nativeElement,"transform",`translate(${16+e[0]}px, ${e[1]}px)`);break;case"right":this.renderer.setStyle(this.tagRef.nativeElement,"transform",`translate(${16+e[0]-t}px, ${e[1]}px)`)}}setWirePosition(){let[e,t]=this.label.offset;switch(this.label.theme){case Ns.Annotation:case Ns.Classic:t+=this.titleRef.nativeElement.offsetHeight-16-2}const n=Math.sqrt(e*e+t*t);this.renderer.setStyle(this.wireRef.nativeElement,"width",`${n}px`),this.renderer.setStyle(this.wireRef.nativeElement,"transform",`rotate(${Math.atan2(t,e)}rad)`)}emitDisplayUpdated(e){"context-label"!==this.label.id&&null!=e.inView&&null!=e.shown&&this.displayUpdated$.next(e)}emitEngineEvent(e,t){this.emitEvents&&this.engineService.fireEvent(e,t)}}return Object(b.__decorate)([Object(g.e)(Wr.getEnginePosition),Object(b.__metadata)("design:type",V.a)],e.prototype,"enginePosition$",void 0),Object(b.__decorate)([Object(g.e)(uu.getSelectedLabel),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedLabel$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterBackground),Object(b.__metadata)("design:type",V.a)],e.prototype,"background$",void 0),e})();var lw=l.tb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}@-webkit-keyframes fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}100%{opacity:1;display:block}}@keyframes fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}100%{opacity:1;display:block}}@-webkit-keyframes fadeOut{0%{display:block;opacity:1}99%{opacity:0}100%{opacity:0;display:none}}@keyframes fadeOut{0%{display:block;opacity:1}99%{opacity:0}100%{opacity:0;display:none}}@-webkit-keyframes glow{0%,100%{box-shadow:0 0 0 rgba(255,255,255,.5)}50%{box-shadow:0 0 8px 2px rgba(255,255,255,.5)}}@keyframes glow{0%,100%{box-shadow:0 0 0 rgba(255,255,255,.5)}50%{box-shadow:0 0 8px 2px rgba(255,255,255,.5)}}@-webkit-keyframes classic-glow{0%,10%,100%,90%{-webkit-transform:scale(.5,.5);transform:scale(.5,.5)}50%{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes classic-glow{0%,10%,100%,90%{-webkit-transform:scale(.5,.5);transform:scale(.5,.5)}50%{-webkit-transform:scale(1,1);transform:scale(1,1)}}.label-container[_ngcontent-%COMP%], [_nghost-%COMP%]{display:block;position:absolute;z-index:10;width:160px;pointer-events:all;pointer-events:none}.label-container[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]:hover{z-index:11}.label-container[_ngcontent-%COMP%]{left:-16px;top:-16px}.label[_ngcontent-%COMP%]{display:block;overflow:visible;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;height:32px}.label--screenshot-mode[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:after, .label--screenshot-mode[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before, .label--screenshot-mode[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{box-shadow:none!important}.label--screenshot-mode[_ngcontent-%COMP%]   .label__more[_ngcontent-%COMP%]{display:none!important}.label__pin-type[_ngcontent-%COMP%]{display:none;position:absolute;z-index:2}.label__glow[_ngcontent-%COMP%]{display:none;position:absolute;width:32px;height:32px;border-radius:50%;z-index:0;top:0;left:0}.label--selected[_ngcontent-%COMP%]   .label__more[_ngcontent-%COMP%]{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.label__more[_ngcontent-%COMP%]{color:#374a68;display:none;-webkit-box-flex:0;flex:0 0 16px;height:16px;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out,-webkit-transform 150ms ease-in-out}.label__pin[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;width:32px;height:32px;border-radius:50%;position:absolute;pointer-events:all;-webkit-transition:background-color .12s;transition:background-color .12s;z-index:10}.label__pin[_ngcontent-%COMP%]:hover{cursor:pointer}.label__pin--draggable[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}.label__pin--draggable[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:grabbing}.label__wire[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;height:0;-webkit-transform-origin:0 100%;transform-origin:0 100%;pointer-events:none;z-index:1}.label__wire--collapse[_ngcontent-%COMP%]{display:none}.label__tag[_ngcontent-%COMP%]{display:inline-block;left:16px;top:0;z-index:10;max-width:160px;pointer-events:all}.label__tag[_ngcontent-%COMP%]:hover{cursor:pointer}.label__tag--draggable[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}.label__tag--draggable[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:grabbing}.label__tag--collapse[_ngcontent-%COMP%]{display:none}.label__header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.label__title[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:140%;overflow-x:hidden;align-self:center}.label__body[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.label__body--collapse[_ngcontent-%COMP%]{display:none}.label__icon[_ngcontent-%COMP%]{margin:0 -4px 0 4px}.label__actions[_ngcontent-%COMP%]{padding-left:4px}.label--studio.label--glow[_ngcontent-%COMP%]   .label__glow[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.3);display:block;-webkit-animation:4s infinite classic-glow;animation:4s infinite classic-glow}.label--studio.label.label--selected[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{background-color:#fff;border-color:#2d72dc;box-shadow:0 0 0 1px rgba(45,114,220,.7)}.label--studio.label.label--selected[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-color:#2d72dc}.label--studio.label.label--selected[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{background-color:#fff;border-color:#2d72dc;box-shadow:0 0 0 1px rgba(45,114,220,.7)}.label--studio.label.label--selected[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{font-weight:600}.label--studio.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{content:' ';border:2px solid transparent;border-radius:50%;box-shadow:0 0 16px rgba(16,24,35,.5);box-sizing:border-box;display:block;position:absolute;height:18px;width:18px;top:7px;left:7px}.label--studio.label[_ngcontent-%COMP%]   .label__pin--circle[_ngcontent-%COMP%]   .label__pin-type--circle[_ngcontent-%COMP%], .label--studio.label[_ngcontent-%COMP%]   .label__pin--minus[_ngcontent-%COMP%]   .label__pin-type--minus[_ngcontent-%COMP%], .label--studio.label[_ngcontent-%COMP%]   .label__pin--plus[_ngcontent-%COMP%]   .label__pin-type--plus[_ngcontent-%COMP%]{display:block}.label--studio.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-top:1px solid rgba(16,24,35,.5)}.label--studio.label[_ngcontent-%COMP%]   .label__wire--collapse[_ngcontent-%COMP%]{display:none}.label--studio.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{background:rgba(255,255,255,.55);border:1px solid rgba(16,24,35,.5);box-shadow:0 0 24px rgba(16,24,35,.1);padding:4px 8px;border-radius:4px}.label--studio.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.8)}.label--studio.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{color:#101823;-webkit-box-flex:1;flex:1 1 auto;overflow-x:visible}.label--studio.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{color:#374a68;overflow-x:hidden;padding-top:4px}.label--studio.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.label--studio.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:italic}.label--studio.label[_ngcontent-%COMP%]   .label__more[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.label--annotation.label.label--selected[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{background-color:rgba(255,255,255,.25)}.label--annotation.label.label--selected[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:after{border-color:#2d72dc;background-color:#fff}.label--annotation.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]{border:1px solid transparent;border-radius:50%;position:absolute;z-index:2;cursor:pointer}.label--annotation.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{content:' ';background-color:rgba(0,0,0,.25);border-radius:50%;display:block;width:22px;height:22px;position:absolute;z-index:1;top:4px;left:4px}.label--annotation.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:after{content:' ';display:block;width:10px;height:10px;background-color:rgba(0,0,0,.75);border:2px solid #ccc;border-radius:50%;position:absolute;z-index:2;top:8px;left:8px}.label--annotation.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-top:1px solid #666}.label--annotation.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{text-shadow:0 0 2px rgba(255,255,255,.5);min-width:10px;color:#eee}.label--annotation.label[_ngcontent-%COMP%]   .label__header[_ngcontent-%COMP%]{border-bottom:1px solid #666}.label--annotation.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{font-weight:600;min-height:18px;width:100%;padding-bottom:4px;margin-bottom:-2px;color:#000}.label--annotation.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{padding-top:4px;color:#333}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]{text-shadow:0 0 2px rgba(0,0,0,.6)}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-color:#eee}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{text-shadow:none}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{color:#fff}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__header[_ngcontent-%COMP%]{border-color:#eee}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{color:#eee}.label--classic.label--glow[_ngcontent-%COMP%]   .label__glow[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.2);display:block;-webkit-animation:4s infinite classic-glow;animation:4s infinite classic-glow}.label--classic.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]{border:1px solid transparent;border-radius:50%;position:absolute;z-index:2;cursor:pointer}.label--classic.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{content:' ';background-color:rgba(0,0,0,.25);border-radius:50%;display:block;width:32px;height:32px;z-index:1;box-sizing:border-box}.label--classic.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:after{content:' ';display:block;width:18px;height:18px;background-color:rgba(0,0,0,.75);border:1px solid #ccc;border-radius:50%;position:absolute;z-index:2;box-sizing:border-box;top:6px;left:6px}.label--classic.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-top:1px solid #666}.label--classic.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{min-width:10px;color:#eee}.label--classic.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{border-bottom:1px solid #666;min-height:18px;width:100%;padding-bottom:4px;color:#000}.label--classic.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{padding-top:4px;color:#333}.label--context.label[_ngcontent-%COMP%]{pointer-events:none}.label--context.label--glow[_ngcontent-%COMP%]   .label__glow[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.3);display:block;-webkit-animation:4s infinite classic-glow;animation:4s infinite classic-glow}.label--context.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%], .label--context.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{display:none}.label--context.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{background:rgba(255,255,255,.7);border:1px solid rgba(16,24,35,.5);box-shadow:0 0 24px rgba(16,24,35,.1);padding:4px 8px;border-radius:4px}.label--context.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.8);cursor:-webkit-grab;cursor:grab}.label--context.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{font-weight:600;color:#101823;overflow-x:hidden}.label--context.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{margin-top:8px;border-top:1px solid #eaeff5;color:#101823;overflow-x:hidden;padding-top:8px}.label--context.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.label--context.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:italic}"]],data:{}});function iw(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[["class","label__more"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-icon",[["icon","caret-right"]],null,null,null,se,oe)),l.ub(2,114688,null,0,ae,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,2,0,"caret-right")}),null)}function aw(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"div",[["class","label__body"]],[[8,"innerHTML",1]],null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(2,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(3,{"label__body--collapse":0})],(function(e,t){var n=t.component,l=e(t,3,0,n.isCollapsed||n.descriptionCollapsed);e(t,2,0,"label__body",l)}),(function(e,t){e(t,0,0,t.component.label.description)}))}function ow(e){return l.Rb(2,[l.Nb(402653184,1,{labelContainerRef:0}),l.Nb(402653184,2,{labelRef:0}),l.Nb(402653184,3,{wireRef:0}),l.Nb(402653184,4,{tagRef:0}),l.Nb(402653184,5,{pinRef:0}),l.Nb(402653184,6,{titleRef:0}),(e()(),l.vb(6,0,[[1,0],["labelContainerEl",1]],null,33,"div",[["class","label-container"]],null,null,null,null,null)),(e()(),l.vb(7,0,[[2,0],["labelEl",1]],null,32,"div",[["class","label"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(9,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Jb(131072,Y.b,[l.i]),l.Kb(11,{"label--selected":0,"label--glow":1,"label--annotation":2,"label--classic":3,"label--invert":4,"label--studio":5,"label--context":6,"label--screenshot-mode":7}),(e()(),l.vb(12,0,[[5,0],["pin",1]],null,9,"div",[["class","label__pin"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(14,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.Kb(17,{"label__pin--circle":0,"label__pin--plus":1,"label__pin--minus":2,"label__pin--draggable":3}),(e()(),l.vb(18,0,null,null,0,"img",[["class","label__pin-type label__pin-type--circle"],["src","/assets/images/labels/circle.svg"]],null,null,null,null,null)),(e()(),l.vb(19,0,null,null,0,"img",[["class","label__pin-type label__pin-type--plus"],["src","/assets/images/labels/circle-plus.svg"]],null,null,null,null,null)),(e()(),l.vb(20,0,null,null,0,"img",[["class","label__pin-type label__pin-type--minus"],["src","/assets/images/labels/circle-minus.svg"]],null,null,null,null,null)),(e()(),l.vb(21,0,null,null,0,"div",[["class","label__glow"]],null,null,null,null,null)),(e()(),l.vb(22,0,[[3,0],["wire",1]],null,3,"div",[["class","label__wire"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(24,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(25,{"label__wire--collapse":0}),(e()(),l.vb(26,0,[[4,0],["tag",1]],null,13,"div",[["class","label__tag"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(28,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(29,{"label__tag--collapse":0,"label__tag--draggable":1}),(e()(),l.vb(30,0,null,null,6,"div",[["class","label__header"]],null,null,null,null,null)),(e()(),l.vb(31,0,[[6,0],["title",1]],null,0,"div",[["class","label__title"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,iw)),l.ub(33,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(34,0,null,null,2,"div",[["appEventFence",""],["class","label__actions"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==l.Hb(e,35).onClick(n,n.target)&&i),i}),null,null)),l.ub(35,16384,null,0,re,[],null,null),l.Gb(null,0),(e()(),l.lb(16777216,null,null,1,null,aw)),l.ub(38,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Gb(null,1)],(function(e,t){var n,i=t.component,a=e(t,11,0,(null==(n=l.Qb(t,9,1,l.Hb(t,10).transform(i.selectedLabel$)))?null:n.id)===i.label.id,i.label.pinGlow,"annotation"===i.label.theme,"classic"===i.label.theme,i.isBackgroundDark,"studioNext"===i.label.theme,"context"===i.label.theme,i.screenshotMode);e(t,9,0,"label",a);var o=null,s=e(t,17,0,i.label.pinType==i.labelPinType.Default,i.label.pinType===i.labelPinType.Plus||i.label.pinType===i.labelPinType.PlusMinus&&(null==(o=l.Qb(t,14,1,l.Hb(t,15).transform(i.selectedLabel$)))?null:o.id)!==i.label.id,i.label.pinType===i.labelPinType.Minus||i.label.pinType===i.labelPinType.PlusMinus&&(null==(o=l.Qb(t,14,1,l.Hb(t,16).transform(i.selectedLabel$)))?null:o.id)===i.label.id,i.pinDraggable);e(t,14,0,"label__pin",s);var r=e(t,25,0,i.isCollapsed||i.tagCollapsed||i.label.hideWire);e(t,24,0,"label__wire",r);var c=e(t,29,0,i.isCollapsed||i.tagCollapsed,i.tagDraggable);e(t,28,0,"label__tag",c),e(t,33,0,i.label.description&&i.label.collapseDescription),e(t,38,0,i.label.description)}),(function(e,t){e(t,31,0,t.component.label.title)}))}let sw=(()=>{class e{constructor(e,t,n,l,i){this.store=e,this.actions=t,this.engineService=n,this.viewService=l,this.changeDetectorRef=i,this.ngUnsubscribe=new $.a}set label(e){this._label=e,this.setLabelNode()}get label(){return this._label}ngOnInit(){this.initInfoListeners()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}setLabelNode(){const e=Object(vt.get)(this.label,"objectId");if(e){const t=this.store.selectSnapshot(Wr.getViewGraph);this.node=this.engineService.getNode(t,e)}else this.node=null;this.changeDetectorRef.markForCheck()}initInfoListeners(){this.actions.pipe(Object(g.k)(xo),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.setLabelNode()})}handleReadMoreClick(){this.node&&this.viewService.toggleNodeInfo(!0)}}return Object(b.__decorate)([Object(g.e)(um.getSelectedNode),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedNode$",void 0),Object(b.__decorate)([Object(g.e)(um.getQuerying),Object(b.__metadata)("design:type",V.a)],e.prototype,"querying$",void 0),e})();var rw=l.tb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.context-label__actions[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center}.context-label__action[_ngcontent-%COMP%]{cursor:pointer}.context-label__action--selected[_ngcontent-%COMP%]{color:#0060c4}.context-label__more[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;cursor:pointer;display:block;line-height:24px;overflow:hidden}.context-label__more[_ngcontent-%COMP%]:hover{text-decoration:underline}"]],data:{animation:[{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:2,steps:[{type:6,styles:{height:"0"},offset:null},{type:4,styles:{type:6,styles:{height:"*"},offset:null},timings:"125ms ease-in-out"}],options:null}],options:null}],options:{}}]}});function cw(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-node-actions",[["theme","light"]],null,null,null,sv,Ky)),l.ub(1,114688,null,0,qy,[g.i,Ps,l.i,Xc,hp.c],{node:[0,"node"],theme:[1,"theme"]},null)],(function(e,t){e(t,1,0,t.component.node,"light")}),null)}function uw(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,3,"div",[["class","context-label__actions"],["label-actions",""]],null,null,null,null,null)),l.Gb(null,0),(e()(),l.lb(16777216,null,null,1,null,cw)),l.ub(3,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,3,0,t.component.enableActions)}),null)}function pw(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"a",[["class","context-label__more"]],[[24,"@show",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleReadMoreClick()&&l),l}),null,null)),(e()(),l.Pb(-1,null,["Read More..."]))],null,(function(e,t){e(t,0,0,void 0)}))}function dw(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.lb(16777216,null,null,1,null,pw)),l.ub(2,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(0,null,null,0))],(function(e,t){e(t,2,0,t.component.node.description)}),null)}function bw(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,5,"app-label",[["class","context-label"]],null,null,null,ow,lw)),l.ub(1,4440064,null,0,nw,[l.F,sr,Ls,wt,g.i,g.b,l.i],{label:[0,"label"],emitEvents:[1,"emitEvents"]},null),(e()(),l.lb(16777216,null,0,1,null,uw)),l.ub(3,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.lb(16777216,null,1,1,null,dw)),l.ub(5,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.label,!1),e(t,3,0,n.node),e(t,5,0,n.enableInfo)}),null)}let gw=(()=>{class e{constructor(e,t,n,l,i,a,o){this.store=e,this.action$=t,this.engineService=n,this.cameraService=l,this.changeDetector=i,this.labelsService=a,this.elRef=o,this.interactive=!1,this.ngUnsubscribe=new $.a}ngOnInit(){this.bindEngineEvents(),this.bindApplicationEvents(),this.labelsService.setLabelContainer(this.elRef)}ngOnDestroy(){this.labelsService.setLabelContainer(null),this.changeDetector.detach(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}bindApplicationEvents(){this.action$.pipe(Object(g.l)(ri),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleClickNode(e)}),this.labels$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.changeDetector.markForCheck()}),this.selectedLabel$.pipe(Object(G.a)(e=>null==e),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{const e=this.store.selectSnapshot(Vr.getZoomed),t=this.store.selectSnapshot(Vr.getLockCamera);e&&!t&&this.resetCamera()}),this.selectedChapter$.pipe(Object(G.a)(e=>null!=e),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.interactive=e.readyState.model})}bindEngineEvents(){this.action$.pipe(Object(g.l)(hi,ra),Object(r.a)(e=>e instanceof hi?e.show:e.shown),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.engineService.fireEvent(e?Vo.LabelsShown:Vo.LabelsHidden,null)}),this.action$.pipe(Object(g.l)(qi),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.engineService.fireEvent(Vo.LabelCreated,e.label)}),this.action$.pipe(Object(g.l)(Zi),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.engineService.fireEvent(Vo.LabelDestroyed,e.label)})}handleClickNode(e){const t=this.store.selectSnapshot(Wr.getActiveTool);null!=e.node?t===Qr.Label?this.addLabel(e.hit,e.node):setTimeout(()=>{this.toggleContextLabel(e.hit,e.node)}):(this.store.dispatch(new la(null)),this.store.dispatch(new Yi))}addLabel(e,t){const n=this.cameraService.getDirection(e),l=this.getLabelDefaults(e.objectId),i=l.hideWire?20:32;l.title=t.label,l.offset=[i,0],l.objectId=e.objectId,l.barycentric=[e.barycentric[0],e.barycentric[1],e.barycentric[2]],l.pos=[e.worldPos[0],e.worldPos[1],e.worldPos[2]],l.primitiveIndex=e.primitiveIndex,l.renderableIndex=e.renderableIndex||0,l.dir=n,l.chapterId=this.store.selectSnapshot(ac.getSelectedChapter).id,l.occludable=!0,l.shown=!0,this.store.dispatch(new qi(l)),this.store.dispatch(new la(l))}toggleContextLabel(e,t){if(this.store.selectSnapshot(um.getCheckedNodeIds).some(e=>e===t.id)){const n=this.cameraService.getDirection(e),l=this.labelsService.makeDefaultStudioLabel();l.theme=Ns.Context,l.title=t.label,l.offset=[4,0],l.objectId=e.objectId,l.barycentric=[e.barycentric[0],e.barycentric[1],e.barycentric[2]],l.pos=[e.worldPos[0],e.worldPos[1],e.worldPos[2]],l.primitiveIndex=e.primitiveIndex,l.dir=n,l.occludable=!1,this.store.dispatch(new Ki(l))}else this.store.dispatch(new Yi)}getLabelDefaults(e){let t=this.store.selectSnapshot(uu.getSelectedLabel);if(null==t){let e=this.store.selectSnapshot(uu.getChapterLabels);e&&0!==e.length||(e=this.store.selectSnapshot(uu.getLabels)),e.length&&(t=Object(vt.cloneDeep)(e[e.length-1]))}if(null!=t){const n=this.labelsService.makeDefaultStudioLabel();switch(n.hideWire=t.hideWire,n.pinGlow=t.pinGlow,n.pinType=t.pinType,n.theme=t.theme,n.states[0].errands[0]=new ar,Object(vt.get)(t,"states[1].errands[0].type")){case tr.flyToObject:case tr.flyToCamera:n.states[1].errands[0]=new nr(e)}return n}{const t=this.labelsService.makeDefaultStudioLabel();return t.states[0].errands[0]=new ar,t.states[1].errands[0]=new nr(e),t}}trackLabel(e,t){const{id:n,shown:l}=t;return`${n}${l}`}resetCamera(){const e=this.store.selectSnapshot(ac.getSelectedChapter);Object(vt.get)(e,"camera.location")&&this.store.dispatch(new kr(e.camera.location))}}return Object(b.__decorate)([Object(g.e)(jm.getLayout),Object(b.__metadata)("design:type",V.a)],e.prototype,"layout$",void 0),Object(b.__decorate)([Object(g.e)(uu.getChapterLabels),Object(b.__metadata)("design:type",V.a)],e.prototype,"labels$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapter),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedChapter$",void 0),Object(b.__decorate)([Object(g.e)(uu.getSelectedLabel),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedLabel$",void 0),Object(b.__decorate)([Object(g.e)(uu.getLabelsCollapsed),Object(b.__metadata)("design:type",V.a)],e.prototype,"labelsCollapsed$",void 0),Object(b.__decorate)([Object(g.e)(uu.getLabelsCollapsedMode),Object(b.__metadata)("design:type",V.a)],e.prototype,"labelsCollapsedMode$",void 0),Object(b.__decorate)([Object(g.e)(uu.getContextLabel),Object(b.__metadata)("design:type",V.a)],e.prototype,"contextLabel$",void 0),Object(b.__decorate)([Object(g.e)(Wr.getShowLabels),Object(b.__metadata)("design:type",V.a)],e.prototype,"showLabels$",void 0),Object(b.__decorate)([Object(g.e)(Vr.getZoomed),Object(b.__metadata)("design:type",V.a)],e.prototype,"zoomed$",void 0),Object(b.__decorate)([Object(g.e)(uu.getEnableContextLabel),Object(b.__metadata)("design:type",V.a)],e.prototype,"enableContextLabel$",void 0),Object(b.__decorate)([Object(g.e)(uu.getEnableContextLabelInfo),Object(b.__metadata)("design:type",V.a)],e.prototype,"enableContextLabelInfo$",void 0),Object(b.__decorate)([Object(g.e)(uu.getEnableContextLabelActions),Object(b.__metadata)("design:type",V.a)],e.prototype,"enableContextLabelActions$",void 0),Object(b.__decorate)([Object(g.e)(uu.getLabelsDraggable),Object(b.__metadata)("design:type",V.a)],e.prototype,"draggable$",void 0),e})();var hw=l.tb({encapsulation:0,styles:[["[_nghost-%COMP%]{width:100%;height:100%;display:block;position:relative}.labels[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:2;pointer-events:none}.labels__label--hidden[_ngcontent-%COMP%]{display:none}"]],data:{}});function mw(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,5,"app-label",[["class","labels__label"]],[[2,"labels__label--hidden",null]],null,null,ow,lw)),l.ub(2,4440064,null,0,nw,[l.F,sr,Ls,wt,g.i,g.b,l.i],{label:[0,"label"],collapsed:[1,"collapsed"],collapsedMode:[2,"collapsedMode"],pinDraggable:[3,"pinDraggable"],tagDraggable:[4,"tagDraggable"]},null),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n,i,a=t.component;e(t,2,0,t.context.$implicit,l.Qb(t,2,1,l.Hb(t,3).transform(a.labelsCollapsed$)),l.Qb(t,2,2,l.Hb(t,4).transform(a.labelsCollapsedMode$)),null==(n=l.Qb(t,2,3,l.Hb(t,5).transform(a.draggable$)))?null:n.pin,null==(i=l.Qb(t,2,4,l.Hb(t,6).transform(a.draggable$)))?null:i.tag)}),(function(e,t){e(t,1,0,!t.context.$implicit.shown)}))}function _w(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,5,"app-context-label",[],null,null,null,bw,rw)),l.ub(1,245760,null,0,sw,[g.i,g.b,Ls,Wm,l.i],{label:[0,"label"],enableInfo:[1,"enableInfo"],enableActions:[2,"enableActions"]},null),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component,i=null;e(t,1,0,l.Qb(t,1,0,l.Hb(t,2).transform(n.contextLabel$)),l.Qb(t,1,1,l.Hb(t,3).transform(n.enableContextLabelInfo$))&&(null==(i=l.Qb(t,1,1,l.Hb(t,4).transform(n.layout$)))?null:i.nodeInfo.enable),l.Qb(t,1,2,l.Hb(t,5).transform(n.enableContextLabelActions$)))}),null)}function fw(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,7,"div",[["class","labels"]],null,null,null,null,null)),(e()(),l.lb(16777216,null,null,2,null,mw)),l.ub(2,278528,null,0,Y.l,[l.Q,l.N,l.s],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.lb(16777216,null,null,3,null,_w)),l.ub(5,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i]),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,2,0,l.Qb(t,2,0,l.Hb(t,3).transform(n.labels$)),n.trackLabel),e(t,5,0,l.Qb(t,5,0,l.Hb(t,6).transform(n.enableContextLabel$))&&l.Qb(t,5,0,l.Hb(t,7).transform(n.contextLabel$)))}),null)}function yw(e){return l.Rb(2,[(e()(),l.lb(16777216,null,null,2,null,fw)),l.ub(1,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),l.Jb(131072,Y.b,[l.i])],(function(e,t){var n=t.component;e(t,1,0,n.interactive&&l.Qb(t,1,0,l.Hb(t,2).transform(n.showLabels$)))}),null)}class vw{constructor(e,t){this.router=e,this.changeDetector=t,this.total=100,this._value=0,this.percentWidth=0,this.ngUnsubscribe=new $.a}get value(){return this._value}set value(e){this._value=e,this.percentWidth=this.value/this.total*100,this.changeDetector.markForCheck()}ngOnInit(){this.router.events.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{e instanceof u.e&&(this.value=0)})}ngOnDestroy(){this.changeDetector.detach(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}var xw=l.tb({encapsulation:0,styles:[["@-webkit-keyframes progressSuccess{0%{width:100%!important;background:#38de38}50%{opacity:1;background:#38de38}100%{opacity:0}}@keyframes progressSuccess{0%{width:100%!important;background:#38de38}50%{opacity:1;background:#38de38}100%{opacity:0}}.progress[_ngcontent-%COMP%]{border-radius:0 1px 1px 0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;height:4px;width:100%}.progress__bar[_ngcontent-%COMP%]{background:#de3838;height:100%;width:0}.progress__bar--complete[_ngcontent-%COMP%]{-webkit-animation:2s linear forwards progressSuccess;animation:2s linear forwards progressSuccess}"]],data:{}});function Ow(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,7,"div",[["class","progress"]],null,null,null,null,null)),(e()(),l.vb(1,0,null,null,6,"div",[["class","progress__bar"]],null,null,null,null,null)),l.Mb(512,null,Y.A,Y.B,[l.s,l.t,l.l,l.F]),l.ub(3,278528,null,0,Y.j,[Y.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l.Kb(4,{"progress__bar--complete":0}),l.Mb(512,null,Y.C,Y.D,[l.l,l.t,l.F]),l.ub(6,278528,null,0,Y.p,[Y.C],{ngStyle:[0,"ngStyle"]},null),l.Kb(7,{width:0})],(function(e,t){var n=t.component,l=e(t,4,0,100===n.percentWidth);e(t,3,0,"progress__bar",l);var i=e(t,7,0,n.percentWidth+"%");e(t,6,0,i)}),null)}class Cw{constructor(e,t){this.store=e,this.changeDetecton=t,this.ngUnsubscribe=new $.a,this.storyLoadProgress=0}ngOnInit(){this.store.select(x_.getStoryLoadProgress).pipe(Object(Q.a)(this.ngUnsubscribe),Object(Kh.a)(50)).subscribe(e=>{this.storyLoadProgress=e,this.changeDetecton.markForCheck()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}var ww=l.tb({encapsulation:0,styles:[[".engine-progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:2}"]],data:{}});function jw(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,1,"app-progress",[["class","engine-progress"]],null,null,null,Ow,xw)),l.ub(1,245760,null,0,vw,[u.m,l.i],{total:[0,"total"],value:[1,"value"]},null)],(function(e,t){e(t,1,0,1,t.component.storyLoadProgress)}),null)}class kw{constructor(e,t){this.actions=e,this.changeDetectorRef=t,this.ngUnsubscribe=new $.a,this.show=!1}ngOnInit(){this.actions.pipe(Object(g.l)(Zl),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.show=!0,this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}onShowDone(){this.show=!1}}var Sw=l.tb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.engine-scroll[_ngcontent-%COMP%]{display:-webkit-box;display:flex;position:absolute;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;z-index:10000;opacity:0;pointer-events:none}.engine-scroll__label[_ngcontent-%COMP%]{background:rgba(16,24,35,.5);font-size:16px;letter-spacing:.4px;line-height:1.4em;color:#fff;font-weight:600;padding:24px 32px;border-radius:40px}"]],data:{animation:[{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:2,steps:[{type:6,styles:{opacity:"*"},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"500ms ease-in-out"},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"500ms 2000ms ease-in-out"}],options:null}],options:null}],options:{}}]}});function Pw(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,"div",[["class","engine-scroll"]],[[24,"@show",0]],[[null,"@show.done"]],(function(e,t,n){var l=!0;return"@show.done"===t&&(l=!1!==e.component.onShowDone(n)&&l),l}),null,null)),(e()(),l.vb(1,0,null,null,1,"div",[["class","engine-scroll__label"]],null,null,null,null,null)),(e()(),l.Pb(-1,null,[" Use control + scroll to zoom "]))],null,(function(e,t){e(t,0,0,void 0)}))}function Mw(e){return l.Rb(2,[(e()(),l.lb(16777216,null,null,1,null,Pw)),l.ub(1,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.show)}),null)}Object(yO.g)([Object(yO.m)({opacity:"0",backgroundColor:"*"}),Object(yO.k)([Object(yO.e)("{{ duration }}ms {{ easing }}",Object(yO.m)({opacity:1,backgroundColor:"{{ backgroundColor }}"})),Object(yO.e)("250ms 500ms ease-in",Object(yO.m)({opacity:0}))])],{params:{duration:2e3,backgroundColor:"#ffffff",easing:"ease-out"}});class Hw{constructor(e,t,n){this.actions=e,this.changeDetectorRef=t,this.store=n,this.color="#FFFFFF",this.duration=2e3,this.isVisible=!1,this.ngUnsubscribe=new $.a}ngOnInit(){this.initFadeListener()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initFadeListener(){this.actions.pipe(Object(g.l)(ei),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.fadeIn(e.color,e.duration)})}handleFadeComplete(){this.store.dispatch(new ti),this.isVisible=!1,this.changeDetectorRef.markForCheck()}fadeIn(e,t){this.isVisible=!0,this.color=e,this.duration=1e3*t,this.changeDetectorRef.markForCheck()}}var Iw=l.tb({encapsulation:2,styles:[[".engine-fade{pointer-events:none;display:block;position:absolute;left:0;right:0;top:0;bottom:0;z-index:10000}"]],data:{animation:[{type:7,name:"fade",definitions:[{type:1,expr:"* => true",animation:{type:10,animation:{type:8,animation:[{type:6,styles:{opacity:"0",backgroundColor:"*"},offset:null},{type:2,steps:[{type:4,styles:{type:6,styles:{opacity:1,backgroundColor:"{{ backgroundColor }}"},offset:null},timings:"{{ duration }}ms {{ easing }}"},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"250ms 500ms ease-in"}],options:null}],options:{params:{duration:2e3,backgroundColor:"#ffffff",easing:"ease-out"}}},options:null},options:null}],options:{}}]}});function Tw(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,2,"div",[["class","engine-fade"]],[[24,"@fade",0]],[[null,"@fade.done"]],(function(e,t,n){var l=!0;return"@fade.done"===t&&(l=!1!==e.component.handleFadeComplete()&&l),l}),null,null)),l.Kb(1,{backgroundColor:0,duration:1}),l.Kb(2,{value:0,params:1})],null,(function(e,t){var n=t.component,l=e(t,2,0,n.isVisible,e(t,1,0,n.color,n.duration));e(t,0,0,l)}))}var zw=n("OsX3"),Fw=n("yuhW"),Lw=function(e){return e[e.Pan=.4]="Pan",e[e.PanSlow=.04]="PanSlow",e[e.Zoom=5]="Zoom",e[e.ZoomSlow=1]="ZoomSlow",e[e.Rotate=.3]="Rotate",e[e.RotateSlow=.03]="RotateSlow",e}({}),Ew=function(e){return e[e.Rotate=6]="Rotate",e[e.Pan=1.75]="Pan",e[e.Zoom=2]="Zoom",e}({}),Nw=function(e){return e[e.Zoom=-12]="Zoom",e[e.Pan=2.5]="Pan",e[e.Rotate=1.5]="Rotate",e[e.Pinch=1.5]="Pinch",e}({}),Rw=function(e){return e.Hide="engine--cursor-hide",e.Label="engine--cursor-label",e.Paint="engine--cursor-paint",e.Crosshair="engine--cursor-crosshair",e.Default="",e}({}),Aw=function(e){return e[e.None=0]="None",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.LeftAndRight=4]="LeftAndRight",e}({});const Dw=10;let Uw=(()=>{class e{constructor(e,t,n,l,a,o,s,r,c){this.actions=e,this.animationService=t,this.cameraService=n,this.changeDetecton=l,this.engineEventsService=a,this.paintService=o,this.renderer=s,this.store=r,this.graphService=c,this.flyCamera=!0,this.chapterActivating=!1,this.visible=!1,this.application=i,this.cursorClass=Rw.Default,this.mouseDelta=null,this.ngUnsubscribe=new $.a,this.hoveredNode=null,this.display=!1,this.engineVisible=!0,this.ctrlPressed=!1,this.scrollType=null,this.scrollTimeout=null,this.zoomVelocity=0,this.inputEnabled=!0}get isTransparentBackground(){return!!this.background&&Bo.isTransparent(this.background)}get isBackgroundCheckered(){return o.application!==i.Viewer&&this.isTransparentBackground}wheel(e){const t=this.store.selectSnapshot(Wr.getScrollMode),n=this.ctrlPressed;t!==Go.DoNotCaptureShowMessage||n||this.store.dispatch(new Zl(!0)),(t===Go.Capture||n)&&(e.preventDefault(),this.handleWheel(e))}contextmenu(e){this.handleContextMenu(e)}mouseout(){this.handleMouseOut()}convertToLeafStateMap(e,t){const n={};return Object.entries(t).forEach(([t,l])=>{n[t]={},n[t][e]=l}),n}ngOnInit(){this.bindEngineEvents(),this.bindApplicationEvents(),this.bindUserEvents(),this.bindKeyEvents(),this.bindHumanInteractions(),this.renderer.listen(window,"keydown",e=>{"Control"===e.key&&(this.ctrlPressed=!0)}),this.renderer.listen(window,"keyup",e=>{"Control"===e.key&&(this.ctrlPressed=!1)}),Human.properties.set({assetDomain:o.assetDomain}),Human.workers.setPath("/assets/engine/studio/workers"),Human.init.init()}ngOnDestroy(){this.changeDetecton.detach(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}initEventListeners(){}bindEngineEvents(){this.engineEventsService.getEvent(Vo.Loaded).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.store.dispatch(new ql(!0))}),this.engineEventsService.getEvent(Vo.TimelineChaptersActivateStart).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.chapterActivating=!0}),this.engineEventsService.getEvent(Vo.TimelineChaptersActivateFinish).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.chapterActivating=!1;const t=Human.timeline.activeRoot._nowBranch,n={id:t.id,init:!0,camera:t.initializedCamera,annotations:t.initializedAnnotations,graph:t.initializedGraph,properties:t.initializedProperties,particles:t.initializedParticles,clips:t.initializedClippingPlanes,postprocessing:t.initializedPostprocess,transparency:t.initializedTransparencyMode};this.store.dispatch(new oi(e.chapterId)),this.store.dispatch(new si(n))}),this.engineEventsService.getEvent(Vo.Tick).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{this.visible&&(this.inputEnabled&&this.handleMouseInputEngineTick(),this.handleCameraTick())}),this.engineEventsService.getEvent(Vo.SceneObjectsShown).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{if(!this.chapterActivating){const t=this.convertToLeafStateMap("shown",e.enabledObjectsUpdate);this.store.dispatch(new pi(t))}}),this.engineEventsService.getEvent(Vo.SceneObjectRenderable).pipe(Object(zw.a)(1e3),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{if(e.length){const t={};e.forEach(e=>{t[e.objectId]={renderable:!0}}),this.store.dispatch(new di(t))}}),this.engineEventsService.getEvent(Vo.AssetsLoadProgress).pipe(Object(Q.a)(this.ngUnsubscribe),Object(Fw.b)(()=>Object(Ro.a)(250))).subscribe(e=>{const t=this.store.selectSnapshot(Mc.getLoadChunks).length,n=t-this.store.selectSnapshot(Mc.getLoadChunksRemaining).length,{receivedAssets:l,requestedAssets:i}=e,a=l/i,o=1/t;this.store.dispatch(new y_(a*o+n*o,a))}),this.actions.pipe(Object(g.k)(va),Object(Q.a)(this.ngUnsubscribe)).subscribe(()=>{0===this.store.selectSnapshot(Mc.getLoadChunksRemaining).length&&this.store.dispatch(new y_(1,1))})}highlightXrayMode(e){const t=this.store.selectSnapshot(Wr.getViewGraph),n=this.graphService.getInverseSelection(t,e.map(e=>e.id));this.graphService.getNodes(t,n).forEach(e=>this.paintService.paint(e,om.recipe)),this.store.dispatch(new ko(e))}highlightDefaultMode(e,t){this.paintService.highlightAll(t,!1),this.paintService.highlightAll(e,!0)}bindApplicationEvents(){this.enginePosition$.pipe(Object(G.a)(e=>null!=e),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.repositionEngine(e)}),this.checkedNodes$.pipe(Object(Q.a)(this.ngUnsubscribe),Object(ke.a)()).subscribe(e=>{const[t,n]=e;this.store.selectSnapshot(Wr.getXrayModeEnabled)?this.highlightXrayMode(n):this.highlightDefaultMode(n,t);const l=this.calculateSelectedObjectsUpdate(t||[],n||[]);Object(vt.isEmpty)(l)||this.engineEventsService.fireEvent(Vo.SceneObjectsSelected,{selectedObjectsUpdate:l})}),this.store.select(Wr.getXrayModeEnabled).pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{const t=this.store.selectSnapshot(um.getCheckedNodes);!1===e?(this.store.selectSnapshot(Wr.getXrayCachedColorRecipes).forEach(e=>this.paintService.colorObject(e.objectId,e.recipe)),this.highlightDefaultMode(t,[])):(this.paintService.highlightAll(t,!1),this.highlightXrayMode(t))}),this.actions.pipe(Object(g.l)(kr),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{e.animate?this.flyToPoint(e.camera,e.animationDuration):this.jumpToPoint(e.camera)}),this.actions.pipe(Object(g.l)(Fr),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.cameraService.panCameraStatic(e.x,e.y,e.z)}),this.actions.pipe(Object(g.l)(Nr),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.cameraService.rotateCameraStatic(e.x,e.y)}),this.actions.pipe(Object(g.l)(Ir),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.cameraService.setHumanZoomFactor(e.value)}),this.actions.pipe(Object(g.l)(ci),Object(G.a)(e=>!!e.objectId),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{e.animate?this.flyToObject(e.objectId,e.animationDuration):this.jumpToObject(e.objectId)}),this.selectedChapter$.pipe(Object(G.a)(e=>null!=e),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{z_(this.store,this.engineEventsService),this.background=this.store.selectSnapshot(ac.getSelectedChapterBackground),Human.timeline.scrub({chapterId:e.id})}),this.background$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.background=e}),this.activeTool$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{switch(Object.values(Rw).forEach(e=>{e&&this.renderer.removeClass(this.engineElement.nativeElement,e)}),e){case Qr.Hide:this.renderer.addClass(this.engineElement.nativeElement,Rw.Hide);break;case Qr.Label:this.renderer.addClass(this.engineElement.nativeElement,Rw.Label);break;case Qr.Paint:this.renderer.addClass(this.engineElement.nativeElement,Rw.Paint);break;case Qr.Isolate:case Qr.Fade:this.renderer.addClass(this.engineElement.nativeElement,Rw.Crosshair)}}),this.selectedChapter$.pipe(Object(G.a)(e=>null!=e&&e.readyState.animation),Object(mg.a)((e,t)=>JSON.stringify(e)===JSON.stringify(t)),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{if(this.store.selectSnapshot(Wr.getEnableAutoplay)){const t=Object(vt.get)(e,"ui.play.autoplay",!0);this.store.dispatch(new _i(t))}}),Object(Gu.b)(this.selectedChapter$,this.animationPlaying$).pipe(Object(G.a)(([e,t])=>null!=e&&e.readyState.animation),Object(Q.a)(this.ngUnsubscribe)).subscribe(([e,t])=>{if(t){const t=Object(vt.get)(e,"ui.play.count",0);this.animationService.play({startChapterId:e.id,loop:-1===t,numChapters:1,queue:!1})}else this.animationService.pause()}),this.engineDisplay$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.display=e,this.changeDetecton.markForCheck()}),this.engineVisible$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.engineVisible=e,this.changeDetecton.markForCheck()})}bindUserEvents(){this.mouseMove$=Object(ib.a)(this.engineElement.nativeElement,"mousemove"),this.mouseMove$.pipe(Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleMousePan(e)}),this.mouseMove$.pipe(Object(Xo.a)(10),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{this.handleMouseHover(e)})}bindKeyEvents(){const e=["w","a","s","d","e","c","=","-","+","_","arrowleft","arrowright","arrowup","arrowdown","shiftKey"].reduce((e,t)=>(e[t]=!1,e),{}),t=new je.a(e);this.renderer.listen(window,"keydown",e=>{if(e.repeat||e.metaKey||e.ctrlKey)return;const n=e.target.nodeName.toLowerCase();["input","textarea","select","option"].indexOf(n)>=0||t.next(Object.assign({},t.value,{[e.key.toLowerCase()]:!0,shiftKey:e.shiftKey}))}),this.renderer.listen(window,"keyup",e=>{e.key&&t.next(Object.assign({},t.value,{[e.key.toLowerCase()]:!1,shiftKey:e.shiftKey}))}),t.pipe(Object(G.a)(()=>this.inputEnabled),Object(Q.a)(this.ngUnsubscribe)).subscribe(e=>{const t=new Ur,n=e.shiftKey?Lw.ZoomSlow:Lw.Zoom,l=e.shiftKey?Lw.PanSlow:Lw.Pan,i=e.shiftKey?Lw.RotateSlow:Lw.Rotate;t.zoom+=e.c||e["-"]||e._?n:0,t.zoom-=e.e||e["="]||e["+"]?n:0,t.panX-=e.d?l:0,t.panX+=e.a?l:0,t.panY+=e.w?l:0,t.panY-=e.s?l:0,t.rotateX-=e.arrowright?i:0,t.rotateX+=e.arrowleft?i:0,t.rotateY+=e.arrowup?i:0,t.rotateY-=e.arrowdown?i:0,this.store.dispatch(new Pr(t))})}repositionEngine(e){this.renderer.setStyle(this.engineElement.nativeElement,"left",`${e.left}px`),this.renderer.setStyle(this.engineElement.nativeElement,"top",`${e.top}px`),this.renderer.setStyle(this.engineElement.nativeElement,"width",`${e.width}px`),this.renderer.setStyle(this.engineElement.nativeElement,"height",`${e.height}px`),this.renderer.setStyle(this.engineElement.nativeElement,"zIndex",`${e.visibility}`),this.renderer.setStyle(this.engineElement.nativeElement,"visibility",e.visibility===Or.Shown?"visible":"hidden"),this.visible=e.visibility===Or.Shown,Human.renderer.resize()}bindHumanInteractions(){const e=new f_.Manager(this.engineCanvasElement.nativeElement);e.add(new f_.Tap({event:"doubletap",taps:2})),e.add(new f_.Tap({event:"singletap"})),e.add(new f_.Pan({event:"pan",pointers:0})),e.add(new f_.Pinch),e.add(new f_.Press({time:500})),e.on("singletap",e=>{this.handleTap(e)}),e.on("doubletap",e=>{this.handleDoubleTap(e)}),e.on("press",e=>{this.handlePress(e)}),e.on("pan",e=>{e.preventDefault(),this.handlePan(e)});let t=0,n=0,l=0,i="";e.on("pinchstart",e=>{t=e.scale,n=e.deltaX,l=e.deltaY,i=""}),e.on("pinchmove",e=>{const n=Math.abs(e.deltaX)>15||Math.abs(e.deltaY)>15,l=e.scale>1.1||e.scale<.9;i?("pan"===i&&l&&!n&&(i="pinch"),"pinch"===i&&n&&!l&&(i="pan")):i=n?"pan":"pinch";const a=e.scale-t;switch(t=e.scale,i){case"pan":this.cameraService.setCameraPan(e.velocityX,e.velocityY*Nw.Pinch);break;case"pinch":Human.renderer.camera.zoom(a*Nw.Zoom);break;default:this.cameraService.setCameraPan(e.velocityX,e.velocityY*Nw.Pinch),Human.renderer.camera.zoom(a*Nw.Zoom)}})}handleMouseHover(e){if(e.buttons!==Aw.None)return;const{offsetX:t,offsetY:n}=e,l=Human.renderer.pick.pick(t,n);if(l.objectId){const e=this.store.selectSnapshot(Wr.getViewGraph),t=this.engineEventsService.getNode(e,l.objectId),n=this.store.selectSnapshot(um.getHoveredNode);n&&n.id===t.id||this.store.dispatch(new oo(t,l))}else null!=this.store.selectSnapshot(um.getHoveredNode)&&this.store.dispatch(new oo(null))}handleMousePan(e){if(2===e.buttons||4===e.buttons){let{movementX:t,movementY:n}=e;this.cameraService.setCameraPan(t/=20,n/=20)}}handleMouseOut(){this.store.dispatch(new oo(null))}handleWheel(e){let t=0;switch(e.deltaMode){case 0:null===this.scrollType&&(this.scrollType=Math.abs(e.deltaY)<10?"trackpad":"wheel"),t="trackpad"===this.scrollType?e.deltaY:Math.sign(e.deltaY)*Dw;break;default:this.scrollType="wheel",t=Math.sign(e.deltaY)*Dw}clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.scrollType=null},500),Math.abs(t)>40&&(t=40*Math.sign(t)),"trackpad"===this.scrollType?this.cameraService.setCameraZoom(t):this.zoomWithVelocity(t)}zoomWithVelocity(e){this.cameraService.setCameraZoom(e),requestAnimationFrame(()=>{e*=.85,Math.abs(e)>1&&this.zoomWithVelocity(e)})}handleContextMenu(e){e.preventDefault();const{offsetX:t,offsetY:n}=e,l=this.getHit(t,n);this.getNodeFromHit(l)}handleTap(e){const{offsetX:t,offsetY:n}=this.getOffset(e),l=this.getHit(t,n),i=this.getNodeFromHit(l);this.store.dispatch(new ri(i,e,l))}handleDoubleTap(e){const{offsetX:t,offsetY:n}=this.getOffset(e),l=this.getHit(t,n),i=this.getNodeFromHit(l);i&&this.store.dispatch(new ci(i.id))}handlePress(e){const{offsetX:t,offsetY:n}=this.getOffset(e),l=this.getHit(t,n),i=this.getNodeFromHit(l);i&&this.store.dispatch(new ci(i.id))}handlePan(e){const t=this.store.selectSnapshot(Vr.getPanMode),{velocityX:n,velocityY:l}=e;e.srcEvent.shiftKey||"pan"===t?this.cameraService.setCameraPan(n,l):this.cameraService.setCameraRotation(n*Nw.Rotate,l*Nw.Rotate)}handleMouseInputEngineTick(){const e=this.cameraService.tickCameraRotation(),t=this.cameraService.tickCameraPan(),n=this.cameraService.tickCameraZoom();if((e.vx||e.vy)&&this.cameraService.rotateCameraStatic(0!==e.vx?e.vx*Ew.Rotate:0,0!==e.vy?e.vy*Ew.Rotate:0),t.x||t.y){const e=Math.max(Human.renderer.camera.lookDistance/80,.01);this.cameraService.panCameraStatic(t.x*e*Ew.Pan,t.y*e*Ew.Pan,t.z*e*Ew.Pan)}0!==n&&this.cameraService.setHumanZoom(n*Ew.Zoom)}handleCameraTick(){const e=this.store.selectSnapshot(Vr.getCameraMotion);this.cameraService.setCameraPan(e.panX,e.panY),this.cameraService.setCameraRotation(e.rotateX,e.rotateY),this.cameraService.setCameraZoom(e.zoom)}flyToObject(e,t){Human.renderer.camera.fly.flyTo({objectId:e,animationDuration:t})}jumpToObject(e){Human.renderer.camera.fly.jumpTo({objectId:e})}flyToPoint(e,t){Human.renderer.camera.fly.flyTo(Object.assign({},e,{animationDuration:t}),()=>{this.store.dispatch(new Sr)})}jumpToPoint(e){Human.renderer.camera.fly.jumpTo(e)}getNodeFromHit(e){let t;if(e.objectId){const n=this.store.selectSnapshot(Wr.getViewGraph);t=this.engineEventsService.getNode(n,e.objectId)}return t}getHit(e,t){return Human.renderer.pick.pick(e,t,{rayPick:!0})}getContainerStyles(){const e={};return this.background&&!this.isTransparentBackground&&(e["background-image"]=Bo.toCSS(this.background)),this.display||(e.display="none"),this.engineVisible||(e.opacity=0),e}getOffset(e){let t=0,n=0;e.center?(t=e.center.x,n=e.center.y):(t=e.clientX,n=e.clientY);const l=this.engineElement.nativeElement.getBoundingClientRect();return{offsetX:t-l.left,offsetY:n-l.top}}calculateSelectedObjectsUpdate(e,t){const n=this.createNodeStateMap(e,!1),l=this.createNodeStateMap(t,!0);return Object.assign({},n,l)}createNodeStateMap(e,t){return e.reduce((e,n)=>(e[n.id]=t,e),{})}}return Object(b.__decorate)([Object(g.e)(Wr.getReady),Object(b.__metadata)("design:type",V.a)],e.prototype,"ready$",void 0),Object(b.__decorate)([Object(g.e)(Wr.getViewGraph),Object(b.__metadata)("design:type",V.a)],e.prototype,"viewGraph$",void 0),Object(b.__decorate)([Object(g.e)(Wr.getEnginePosition),Object(b.__metadata)("design:type",V.a)],e.prototype,"enginePosition$",void 0),Object(b.__decorate)([Object(g.e)(um.getHoveredNode),Object(b.__metadata)("design:type",V.a)],e.prototype,"hoveredNode$",void 0),Object(b.__decorate)([Object(g.e)(Wr.getChapter),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapter$",void 0),Object(b.__decorate)([Object(g.e)(Wr.getChapterInit),Object(b.__metadata)("design:type",V.a)],e.prototype,"chapterInit$",void 0),Object(b.__decorate)([Object(g.e)(um.getCheckedNodes),Object(b.__metadata)("design:type",V.a)],e.prototype,"checkedNodes$",void 0),Object(b.__decorate)([Object(g.e)(Wr.getActiveTool),Object(b.__metadata)("design:type",V.a)],e.prototype,"activeTool$",void 0),Object(b.__decorate)([Object(g.e)(Wr.getAnimationPlaying),Object(b.__metadata)("design:type",V.a)],e.prototype,"animationPlaying$",void 0),Object(b.__decorate)([Object(g.e)(Wr.getDisplay),Object(b.__metadata)("design:type",V.a)],e.prototype,"engineDisplay$",void 0),Object(b.__decorate)([Object(g.e)(Wr.getVisible),Object(b.__metadata)("design:type",V.a)],e.prototype,"engineVisible$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapter),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedChapter$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterId),Object(b.__metadata)("design:type",V.a)],e.prototype,"selectedChapterId$",void 0),Object(b.__decorate)([Object(g.e)(Vr.getCameraMotion),Object(b.__metadata)("design:type",V.a)],e.prototype,"cameraMotion$",void 0),Object(b.__decorate)([Object(g.e)(ac.getSelectedChapterBackground),Object(b.__metadata)("design:type",V.a)],e.prototype,"background$",void 0),e})();var Bw=l.tb({encapsulation:0,styles:[[".engine[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;position:fixed;width:100vw;height:100vh;overflow:hidden;visibility:hidden;z-index:-1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.engine__canvas[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;z-index:1}.engine__annotations[_ngcontent-%COMP%]{display:none}.engine--cursor-paint[_ngcontent-%COMP%]:hover{cursor:url(/assets/images/cursor-paint.png) 7 20,pointer}.engine--cursor-hide[_ngcontent-%COMP%]:hover{cursor:url(/assets/images/cursor-hide.png) 7 20,pointer}.engine--cursor-label[_ngcontent-%COMP%]:hover{cursor:url(/assets/images/cursor-label.png) 7 20,pointer}.engine--cursor-crosshair[_ngcontent-%COMP%]:hover{cursor:crosshair}.engine--checkered[_ngcontent-%COMP%]{background-color:#fff;background-size:24px 24px;background-position:0 0,12px 12px;background-image:linear-gradient(45deg,#d7e0ea 25%,transparent 25%,transparent 75%,#d7e0ea 75%,#d7e0ea),linear-gradient(45deg,#d7e0ea 25%,transparent 25%,transparent 75%,#d7e0ea 75%,#d7e0ea)}.engine__controls[_ngcontent-%COMP%]{position:absolute;right:16px;bottom:16px;z-index:2}.engine__progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:2}.engine__progress--hide[_ngcontent-%COMP%]{display:none}.engine__input-blocking[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:3}@media (max-width:768px){.engine__controls[_ngcontent-%COMP%]{bottom:96px}}"]],data:{}});function $w(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,0,"div",[["class","engine__input-blocking"]],null,null,null,null,null))],null,null)}function Vw(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.vb(1,0,null,null,1,"app-engine-camera-position",[],null,null,null,KC,qC)),l.ub(2,114688,null,0,JC,[Ls,wt,l.i],null,null)],(function(e,t){e(t,2,0)}),null)}function Qw(e){return l.Rb(2,[l.Nb(402653184,1,{engineElement:0}),l.Nb(402653184,2,{engineCanvasElement:0}),l.Nb(402653184,3,{engineAnnotationsElement:0}),(e()(),l.vb(3,0,[[1,0],["engine",1]],null,16,"div",[["class","engine"],["id","container"],["role","main"]],[[2,"engine--checkered",null]],null,null,null,null)),l.Mb(512,null,Y.C,Y.D,[l.l,l.t,l.F]),l.ub(5,278528,null,0,Y.p,[Y.C],{ngStyle:[0,"ngStyle"]},null),(e()(),l.vb(6,0,[[2,0],["engineCanvas",1]],null,0,"canvas",[["class","engine__canvas"],["id","theCanvas"]],null,null,null,null,null)),(e()(),l.vb(7,0,[[3,0],["engineAnnotations",1]],null,0,"canvas",[["class","engine__annotations"],["id","annotationCanvas"]],null,null,null,null,null)),(e()(),l.vb(8,0,null,null,1,"app-labels",[],null,null,null,yw,hw)),l.ub(9,245760,null,0,gw,[g.i,g.b,Ls,wt,l.i,sr,l.l],null,null),(e()(),l.lb(16777216,null,null,1,null,$w)),l.ub(11,16384,null,0,Y.m,[l.Q,l.N],{ngIf:[0,"ngIf"]},null),(e()(),l.vb(12,0,null,null,1,"app-engine-progress",[],null,null,null,jw,ww)),l.ub(13,245760,null,0,Cw,[g.i,l.i],null,null),(e()(),l.vb(14,0,null,null,1,"app-engine-scroll",[],null,null,null,Mw,Sw)),l.ub(15,245760,null,0,kw,[g.b,l.i],null,null),(e()(),l.vb(16,0,null,null,1,"app-engine-fade",[],null,null,null,Tw,Iw)),l.ub(17,245760,null,0,Hw,[g.b,l.i,g.i],null,null),(e()(),l.lb(16777216,null,null,1,null,Vw)),l.ub(19,81920,null,0,Hf,[l.N,l.Q,u.m],{appFlagApplication:[0,"appFlagApplication"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.getContainerStyles()),e(t,9,0),e(t,11,0,!n.inputEnabled),e(t,13,0),e(t,15,0),e(t,17,0),e(t,19,0,n.application.Loft)}),(function(e,t){e(t,3,0,t.component.isBackgroundCheckered)}))}var Gw=function(e){return e.JS="js",e.Config="config",e.Event="event",e}({});let Ww=(()=>{class e{constructor(){const e=window;e.gtag||(e.dataLayer=e.dataLayer||[],e.gtag=function(){e.dataLayer.push(arguments)})}init(e){this.analyticsId=e,this.gtag(Gw.JS,new Date),this.gtag(Gw.Config,e,{send_page_view:!1})}logPageView(e){this.gtag(Gw.Config,this.analyticsId,{page_path:e})}logEvent(e,t){this.gtag(Gw.Event,e,t)}gtag(...e){window.gtag(...e)}}return e.ngInjectableDef=l.Ub({factory:function(){return new e},token:e,providedIn:"root"}),e})();var Jw=l.tb({encapsulation:0,styles:[[""]],data:{}});function qw(e){return l.Rb(2,[(e()(),l.vb(0,0,null,null,2,"app-engine",[],null,[[null,"wheel"],[null,"contextmenu"],[null,"mouseout"]],(function(e,t,n){var i=!0;return"wheel"===t&&(i=!1!==l.Hb(e,1).wheel(n)&&i),"contextmenu"===t&&(i=!1!==l.Hb(e,1).contextmenu(n)&&i),"mouseout"===t&&(i=!1!==l.Hb(e,1).mouseout(n)&&i),i}),Qw,Bw)),l.ub(1,245760,null,0,Uw,[g.b,tc,wt,l.i,Ls,rm,l.F,g.i,Ps],{inputEnabled:[0,"inputEnabled"]},null),l.Jb(131072,Y.b,[l.i]),(e()(),l.vb(3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l.ub(4,212992,null,0,u.q,[u.b,l.Q,l.k,[8,null],l.i],null,null)],(function(e,t){var n=t.component;e(t,1,0,l.Qb(t,1,0,l.Hb(t,2).transform(n.inputEnabled$))),e(t,4,0)}),null)}function Kw(e){return l.Rb(0,[(e()(),l.vb(0,0,null,null,1,"app-root",[],null,null,null,qw,Jw)),l.ub(1,245760,null,0,W,[g.i,u.m,Ww],null,null)],(function(e,t){e(t,1,0)}),null)}var Xw=l.rb("app-root",W,Kw,{},{},[]),Zw=n("Xd0L"),Yw=n("fDlF"),ej=n("POq0"),tj=n("JjoW"),nj=n("DkaU");class lj{}class ij extends lj{constructor(){super(...arguments),this.accountUrl="biodigital.zendesk.com"}beforePageLoad(e){e.setLocale("en"),e.hide()}}class aj{}function oj(){return window}let sj=(()=>{class e{constructor(e){if(!e.accountUrl)throw new Error("Missing accountUrl. Please set in app config via ZendeskWidgetProvider");this.window=oj();let t=this.window;t.zEmbed||function(n,l){var i,a,o,s,r=[],c=document.createElement("iframe");t.zEmbed=function(){r.push(arguments)},t.zE=t.zE||t.zEmbed,c.src="javascript:false",c.title="",c.style.cssText="display: none",(o=(o=document.getElementsByTagName("script"))[o.length-1]).parentNode.insertBefore(c,o),s=c.contentWindow.document;try{a=s}catch(n){i=document.domain,c.src='javascript:var d=document.open();d.domain="'+i+'";void(0);',a=s}a.open()._l=function(){var t=this.createElement("script");i&&(this.domain=i),t.id="js-iframe-async",t.src="https://assets.zendesk.com/embeddable_framework/main.js",this.t=+new Date,this.zendeskHost=e.accountUrl,this.zEQueue=r,this.body.appendChild(t)},a.write('<body onload="document._l();">'),a.close()}(),this.window.zE(()=>{e.beforePageLoad(this.window.zE)})}setLocale(e){this.window.zE(()=>{this.window.zE.setLocale(e)})}identify(e){this.window.zE(()=>{this.window.zE.identify(e)})}hide(){this.window.zE(()=>{this.window.zE.hide()})}show(){this.window.zE(()=>{this.window.zE.show()})}activate(e){this.window.zE(()=>{this.window.zE.activate(e)})}setHelpCenterSuggestions(e){this.window.zE(()=>{this.window.zE.setHelpCenterSuggestions(e)})}setSettings(e){this.window.zESettings=e}}return e.ngInjectableDef=l.Ub({factory:function(){return new e(l.Vb(lj))},token:e,providedIn:"root"}),e})();class rj{}const{categories:cj}=Hc,uj={query:"",loading:!0,searching:!1,searchResults:[],sort:au,checkedSearchResults:[],selectedCategory:null};let pj=(()=>{let e=class{constructor(e,t,n){this.exploreService=e,this.bookmarksService=t,this.store=n}static getSearchResults(e){const{searchResults:t,searching:n}=e;if(n)return t;{const{ascending:n,fields:l}=e.sort;return du(t,l,n)}}static getCheckedSearchResults(e){return e.checkedSearchResults}static getLoading(e){return e.loading}static getSort(e){return e.sort}static getSelectedCategory(e){return e.selectedCategory}static getSearchQuery(e){return e.query}load(e,{category:t}){e.patchState({loading:!0});const n=this.store.selectSnapshot(zo.getUserLanguage);(t===Nc.Public?this.bookmarksService.getPublicBookmarks():this.exploreService.getAnatomyCategory("",t,n)).pipe(Object(z.a)(()=>{e.patchState({loading:!1})})).subscribe(t=>{t.forEach(e=>{"module"===e.type&&(e.id=e.module_name.replace(".json",""))}),e.dispatch(new Ii(t))})}search(e,{query:t}){e.patchState({query:t,searching:!0,loading:!0});const n=this.store.selectSnapshot(zo.getUserLanguage);this.exploreService.search(t,[],n).pipe(Object(z.a)(()=>e.patchState({loading:!1}))).subscribe(t=>e.dispatch(new Ii(t)))}setSearching(e,{searching:t}){e.patchState({searching:t})}loadSuccess({patchState:e},{searchResults:t}){e({searchResults:t})}sortSearchResults(e,t){const n=e.getState().searchResults;e.patchState({sort:t.sort,searchResults:[...n]})}resetSearchResults(e,t){e.patchState({searchResults:[],checkedSearchResults:[]})}checkSearchResult(e,t){let n=e.getState().checkedSearchResults;const l=n.some(e=>e===t.id);t.checked&&!l?n=[...n,t.id]:t.checked||(n=n.filter(e=>e!==t.id)),e.patchState({checkedSearchResults:n})}setCheckedSearchResults(e,t){e.patchState({checkedSearchResults:t.ids})}selectCategory(e,t){const n=t.tag?t.tag.toLowerCase():"";e.patchState({selectedCategory:cj.find(e=>e.id.toLowerCase()===n)})}resetExplore(e,t){e.setState(uj)}};return Object(b.__decorate)([Object(g.a)(Pi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Pi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"load",null),Object(b.__decorate)([Object(g.a)(Mi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Mi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"search",null),Object(b.__decorate)([Object(g.a)(Hi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Hi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setSearching",null),Object(b.__decorate)([Object(g.a)(Ii),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ii]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"loadSuccess",null),Object(b.__decorate)([Object(g.a)(Ti),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ti]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"sortSearchResults",null),Object(b.__decorate)([Object(g.a)(zi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,zi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetSearchResults",null),Object(b.__decorate)([Object(g.a)(Fi),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Fi]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"checkSearchResult",null),Object(b.__decorate)([Object(g.a)(Li),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Li]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setCheckedSearchResults",null),Object(b.__decorate)([Object(g.a)(Ei),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ei]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"selectCategory",null),Object(b.__decorate)([Object(g.a)(Ni),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,Ni]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetExplore",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rj]),Object(b.__metadata)("design:returntype",void 0)],e,"getSearchResults",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rj]),Object(b.__metadata)("design:returntype",void 0)],e,"getCheckedSearchResults",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rj]),Object(b.__metadata)("design:returntype",void 0)],e,"getLoading",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rj]),Object(b.__metadata)("design:returntype",void 0)],e,"getSort",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rj]),Object(b.__metadata)("design:returntype",void 0)],e,"getSelectedCategory",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[rj]),Object(b.__metadata)("design:returntype",void 0)],e,"getSearchQuery",null),Object(b.__decorate)([Object(g.g)({name:"explore",defaults:uj})],e)})();class dj{}const bj={theme:function(e){return e.Light="theme-light",e.Dark="theme-dark",e}({}).Light};let gj=(()=>{let e=class{static getTheme(e){return e.theme}setTheme({patchState:e},{theme:t}){e({theme:t})}resetLayout(e,t){e.setState(bj)}};return Object(b.__decorate)([Object(g.a)(io),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,io]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"setTheme",null),Object(b.__decorate)([Object(g.a)(ao),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,ao]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"resetLayout",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[dj]),Object(b.__metadata)("design:returntype",void 0)],e,"getTheme",null),Object(b.__decorate)([Object(g.g)({name:"layout",defaults:bj})],e)})();class hj{}let mj=(()=>{let e=class{constructor(e){this.dialogService=e}static getOpenDialog(e){return e.openDialog}openPremiumContent(e,t){this.dialogService.openPremiumContentDialog().afterClosed().subscribe(t=>{e.dispatch(new op.ClosePremiumContent(t))})}closePremiumContent(e,t){t.confirmed&&e.dispatch(new op.OpenUpgrade)}openUpgrade(e,t){this.dialogService.openUpgradeDialog()}};return Object(b.__decorate)([Object(g.a)(op.OpenPremiumContent),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,op.OpenPremiumContent]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"openPremiumContent",null),Object(b.__decorate)([Object(g.a)(op.ClosePremiumContent),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,op.ClosePremiumContent]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"closePremiumContent",null),Object(b.__decorate)([Object(g.a)(op.OpenUpgrade),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[Object,op.OpenUpgrade]),Object(b.__metadata)("design:returntype",void 0)],e.prototype,"openUpgrade",null),Object(b.__decorate)([Object(g.f)(),Object(b.__metadata)("design:type",Function),Object(b.__metadata)("design:paramtypes",[hj]),Object(b.__metadata)("design:returntype",void 0)],e,"getOpenDialog",null),Object(b.__decorate)([Object(g.g)({name:"dialog",defaults:{openDialog:null}})],e)})();class _j{constructor(){}resolve(e){const t=Object.assign({},e.queryParams);return zm(Object.keys(t).reduce((e,n)=>{const l=Array.isArray(t[n]);return e[n]=l?Object(vt.last)(t[n]):t[n],e},{}))}}var fj=n("Mrqg");class yj{}class vj{}var xj=n("zQui"),Oj=n("Fwaw"),Cj=n("BzsH"),wj=n("mkRZ"),jj=n("kNGD");const kj={duration:3e3},Sj={disabled:!0,animation:{enterDuration:0,exitDuration:0}};class Pj{}class Mj{}class Hj{}class Ij{}class Tj{}class zj{}class Fj{}class Lj{}class Ej{}class Nj{}class Rj{}class Aj{}class Dj{}class Uj{}class Bj{static forRoot(e){return{ngModule:Bj,providers:[{provide:e,useClass:e},{provide:sj,useClass:sj,deps:[e]}]}}}class $j{}class Vj{}class Qj{}class Gj{}class Wj{}class Jj{}class qj{}class Kj{}class Xj{}class Zj{}class Yj{}class ek{}class tk{}class nk{}class lk{}class ik{}class ak{}class ok{}class sk{}class rk{}class ck{}class uk{}class pk{}class dk{}class bk{}class gk{}class hk{}class mk{}class _k{}class fk{}class yk{}var vk=n("dvZr"),xk=l.sb(d,[W],(function(e){return l.Eb([l.Fb(512,l.k,l.eb,[[8,[J.a,q.a,K.a,K.b,X.a,Z.a,Ip,Lp,Dp,td,xd,jd,Td,Nd,$d,Jd,Zd,nb,Ob,Vb,eg,Nh,Jh,Zm,Cf,FC,WC,Xw]],[3,l.k],l.x]),l.Fb(5120,l.u,Zn,[]),l.Fb(4608,Y.o,Y.n,[l.u,[2,Y.F]]),l.Fb(4608,Rm,Rm,[_C.a,g.i]),l.Fb(5120,l.mb,l.qb,[l.z]),l.Fb(5120,l.c,l.nb,[]),l.Fb(5120,l.s,l.ob,[]),l.Fb(5120,l.t,l.pb,[]),l.Fb(4608,No.b,No.l,[Y.d]),l.Fb(6144,l.I,null,[No.b]),l.Fb(4608,No.e,Zw.b,[[2,Zw.d],[2,Zw.f]]),l.Fb(5120,No.c,(function(e,t,n,l,i,a,o,s){return[new No.j(e,t,n),new No.o(l),new No.n(i,a,o,s)]}),[Y.d,l.z,l.B,Y.d,Y.d,No.e,l.fb,[2,No.f]]),l.Fb(4608,No.d,No.d,[No.c,l.z]),l.Fb(135680,No.m,No.m,[Y.d]),l.Fb(4608,No.k,No.k,[No.d,No.m,l.c]),l.Fb(5120,Yw.a,de.e,[]),l.Fb(5120,Yw.c,de.f,[]),l.Fb(4608,Yw.b,de.d,[Y.d,Yw.a,Yw.c]),l.Fb(5120,l.G,de.g,[No.k,Yw.b,l.z]),l.Fb(6144,No.p,null,[No.m]),l.Fb(4608,l.O,l.O,[l.z]),l.Fb(4608,yO.b,de.c,[l.G,Y.d]),l.Fb(4608,s.j,s.p,[Y.d,l.B,s.n]),l.Fb(4608,s.q,s.q,[s.j,s.o]),l.Fb(5120,s.a,(function(e){return[e,new c]}),[s.q]),l.Fb(4608,s.m,s.m,[]),l.Fb(6144,s.k,null,[s.m]),l.Fb(4608,s.i,s.i,[s.k]),l.Fb(6144,s.b,null,[s.i]),l.Fb(4608,s.f,s.l,[s.b,l.r]),l.Fb(4608,s.c,s.c,[s.f]),l.Fb(4608,cx.d,cx.d,[Y.d,l.z,wb.j,cx.f]),l.Fb(4608,ej.c,ej.c,[]),l.Fb(4608,Qe.a,Qe.a,[Qe.g,Qe.c,l.k,Qe.f,Qe.d,l.r,l.z,Y.d,Ge.b,[2,Y.h]]),l.Fb(5120,Qe.h,Qe.i,[Qe.a]),l.Fb(5120,tj.a,tj.b,[Qe.a]),l.Fb(5120,we.c,we.j,[Qe.a]),l.Fb(4608,Zw.a,Zw.a,[]),l.Fb(5120,pp.c,pp.d,[Qe.a]),l.Fb(135680,pp.e,pp.e,[Qe.a,l.r,[2,Y.h],[2,pp.b],pp.c,[3,pp.e],Qe.c]),l.Fb(5120,Cb.b,Cb.c,[Qe.a]),l.Fb(135680,pe.e,pe.e,[l.z,jb.a]),l.Fb(4608,nj.b,nj.b,[l.N]),l.Fb(4608,ie.z,ie.z,[]),l.Fb(4608,We.d,We.d,[]),l.Fb(4608,jt.a,jt.a,[[2,"PapaParseGlobalConfig"]]),l.Fb(4608,ie.f,ie.f,[]),l.Fb(4608,ij,ij,[]),l.Fb(4608,sj,sj,[ij]),l.Fb(4608,Mc,Mc,[g.i,hr,kc]),l.Fb(4608,ac,ac,[pr,wt,yr,g.i,Ps,tc]),l.Fb(4608,uu,uu,[sr]),l.Fb(4608,Wr,Wr,[Ps,Ls]),l.Fb(4608,Vr,Vr,[wt]),l.Fb(4608,um,um,[g.i,Ps,Ls,em,rm]),l.Fb(4608,x_,x_,[g.i]),l.Fb(4608,Lo,Lo,[Et,g.i]),l.Fb(4608,gu,gu,[g.i,hr,Rc,Tc,Et,Dc]),l.Fb(4608,$m,$m,[g.i,Ls,pr]),l.Fb(4608,pj,pj,[Tc,Rc,g.i]),l.Fb(4608,gj,gj,[]),l.Fb(4608,Bc,Bc,[Dc,Et]),l.Fb(5120,"virtual-scroller-default-options",Vg.a,[]),l.Fb(4608,ap,ap,[Dc,Uu,Tc,Rc]),l.Fb(4608,mj,mj,[gp]),l.Fb(4608,jm,jm,[]),l.Fb(4608,U,U,[T,I]),l.Fb(4608,_j,_j,[]),l.Fb(5120,u.a,u.A,[u.m]),l.Fb(4608,u.f,u.f,[]),l.Fb(6144,u.h,null,[u.f]),l.Fb(135680,u.r,u.r,[u.m,l.w,l.j,l.r,u.h]),l.Fb(4608,u.g,u.g,[]),l.Fb(5120,u.F,u.w,[u.m,Y.w,u.i]),l.Fb(5120,u.j,u.D,[u.B]),l.Fb(5120,l.b,(function(e,t){return[e,g.d.appBootstrapListenerFactory(t)]}),[u.j,fj.c]),l.Fb(4608,g.b,g.b,[g.m,g.A]),l.Fb(256,g.d.ROOT_OPTIONS,{},[]),l.Fb(1024,g.r,g.d.ngxsConfigFactory,[g.d.ROOT_OPTIONS]),l.Fb(512,g.m,g.m,[]),l.Fb(512,g.v,g.v,[]),l.Fb(512,g.h,g.h,[]),l.Fb(1024,l.m,No.q,[]),l.Fb(512,g.z,g.z,[[3,g.z],[2,g.c]]),l.Fb(512,g.s,g.G,[l.z,l.B]),l.Fb(512,g.A,g.A,[g.s]),l.Fb(512,g.w,g.w,[l.m,g.m,g.v,g.z,g.h,g.A]),l.Fb(1024,g.q,g.d.isAngularInTestMode,[]),l.Fb(1024,g.p,g.d.isAngularDevMode,[]),l.Fb(512,g.C,g.C,[g.q,g.p]),l.Fb(512,g.B,g.B,[g.C,g.r]),l.Fb(512,g.y,g.y,[g.h,g.w,g.r,g.B]),l.Fb(512,g.x,g.x,[g.y]),l.Fb(1024,fj.a,g.d.getInitialState,[]),l.Fb(512,g.u,g.u,[l.r,g.r,[3,g.u],g.m,g.v,g.x,[2,fj.a]]),l.Fb(512,g.i,g.i,[g.h,g.y,g.r,g.A,[2,fj.a]]),l.Fb(512,g.D,g.D,[g.i,g.r]),l.Fb(256,g.n,[],[]),l.Fb(512,fj.c,fj.c,[]),l.Fb(512,g.E,g.E,[g.y,g.x,fj.c]),l.Fb(1073742336,g.t,g.t,[g.u,g.y,g.i,g.D,[2,g.n],g.r,g.E]),l.Fb(1024,g.o,(function(){return[[Rm],[Mc,ac,uu],[Wr,Vr,um,x_],[Lo],[gu],[$m],[pj,gj],[Bc],[ap],[mj],[jm],[U]]}),[]),l.Fb(1073742336,g.F,g.F,[g.i,g.y,g.u,[2,g.o],g.E]),l.Fb(1073742336,Y.c,Y.c,[]),l.Fb(1073742336,yj,yj,[]),l.Fb(1073742336,Yn,Yn,[]),l.Fb(1024,l.y,(function(){return[u.v()]}),[]),l.Fb(512,u.B,u.B,[l.r]),l.Fb(1024,l.d,(function(e,t){return[No.r(e),u.C(t)]}),[[2,l.y],u.B]),l.Fb(512,l.e,l.e,[[2,l.d]]),l.Fb(131584,l.g,l.g,[l.z,l.fb,l.r,l.m,l.k,l.e]),l.Fb(1073742336,l.f,l.f,[l.g]),l.Fb(1073742336,No.a,No.a,[[3,No.a]]),l.Fb(1073742336,de.b,de.b,[]),l.Fb(1073742336,s.e,s.e,[]),l.Fb(1073742336,s.d,s.d,[]),l.Fb(1073742336,vj,vj,[]),l.Fb(1073742336,cx.e,cx.e,[]),l.Fb(1073742336,xj.a,xj.a,[]),l.Fb(1073742336,Ge.a,Ge.a,[]),l.Fb(1073742336,Zw.f,Zw.f,[[2,Zw.c],[2,No.f]]),l.Fb(1073742336,jb.b,jb.b,[]),l.Fb(1073742336,Zw.j,Zw.j,[]),l.Fb(1073742336,ej.d,ej.d,[]),l.Fb(1073742336,ue.d,ue.d,[]),l.Fb(1073742336,ue.c,ue.c,[]),l.Fb(1073742336,Oj.c,Oj.c,[]),l.Fb(1073742336,ve.d,ve.d,[]),l.Fb(1073742336,hx.f,hx.f,[]),l.Fb(1073742336,wb.g,wb.g,[]),l.Fb(1073742336,Qe.e,Qe.e,[]),l.Fb(1073742336,Zw.h,Zw.h,[]),l.Fb(1073742336,Zw.g,Zw.g,[]),l.Fb(1073742336,lb.b,lb.b,[]),l.Fb(1073742336,tj.c,tj.c,[]),l.Fb(1073742336,we.i,we.i,[]),l.Fb(1073742336,we.f,we.f,[]),l.Fb(1073742336,Cj.a,Cj.a,[]),l.Fb(1073742336,wj.a,wj.a,[]),l.Fb(1073742336,jj.b,jj.b,[]),l.Fb(1073742336,pp.k,pp.k,[]),l.Fb(1073742336,pe.a,pe.a,[]),l.Fb(1073742336,Cb.e,Cb.e,[]),l.Fb(1073742336,hp.f,hp.f,[]),l.Fb(1073742336,Sb.b,Sb.b,[]),l.Fb(1073742336,nj.a,nj.a,[]),l.Fb(1073742336,Pj,Pj,[]),l.Fb(1073742336,ie.y,ie.y,[]),l.Fb(1073742336,ie.j,ie.j,[]),l.Fb(1073742336,Mj,Mj,[]),l.Fb(1073742336,Hj,Hj,[]),l.Fb(1073742336,qh.b,qh.b,[]),l.Fb(1073742336,Ij,Ij,[]),l.Fb(1073742336,Tj,Tj,[]),l.Fb(1073742336,We.c,We.c,[]),l.Fb(1073742336,zj,zj,[]),l.Fb(1073742336,Fj,Fj,[]),l.Fb(1073742336,Lj,Lj,[]),l.Fb(1073742336,Ej,Ej,[]),l.Fb(1073742336,jt.b,jt.b,[]),l.Fb(1073742336,Nj,Nj,[]),l.Fb(1073742336,Rj,Rj,[]),l.Fb(1073742336,ie.u,ie.u,[]),l.Fb(1073742336,Aj,Aj,[]),l.Fb(1073742336,Dj,Dj,[]),l.Fb(1073742336,Uj,Uj,[]),l.Fb(1073742336,Bj,Bj,[]),l.Fb(1073742336,aj,aj,[]),l.Fb(1073742336,$j,$j,[]),l.Fb(1073742336,Vj,Vj,[]),l.Fb(1073742336,Qj,Qj,[]),l.Fb(1024,u.u,u.y,[[3,u.m]]),l.Fb(512,u.t,p,[]),l.Fb(512,u.b,u.b,[]),l.Fb(256,u.i,{},[]),l.Fb(1024,Y.i,u.x,[Y.v,[2,Y.a],u.i]),l.Fb(512,Y.h,Y.h,[Y.i,Y.v]),l.Fb(512,l.j,l.j,[]),l.Fb(512,l.w,l.L,[l.j,[2,l.M]]),l.Fb(1024,u.k,(function(){return[[],[{path:"",component:w_,resolve:{widgetUrlConfig:_j},children:[{path:"",component:mC},{path:"error",component:UC}]}]]}),[]),l.Fb(1024,u.m,u.z,[l.g,u.t,u.b,Y.h,l.r,l.w,l.j,u.k,u.i,[2,u.s],[2,u.l]]),l.Fb(1073742336,u.p,u.p,[[2,u.u],[2,u.m]]),l.Fb(1073742336,Gj,Gj,[]),l.Fb(1073742336,Wj,Wj,[]),l.Fb(1073742336,Jj,Jj,[]),l.Fb(1073742336,qj,qj,[]),l.Fb(1073742336,Kj,Kj,[]),l.Fb(1073742336,Xj,Xj,[]),l.Fb(1073742336,Zj,Zj,[]),l.Fb(1073742336,Yj,Yj,[]),l.Fb(1073742336,ek,ek,[]),l.Fb(1073742336,tk,tk,[]),l.Fb(1073742336,nk,nk,[]),l.Fb(1073742336,lk,lk,[]),l.Fb(1073742336,ik,ik,[]),l.Fb(1073742336,ak,ak,[]),l.Fb(1073742336,ok,ok,[]),l.Fb(1073742336,sk,sk,[]),l.Fb(1073742336,rk,rk,[]),l.Fb(1073742336,ck,ck,[]),l.Fb(1073742336,uk,uk,[]),l.Fb(1073742336,Vg.c,Vg.c,[]),l.Fb(1073742336,pk,pk,[]),l.Fb(1073742336,dk,dk,[]),l.Fb(1073742336,bk,bk,[]),l.Fb(1073742336,gk,gk,[]),l.Fb(1073742336,hk,hk,[]),l.Fb(1073742336,mk,mk,[]),l.Fb(1073742336,_k,_k,[]),l.Fb(1073742336,fk,fk,[]),l.Fb(1073742336,yk,yk,[]),l.Fb(1073742336,d,d,[]),l.Fb(256,l.db,!0,[]),l.Fb(256,de.a,"BrowserAnimations",[]),l.Fb(256,s.n,"XSRF-TOKEN",[]),l.Fb(256,s.o,"X-XSRF-TOKEN",[]),l.Fb(256,jj.a,{separatorKeyCodes:[vk.f]},[]),l.Fb(256,hp.b,kj,[]),l.Fb(256,Zw.e,Sj,[]),l.Fb(256,"options",{preset:qh.c},[])])}));o.production&&Object(l.V)(),No.i().bootstrapModuleFactory(xk).catch(e=>console.error(e))},crnd:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},qpAl:function(e,t){!function(t){var n="Modernizr"in t,l=t.Modernizr;!function(e,t,n){function l(e,t){return typeof e===t}function i(e,t){return!!~(""+e).indexOf(t)}function a(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):y?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function o(e,n,l,i){var o,s,r,c,u="modernizr",p=a("div"),d=function(){var e=t.body;return e||((e=a(y?"svg":"body")).fake=!0),e}();if(parseInt(l,10))for(;l--;)(r=a("div")).id=i?i[l]:u+(l+1),p.appendChild(r);return(o=a("style")).type="text/css",o.id="s"+u,(d.fake?d:p).appendChild(o),d.appendChild(p),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),p.id=u,d.fake&&(d.style.background="",d.style.overflow="hidden",c=f.style.overflow,f.style.overflow="hidden",f.appendChild(d)),s=n(p,e),d.fake?(d.parentNode.removeChild(d),f.style.overflow=c):p.parentNode.removeChild(p),!!s}function s(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function r(t,n,l){var i;if("getComputedStyle"in e){i=getComputedStyle.call(e,t,n);var a=e.console;null!==i?l&&(i=i.getPropertyValue(l)):a&&a[a.error?"error":"log"].call(a,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else i=!n&&t.currentStyle&&t.currentStyle[l];return i}function c(t,l){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(s(t[i]),l))return!0;return!1}if("CSSSupportsRule"in e){for(var a=[];i--;)a.push("("+s(t[i])+":"+l+")");return o("@supports ("+(a=a.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"===r(e,null,"position")}))}return n}function u(e){return e.replace(/([a-z])-([a-z])/g,(function(e,t,n){return t+n.toUpperCase()})).replace(/^-/,"")}function p(e,t,o,s){function r(){d&&(delete C.style,delete C.modElem)}if(s=!l(s,"undefined")&&s,!l(o,"undefined")){var p=c(e,o);if(!l(p,"undefined"))return p}for(var d,b,g,h,m,_=["modernizr","tspan","samp"];!C.style&&_.length;)d=!0,C.modElem=a(_.shift()),C.style=C.modElem.style;for(g=e.length,b=0;b<g;b++)if(m=C.style[h=e[b]],i(h,"-")&&(h=u(h)),C.style[h]!==n){if(s||l(o,"undefined"))return r(),"pfx"!==t||h;try{C.style[h]=o}catch(e){}if(C.style[h]!==m)return r(),"pfx"!==t||h}return r(),!1}function d(e,t){return function(){return e.apply(t,arguments)}}function b(e,t,n,i,a){var o=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+x.join(o+" ")+o).split(" ");return l(t,"string")||l(t,"undefined")?p(s,t,i,a):function(e,t,n){var i;for(var a in e)if(e[a]in t)return!1===n?e[a]:l(i=t[e[a]],"function")?d(i,n||t):i;return!1}(s=(e+" "+w.join(o+" ")+o).split(" "),t,n)}var g=[],h={_version:"3.8.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){g.push({name:e,fn:t,options:n})},addAsyncTest:function(e){g.push({name:null,fn:e})}},m=function(){};m.prototype=h,m=new m;var _=[],f=t.documentElement,y="svg"===f.nodeName.toLowerCase(),v="Moz O ms Webkit",x=h._config.usePrefixes?v.split(" "):[];h._cssomPrefixes=x;var O={elem:a("modernizr")};m._q.push((function(){delete O.elem}));var C={style:O.elem.style};m._q.unshift((function(){delete C.style}));var w=h._config.usePrefixes?v.toLowerCase().split(" "):[];h._domPrefixes=w,h.testAllProps=b;var j=function(t){var l,i=prefixes.length,a=e.CSSRule;if(void 0===a)return n;if(!t)return!1;if((l=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in a)return"@"+t;for(var o=0;o<i;o++){var s=prefixes[o];if(s.toUpperCase()+"_"+l in a)return"@-"+s.toLowerCase()+"-"+t}return!1};h.atRule=j;var k=h.prefixed=function(e,t,n){return 0===e.indexOf("@")?j(e):(-1!==e.indexOf("-")&&(e=u(e)),t?b(e,t,n):b(e,"pfx"))};m.addTest("fullscreen",!(!k("exitFullscreen",t,!1)&&!k("cancelFullScreen",t,!1))),function(){var e,t,n,i,a,o;for(var s in g)if(g.hasOwnProperty(s)){if(e=[],(t=g[s]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i=l(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)1===(o=e[a].split(".")).length?m[o[0]]=i:(m[o[0]]&&(!m[o[0]]||m[o[0]]instanceof Boolean)||(m[o[0]]=new Boolean(m[o[0]])),m[o[0]][o[1]]=i),_.push((i?"":"no-")+o.join("-"))}}(),function(e){var t=f.className,n=m._config.classPrefix||"";if(y&&(t=t.baseVal),m._config.enableJSClass){var l=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(l,"$1"+n+"js$2")}m._config.enableClasses&&(e.length>0&&(t+=" "+n+e.join(" "+n)),y?f.className.baseVal=t:f.className=t)}(_),delete h.addTest,delete h.addAsyncTest;for(var S=0;S<m._q.length;S++)m._q[S]();e.Modernizr=m}(t,document),e.exports=t.Modernizr,n?t.Modernizr=l:delete t.Modernizr}(window)}},[[0,0,4]]]);
//# sourceMappingURL=main-es2015.232812cad7dfbb3f8498.js.map