(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("ION/")},"ION/":function(e,t,n){"use strict";n.r(t);var l,i=n("CcnG"),o=function(e){return e.Loft="loft",e.Studio="studio",e.Viewer="viewer",e.All="",e}({}),a=function(e){return e.Bookmark="bookmark",e.Module="module",e}({}),r={production:!0,assetDomain:"assets-human.biodigital.com",supportEmail:"support@biodigital.com",googleAuthKey:"66261904577-061oin26uo7sor0vrqc8dnn105irq82n.apps.googleusercontent.com",facebookAuthKey:"218801781466301",googleAnalyticsId:"UA-1141985-29",application:o.Viewer,exportType:a.Bookmark},u=n("t/Na"),c=n("67Y/"),s=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e).pipe(Object(c.a)((function(e){return e instanceof u.h&&e.body&&e.body.hasOwnProperty("results")&&(e=e.clone({body:e.body.results})),e})))},e}(),p=n("ZYCi"),d=function(){function e(){}return e.prototype.parse=function(e){e=e.replace(/&amp;/g,"&");var t=(new p.c).parse(e);return this.ensureQueryParam(t.queryParams,"dk",e),this.ensureQueryParam(t.queryParams,"uaid",e),t},e.prototype.serialize=function(e){return(new p.c).serialize(e).replace(/%2F/g,"/")},e.prototype.ensureQueryParam=function(e,t,n){if(e.hasOwnProperty(t))return e;var l=this.getParameterByName(t,n);return null!==l&&(e[t]=l),e},e.prototype.getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},e}(),b=function(){return function(){}}(),g=n("mrSG"),h=n("fdbx"),m=function(){return function(){}}(),f=function(){function e(e,t,n){this.hostingURL=e,this.embedded=t,this.widgetConfig=n}return e.type="[Widget] Setup Widget",e}(),y=function(){function e(e,t){this.interaction=e,this.source=t}return e.type="[Widget] Log Interaction",e}(),_=function(){function e(e,t){this.interaction=e,this.response=t}return e.type="[Widget] Log Interaction Success",e}(),v=function(){function e(e,t){this.interaction=e,this.response=t}return e.type="[Widget] Log Interaction Failure",e}(),x=function(){function e(){}return e.type="[Widget] Auth",e}(),O=function(){function e(e,t){this.userType=e,this.response=t}return e.type="[Widget] Auth Success",e}(),w=function(){function e(e,t){this.userType=e,this.response=t}return e.type="[Widget] Auth Failure",e}(),C=function(){function e(){}return e.type="[Widget] Reset",e}(),j=function(){function e(e){this.enabled=e}return e.type="[Widget] Set Input Enabled",e}(),k=function(){function e(e){this.config=e}return e.type="[Widget] Set API Config",e}(),S=n("F/XL"),P=n("9Z1F"),I=function(e){return e.InvalidUAID="analytic id does not exist",e.InvalidDeveloperId="Client id invalid",e.InvalidProductKey="app product key",e.MissingUAID="analytic id missing",e.WebOnlyAPI="Api key only compatible with Web Widget",e.AndroidOnlyAPI="Api key only compatible with Mobile Widget SDK for Android",e.IOSOnlyAPI="Api key only compatible with Mobile Widget SDK for iOS",e.MixedAPIKeys="Use of both an app product key and an app api key not allowed",e.ProductKeyNotRegistered='App product key "xxx" has not been registered or is incorrect.  Ensure it has been registered by the system admin',e.ProductKeyInvalidAppBundleID='The app product key "xxx" has not been authorized to be used for app bundle id "yyy".  Confirm the correct values are being used from the system admin',e.ProductKeyBundleIDWhitelist='Use of app product key "xxx" requires the affiliated app bundle id (app_domain) to be white-listed.  Ensure the system admin has white-listed "yyy"',e.ImproperProductKeyUsage='Improper use of app product key "xxx" detected. Contact the system admin if issue continues',e.InvalidPlatformSource="Invalid platform source",e.MissingSource="Missing source",e.MissingPlatform="Missing platform",e.MissingAppDomain="Missing app domain",e.APIKeyMissing="Api key missing",e.APIKeyInvalid="Api key invalid",e.DeveloperDeactivated="Developer account for api key is deactivated",e.BundleIDNotAllowed="App bundle id not allowed",e.BundleIDUnregistered="App bundle id unregistered",e}({}),M=function(){return function(){}}(),T={headers:new u.g({"Content-Type":"application/json; charset=utf-8"})},K=function(){function e(e){this.http=e}return e.prototype.getAnalytic=function(e){var t=this;return this.http.get("/ws/user/analytics?analytic_id="+e).pipe(Object(c.a)((function(){return{success:!0}})),Object(P.a)((function(e){return Object(S.a)(t.parseError(e))})))},e.prototype.sendAnalytic=function(e){var t=this;return this.http.post(e instanceof M?"/ws/user/analytics":"/ws/developer/apps/access/key",e,T).pipe(Object(c.a)((function(){return{success:!0}})),Object(P.a)((function(e){return Object(S.a)(t.parseError(e))})))},e.prototype.parseError=function(e){var t=e.error.error,n=e.status,l=t&&t.message?t.message:"";return{success:n>=500&&n<=504,message:l,errorCode:Object.values(I).includes(l)?l:null}},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(u.c))},token:e,providedIn:"root"}),e}(),z=function(){function e(e){this.analyticsService=e}return e.prototype.authDeveloper=function(e){return this.analyticsService.sendAnalytic(e)},e.prototype.authUser=function(e){return this.analyticsService.getAnalytic(e)},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(K))},token:e,providedIn:"root"}),e}(),L=n("2WpN"),E=function(){return function(){}}(),U=function(){return function(){}}(),F=function(e){return e[e.User=0]="User",e[e.Developer=1]="Developer",e}({}),A=function(e){return e.Widget="widget",e.WidgetAPI="widgetapi",e}({}),D=function(e){return e.Init="init",e.View="view",e.ChanceInteraction="interactionc",e.FirstInteraction="interactionf",e}({}),N=n("b36G"),R=function(){return(R=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},B=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},H={userType:F.User,authenticating:!1,authenticated:!1,widgetUrlConfig:{id:"",type:""},widgetApiConfig:null,parentUrl:{full:"",domain:""},embedded:!1,engineVersion:"",engineAPIVersion:"",inputEnabled:!0},V=function(){function e(e,t){this.authService=e,this.analyticsService=t}return e.getUserType=function(e){return e.userType},e.getWidgetAuthenticating=function(e){return e.authenticating},e.getWidgetAuthenticated=function(e){return e.authenticated},e.getInputEnabled=function(e){return e.inputEnabled},e.getEmbedded=function(e){return e.embedded},e.getParentURL=function(e){return e.parentUrl.full},e.getWidgetUrlConfig=function(e){return e.widgetUrlConfig},e.getWidgetApiUIConfig=function(e){return e.widgetApiConfig},e.prototype.setupWidget=function(e,t){var n=t.hostingURL,l=t.embedded,i=t.widgetConfig,o=n.match(/:\/\/(.[^/]+)/);e.patchState({userType:i.uaid?F.User:F.Developer,embedded:l,widgetUrlConfig:i,parentUrl:{full:n,domain:o&&o[1]?o[1]:n}})},e.prototype.authWidget=function(e,t){var n=e.getState(),l=n.userType,i=l===F.User?this.authService.authUser(n.widgetUrlConfig.uaid):this.authService.authDeveloper(this.buildDeveloperAnalytic(n,D.Init,A.WidgetAPI));e.patchState({authenticating:!0}),i.pipe(Object(L.a)((function(){return e.patchState({authenticating:!1})}))).subscribe((function(t){var n=t.success;e.patchState({authenticated:n}),e.dispatch(n?new O(l,t):new w(l,t))}))},e.prototype.logWidgetInteraction=function(e,t){var n=t.interaction,l=t.source,i=e.getState(),o=i.userType===F.User?this.buildUserAnalytic(i,n,l):this.buildDeveloperAnalytic(i,n);this.analyticsService.sendAnalytic(o).subscribe((function(t){e.dispatch(t.success?new _(n,t):new v(n,t))}))},e.prototype.resetWidget=function(e,t){e.setState(H)},e.prototype.buildAppActivityData=function(e){var t={engine_version:e.engineVersion,api_version:e.engineAPIVersion};return Object.entries(e.widgetUrlConfig).filter((function(e){return"dk"!==B(e,1)[0]})).forEach((function(e){var n=B(e,2);t["url_param_"+n[0]]=n[1]})),Object(N.plainToClass)(U,t)},e.prototype.setInputEnabled=function(e,t){e.patchState({inputEnabled:t.enabled})},e.prototype.setWidgetApiConfig=function(e,t){e.patchState({widgetApiConfig:t.config})},e.prototype.buildUserAnalytic=function(e,t,n){var l,i=e.widgetUrlConfig.uaid,o=e.parentUrl.domain,a=R({},this.buildAppActivityData(e),((l={parent_analytic_identifier:i,referer_domain:o})[t+"_source"]=n,l)),r={analytic_platform:A.Widget,analytic_type:t,analytic_data:a};return Object(N.plainToClass)(M,r)},e.prototype.buildDeveloperAnalytic=function(e,t,n){void 0===n&&(n=A.Widget);var l=e.widgetUrlConfig,i=e.parentUrl,o=e.embedded,a=this.buildAppActivityData(e),r={platform:n,app_activity:t,app_productkey:l["app-productkey"],app_userid:l["app-userid"],app_apikey:l.dk,app_domain:i.domain,app_activity_data:a,widget_is_fullscreen:!o};return Object(N.plainToClass)(E,r)},e.prototype.ngxsOnInit=function(e){e.patchState({engineVersion:Human.VERSION,engineAPIVersion:Human.API_VERSION})},Object(g.__decorate)([Object(h.a)(f),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,f]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setupWidget",null),Object(g.__decorate)([Object(h.a)(x),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,x]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"authWidget",null),Object(g.__decorate)([Object(h.a)(y),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,y]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"logWidgetInteraction",null),Object(g.__decorate)([Object(h.a)(C),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,C]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetWidget",null),Object(g.__decorate)([Object(h.a)(j),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,j]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setInputEnabled",null),Object(g.__decorate)([Object(h.a)(k),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,k]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setWidgetApiConfig",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[m]),Object(g.__metadata)("design:returntype",void 0)],e,"getUserType",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[m]),Object(g.__metadata)("design:returntype",void 0)],e,"getWidgetAuthenticating",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[m]),Object(g.__metadata)("design:returntype",void 0)],e,"getWidgetAuthenticated",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[m]),Object(g.__metadata)("design:returntype",void 0)],e,"getInputEnabled",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[m]),Object(g.__metadata)("design:returntype",void 0)],e,"getEmbedded",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[m]),Object(g.__metadata)("design:returntype",void 0)],e,"getParentURL",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[m]),Object(g.__metadata)("design:returntype",void 0)],e,"getWidgetUrlConfig",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[m]),Object(g.__metadata)("design:returntype",void 0)],e,"getWidgetApiUIConfig",null),Object(g.__decorate)([Object(h.g)({name:"widget",defaults:H})],e)}(),$=n("K9Ia"),Q=n("6blF"),G=n("ny24"),W=n("VnD/");!function(e){var t=function(){function e(e){this.canHover=e}return e.type="[View] Set Can Hover",e}();e.SetCanHover=t;var n=function(){function e(e){this.canTouch=e}return e.type="[View] Set Can Touch",e}();e.SetCanTouch=n;var l=function(){function e(e){this.canFullscreen=e}return e.type="[View] Set Can Fullscreen",e}();e.SetCanFullscreen=l;var i=function(){function e(e){this.layout=e}return e.type="[View] Set Layout",e}();e.SetLayout=i;var o=function(){function e(e){this.layout=e}return e.type="[View] Set Initial Layout",e}();e.SetInitialLayout=o;var a=function(){function e(e){this.enabled=e}return e.type="[View] Set Input Enabled",e}();e.SetInputEnabled=a;var r=function(){function e(e){this.mode=e}return e.type="[View] Set Search Display Mode",e}();e.SetSearchDisplayMode=r;var u=function(){function e(e){this.active=e}return e.type="[View] Toggle Presentation",e}();e.TogglePresentation=u;var c=function(){function e(e){this.show=e}return e.type="[View] Toggle Help",e}();e.ToggleHelp=c;var s=function(){function e(e){this.show=e}return e.type="[View] Toggle Loader",e}();e.ToggleLoader=s;var p=function(){function e(e){this.loaderType=e}return e.type="[View] Set Loader Mode",e}();e.SetLoaderType=p;var d=function(){function e(e){this.show=e}return e.type="[View] Toggle Node Info",e}();e.ToggleNodeInfo=d;var b=function(){function e(e){this.enabled=e}return e.type="[View] Set multi pick mode enabled",e}();e.SetMultiPickModeEnabled=b;var g=function(){function e(e){this.labelsBreakpoint=e}return e.type="[View] Set label breakpoint",e}();e.SetLabelBreakpoint=g;var h=function(){function e(e){this.usePrintImage=e}return e.type="[View] Set use print image",e}();e.SetUsePrintImage=h}(l||(l={}));var q=function(){function e(e,t,n){this.store=e,this.router=t,this.analyticsService=n,this.title="Biodigital Human",this.ngUnsubscribe=new $.a,n.init(r.googleAnalyticsId)}return e.prototype.ngOnInit=function(){this.initPageAnalytics(),this.initInputObserver()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initInputObserver=function(){var e=this;this.inputEnabled$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.store.dispatch(new l.SetInputEnabled(t))}))},e.prototype.initPageAnalytics=function(){var e=this;this.router.events.pipe(Object(W.a)((function(e){return e instanceof p.d})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.analyticsService.logPageView(t.urlAfterRedirects)}))},Object(g.__decorate)([Object(h.e)(V.getInputEnabled),Object(g.__metadata)("design:type",Q.a)],e.prototype,"inputEnabled$",void 0),e}(),Y=n("t68o"),X=n("NcP4"),J=n("xYTU"),Z=n("D2NE"),ee=n("pMnS"),te=n("Ip0R"),ne=function(){function e(){this.display="block",this.theme="dark",this.isCompact=!1}return e.prototype.ngOnInit=function(){},e}(),le=i.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.field[_ngcontent-%COMP%]{padding-bottom:16px;display:block;width:100%}.field--light[_ngcontent-%COMP%]   .field__label[_ngcontent-%COMP%]{color:#6a82a4}.field--dark[_ngcontent-%COMP%]   .field__label[_ngcontent-%COMP%]{color:#96a8c0}.field--inline[_ngcontent-%COMP%]{display:inline-block;width:auto}.field--compact[_ngcontent-%COMP%]{padding-bottom:0}.field__help[_ngcontent-%COMP%]:not(:empty){padding-top:8px}"]],data:{}});function ie(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"label",[["class","field__label text-uppercase text-10"]],null,null,null,null,null)),(e()(),i.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.label)}))}function oe(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,9,"div",[["class","field"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"field--light":0,"field--dark":1,"field--inline":2,"field--compact":3}),(e()(),i.ob(16777216,null,null,1,null,ie)),i.xb(5,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(6,0,null,null,3,"div",[["class","field__input mt-1"]],null,null,null,null,null)),i.Jb(null,0),(e()(),i.yb(8,0,null,null,1,"div",[["class","field__help text-dim text-11"]],null,null,null,null,null)),i.Jb(null,1)],(function(e,t){var n=t.component,l=e(t,3,0,"light"===n.theme,"dark"===n.theme,"inline"===n.display,n.isCompact);e(t,2,0,"field",l),e(t,5,0,n.label)}),null)}var ae=n("gIcY"),re=function(){function e(){}return Object.defineProperty(e.prototype,"iconClass",{get:function(){var e="fas fa-"+this.icon;return this.size&&(e+=" fa-"+this.size),e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e}(),ue=i.wb({encapsulation:2,styles:[[""]],data:{}});function ce(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,2,"i",[],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{ngClass:[0,"ngClass"]},null)],(function(e,t){e(t,2,0,t.component.iconClass)}),null)}var se=function(){function e(){}return e.prototype.onClick=function(e){e.stopPropagation(),e.stopImmediatePropagation()},e}(),pe=n("Z5h4"),de=n("de3e"),be=n("lLAP"),ge=n("wFw1"),he=function(){function e(e){this.changeRef=e,this.toggleType="none",this.isCompact=!1,this.opened=new i.o,this.disabled=!1,this.onChange=function(){},this.onTouched=function(){},this.propagateChange=function(e){}}return Object.defineProperty(e.prototype,"open",{get:function(){return this._open},set:function(e){e!==this.open&&(this._open=e,this.value=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!==this.value&&(this._value=e,this.open=e,this.propagateChange(this.value),this.changeRef.markForCheck())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleClickHeader=function(){"none"===this.toggleType||this.disabled||(this.open=!this.open,this.opened.emit(this.open))},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e}(),me=i.wb({encapsulation:0,styles:[[".panel[_ngcontent-%COMP%]{border-top:1px solid #1c2a3f}.theme-light[_nghost-%COMP%]   .panel[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel[_ngcontent-%COMP%]{border-top:1px solid #eaeff5}.panel--static[_ngcontent-%COMP%]   .panel__header[_ngcontent-%COMP%]:hover{cursor:default}.panel--open[_ngcontent-%COMP%]{box-shadow:inset 4px 0 #2d72dc}.theme-light[_nghost-%COMP%]   .panel--open[_ngcontent-%COMP%]   .panel__header[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel--open[_ngcontent-%COMP%]   .panel__header[_ngcontent-%COMP%]{background-color:#fff}.panel--open[_ngcontent-%COMP%]   .panel__label[_ngcontent-%COMP%]{color:#fff}.theme-light[_nghost-%COMP%]   .panel--open[_ngcontent-%COMP%]   .panel__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel--open[_ngcontent-%COMP%]   .panel__label[_ngcontent-%COMP%]{color:#101823}.panel--open[_ngcontent-%COMP%]   .panel__body[_ngcontent-%COMP%]{display:block}.panel--closed[_ngcontent-%COMP%]   .panel__body[_ngcontent-%COMP%]{display:none}.panel--compact[_ngcontent-%COMP%]   .panel__body[_ngcontent-%COMP%]{padding:4px 12px 12px}.panel--compact[_ngcontent-%COMP%]   .panel__header[_ngcontent-%COMP%]{padding:10px 8px}.panel__header[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;word-break:break-word;padding:12px 16px;-webkit-box-pack:justify;justify-content:space-between;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.panel__header[_ngcontent-%COMP%]:hover{cursor:pointer}.panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__label[_ngcontent-%COMP%]{color:#fff}.theme-light[_nghost-%COMP%]   .panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__label[_ngcontent-%COMP%]{color:#101823}.panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__actions[_ngcontent-%COMP%], .panel[_ngcontent-%COMP%]:not(.panel--fixed):hover   .panel__toggle--arrow[_ngcontent-%COMP%]{visibility:visible}.panel__actions[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 1 auto;white-space:nowrap;visibility:hidden}.panel__actions[_ngcontent-%COMP%] + .panel__toggle[_ngcontent-%COMP%]{margin-left:8px}.panel__label[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;color:#d7e0ea;-webkit-box-align:center;align-items:center}.theme-light[_nghost-%COMP%]   .panel__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .panel__label[_ngcontent-%COMP%]{color:#283853;font-weight:700}.panel__body[_ngcontent-%COMP%]{display:block;padding:12px 12px 16px}.panel__toggle[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-box-flex:0;flex:0 0 16px}.panel__toggle--arrow[_ngcontent-%COMP%]{visibility:hidden}"]],data:{}});function fe(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,"div",[["class","panel__toggle panel__toggle--arrow rotate--animate"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"rotate-90":0,"rotate-0":1}),(e()(),i.yb(4,0,null,null,1,"app-icon",[["icon","angle-right"]],null,null,null,ce,ue)),i.xb(5,114688,null,0,re,[],{icon:[0,"icon"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.open,!n.open);e(t,2,0,"panel__toggle panel__toggle--arrow rotate--animate",l),e(t,5,0,"angle-right")}),null)}function ye(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"div",[["appEventFence",""],["class","panel__toggle panel__toggle--checkbox"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,1).onClick(n,n.target)&&l),l}),null,null)),i.xb(1,16384,null,0,se,[],null,null),(e()(),i.yb(2,0,null,null,2,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==(e.component.open=n.checked)&&l),l}),pe.b,pe.a)),i.Pb(5120,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(4,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],{checked:[0,"checked"],disabled:[1,"disabled"]},{change:"change"})],(function(e,t){var n=t.component;e(t,4,0,n.open,n.disabled)}),(function(e,t){e(t,2,0,i.Kb(t,4).id,null,i.Kb(t,4).indeterminate,i.Kb(t,4).checked,i.Kb(t,4).disabled,"before"==i.Kb(t,4).labelPosition,"NoopAnimations"===i.Kb(t,4)._animationMode)}))}function _e(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,null,null,null,null,null,null,null)),i.xb(1,16384,null,0,te.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),i.ob(16777216,null,null,1,null,fe)),i.xb(3,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,ye)),i.xb(5,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,1,0,t.component.toggleType),e(t,3,0,"arrow"),e(t,5,0,"checkbox")}),null)}function ve(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,7,"div",[["class","panel__header"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleClickHeader()&&l),l}),null,null)),(e()(),i.yb(1,0,null,null,1,"div",[["class","panel__label text-12"]],null,null,null,null,null)),(e()(),i.Sb(2,null,["",""])),(e()(),i.yb(3,0,null,null,2,"div",[["appEventFence",""],["class","panel__actions"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,4).onClick(n,n.target)&&l),l}),null,null)),i.xb(4,16384,null,0,se,[],null,null),i.Jb(null,0),(e()(),i.ob(16777216,null,null,1,null,_e)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,7,0,"none"!==t.component.toggleType)}),(function(e,t){e(t,2,0,t.component.label)}))}function xe(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,7,"div",[["class","panel"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"panel--static":0,"panel--disabled":1,"panel--open":2,"panel--closed":3,"panel--compact":4}),(e()(),i.ob(16777216,null,null,1,null,ve)),i.xb(5,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(6,0,null,null,1,"div",[["class","panel__body"]],null,null,null,null,null)),i.Jb(null,1)],(function(e,t){var n=t.component,l=e(t,3,0,"none"===n.toggleType,n.disabled,n.open,!1===n.open,n.isCompact);e(t,2,0,"panel",l),e(t,5,0,n.label)}),null)}var Oe=n("9It4"),we=n("Ourk"),Ce=n("YlbQ"),je=n("2Q+G"),ke=n("mVsa"),Se=n("26FU"),Pe=n("qyHS"),Ie=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Me=function(){function e(e){this.changeDetector=e,this.display="normal",this.activeTabChange=new i.o,this._activeTab=new Se.a(0),this.tabSize="small",this.ngUnsubscribe=new $.a}return Object.defineProperty(e.prototype,"activeTab",{get:function(){return this._activeTab.value},set:function(e){null!=e&&("string"==typeof e&&(e=e.toUpperCase()),this._activeTab.next(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabItems",{get:function(){return this._tabItems},set:function(e){this._tabItems=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterContentInit=function(){var e=this;this._tabs.changes.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.mapTabs(),e.changeDetector.markForCheck()})),this.mapTabs(),this._activeTab.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.showTab(t)})),this._activeTab.pipe(Object(Pe.a)(),Object(W.a)((function(e){var t=Ie(e,2);return t[0]!==t[1]})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Ie(t,2);e.activeTabChange.next(n[1])}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleTabSelect=function(e){this._activeTab.next(e.index)},e.prototype.mapTabs=function(){this.tabItems=this._tabs.map((function(e,t){return{index:t,label:e.label||"Item "+t,tab:e}}))},e.prototype.showTab=function(e){this._tabs.forEach((function(t,n){switch(typeof e){case"number":t.isActive=e===n;break;case"string":t.isActive=e.toString().toUpperCase()===t.label.toUpperCase()}})),this.changeDetector.markForCheck()},e.prototype.isTabActive=function(e){return("string"==typeof this._activeTab.value?e.label.toUpperCase():e.index)===this._activeTab.value},e}(),Te=i.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.tabs__labels[_ngcontent-%COMP%]{margin-bottom:8px}.tabs__label[_ngcontent-%COMP%]{color:#96a8c0;padding:2px 4px 4px;margin-right:8px;font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative}.tabs__label[_ngcontent-%COMP%]:after{content:'';display:block;border-bottom:3px solid #0060c4;margin-top:4px;width:0;-webkit-transition:.25s;transition:.25s ease;position:absolute;bottom:0;left:0}.tabs__label[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.tabs__label--active[_ngcontent-%COMP%]{color:#fff}.tabs__label--active[_ngcontent-%COMP%]:after{width:100%}.tabs--medium[_ngcontent-%COMP%]   .tabs__label[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.tabs--medium[_ngcontent-%COMP%]   .tabs__label--active[_ngcontent-%COMP%]{border-bottom:2px solid #0060c4}.theme-light[_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]{color:#374a68;font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.theme-light[_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]:after, .theme-light   [_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]:after{border-color:#1c5ab9}.theme-light[_nghost-%COMP%]   .tabs__label--active[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .tabs__label--active[_ngcontent-%COMP%], .theme-light[_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]:hover, .theme-light   [_nghost-%COMP%]   .tabs__label[_ngcontent-%COMP%]:hover{color:#283853}"]],data:{}});function Ke(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"a",[["class","tabs__label"]],[[2,"tabs__label--active",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleTabSelect(e.parent.context.$implicit)&&l),l}),null,null)),(e()(),i.yb(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.Sb(2,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.isTabActive(t.parent.context.$implicit)),e(t,2,0,t.parent.context.$implicit.label)}))}function ze(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Ke)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!t.context.$implicit.tab.linkExternal)}),null)}function Le(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,8,"div",[["class","tabs"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"tabs--small":0,"tabs--medium":1}),(e()(),i.yb(4,0,null,null,2,"div",[["class","tabs__labels"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,ze)),i.xb(6,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),(e()(),i.yb(7,0,null,null,1,"div",[["class","tabs__content"]],null,null,null,null,null)),i.Jb(null,0)],(function(e,t){var n=t.component,l=e(t,3,0,"small"==n.tabSize,"medium"==n.tabSize);e(t,2,0,"tabs",l),e(t,6,0,n.tabItems)}),null)}var Ee=function(){function e(e){this.changeDetector=e,this.hide=!1,this._isActive=!1}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},set:function(e){this._isActive=e,this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e}(),Ue=i.wb({encapsulation:0,styles:[[""]],data:{}});function Fe(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"div",[],null,null,null,null,null)),i.Jb(null,0)],null,null)}function Ae(e){return i.Ub(2,[(e()(),i.ob(16777216,null,null,1,null,Fe)),i.xb(1,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.isActive)}),null)}var De=function(e){return e.XSmall="xsmall",e.Small="small",e.Medium="medium",e.Large="large",e}({}),Ne=function(e){return e.Default="default",e.Flat="flat",e.Primary="primary",e.Outline="outline",e.Text="text",e}({}),Re=function(e){return e.Default="default",e.Circle="circle",e}({}),Be=function(e){return e.Dark="dark",e.Light="light",e.Themed="themed",e}({}),He=function(e){return e.Left="left",e.Center="center",e}({}),Ve=function(){function e(){this.buttonSize=De.Medium,this.buttonType=Ne.Default,this.buttonTheme=Be.Dark,this.buttonShape=Re.Default,this.buttonAlign=He.Center,this.uppercase=!0,this.selected=!1,this.expanded=!1,this.bordered=!0}return e.prototype.ngOnInit=function(){},e}(),$e=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}button[app-button]{border-color:transparent;background:0 0;border-width:0;padding:0;margin:0}button[app-button]:not([disabled]):hover{cursor:pointer}.app-button{font-size:12px;letter-spacing:.3px;line-height:1.4em;-webkit-box-align:center;align-items:center;border-radius:4px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;padding:0 16px;position:relative;text-align:center;-webkit-transition:background-color .12s;transition:background-color .12s;width:100%}.app-button:after{content:\" \";background-color:#283853;border-radius:4px;display:block;position:absolute;left:0;top:0;bottom:0;right:0;opacity:0;z-index:1;-webkit-transition:opacity 60ms;transition:opacity 60ms}.app-button:not(.app-button--disabled):hover:after{opacity:.7}.app-button__container{position:relative;z-index:2;width:100%}.app-button--uppercase{text-transform:uppercase}.app-button--expanded{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1}.app-button--xsmall{height:24px;min-width:24px;padding:0 8px;font-size:10px;letter-spacing:.25px;line-height:1.4em}.app-button--small{height:32px;min-width:32px;padding:0 12px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.app-button--medium{height:36px;min-width:36px;padding:0 16px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.app-button--large{height:48px;min-width:48px;padding:0 16px;font-size:14px;letter-spacing:.35px;line-height:1.4em}.app-button--no-border,.app-button--no-border:after{border-radius:0!important}.app-button--left{text-align:left}.app-button--themed{color:#374a68;color:var(--app-button-color)}.app-button--themed:hover{color:#1c2a3f;color:var(--app-button-color--hover)}.app-button--themed:after{background-color:#d7e0ea;background-color:var(--app-button-bg--hover)}.app-button--dark{color:#d7e0ea}.app-button--dark:hover{color:#fff}.app-button--dark:after{background-color:#283853}.app-button--dark.app-button--flat{background:#374a68}.app-button--dark.app-button--default{background:0 0}.app-button--dark.app-button--outline{background:0 0;border:1px solid #374a68;-webkit-transition:border-color .12s;transition:border-color .12s}.app-button--dark.app-button--outline:hover{border-color:#96a8c0}.app-button--dark.app-button--outline:hover:after{background-color:transparent;display:none}.app-button--dark.app-button--text{background:0 0;color:#d7e0ea}.app-button--dark.app-button--text:hover{color:#fff}.app-button--dark.app-button--text:hover:after{display:none}.app-button--dark.app-button--selected{background-color:#1c5ab9;color:#fff}.app-button--dark.app-button--selected:hover:after{display:none}.app-button--light{color:#283853}.app-button--light:hover{color:#1c2a3f}.app-button--light:after{background-color:#96a8c0}.app-button--light:not(.app-button--disabled):hover:after{opacity:.6}.app-button--light.app-button--flat{background:#d7e0ea;font-weight:500}.app-button--light.app-button--flat.app-button--selected{background-color:#96a8c0}.app-button--light.app-button--default{background:0 0;color:#131c2a}.app-button--light.app-button--default:not(.app-button--disabled):hover:after{opacity:.2}.app-button--light.app-button--outline{background:0 0;border:1px solid #96a8c0;color:#283853;-webkit-transition:border-color .12s;transition:border-color .12s}.app-button--light.app-button--outline:after{display:none}.app-button--light.app-button--outline:hover{background:rgba(55,74,104,.05);border-color:#374a68;color:#1c2a3f}.app-button--light.app-button--outline:hover:after{background-color:transparent}.app-button--light.app-button--selected{background-color:#eaeff5}.app-button--light.app-button--selected:hover:after{display:none}.app-button--light.app-button--text{color:#6a82a4}.app-button--light.app-button--text:hover{color:#1c2a3f}.app-button--light.app-button--text:hover:after{display:none}.app-button.app-button--primary{background:#de3838;color:#fff}.app-button.app-button--primary:after{background:#f9fafd}.app-button.app-button--primary:hover:after{opacity:.1}.app-button--selected{background-color:#1c5ab9}.app-button--disabled{opacity:.5}.app-button--circle{border-radius:50%}.app-button--circle.app-button--xsmall{width:24px}.app-button--circle.app-button--small{width:32px;padding:0 6px}.app-button--circle.app-button--medium{width:36px;padding:0 8px}.app-button--circle.app-button--large{width:48px}.app-button--circle:after{border-radius:50%}"]],data:{}});function Qe(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,5,"div",[["class","app-button"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"app-button--xsmall":0,"app-button--small":1,"app-button--medium":2,"app-button--large":3,"app-button--flat":4,"app-button--default":5,"app-button--primary":6,"app-button--outline":7,"app-button--text":8,"app-button--light":9,"app-button--dark":10,"app-button--themed":11,"app-button--circle":12,"app-button--selected":13,"app-button--uppercase":14,"app-button--disabled":15,"app-button--no-border":16,"app-button--expanded":17,"app-button--left":18}),(e()(),i.yb(4,0,null,null,1,"div",[["class","app-button__container"]],null,null,null,null,null)),i.Jb(null,0)],(function(e,t){var n=t.component,l=e(t,3,1,["xsmall"==n.buttonSize,"small"==n.buttonSize,"medium"==n.buttonSize,"large"==n.buttonSize,"flat"==n.buttonType,"default"==n.buttonType,"primary"==n.buttonType,"outline"==n.buttonType,"text"==n.buttonType,"light"==n.buttonTheme,"dark"==n.buttonTheme,"themed"==n.buttonTheme,"circle"==n.buttonShape,n.selected,n.uppercase,n.disabled,!n.bordered,n.expanded,"left"===n.buttonAlign]);e(t,2,0,"app-button",l)}),null)}var Ge,We=n("eDkP"),qe=n("Fzqc"),Ye=n("P8j/"),Xe=function(){return function(e,t,n,l){void 0===l&&(l=1),this.red=e,this.green=t,this.blue=n,this.alpha=l}}(),Je=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ze=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Je(arguments[t]));return e};!function(e){var t=/(\s*[\d\.]+\s*,){2,15}\s*[\d\.]+\s*/g;function n(e){for(var t=0;t<3;t++)if(parseFloat(""+e[t])>1)return!0;return!1}function l(e){var t=document.createElement("div");t.style.backgroundColor=e,document.documentElement.appendChild(t);var n=window.getComputedStyle(t).backgroundColor.replace(/\s/g,"");return window.document.documentElement.removeChild(t),n}function i(e){var t=e.slice(0,4);3===t.length&&t.push(1);for(var n=0;n<4;n++)t[n]=parseFloat(""+t[n]),t[n]<0&&(t[n]=0),t[n]>255&&(t[n]=255);return t[3]>1&&(t[3]=1),t}function o(e){var n;if(Array.isArray(e))n=i(e);else if("string"==typeof e){var o=e.match(t);o?n=i(o[0].split(",")):(o=l(e).match(t))&&(n=i(o[0].split(",")))}return n}function a(e){var t=o(e);if(!t)throw new TypeError("Invalid color input.");var l=r(t);return{1:n(t)?l:t,255:n(t)?t:l}}function r(e){for(var t=n(e),l=[],i=0;i<3;i++){var o=t?e[i]/255:255*e[i];o=t?Math.round(100*o)/100:Math.round(o),l.push(o)}return 4===e.length&&l.push(e[3]),l}function u(e,t){void 0===t&&(t=!1),e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,l){return[t,t,n,n,l,l].join("")})).replace(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,(function(e,t,n,l){return[t,n,l,"ff"].join("")}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),l=parseInt(n[1],16),i=parseInt(n[2],16),o=parseInt(n[3],16),a=parseInt(n[4],16)/255;if(t){var r=s([l,i,o]);return[r[0],r[1],r[2],a]}return[l,i,o,a]}function c(e){var t=Je(e,3),n=t[0],l=t[1],i=t[2];return Math.sqrt(n*n*.299+l*l*.587+i*i*.114)}function s(e){return e.map((function(e){return e/255}))}function p(e){return e.map((function(e){return Math.round(255*e)}))}function d(e){return"#"+e.map((function(e){var t=e.toString(16);return t.length%2?"0"+t:t})).join("")}e.is255=n,e.isLight=function(e,t){return t||(t=Ze(e)),(c(e)+c(t))/2>140.25},e.getComputedColor=l,e.convertChannels=i,e.convert=o,e.getColor=a,e.getColors=function(e){var n=[];if("string"==typeof e){var l=e.match(t);l&&(e=l.join(",")),e=e.split(",")}if(Array.isArray(e))if(Array.isArray(e[0])&&Array.isArray(e[1]))n=e;else if(e.length<=2)n=1===e.length?e.concat(e):e;else{var i=Math.floor(e.length/2);n=e.length>4?[e.slice(0,i),e.slice(i)]:[e,e]}return n.map((function(e){return a(e)}))},e.scaleColor=r,e.hexToRgba=u,e.hexToRgb=function(e,t){void 0===t&&(t=!1);var n=u(e,t);return[n[0],n[1],n[2]]},e.rgbToHex=function(e,t){return void 0===t&&(t=!1),d(t?p(e):e)},e.rgbToHSP=c,e.rgbaToHex=function(e,t){void 0===t&&(t=!1);var n=e[0],l=e[1],i=e[2],o=255*e[3];return d(t?Ze(p([n,l,i]),[o]):[n,l,i,o])},e.rgbToDecimal=s,e.rgbFromDecimal=p}(Ge||(Ge={}));var et=function(){function e(){this.size="normal",this.colorSelected=new i.o,this.colorHexSelected=new i.o}return Object.defineProperty(e.prototype,"colorHex",{get:function(){return this.getHexFromColor(this.color)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundCSS",{get:function(){if(this.color){var e=this.color;return"rgba("+255*e.red+", "+255*e.green+", "+255*e.blue+", "+e.alpha+")"}return""},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleColorPickerChange=function(e){var t=e?this.getColorFromHex(e):null;this.colorSelected.emit(t),this.colorHexSelected.emit(e)},e.prototype.getColorFromHex=function(e){var t=Ge.hexToRgba(e,!0);return new Xe(t[0],t[1],t[2],t[3])},e.prototype.getHexFromColor=function(e){return e?Ge.rgbaToHex([e.red,e.green,e.blue,e.alpha],!0):""},e}(),tt=i.wb({encapsulation:0,styles:[[".picker[_ngcontent-%COMP%]{display:inline-block;width:32px;height:32px;border-radius:50%;border:1px solid #6a82a4;background-color:transparent}.picker--small[_ngcontent-%COMP%]{width:24px;height:24px}.picker--large[_ngcontent-%COMP%]{width:48px;height:48px}"]],data:{}});function nt(e){return i.Ub(2,[(e()(),i.yb(0,16777216,null,null,1,"div",[["class","picker"]],[[2,"picker--small",null],[2,"picker--normal",null],[2,"picker--large",null],[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1).handleClick()&&l),"focus"===t&&(l=!1!==i.Kb(e,1).handleFocus()&&l),"input"===t&&(l=!1!==i.Kb(e,1).handleInput(n)&&l),"colorPickerChange"===t&&(l=!1!==o.handleColorPickerChange(n)&&l),l}),null,null)),i.xb(1,671744,null,0,Ye.b,[i.t,i.k,i.g,i.T,i.l,Ye.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"]},{colorPickerChange:"colorPickerChange"})],(function(e,t){var n=t.component;e(t,1,0,n.colorHex,"hex",n.alphaEnabled?"always":"disabled")}),(function(e,t){var n=t.component;e(t,0,0,"small"===n.size,"normal"===n.size,"large"===n.size,n.backgroundCSS)}))}var lt=function(){return function(){}}(),it=function(){function e(e){this.widgetURL=e}return e.type="[Publish] Set Widget URL",e}(),ot=function(){function e(e){this.dimensions=e}return e.type="[Publish] Set Dimensions",e}(),at=function(){function e(e,t,n){this.model=e,this.widgetOptions=t,this.camera=n}return e.type="[Publish] Get iFrame",e}(),rt=function(){function e(e){this.embed=e}return e.type="[Publish] Get iFrame Success",e}(),ut=function(){function e(){}return e.type="[Publish] Get iFrame Fail",e}(),ct=function(){function e(e,t,n){this.model=e,this.widgetOptions=t,this.camera=n}return e.type="[Publish] Get URL",e}(),st=function(){function e(e,t){this.model=e,this.url=t}return e.type="[Publish] Get URL Success",e}(),pt=function(){function e(e){this.model=e}return e.type="[Publish] Get URL Fail",e}(),dt=function(){function e(e){this.publishing=e}return e.type="[Publish] Set Publishing",e}(),bt=function(){function e(){}return e.type="[Publish] Reset Publishing",e}(),gt=function(){function e(e){this.imageData=e}return e.type="[Publish] Save Publish Image",e}(),ht=function(){function e(e){this.imageURL=e}return e.type="[Publish] Save Publish Image Success",e}(),mt=function(){function e(){}return e.type="[Publish] Save Publish Image Fail",e}(),ft=function(){function e(e,t,n,l){this.model=e,this.imageData=t,this.widgetOptions=n,this.camera=l}return e.type="[Publish] Get Publish Image Code",e}(),yt=function(){function e(e){this.embed=e}return e.type="[Publish] Get Publish Image Code Success",e}(),_t=function(){function e(){}return e.type="[Publish] Get Publish Image Code Fail",e}(),vt=n("VNr4"),xt=function(){return function(){this.background={colors:null},this.uiAnnotations=!1,this.uiAudio=!1,this.uiInfo=!0,this.uiFullscreen=!0,this.uiScrubber=!1,this.uiHelp=!0,this.uiBd="",this.loadRotate=null,this.initial={button:!1,handHint:!1,play:!1},this.disableScroll={alert:!1,overlay:!1},this.uiTour=!1,this.uiNav=!0,this.uiSearch=!0,this.uiTools=!0,this.uiReset=!0,this.uiLabelList=!0,this.uiChapterList=!1,this.all=!1,this.collapseLabel=null,this.uiMenu=!0,this.uiAnatomyDescriptions=!1}}(),Ot=n("psW0"),wt=n("Iab2"),Ct={title:"Desktop",type:"desktop",dimensions:{width:700,height:550},orientation:"vertical"},jt=n("LvDl"),kt=function(){return(kt=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},St=function(){function e(){}return e.prototype.roundModel=function(e,t){var n=this,l=kt({},e);return Object.keys(e).filter((function(t){return"number"==typeof e[t]})).forEach((function(i){l[i]=n.roundNumber(e[i],t)})),l},e.prototype.roundNumber=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},e.ngInjectableDef=i.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Pt=function(){function e(e){this.numberService=e,this.rotation={vx:0,vy:0},this.pan={x:0,y:0,z:0},this.zoom=0}return e.prototype.getEye=function(){return Human.renderer.camera.eye},e.prototype.setEye=function(e){Human.renderer.camera.setLookAt({eye:e})},e.prototype.getCamera=function(){return Human.renderer.camera.getLookAt()},e.prototype.setCamera=function(e){return Human.renderer.camera.setLookAt(e)},e.prototype.getCameraZoom=function(){return Human.renderer.camera.getZoom()},e.prototype.captureCamera=function(){return{lookAt:Human.renderer.camera.getLookAt(),zoom:Human.renderer.camera.getZoom()}},e.prototype.resetCamera=function(){return new Q.a((function(e){Human.init.resetCamera((function(){e.next(),e.complete()}))}))},e.prototype.getDirection=function(e){var t=this.getEye(),n=vec3.create();return n[0]=t.x-e.worldPos[0],n[1]=t.y-e.worldPos[1],n[2]=t.z-e.worldPos[2],vec3.normalize(n,n),n},e.prototype.rotateCameraStatic=function(e,t){Human.renderer.camera.rotateX(e),Human.renderer.camera.rotateY(t)},e.prototype.panCameraStatic=function(e,t,n){Human.renderer.camera.pan({x:e,y:t,z:n})},e.prototype.setHumanZoom=function(e){Human.renderer.camera.zoom(e)},e.prototype.setHumanZoomFactor=function(e){Human.renderer.camera.setZoom(e)},e.prototype.setCameraRotation=function(e,t){this.rotation.vx=t,this.rotation.vy=-e},e.prototype.setCameraPan=function(e,t){this.pan.x=e,this.pan.y=t},e.prototype.setCameraZoom=function(e){this.zoom=.03*e},e.prototype.tickCameraRotation=function(){return this.rotation.vx=this.checkEpsilon(this.rotation.vx),this.rotation.vy=this.checkEpsilon(this.rotation.vy),this.rotation},e.prototype.tickCameraPan=function(){return this.pan.x=this.checkEpsilon(this.pan.x),this.pan.y=this.checkEpsilon(this.pan.y),this.pan.z=this.checkEpsilon(this.pan.z),this.pan},e.prototype.tickCameraZoom=function(){return this.zoom=this.checkEpsilon(this.zoom),this.zoom},e.prototype.compareCameras=function(e,t){return this.compareXYZ(e.eye,t.eye)&&this.compareXYZ(e.look,t.look)&&this.compareXYZ(e.up,t.up)},e.prototype.compareXYZ=function(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z},e.prototype.roundCamera=function(e,t){var n=e.look,l=e.up;return{eye:this.numberService.roundModel(e.eye,t),look:this.numberService.roundModel(n,t),up:this.numberService.roundModel(l,t)}},e.prototype.checkEpsilon=function(e){return Math.abs(e)<.001?0:e},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(St))},token:e,providedIn:"root"}),e}(),It=n("a1DB"),Mt=function(){function e(e){this.papa=e}return e.prototype.importCSV=function(e){var t=this;return new Q.a((function(n){var l=t.papa.parse(e),i=l.data,o=l.errors;o.length?(n.error(o),n.complete()):(n.next(i),n.complete())}))},e.prototype.exportCSV=function(e,t,n){var l=this;void 0===n&&(n=!0);var i=[];return n&&i.push(t.map((function(e){return e.label}))),e.forEach((function(e){var n=t.map((function(t){return e[t.field]}));i.push(n)})),new Q.a((function(e){var t=l.papa.unparse(i,{quotes:!0,header:!1});e.next(t),e.complete()}))},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(It.a))},token:e,providedIn:"root"}),e}(),Tt=n("0/uQ"),Kt=n("wOnQ"),zt=n.n(Kt),Lt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Et=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Lt(arguments[t]));return e},Ut=function(e){return e.JPEG="image/jpeg",e.PNG="image/png",e}({}),Ft=function(){function e(){}return e.prototype.canvasToBlob=function(e,t,n){var l=this;return new Q.a((function(i){if(e.toBlob)e.toBlob((function(e){i.next(e),i.complete()}),t,n);else{var o=e.toDataURL(t,n),a=l.base64ToBlob(o,t);i.next(a),i.complete()}}))},e.prototype.fitCanvas=function(e,t){var n=t.width,l=t.height,i=document.createElement("canvas");i.width=n,i.height=l;var o=i.getContext("2d"),a=e.height,r=i.width/i.height*a,u=.5*(e.width-r);return new Q.a((function(t){o.drawImage(e,u,0,r,a,0,0,i.width,i.height),t.next(i),t.complete()}))},e.prototype.elementToCanvas=function(e,t){void 0===t&&(t=!1);var n=t?{backgroundColor:"transparent"}:{};return Object(Tt.a)(zt()(e,n))},e.prototype.combineCanvasElements=function(e){var t=Math.max.apply(Math,Et([0],e.map((function(e){return e.width})))),n=Math.max.apply(Math,Et([0],e.map((function(e){return e.height})))),l=document.createElement("canvas");l.width=t,l.height=n;var i=l.getContext("2d");return e.forEach((function(e){i.drawImage(e,0,0)})),l},e.prototype.base64ToBlob=function(e,t){for(var n=atob(e.split(",")[1]),l=new ArrayBuffer(n.length),i=new Uint8Array(l),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([l],{type:t})},e.prototype.blobToBase64=function(e){return new Q.a((function(t){var n=new FileReader;n.addEventListener("load",(function(){t.next(n.result),t.complete()})),n.readAsDataURL(e)}))},e.prototype.blobToCanvas=function(e,t){var n=t.width,l=t.height;return new Q.a((function(t){var i=document.createElement("canvas");i.width=n,i.height=l;var o=i.getContext("2d"),a=new Image;a.addEventListener("load",(function(){o.drawImage(a,0,0),t.next(i),t.complete()})),a.src=URL.createObjectURL(e)}))},e.ngInjectableDef=i.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),At=function(){return(At=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Dt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Nt={headers:new u.g({"Content-Type":"application/json; charset=utf-8"})},Rt=new xt,Bt=function(e){return e.Single="share.widget.link",e.Bulk="share.widget.export",e}({}),Ht={id:"embedded-human",dimensions:Ct.dimensions,fullScreen:!0},Vt=function(){function e(e,t,n,l,i){this.http=e,this.cameraService=t,this.numberService=n,this.exportService=l,this.imageService=i}return e.prototype.exportImage=function(e,t,n){var l=this.imageService.base64ToBlob(e,t);return Object(wt.saveAs)(l,n),Object(S.a)(!0)},e.prototype.exportModels=function(e,t,n,l,i,o,a){var r=this;void 0===a&&(a=!1);var u=[{label:"Title",field:"title"},{label:"URL",field:"url"},{label:"iFrame",field:"iFrame"},{label:"Author",field:"author"},{label:"Thumbnail URL",field:"thumbnail_url"}];return a&&u.push({label:"Offline Package URL",field:"offline_url"}),this.getExportModels(e,t,n,l,i,o,a).pipe(Object(Ot.a)((function(e){return r.exportService.exportCSV(e,u)})),Object(c.a)((function(e){var t="BioDigital-Widgets-"+(new Date).toISOString().split("T")[0]+"-export.csv",n=new Blob([e],{type:"text/csv;charset=utf-8"});return Object(wt.saveAs)(n,t),!0})))},e.prototype.getExportModels=function(e,t,n,l,i,o,a){var r=this;void 0===a&&(a=!1);var u=o?Object(S.a)(null):this.getUAID(Bt.Bulk),s=a?this.getDownloadURLs(e):Object(S.a)([]);return Object(vt.a)(u,s).pipe(Object(c.a)((function(a){var u=Dt(a,2),c=u[0],s=u[1];return e.map((function(e,a){var u=e.title,p=e.author,d=e.thumbnail_url,b=r.getWidgetURL(e,t,n,null,c,i,o);return{title:u,url:b,iFrame:r.getWidgetEmbed(b,l),author:p,thumbnail_url:r.buildThumbnailURL(d),offline_url:s[a]||""}}))})))},e.prototype.generateWidgetURL=function(e,t,n,l,i,o,a){var r=this;return(a||!i?Object(S.a)(null):this.getUAID(i)).pipe(Object(c.a)((function(i){return r.getWidgetURL(e,t,n,l,i,o,a)})))},e.prototype.getWidgetURL=function(e,t,n,l,i,o,a){var r=this;void 0===o&&(o="en"),n=n||Rt;var u="bookmark"===e.type,c={};c[u?"be":"m"]=""+(u?e.id:e.module_name);var s=At({},c,this.getParamsForUIOptions(n||Rt),this.getParamsForLoadingExperience(n||Rt),this.getParamsForScrollMode(n||Rt),this.getParamsForLoadRotate(n||Rt),this.getParamsForUIOptions(n||Rt)),p=Object(jt.get)(n,"background.colors");if(Array.isArray(p)&&p.length>=3){var d=p.slice(0,4).map((function(e){return r.numberService.roundNumber(e,3)}));s["background.colors"]=""+d}if(l){var b=this.cameraService.roundCamera(l,3),g=b.eye,h=b.look,m=b.up;s.camera=""+[g.x,g.y,g.z,h.x,h.y,h.z,m.x,m.y,m.z]}a?s.dk=a.app_apikey:i&&(s.uaid=i),o&&"en"!==o&&(s.lang=o);var f=this.isCustomWidget(e.embed_url_path)?e.embed_url_path:t;return this.buildWidgetURL(f,s)},e.prototype.generateWidgetEmbed=function(e,t,n,l,i,o,a,r){var u=this;return this.generateWidgetURL(e,t,n,i,o,a,r).pipe(Object(c.a)((function(e){return u.getWidgetEmbed(e,l)})))},e.prototype.getWidgetEmbed=function(e,t){var n=t||Ht.dimensions;return'<iframe\n  id="'+Ht.id+'"\n  frameBorder="0"\n  width="'+n.width+'"\n  height="'+n.height+'"\n  allowFullScreen="'+Ht.fullScreen+'"\n  src="'+e+'">\n</iframe>'},e.prototype.getImageEmbed=function(e,t,n){var l=("BioDigital Human: "+e).replace(/"/g,"&quot;");return'<a href="'+t+'" target="_blank"><img src="'+n+'" alt="'+l+'" title="'+l+'" /></a>'},e.prototype.getUAID=function(e){return this.http.post("/ws/user/analytics",{analytic_type:""+e,analytic_platform:"app"},Nt).pipe(Object(c.a)((function(e){return e.id})))},e.prototype.getDownloadURLs=function(e){var t=this,n=e.filter((function(e){return!e.favorite&&!e.unavailable})).map((function(e){return{type:e.type,id:"module"===e.type?e.module_name:e.id}}));return this.http.post("/ws/download/reserve",{content:n},{headers:{"Content-Type":"application/json"}}).pipe(Object(c.a)((function(n){var l=n.tokens;return e.map((function(e){var n=e.type,i="module"===e.type?e.module_name:e.id,o=l.find((function(e){return e.type===n&&e.id===i}));return o&&o.token?t.buildDownloadURL(o.token):""}))})),Object(P.a)((function(){return Object(S.a)(e.map((function(){return""})))})))},e.prototype.extendWidgetOptions=function(e,t){var n=this.expandWidgetOptions(t);return this.deepExtendWidgetOptions(e,n),e},e.prototype.getWidgetConfig=function(e){var t=this,n={};return Object.keys(e).forEach((function(l){var i=e[l];if(null!==i){var o=t.getConfigName(l);n[o]=i}})),n},e.prototype.getConfigName=function(e){var t=this.camelToDashCase(e).replace(/^ui-/g,"");return this.dashCaseToCamelCase(t)},e.prototype.getParamsForLoadingExperience=function(e){return e.initial.button?{"initial.button":!0}:e.initial.handHint?{"initial.hand":!0}:e.initial.play?{"initial.play":!0}:{}},e.prototype.getParamsForScrollMode=function(e){return e.disableScroll.alert?{"disable-scroll.alert":!0}:e.disableScroll.overlay?{"disable-scroll":!0}:{"disable-scroll":!1}},e.prototype.getParamsForLoadRotate=function(e){return"number"==typeof e.loadRotate?{"load-rotate":e.loadRotate}:{}},e.prototype.getParamsForUIOptions=function(e){return{"ui-info":e.uiInfo,"ui-search":e.uiSearch,"ui-reset":e.uiReset,"ui-fullscreen":e.uiFullscreen,"ui-nav":e.uiNav,"ui-tools":e.uiTools,"ui-help":e.uiHelp,"ui-chapter-list":e.uiChapterList,"ui-label-list":e.uiLabelList,"ui-anatomy-descriptions":e.uiAnatomyDescriptions}},e.prototype.camelToDashCase=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},e.prototype.dashCaseToCamelCase=function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))},e.prototype.isCustomWidget=function(e){return/widgets\/([^\/]+)\//.test(e)},e.prototype.saveUserImage=function(e){return this.http.post("/ws/user/image/v1-0",{image_src:e},Nt).pipe(Object(c.a)((function(e){return e.url})))},e.prototype.buildWidgetURL=function(e,t){var n=Object.entries(t).map((function(e){var t=Dt(e,2);return t[0]+"="+t[1]})).join("&"),l=e.replace(/^\/|\/$/g,"");return window.location.origin+"/"+l+"/?"+n},e.prototype.buildThumbnailURL=function(e){return""+window.location.origin+e},e.prototype.buildDownloadURL=function(e){return window.location.origin+"/download?t="+e},e.prototype.deepExtendWidgetOptions=function(e,t){var n=this;Object.entries(e).forEach((function(l){var i=Dt(l,2),o=i[0],a=i[1],r=typeof a;[o,n.camelToDashCase(o),n.getConfigName(o)].forEach((function(l){if(t.hasOwnProperty(l)&&null!==t[l]){var i=t[l],u=typeof i;null===a?e[o]=i:r===u&&("object"===r?n.deepExtendWidgetOptions(a,i):e[o]=i)}}))}))},e.prototype.expandWidgetOptions=function(e){var t={};return Object.entries(e).forEach((function(n){var l=Dt(n,2),i=l[0],o=l[1],a=i.split(".");if(a.length>1){var r=a[0],u=a.slice(1).join(".");null!==t[r]&&"object"==typeof t[r]||(t[r]={}),t[r][u]=o}else t[i]=e[i]})),t},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(u.c),i.Yb(Pt),i.Yb(St),i.Yb(Mt),i.Yb(Ft))},token:e,providedIn:"root"}),e}(),$t=function(){return function(){}}(),Qt=function(){function e(){}return e.type="[Auth] Is Logged In",e}(),Gt=function(){function e(){}return e.type="[Auth] Is Logged In Success",e}(),Wt=function(){function e(){}return e.type="[Auth] Is Logged In Failure",e}(),qt=function(){function e(e){this.login=e}return e.type="[Auth] Login With Biodigital",e}(),Yt=function(){function e(e){this.login=e}return e.type="[Auth] Login With Google",e}(),Xt=function(){function e(e){this.login=e}return e.type="[Auth] Login With Facebook",e}(),Jt=function(){function e(){}return e.type="[Auth] Login Success",e}(),Zt=function(){function e(e,t){this.error=e,this.login=t}return e.type="[Auth] Login Failure",e}(),en=function(){function e(){}return e.type="[Auth] Logout",e}(),tn=function(){function e(){}return e.type="[Auth] Logout Success",e}(),nn=function(){function e(){}return e.type="[Auth] Logout Failure",e}(),ln=function(){function e(){}return e.type="[Auth] Get Environment Settings",e}(),on=function(){function e(e){this.environmentSettings=e}return e.type="[Auth] Get Environment Settings Success",e}(),an=function(){function e(e){this.error=e}return e.type="[Auth] Get Environment Settings Failure",e}(),rn=function(){function e(){}return e.type="[Auth] Get User Profile",e}(),un=function(){function e(e){this.userProfile=e}return e.type="[Auth] Get User Profile Success",e}(),cn=function(){function e(e){this.error=e}return e.type="[Auth] Get User Profile Failure",e}(),sn=function(){function e(e){this.email=e}return e.type="[Auth] Check Profile",e}(),pn=function(){function e(e){this.profile=e}return e.type="[Auth] Check Profile Success",e}(),dn=function(){function e(e){this.error=e}return e.type="[Auth] Check Profile Failure",e}(),bn=function(){function e(e){this.email=e}return e.type="[Auth] Reset Password",e}(),gn=function(){function e(e){this.email=e}return e.type="[Auth] Reset Password Success",e}(),hn=function(){function e(e){this.error=e}return e.type="[Auth] Reset Password Failure",e}(),mn=function(){function e(){}return e.type="[Auth] Check Session",e}(),fn=function(){function e(e){this.value=e}return e.type="[Auth] Sign Up",e}(),yn=function(){function e(){}return e.type="[Auth] Sign Up Success",e}(),_n=function(){function e(e){this.error=e}return e.type="[Auth] Sign Up Failure",e}(),vn=function(){function e(e){this.locale=e}return e.type="[Auth] Set User Locale",e}(),xn=function(){function e(e){this.locale=e}return e.type="[Auth] Set User Locale Success",e}(),On=function(){function e(){}return e.type="[Auth] Check Locale",e}(),wn=function(){function e(){}return e.type="[Auth] Get User Apps",e}(),Cn=function(){function e(e){this.apps=e}return e.type="[Auth] Set User Apps",e}(),jn=function(){function e(){}return e.type="[Auth] Check Selected App",e}(),kn=function(){function e(e){this.appId=e}return e.type="[Auth] Set Selected User App",e}(),Sn=function(){function e(e,t){this.type=e,this.mode=t}return e.type="[Auth] Get User Message",e}(),Pn=function(){function e(e){this.message=e}return e.type="[Auth] Get User Message Success",e}(),In=function(){function e(e){this.type=e}return e.type="[Auth] Get User Message Fail",e}(),Mn=function(){function e(e){this.messageSeenId=e}return e.type="[Auth] Set Message Viewed",e}(),Tn=function(){function e(){}return e.type="[Auth] Set Message Viewed Success",e}(),Kn=function(){function e(){}return e.type="[Auth] Set Message Viewed Fail",e}(),zn=function(){function e(){}return e.type="[Auth] Reset",e}(),Ln=(n("BIUv"),function(){function e(e){this.organizations=e}return e.type="[Organizations] Set Organizations",e}()),En=function(){function e(e){this.organization=e}return e.type="[Organizations] Select Organization",e}(),Un=function(){function e(e){this.collection=e}return e.type="[Organizations] Select Collection",e}(),Fn=function(){function e(e){this.organizationId=e}return e.type="[Organizations] Get Collections",e}(),An=function(){function e(e){this.collections=e}return e.type="[Organizations] Get Collections Success",e}(),Dn=function(){function e(e){this.organization=e}return e.type="[Organizations] Join Organization",e}(),Nn=function(){function e(e){this.organization=e}return e.type="[Organizations] Join Organization Success",e}(),Rn=function(){function e(e){this.organization=e}return e.type="[Organizations] Join Organization Fail",e}(),Bn=function(){function e(){}return e.type="[Organizations] Reset",e}(),Hn=function(e){return e.WidgetOptions="widgetOptions",e.Locale="locale",e.GroupRestriction="GroupRestriction",e.UserAppId="userAppId",e.RememberMeEmail="rememberMeEmail",e.LabelConversionSeen="labelConversionSeen",e.DefaultGroupEdit="defaultGroupEdit",e.DefaultCollectionId="defaultCollectionId",e}({}),Vn=function(){function e(){}return e.prototype.getLocalItem=function(e){return localStorage.getItem(""+e)},e.prototype.getLocalJSON=function(e){var t=this.getLocalItem(e);return t?JSON.parse(t):null},e.prototype.setLocalItem=function(e,t){var n="object"==typeof t?JSON.stringify(t):""+t;try{return localStorage.setItem(""+e,n),!0}catch(l){return!1}},e.prototype.removeLocalItem=function(e){localStorage.removeItem(""+e)},e.prototype.getSessionItem=function(e){var t=sessionStorage.getItem(""+e);return t?JSON.parse(t):null},e.prototype.setSessionItem=function(e,t){var n=JSON.stringify(t);try{return sessionStorage.setItem(""+e,n),!0}catch(l){return!1}},e.prototype.removeSessionItem=function(e){sessionStorage.removeItem(""+e)},e.prototype.clearStorage=function(){this.clearLocalStorage(),this.clearSessionStorage()},e.prototype.clearLocalStorage=function(){localStorage.clear()},e.prototype.clearSessionStorage=function(){sessionStorage.clear()},e.ngInjectableDef=i.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),$n=n("2Yyj"),Qn=n.n($n),Gn=n("Kd/A"),Wn=n.n(Gn),qn=n("Hfs6"),Yn=n.n(qn),Xn=n("VLs4"),Jn=n.n(Xn),Zn=n("1IWC"),el=n.n(Zn),tl=n("Paii"),nl=n.n(tl),ll=n("vT00"),il={title:"English",lang:"en",id:"en-US"},ol=[il,{title:"Espa\xf1ol",lang:"es",id:"es-ES"},{title:"\u4e2d\u6587(\u7b80\u4f53)",lang:"zh",id:"zh-CN"},{title:"Fran\xe7ais",lang:"fr",id:"fr-FR"},{title:"Deutsch",lang:"de",id:"de-DE"},{title:"Italiano",lang:"it",id:"it-IT"},{title:"\u65e5\u672c\u8a9e",lang:"ja",id:"ja"},{title:"Portugu\xeas",lang:"pt",id:"pt-PT"}];function al(){var e="";try{e=localStorage.getItem("locale")}catch(t){}return(ol.find((function(t){return t.id===e}))||il).id}[Qn.a,Wn.a,Yn.a,Jn.a,el.a,nl.a,n.n(ll).a].forEach((function(e){Object(te.z)(e)}));var rl,ul=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[{provide:i.x,useFactory:al}]}},e}(),cl=function(){function e(e){this.query=e}return e.type="[Bookmarks] Load",e}(),sl=function(){function e(e){this.organizationId=e}return e.type="[Bookmarks] Load Organization Bookmarks",e}(),pl=function(){function e(e,t){this.organizationId=e,this.collectionId=t}return e.type="[Bookmarks] Load Collection Bookmarks",e}(),dl=function(){function e(e,t){this.id=e,this.type=t}return e.type="[Bookmarks] Select Bookmark",e}(),bl=function(){function e(e){this.bookmark=e}return e.type="[Bookmarks] Select Bookmark Success",e}(),gl=function(){function e(e){this.result=e}return e.type="[Bookmarks] Load Success",e}(),hl=function(){function e(e){this.bookmarkId=e}return e.type="[Bookmarks] Delete Bookmark",e}(),ml=function(){function e(e){this.bookmarkId=e}return e.type="[Bookmarks] Bookmark Delete Success",e}(),fl=function(){function e(e,t){this.bookmarkId=e,this.message=t}return e.type="[Bookmarks] Bookmark Delete Fail",e}(),yl=function(){function e(e,t,n){void 0===n&&(n=!0),this.bookmarkEntry=e,this.inplace=t,this.includeIndex=n}return e.type="[Bookmarks] Save Bookmark",e}(),_l=function(){function e(e,t,n){this.bookmark=e,this.story=t,this.method=n}return e.type="[Bookmarks] Bookmark Saved",e}(),vl=function(){function e(e){this.bookmarkEntry=e}return e.type="[Bookmarks] Bookmark Save Failed",e}(),xl=function(){function e(e){this.bookmark=e}return e.type="[Bookmarks] Delete Favorite",e}(),Ol=function(){function e(e){this.bookmarkId=e}return e.type="[Bookmarks] Delete Favorite Success",e}(),wl=function(){function e(e){this.bookmarkId=e}return e.type="[Bookmarks] Delete Favorite Failed",e}(),Cl=function(){function e(e,t,n,l,i){this.method=e,this.bookmarkId=t,this.bookmarkEntry=n,this.thumbnails=l,this.chapterIdMap=i}return e.type="[Bookmarks] Save Bookmark Thumbnails",e}(),jl=function(){function e(){}return e.type="[Bookmarks] Reset",e}(),kl=function(){function e(){}return e.type="[Bookmarks] Clear Bookmarks",e}(),Sl=function(){function e(e){this.sort=e}return e.type="[Bookmarks] Sort",e}(),Pl=function(){function e(e,t){this.id=e,this.checked=t}return e.type="[Bookmarks] Check Bookmark",e}(),Il=function(){function e(e){this.ids=e}return e.type="[Bookmarks] Set Checked Bookmarks",e}(),Ml=function(){function e(e,t,n,l,i,o){this.bookmarks=e,this.widgetURL=t,this.userLanguage=n,this.userApp=l,this.widgetOptions=i,this.offlineEnabled=o}return e.type="[Bookmarks] Export Bookmarks",e}(),Tl=function(){function e(e){this.bookmarks=e}return e.type="[Bookmarks] Export Bookmarks Success",e}(),Kl=function(){function e(e){this.bookmarks=e}return e.type="[Bookmarks] Export Bookmarks Error",e}(),zl=function(){function e(e,t,n){this.bookmark=e,this.addCollection=t,this.removeCollection=n}return e.type="[Bookmarks] Update Bookmark Collection",e}(),Ll=function(){function e(e,t,n){this.bookmark=e,this.addCollection=t,this.removeCollection=n}return e.type="[Bookmarks] Update Bookmark Collection Success",e}(),El=function(){function e(e,t,n){this.bookmark=e,this.addCollection=t,this.removeCollection=n}return e.type="[Bookmarks] Update Bookmark Collection Error",e}(),Ul=function(){function e(e,t){this.bookmark=e,this.collection=t}return e.type="[Bookmarks] Add Bookmark Collection Success",e}(),Fl=function(){function e(e,t){this.bookmark=e,this.collection=t}return e.type="[Bookmarks] Add Bookmark Collection Error",e}(),Al=function(){function e(e,t){this.bookmark=e,this.collection=t}return e.type="[Bookmarks] Remove Bookmark Collection Success",e}(),Dl=function(){function e(e,t){this.bookmark=e,this.collection=t}return e.type="[Bookmarks] Remove Bookmark Collection Error",e}(),Nl=function(){function e(e,t,n,l,i){void 0===n&&(n=il.lang),this.id=e,this.type=t,this.lang=n,this.groupAccess=l,this.collection=i}return e.type="[Bookmarks] Copy Bookmark",e}(),Rl=function(){function e(e,t,n,l){this.newId=e,this.sourceId=t,this.groupAccess=n,this.collection=l}return e.type="[Bookmarks] Copy Bookmark Success",e}(),Bl=function(){function e(e,t){this.id=e,this.error=t}return e.type="[Bookmarks] Copy Bookmark Failure",e}(),Hl=function(){function e(e){this.title=e}return e.type="[Bookmarks] Set Bookmark Text",e}(),Vl=function(){function e(e){this.category=e}return e.type="[Bookmarks] Set Selected Category",e}(),$l=function(){function e(e){this.view=e}return e.type="[Edit] Set view",e}(),Ql=function(){function e(){}return e.type="[Edit] Next view",e}(),Gl=function(){function e(){}return e.type="[Edit] Previous view",e}(),Wl=function(){function e(e){this.show=e}return e.type="[Edit] Show columns",e}(),ql=function(){function e(e,t){this.column=e,this.show=t}return e.type="[Edit] Show column",e}(),Yl=function(){function e(){}return e.type="[Edit] Reset",e}(),Xl=function(){function e(e,t){this.nodes=e,this.visible=t}return e.type="[Edit] Set object visibility",e}(),Jl=function(){function e(e,t){this.nodes=e,this.pickable=t}return e.type="[Edit] Set object pickable",e}(),Zl=function(){function e(e){this.layerOrderMode=e}return e.type="[Edit] Set Layer Order Mode",e}(),ei=function(){function e(e){this.show=e}return e.type="[Edit] Show Tree Node Ids",e}(),ti=function(){function e(e){this.size=e}return e.type="[Edit] Set Canvas Size",e}(),ni=function(){function e(){}return e.type="[Engine] Load",e}(),li=function(){function e(e){this.result=e}return e.type="[Engine] Load Success",e}(),ii=function(){function e(e){this.ready=e}return e.type="[Engine] Set Ready",e}(),oi=function(){function e(e){this.display=e}return e.type="[Engine] Set Display of 3D Scene",e}(),ai=function(){function e(e){this.scrollMode=e}return e.type="[Engine] Set Zoom via scroll Allowed",e}(),ri=function(){function e(e){this.shown=e}return e.type="[Engine] Set Scroll Alert Shwon",e}(),ui=function(){function e(e){this.visible=e}return e.type="[Engine] Set Visibility of 3D Scene",e}(),ci=function(){function e(e,t){this.color=e,this.duration=t}return e.type="[Engine] Fade",e}(),si=function(){function e(){}return e.type="[Engine] Fade Complete",e}(),pi=function(){function e(e){this.graph=e}return e.type="[Engine] Set Graph",e}(),di=function(){function e(){}return e.type="[Engine] Clear Graph",e}(),bi=function(){function e(e){this.enabled=e}return e.type="[Engine] Set Xray Mode",e}(),gi=function(){function e(e){this.cachedColorRecipes=e}return e.type="[Engine] Set cached color recipes",e}(),hi=function(){function e(e){this.chapterId=e}return e.type="[Engine] Set Engine Chapter",e}(),mi=function(){function e(e){this.chapterInit=e}return e.type="[Eninge] Set Chapter Init",e}(),fi=function(){function e(e,t,n){this.node=e,this.event=t,this.hit=n}return e.type="[Engine] Click Node",e}(),yi=function(){function e(e,t,n){void 0===t&&(t=!0),this.objectId=e,this.animate=t,this.animationDuration=n}return e.type="[Engine] Fly To Object",e}(),_i=function(){function e(){}return e.type="[Engine] Center Camera on Visible Nodes",e}(),vi=function(){function e(e){this.leafVisibilityState=e}return e.type="[Engine] Synchronize Visible Nodes On Tree",e}(),xi=function(){function e(e){this.leafRenderableState=e}return e.type="[Engine] Synchronize Renderable State of Nodes On Tree",e}(),Oi=function(){function e(e){this.leafPickableState=e}return e.type="[Engine] Synchronize Pickable State of Nodes On Tree",e}(),wi=function(){function e(e){this.show=e}return e.type="[Engine] Toggle Camera Bar",e}(),Ci=function(){function e(e){this.show=e}return e.type="[Engine] Toggle Labels",e}(),ji=function(){function e(e){this.tool=e}return e.type="[Engine] Set active tool",e}(),ki=function(){function e(e){this.play=e}return e.type="[Engine] Play animation",e}(),Si=function(){function e(e){this.enable=e}return e.type="[Engine] Enable autoplay",e}(),Pi=function(){function e(e,t){this.nodes=e,this.layer=t}return e.type="[Engine] Set object layer order",e}(),Ii=function(){function e(e,t){this.nodeId=e,this.displayName=t}return e.type="[Engine] Set object display name",e}(),Mi=function(){function e(){}return e.type="[Engine] Auto Sort object layer orders",e}(),Ti=function(){function e(){}return e.type="[Engine] Reset object layer orders",e}(),Ki=function(){function e(e){this.position=e}return e.type="[Engine] Set Engine Position",e}(),zi=function(){function e(){}return e.type="[Engine] Reset Engine Position",e}(),Li=function(){function e(e){this.effects=e}return e.type="[Engine] Set Post Processing Effects",e}(),Ei=function(){function e(e){this.properties=e}return e.type="[Engine] Set Properties",e}(),Ui=function(){function e(e){this.mode=e}return e.type="[Engine] Set Transparency Mode",e}(),Fi=function(){function e(e){this.category=e}return e.type="[Explore] Load",e}(),Ai=function(){function e(e){this.query=e}return e.type="[Explore] Search",e}(),Di=function(){function e(e){this.searching=e}return e.type="[Explore] Set Searching",e}(),Ni=function(){function e(e){this.searchResults=e}return e.type="[Explore] Load Success",e}(),Ri=function(){function e(e){this.sort=e}return e.type="[Explore] Sort",e}(),Bi=function(){function e(){}return e.type="[Explore] Reset Search Results",e}(),Hi=function(){function e(e,t){this.id=e,this.checked=t}return e.type="[Explore] Check Search Result",e}(),Vi=function(){function e(e){this.ids=e}return e.type="[Explore] Set Checked Search Results",e}(),$i=function(){function e(e){this.tag=e}return e.type="[Explore] Select Category",e}(),Qi=function(){function e(){}return e.type="[Explore] Reset",e}(),Gi=function(){function e(e){this.history=e}return e.type="[History] Add history",e}(),Wi=function(){function e(e){void 0===e&&(e=1),this.count=e}return e.type="[History] Undo",e}(),qi=function(){function e(e){void 0===e&&(e=1),this.count=e}return e.type="[History] Redo",e}(),Yi=function(){function e(){}return e.type="[History] Reset",e}(),Xi=function(){function e(){}return e.type="[History] Clear",e}(),Ji=function(){function e(e,t,n,l){void 0===l&&(l=!1),this.cacheId=e,this.chapterId=t,this.synchronization=n,this.readOnly=l}return e.type="[History] Cache Chapter Synchronization",e}(),Zi=function(){function e(e,t){this.cacheId=e,this.chapterId=t}return e.type="[History] Revert Chapter Synchronization",e}(),eo=function(){function e(e,t,n,l){this.sourceCacheId=e,this.sourceChapterId=t,this.targetCacheId=n,this.targetChapterId=l}return e.type="[History] Copy Chapter Synchronization",e}(),to=function(){function e(e,t){this.cacheId=e,this.chapterId=t}return e.type="[History] Remove Chapter Synchronization",e}(),no=function(e){return e.Toggle="toggle",e.None="none",e}({}),lo=function(){function e(e){this.labels=e}return e.type="[Story Labels] Set Labels",e}(),io=function(){function e(e){this.label=e}return e.type="[Story Labels] Add Label",e}(),oo=function(){function e(e){this.label=e}return e.type="[Story Labels] Set Contexdt Label",e}(),ao=function(){function e(e,t){this.sourceChapter=e,this.targetChapter=t}return e.type="[Story Labels] Copy Labels",e}(),ro=function(){function e(e){this.label=e}return e.type="[Story Labels] Remove Label",e}(),uo=function(){function e(){}return e.type="[Story Labels] Remove Context Label",e}(),co=function(){function e(){}return e.type="[Story Labels] Remove All Labels",e}(),so=function(){function e(e){this.chapter=e}return e.type="[Story Labels] Remove All Chapter Labels",e}(),po=function(){function e(e){this.label=e}return e.type="[Story Labels] Set Label",e}(),bo=function(){function e(e){this.label=e}return e.type="[Story Labels] Select Label",e}(),go=function(){function e(){}return e.type="[Story Labels] Reset",e}(),ho=function(){function e(e,t){this.labels=e,this.type=t}return e.type="[Story Labels] Convert",e}(),mo=function(){function e(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),this.enable=e,this.enableInfo=t,this.enableActions=n}return e.type="[Story Labels] Enable Context Label",e}(),fo=function(){function e(e,t){this.labels=e,this.shown=t}return e.type="[Story Labels] Set Labels Shown",e}(),yo=function(){function e(e){this.shown=e}return e.type="[Story Labels] Set All Labels Shown",e}(),_o=function(){function e(e,t){void 0===t&&(t=no.None),this.collapsed=e,this.collapsedMode=t}return e.type="[Story Labels] Set Labels Collapsed",e}(),vo=function(){function e(e){this.draggable=e}return e.type="[Story Labels] Set Draggable",e}(),xo=function(){function e(e,t,n){void 0===n&&(n=il.lang),this.id=e,this.type=t,this.lang=n}return e.type="[Story] Fetch",e}(),Oo=function(){function e(e,t,n){void 0===n&&(n=il.lang),this.id=e,this.type=t,this.lang=n}return e.type="[Story] Load Current Story",e}(),wo=function(){function e(e){this.story=e}return e.type="[Story] Replace the Story",e}(),Co=function(){function e(e){this.id=e}return e.type="[Story] Set the Story ID",e}(),jo=function(){function e(e){this.displayName=e}return e.type="[Story] Set Story Text",e}(),ko=function(){function e(e){this.tags=e}return e.type="[Story] Set Story Tags",e}(),So=function(){function e(e,t,n){this.id=e,this.type=t,this.reset=n}return e.type="[Story] Set Incoming Story Id",e}(),Po=function(){function e(){}return e.type="[Story] Load Story Chunk",e}(),Io=function(){function e(e){this.chapterId=e}return e.type="[Story] Reorder Load Chunks",e}(),Mo=function(){function e(e){this.chunk=e}return e.type="[Story] Load Story Chunk Success",e}(),To=function(){function e(e,t,n,l,i){this.id=e,this.story=t,this.type=n,this.loadType=l,this.chapterIdx=i}return e.type="[Story] Build Story In Engine From Story Model",e}(),Ko=function(){function e(e){this.lookup=e}return e.type="[Story] Set Tween Particle Lookup",e}(),zo=function(){function e(e){this.id=e}return e.type="[Story] Unload And Destroy Story in Engine",e}(),Lo=function(){function e(e,t,n){this.story=e,this.id=t,this.type=n}return e.type="[Story] Load Success",e}(),Eo=function(){function e(e,t){this.id=e,this.type=t}return e.type="[Story] Load Fail",e}(),Uo=function(){function e(e,t,n){void 0===n&&(n=il.lang),this.id=e,this.type=t,this.lang=n}return e.type="[Story] Import",e}(),Fo=function(){function e(e,t,n){this.story=e,this.id=t,this.type=n}return e.type="[Story] Import Success",e}(),Ao=function(){function e(){}return e.type="[Story] Clear",e}(),Do=function(){function e(){}return e.type="[Story] Synchronize Chapters",e}(),No=function(){function e(){}return e.type="[Story Chapter] Next Chapter",e}(),Ro=function(){function e(){}return e.type="[Story Chapter] Previous Chapter",e}(),Bo=function(){function e(){}return e.type="[Story Chapter] First Chapter",e}(),Ho=function(){function e(){}return e.type="[Story Chapter] Last Chapter",e}(),Vo=function(){function e(e){this.chapter=e}return e.type="[Story Chapter] Select Chapter",e}(),$o=function(){function e(e){this.chapterId=e}return e.type="[Story Chapter] Select Chapter by chapter id",e}(),Qo=function(){function e(e){this.chapters=e}return e.type="[Story Chapter] Set Chapters",e}(),Go=function(){function e(e){this.chapter=e}return e.type="[Story Chapter] Set Chapter",e}(),Wo=function(){function e(e,t){this.chapterId=e,this.background=t}return e.type="[Story Chapter] Set Chapter Background",e}(),qo=function(){function e(e){this.background=e}return e.type="[Story Chapter] Set All Chapters Background",e}(),Yo=function(){function e(){}return e.type="[Story Chapter] Reset Selected Chapter Background",e}(),Xo=function(){function e(e){this.background=e}return e.type="[Story Chapter] Set Selected Chapter Background",e}(),Jo=function(){function e(e){this.chapterId=e}return e.type="[Story Chapter] Save Live Scene State to Chapter",e}(),Zo=function(){function e(e,t){this.chapter=e,this.chapterId=t}return e.type="[Story Chapter] Duplicate An Existing Chapter",e}(),ea=function(){function e(e){this.chapter=e}return e.type="[Story Chapter] Remove Chapter",e}(),ta=function(){function e(){}return e.type="[Story Chapter] Reset",e}(),na=function(){function e(e,t,n){void 0===n&&(n=!1),this.nodes=e,this.visible=t,this.record=n}return e.type="[Story Chapters] Record Chapter Visibility State",e}(),la=function(){function e(e,t,n){void 0===n&&(n=!1),this.nodes=e,this.pickable=t,this.record=n}return e.type="[Story Chapters] Record Chapter Pickable State",e}(),ia=function(){function e(e,t,n){void 0===n&&(n=!1),this.nodes=e,this.stateMap=t,this.record=n}return e.type="[Story Chapters] Record Chapter Node State",e}(),oa=function(){function e(e,t,n){void 0===n&&(n=!1),this.nodes=e,this.paintState=t,this.record=n}return e.type="[Story Chapters] Record Chapter Paint State",e}(),aa=function(){function e(e){this.chapter=e}return e.type="[Story Chapters] Record Shadow Chapter",e}(),ra=function(){function e(e){this.thumbnails=e}return e.type="[Story Chapters] Register thumbnail URLs from story",e}(),ua=function(){function e(e,t,n){this.camera=e,this.chapter=t,this.record=n}return e.type="[Story Chapters] Record chapter camera",e}(),ca=function(){function e(e,t){this.sourceChapter=e,this.targetChapter=t}return e.type="[Story Chapters] Copy Thumbnail From Chapter",e}(),sa=function(){function e(e,t,n,l){this.chapterId=e,this.dimensions=t,this.includeLabels=n,this.includeCopyright=l}return e.type="[Story Chapters] Take picture",e}(),pa=function(){function e(e,t,n){this.chapterId=e,this.blob=t,this.dimensions=n}return e.type="[Story Chapters] Take picture success",e}(),da=function(){function e(e,t){this.chapterId=e,this.modified=t}return e.type="[Story Chapters] Set chapter modified",e}(),ba=function(){function e(){}return e.type="[Story Chapters] Reset chapters modified",e}(),ga=function(){function e(e){this.theme=e}return e.type="[Layout] Set theme",e}(),ha=function(){function e(){}return e.type="[Layout] Reset",e}(),ma=function(){function e(e,t){this.node=e,this.hit=t}return e.type="[Engine Nodes] Hover Node",e}(),fa=function(){function e(e){this.node=e}return e.type="[Engine Nodes] Select Node",e}(),ya=function(){function e(e,t){this.node=e,this.checked=t}return e.type="[Engine Nodes] Check Node",e}(),_a=function(){function e(){}return e.type="[Engine Nodes] Check All Nodes",e}(),va=function(){function e(e){this.nodes=e}return e.type="[Engine Nodes] Check Inverse Nodes",e}(),xa=function(){function e(e){this.node=e}return e.type="[Engine Nodes] Expand Node",e}(),Oa=function(){function e(e){this.node=e}return e.type="[Engine Nodes] Collapse Node",e}(),wa=function(){function e(e){this.nodes=e}return e.type="[Engine Nodes] Set Checked Nodes",e}(),Ca=function(){function e(e,t,n){void 0===n&&(n=!0),this.nodes=e,this.visible=t,this.recordHistory=n}return e.type="[Engine Nodes] Toggle Visible Nodes",e}(),ja=function(){function e(e,t,n){void 0===n&&(n=!0),this.nodes=e,this.pickable=t,this.recordHistory=n}return e.type="[Engine Nodes] Toggle Pickable Nodes",e}(),ka=function(){function e(e,t,n){this.nodes=e,this.viewGraph=t,this.pickable=n}return e.type="[Engine Nodes] Toggle Inverse Pickable Nodes",e}(),Sa=function(){function e(){}return e.type="[Engine Nodes] Reset",e}(),Pa=function(){function e(e,t){this.nodes=e,this.viewGraph=t}return e.type="[Engine Nodes] Hide Inverse",e}(),Ia=function(){function e(e,t){this.nodes=e,this.viewGraph=t}return e.type="[Engine Nodes] Isolate",e}(),Ma=function(){function e(e,t){this.node=e,this.description=t}return e.type="[Engine Nodes] Set Node Info",e}(),Ta=function(){function e(e){this.node=e}return e.type="[Engine Nodes] Query Node Info",e}(),Ka=function(){function e(e,t){this.node=e,this.description=t}return e.type="[Engine Nodes] Query Node Info Success",e}(),za=function(){function e(e){this.node=e}return e.type="[Engine Nodes] Query Node Info Failure",e}(),La=function(){function e(e,t){this.nodes=e,this.recipe=t}return e.type="[Engine Nodes] Paint Nodes",e}(),Ea=function(){function e(e){this.nodes=e}return e.type="[Engine Nodes] Unpaint Nodes",e}(),Ua=function(){function e(e){this.node=e}return e.type="[Engine Nodes] Set Label Edit Node",e}(),Fa=n("xMyE"),Aa=function(){return function(e,t,n){this.category=e,this.message=t,this.log=n}}(),Da=function(){function e(e){this.http=e}return e.prototype.logError=function(e){return this.http.post("/ws/human-error",e)},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(u.c))},token:e,providedIn:"root"}),e}();!function(e){var t=function(){function e(e){this.searchMode=e}return e.type="[Gallery] Set Search Mode",e}();e.SetSearchMode=t;var n=function(){function e(e){this.viewMode=e}return e.type="[Gallery] Set View Mode",e}();e.SetViewMode=n;var l=function(){function e(e){this.sort=e}return e.type="[Gallery] Set Sort",e}();e.SetSort=l;var i=function(){function e(e){this.organizationId=e}return e.type="[Gallery] Get Studio Options",e}();e.GetStudioOptions=i;var o=function(){function e(e){this.options=e}return e.type="[Gallery] Get Studio Options Success",e}();e.GetStudioOptionsSuccess=o;var a=function(){function e(e,t,n){this.primaryCategory=e,this.secondaryCategory=t,this.name=n}return e.type="[Gallery] Search Loft",e}();e.SearchLoft=a;var r=function(){function e(e){this.bookmarks=e}return e.type="[Gallery] Search Loft Success",e}();e.SearchLoftSuccess=r;var u=function(){function e(e,t){this.category=e,this.query=t}return e.type="[Gallery] Search Studio",e}();e.SearchStudio=u;var c=function(){function e(e){this.bookmarks=e}return e.type="[Gallery] Search Studio Success",e}();e.SearchStudioSuccess=c;var s=function(){function e(e){this.bookmarks=e}return e.type="[Gallery] Search Success",e}();e.SearchSuccess=s;var p=function(){function e(e){this.result=e}return e.type="[Gallery] Select Bookmark",e}();e.SelectBookmark=p;var d=function(){function e(){}return e.type="[Gallery] Clear Results",e}();e.ClearResults=d;var b=function(){function e(){}return e.type="[Gallery] Reset",e}();e.Reset=b}(rl||(rl={}));var Na={loading:!1,loggedIn:null,userLocale:null},Ra=function(){function e(e,t,n,l,i,o){this.authService=e,this.userMessageService=t,this.storageService=n,this.localeId=l,this.store=i,this.errorService=o}return e.getLoggedIn=function(e){return e.loggedIn},e.getEnvironmentSettings=function(e){return e.environmentSettings},e.getUserProfile=function(e){return e.userProfile},e.getProfileCheck=function(e){return e.profileCheck},e.getLoading=function(e){return e.loading},e.getUserLocale=function(e){return e.userLocale},e.getUserLanguage=function(e){return Object(jt.get)(e,"userLocale.lang",il.lang)},e.getUserApps=function(e){return Object(jt.get)(e,"userApps",[])},e.getSelectedUserApp=function(e){return(e.userApps||[]).find((function(t){return t.id===e.selectedAppId}))},e.isPremiumUser=function(e){return!0===Object(jt.get)(e,"userProfile.premium_account_valid")},e.prototype.isLoggedIn=function(e,t){e.patchState({loading:!0}),this.authService.isLoggedIn().pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(t.signed_in?new Gt:new Wt)}))},e.prototype.isLoggedInSuccess=function(e,t){e.patchState({loggedIn:!0})},e.prototype.isLoggedInFailure=function(e,t){e.patchState({loggedIn:!1})},e.prototype.login=function(e,t){var n=this;e.patchState({loading:!0}),this.authService.loginWithBiodigital(t.login).pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(){e.dispatch(new Jt)}),(function(l){n.logFailure("LOGIN_FAILURE",l),e.dispatch(new Zt(l,t.login))}))},e.prototype.loginWithGoogle=function(e,t){var n=this;e.patchState({loading:!0}),this.authService.loginWithGoogle(t.login).pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(){e.dispatch(new Jt)}),(function(l){1!==t.login.groupCodeMode&&1!==t.login.groupInviteMode||n.logFailure("GOOGLE_SIGNUP_FAILURE",l),e.dispatch(new Zt(l,t.login))}))},e.prototype.loginWithFacebook=function(e,t){e.patchState({loading:!0}),this.authService.loginWithFacebook(t.login).pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(){e.dispatch(new Jt)}),(function(n){e.dispatch(new Zt(n,t.login))}))},e.prototype.loginSuccess=function(e,t){e.dispatch(new Qt),e.dispatch(new On)},e.prototype.logout=function(e,t){e.patchState({loading:!0}),this.authService.logout().pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(){return e.dispatch(new tn)}),(function(){return e.dispatch(new nn)}))},e.prototype.logoutSuccess=function(e,t){e.setState(Na),e.dispatch(new zn),e.dispatch(new jl),e.dispatch(new Yl),e.dispatch(new zi),e.dispatch(new Sa),e.dispatch(new Qi),e.dispatch(new Yi),e.dispatch(new go),e.dispatch(new ha),e.dispatch(new Bn),e.dispatch(new Ao),e.dispatch(new ta),e.dispatch(new rl.Reset),this.storageService.clearSessionStorage()},e.prototype.checkProfile=function(e,t){return e.patchState({loading:!0}),this.authService.checkProfile(t.email).pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new pn(t))}),(function(t){e.dispatch(new dn(t))}))},e.prototype.checkProfileSuccess=function(e,t){e.patchState({profileCheck:t.profile})},e.prototype.getUserProfile=function(e,t){return e.patchState({loading:!0}),this.authService.getUserProfile().pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new un(t))}),(function(t){e.dispatch(new cn(t))}))},e.prototype.getUserProfileSuccess=function(e,t){e.patchState({userProfile:t.userProfile}),e.dispatch(new Ln(t.userProfile.organizations)),e.dispatch(new wn),e.dispatch(new On)},e.prototype.getUserApps=function(e,t){this.authService.getUserApps().subscribe((function(t){e.dispatch(new Cn(t)),e.dispatch(new jn)}),(function(e){}))},e.prototype.setUserApps=function(e,t){e.patchState({userApps:t.apps})},e.prototype.setSelectedUserApp=function(e,t){var n=t.appId;e.patchState({selectedAppId:n}),null!==n?this.storageService.setLocalItem(Hn.UserAppId,n):this.storageService.removeLocalItem(Hn.UserAppId)},e.prototype.checkSelectedUserApp=function(e,t){var n=e.getState().userApps,l=this.storageService.getLocalItem(Hn.UserAppId);if(l){var i=parseInt(l,10);e.dispatch(new kn(i))}else n&&n.length&&e.dispatch(new kn(n[0].id))},e.prototype.checkSession=function(e,t){e.patchState({loading:!0}),this.authService.isLoggedIn().pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){t.signed_in?(e.dispatch(new Gt),e.dispatch(new rn)):e.dispatch(new Wt)}))},e.prototype.getEnvironmentSettings=function(e,t){return e.patchState({loading:!0}),this.authService.getEnvironmentSettings().pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new on(t))}),(function(t){e.dispatch(new an(t))}))},e.prototype.GetEnvironmentSettingsSuccess=function(e,t){e.patchState({environmentSettings:t.environmentSettings})},e.prototype.resetPassword=function(e,t){e.patchState({loading:!0}),this.authService.resetPassword(t.email).pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(){e.dispatch(new gn(t.email))}),(function(t){e.dispatch(new hn(t))}))},e.prototype.signUp=function(e,t){return e.patchState({loading:!0}),this.authService.signUp(t.value).pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(){e.dispatch(new yn)}),(function(t){e.dispatch(new _n(t))}))},e.prototype.signUpFailure=function(e,t){this.logFailure("BIODIGITAL_SIGNUP_FAILURE",t)},e.prototype.setUserLocale=function(e,t){var n=t.locale;this.storageService.setLocalItem(Hn.Locale,n.id),e.patchState({userLocale:n}),e.dispatch(new xn(n))},e.prototype.checkLocale=function(e,t){var n=this,l=ol.find((function(e){return e.id===n.localeId}))||il;e.dispatch(new vn(l))},e.prototype.getUserMessage=function(e,t){var n=t.type;this.userMessageService.getUserMessage(n,t.mode).subscribe((function(t){e.dispatch(new Pn(t))}),(function(){e.dispatch(new In(n))}))},e.prototype.setUserMessageViewed=function(e,t){this.userMessageService.setUserMessageViewed(t.messageSeenId).subscribe((function(){return e.dispatch(new Tn)}),(function(){return e.dispatch(new Kn)}))},e.prototype.resetAuth=function(e,t){e.setState(Na)},e.prototype.logFailure=function(e,t){var n=Object(jt.get)(t,"message")||"",l=Object(jt.get)(t,"error.error.message")||"";this.errorService.logError(new Aa(e,n,l)).subscribe()},e.prototype.ngxsOnInit=function(e){e.dispatch(new mn),e.dispatch(new On),e.dispatch(new jn)},Object(g.__decorate)([Object(h.a)(Qt),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Qt]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"isLoggedIn",null),Object(g.__decorate)([Object(h.a)(Gt),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Gt]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"isLoggedInSuccess",null),Object(g.__decorate)([Object(h.a)(Wt),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Wt]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"isLoggedInFailure",null),Object(g.__decorate)([Object(h.a)(qt),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,qt]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"login",null),Object(g.__decorate)([Object(h.a)(Yt),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Yt]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loginWithGoogle",null),Object(g.__decorate)([Object(h.a)(Xt),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Xt]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loginWithFacebook",null),Object(g.__decorate)([Object(h.a)(Jt),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Jt]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loginSuccess",null),Object(g.__decorate)([Object(h.a)(en),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,en]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"logout",null),Object(g.__decorate)([Object(h.a)(tn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,tn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"logoutSuccess",null),Object(g.__decorate)([Object(h.a)(sn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,sn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"checkProfile",null),Object(g.__decorate)([Object(h.a)(pn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,pn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"checkProfileSuccess",null),Object(g.__decorate)([Object(h.a)(rn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getUserProfile",null),Object(g.__decorate)([Object(h.a)(un),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,un]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getUserProfileSuccess",null),Object(g.__decorate)([Object(h.a)(wn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,wn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getUserApps",null),Object(g.__decorate)([Object(h.a)(Cn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Cn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setUserApps",null),Object(g.__decorate)([Object(h.a)(kn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,kn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setSelectedUserApp",null),Object(g.__decorate)([Object(h.a)(jn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,jn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"checkSelectedUserApp",null),Object(g.__decorate)([Object(h.a)(mn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,mn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"checkSession",null),Object(g.__decorate)([Object(h.a)(ln),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ln]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getEnvironmentSettings",null),Object(g.__decorate)([Object(h.a)(on),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,on]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"GetEnvironmentSettingsSuccess",null),Object(g.__decorate)([Object(h.a)(bn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,bn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetPassword",null),Object(g.__decorate)([Object(h.a)(fn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,fn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"signUp",null),Object(g.__decorate)([Object(h.a)(_n),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,_n]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"signUpFailure",null),Object(g.__decorate)([Object(h.a)(vn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,vn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setUserLocale",null),Object(g.__decorate)([Object(h.a)(On),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,On]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"checkLocale",null),Object(g.__decorate)([Object(h.a)(Sn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Sn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getUserMessage",null),Object(g.__decorate)([Object(h.a)(Mn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Mn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setUserMessageViewed",null),Object(g.__decorate)([Object(h.a)(zn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,zn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetAuth",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$t]),Object(g.__metadata)("design:returntype",void 0)],e,"getLoggedIn",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$t]),Object(g.__metadata)("design:returntype",void 0)],e,"getEnvironmentSettings",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$t]),Object(g.__metadata)("design:returntype",void 0)],e,"getUserProfile",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$t]),Object(g.__metadata)("design:returntype",void 0)],e,"getProfileCheck",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$t]),Object(g.__metadata)("design:returntype",void 0)],e,"getLoading",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$t]),Object(g.__metadata)("design:returntype",void 0)],e,"getUserLocale",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$t]),Object(g.__metadata)("design:returntype",String)],e,"getUserLanguage",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$t]),Object(g.__metadata)("design:returntype",void 0)],e,"getUserApps",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$t]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedUserApp",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$t]),Object(g.__metadata)("design:returntype",void 0)],e,"isPremiumUser",null),Object(g.__decorate)([Object(h.g)({name:"auth",defaults:Na})],e)}(),Ba={publishing:!1,widgetURL:"/viewer",dimensions:Ct.dimensions,minDimensions:{width:300,height:400}},Ha=function(){function e(e,t){this.publishService=e,this.store=t}return e.getDimensions=function(e){return e.dimensions},e.getMinDimensions=function(e){return e.minDimensions},e.getWidgetURL=function(e){return e.widgetURL},e.getPublishing=function(e){return e.publishing},e.prototype.setPublishWidgetURL=function(e,t){e.patchState({widgetURL:t.widgetURL||"/viewer"})},e.prototype.setPublishDimensions=function(e,t){e.patchState({dimensions:t.dimensions})},e.prototype.getPublishURL=function(e,t){var n=t.model,l=t.camera,i=t.widgetOptions,o=e.getState().widgetURL,a=this.store.selectSnapshot(Ra.getUserLanguage),r=this.store.selectSnapshot(Ra.getSelectedUserApp);this.publishService.generateWidgetURL(n,o,i,l,Bt.Single,a,r).subscribe((function(t){e.dispatch(new st(n,t))}),(function(){e.dispatch(new pt(n))}))},e.prototype.getPublishIFrame=function(e,t){var n=t.model,l=t.camera,i=t.widgetOptions,o=e.getState(),a=o.widgetURL,r=o.dimensions,u=this.store.selectSnapshot(Ra.getUserLanguage),c=this.store.selectSnapshot(Ra.getSelectedUserApp);this.publishService.generateWidgetEmbed(n,a,i,r,l,Bt.Single,u,c).subscribe((function(t){e.dispatch(new rt(t))}),(function(){e.dispatch(new ut)}))},e.prototype.savePublishImage=function(e,t){this.publishService.saveUserImage(t.imageData).subscribe((function(t){e.dispatch(new ht(t))}),(function(){e.dispatch(new mt)}))},e.prototype.getPublishImage=function(e,t){var n=this,l=t.model,i=t.camera,o=t.widgetOptions,a=t.imageData,r=e.getState().widgetURL,u=this.store.selectSnapshot(Ra.getUserLanguage),c=this.store.selectSnapshot(Ra.getSelectedUserApp);Object(vt.a)(this.publishService.generateWidgetURL(l,r,o,i,Bt.Single,u,c),this.publishService.saveUserImage(a)).subscribe((function(t){var i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),o=n.publishService.getImageEmbed(l.title,i[0],i[1]);e.dispatch(new yt(o))}),(function(){e.dispatch(new _t)}))},e.prototype.setPublishing=function(e,t){e.patchState({publishing:t.publishing})},e.prototype.resetPublish=function(e,t){e.setState(Ba)},Object(g.__decorate)([Object(h.a)(it),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,it]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setPublishWidgetURL",null),Object(g.__decorate)([Object(h.a)(ot),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ot]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setPublishDimensions",null),Object(g.__decorate)([Object(h.a)(ct),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ct]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getPublishURL",null),Object(g.__decorate)([Object(h.a)(at),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,at]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getPublishIFrame",null),Object(g.__decorate)([Object(h.a)(gt),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,gt]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"savePublishImage",null),Object(g.__decorate)([Object(h.a)(ft),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ft]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getPublishImage",null),Object(g.__decorate)([Object(h.a)(dt),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,dt]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setPublishing",null),Object(g.__decorate)([Object(h.a)(bt),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,bt]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetPublish",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[lt]),Object(g.__metadata)("design:returntype",void 0)],e,"getDimensions",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[lt]),Object(g.__metadata)("design:returntype",void 0)],e,"getMinDimensions",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[lt]),Object(g.__metadata)("design:returntype",void 0)],e,"getWidgetURL",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[lt]),Object(g.__metadata)("design:returntype",void 0)],e,"getPublishing",null),Object(g.__decorate)([Object(h.g)({name:"publish",defaults:Ba})],e)}(),Va=function(){function e(e,t,n){this.store=e,this.publishService=t,this.sanitizer=n}return Object.defineProperty(e.prototype,"model",{set:function(e){var t=this.store.selectSnapshot(Ha.getWidgetURL),n=this.store.selectSnapshot(Ra.getUserLanguage),l=this.publishService.getWidgetURL(e,t,this.params,null,null,n);this.src=this.sanitizer.bypassSecurityTrustResourceUrl(l)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e}(),$a=n("ZYjt"),Qa=n("xXU7"),Ga=n("H0e8"),Wa=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},qa=function(e,t){var n=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Wa(arguments[t]));return e}(e);return t.forEach((function(e){n.push(void 0!==e?Number(e):1)})),n},Ya=function(e){var t=/rgba?\((\d{1,3})\,\s*(\d{1,3})\,\s*(\d{1,3})\,?\s*(\d+\.\d{0,5})?\)/g,n=[],l=t.exec(e),i=t.exec(e);return n=qa(n,l.slice(1,5)),qa(n,i.slice(1,5))},Xa=function(){function e(e,t,n){this.colors=e,this.gradientType=t,this.colorStops=n}return e.equals=function(e,t){return e.gradientType===t.gradientType&&e.colors.length===t.colors.length&&e.colors.every((function(e,n){return e===t.colors[n]}))&&e.colorStops.length===t.colorStops.length&&e.colorStops.every((function(e,n){return e===t.colorStops[n]}))},e.deserialize=function(t){if(!Object.keys(t).length)return null;var n=[];"string"==typeof t.colors?n=Ya(t.colors):Array.isArray(t.colors)&&8===t.colors.length&&(n=t.colors.map((function(e,t){return(t+1)%4&&e<=1?Math.round(255*e):e})));var l=/radial|linear/.test(t.gradientType)?t.gradientType:"radial",i=t.colorStops;return new e(n,l,Array.isArray(i)&&2===i.length?[i[0],i[1]]:[0,100])},e.toCSS=function(e){var t=e.colors,n="rgba("+t[0]+","+t[1]+", "+t[2]+", "+t[3]+") "+e.colorStops[0]+"%",l="rgba("+t[4]+","+t[5]+", "+t[6]+", "+t[7]+") "+e.colorStops[1]+"%";return"radial"===e.gradientType?"radial-gradient(circle, "+n+", "+l+")":"linear-gradient(180deg, "+n+", "+l+")"},e.fromCSS=function(t){var n=/radial-gradient/.test(t)?"radial":"linear",l=Ya(t),i=/([0-9]+)\%/g,o=[0,100];return o[0]=Number(i.exec(t)[1]),o[1]=Number(i.exec(t)[1]),new e(l,n,o)},e.isTransparent=function(e){if(!e||!e.colors)return!1;var t=e.colors,n=t[3];return t.length<=4?0===n:0===n&&0===t[7]},e}(),Ja=function(e){return e.AnnotationsCreate="annotations.create",e.AnnotationsDestroy="annotations.destroy",e.AnnotationsInfo="annotations.info",e.AnnotationsSetDescription="annotations.setDescription",e.AnnotationsSetLabelsShown="annotations.setLabelsShown",e.AnnotationsSetTitle="annotations.setTitle",e.AnnotationsUpdate="annotations.update",e.AnnotationsSetEnabled="annotations.setEnabled",e.CameraInfo="camera.info",e.CameraOrbit="camera.orbit",e.CameraPan="camera.pan",e.CameraReset="camera.reset",e.CameraSet="camera.set",e.CameraZoom="camera.zoom",e.GetAnnotationInfo="annotations.info",e.HideAnnotations="annotations.hide",e.HideLabels="labels.hide",e.HotspotsCreate="hotspots.create",e.HotspotsDestroy="hotspots.destroy",e.HotspotsHide="hotspots.hide",e.HotspotsInfo="hotspots.info",e.HotspotsShow="hotspots.show",e.HotspotsTypes="hotspots.types",e.HotspotsUpdate="hotspots.update",e.HumanInfo="human.info",e.InputDisable="input.disable",e.InputEnable="input.enable",e.LabelsSetEnabled="labels.setEnabled",e.SceneColorObject="scene.colorObject",e.SceneDisableHighlight="scene.disableHighlight",e.SceneEnableHighlight="scene.enableHighlight",e.SceneSetHighlightColor="scene.setHighlightColor",e.SceneGetColor="scene.getColor",e.SceneInfo="scene.info",e.SceneLoad="scene.load",e.ScenePick="scene.pick",e.SceneReset="scene.reset",e.SceneSelectObjects="scene.selectObjects",e.SceneShowObjects="scene.showObjects",e.SceneTransformObject="scene.transformObject",e.SceneUncolorObject="scene.uncolorObject",e.SceneSnapshot="scene.snapshot",e.SceneCapture="scene.capture",e.SceneRestore="scene.restore",e.SceneEnableXrayMode="scene.enableXray",e.SceneDisableXrayMode="scene.disableXray",e.ShowAnnotations="annotations.show",e.SetAnnotationsShown="annotations.setShown",e.ShowLabels="labels.show",e.TimelineInfo="timeline.info",e.TimelineQuery="timeline.query",e.TimelineNext="timeline.nextChapter",e.TimelinePause="timeline.pause",e.TimelinePlay="timeline.play",e.TimelinePrev="timeline.previousChapter",e.TimelineSet="timeline.set",e.UIGetBackground="ui.getBackground",e.UIGetDisplay="ui.getDisplay",e.UIGetWordPosition="ui.getWorldPosition",e.UISetBackground="ui.setBackground",e.UISetDisplay="ui.setDisplay",e.UIResetDisplay="ui.resetDisplay",e.UISnapshot="ui.snapshot",e.focusObject="focus.focusObject",e.dissectSetEnabled="dissect.setEnabled",e.pickSingleSetEnabled="pick.single.setEnabled",e.pickMultiSetEnabled="pick.multi.setEnabled",e.getCanvasPos="scene.getCanvasPos",e.sceneSetClickMode="scene.setClickMode",e.IsolateObject="scene.isolateObject",e.setCameraMode="camera.setCameraMode",e.UISetLoadingExperience="ui.setLoadingExperience",e.UISetScrollCaptureMode="ui.setScrollCaptureMode",e}({}),Za=function(e){return e.Started="started",e.Loaded="loaded",e.Tick="tick",e.ClientsConnected="clients.connected",e.ClientMessage="clients.messageReceived",e.HumanLoaded="human.loaded",e.HumanProgress="human.progress",e.HumanReady="human.ready",e.HumanStarted="started",e.Error="error",e.HumanError="human.error",e.AnnotationsCreated="annotations.created",e.AnnotationsDestroyed="annotations.destroyed",e.AnnotationsHidden="annotations.hidden",e.AnnotationsShown="annotations.shown",e.AnnotationsPositionUpdated="annotations.positionUpdated",e.AssetsLoadFinish="assets.load.finish",e.AssetsLoadProgress="assets.load.progress",e.AssetsLoadStart="assets.load.start",e.CameraRested="camera.rested",e.CameraUpdated="camera.updated",e.HotspotsDisplayUpdated="hotspots.displayUpdated",e.HotspotsEntered="hotspots.entered",e.HotspotsLeft="hotspots.left",e.HotspotsPicked="hotspots.picked",e.HotspotsPositionUpdated="hotspots.positionUpdated",e.LabelCreated="label.created",e.LabelDestroyed="label.destroyed",e.LabelsDestroyed="label.destroyed",e.LabelsHidden="labels.hidden",e.LabelsShown="labels.shown",e.ModuleInteractive="module.interactive",e.ModulesActivateFinish="modules.activate.finish",e.ModulesCreateFinish="modules.create.finish",e.ModulesDestroyFinish="modules.destroy.finish",e.PickPicked="pick.picked",e.SceneLoaded="scene.loaded",e.SceneMarkersUpdated="scene.markers.updated",e.SceneObjectRenderable="scene.objectRenderable",e.SceneObjectsSelected="scene.objectsSelected",e.SceneObjectsShown="scene.objectsShown",e.ScenePicked="scene.picked",e.SceneRestored="scene.restored",e.SceneXrayEnabled="scene.xrayEnabled",e.SceneXrayDisabled="scene.xrayDisabled",e.Debug_SceneReady="debug.scene.ready",e.TimelineChaptersActivated="timeline.chapters.activated",e.TimelineChaptersActivateFinish="timeline.chapters.activate.finish",e.TimelineChaptersActivateStart="timeline.chapters.activate.start",e.TimelineChapterTransition="timeline.chapterTransition",e.TimelinePlaying="timeline.playing",e.TimelineScrubbed="timeline.scrubbed",e.TimelinePlayed="timeline.played",e.TimelineStopped="timeline.stopped",e.TimelinePaused="timeline.paused",e.TimelineUnpaused="timeline.unpaused",e.TimelineCompleted="timeline.completed",e}({}),er=function(e){return e.Play="play",e.Button="button",e.Hand="hand",e}({}),tr=function(e){return e.Capture="capture",e.DoNotCaptureShowMessage="do_not_capture_show_message",e.DoNotCapture="do_not_capture",e}({}),nr=function(){return(nr=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},lr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ir=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lr(arguments[t]));return e},or=function(){function e(e,t,n){this.elRef=e,this.publishService=t,this.cameraService=n,this.scalable=!1,this.cameraUpdated=new i.o,this.ngUnsubscribe=new $.a,this._ready=!1,this._enableUI=!0}return Object.defineProperty(e.prototype,"enableUI",{set:function(e){this._enableUI=e,this.setWidgetUIConfig(this._enableUI,this._params)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bgColor",{set:function(e){this._bgColor=e,this._ready&&this.renderWidgetBGColor()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetParams",{set:function(e){this._params=e,this._rotateDegrees=e?e.loadRotate:0,this.setWidgetUIConfig(this._enableUI,this._params)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topOffset",{get:function(){var e=(this.elRef.nativeElement.offsetHeight-this.height)/2;return this.scaleFactor<1?e:Math.max(0,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftOffset",{get:function(){var e=(this.elRef.nativeElement.offsetWidth-this.width)/2;return this.scaleFactor<1?e:Math.max(0,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){if(this.scalable){var e=this.containerRef.nativeElement,t=Math.min(e.offsetWidth/this.width,e.offsetHeight/this.height,1);return 1===t?1:.95*t}return 1},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._apiRef=new HumanAPI({iframeId:this.frameRef.nativeElement.id}),this.getAPIEvent(Za.HumanReady).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e._ready=!0,e.setupCameraTracking(),e.setupCameraRotation(),e.setWidgetUIConfig(e._enableUI,e._params),e.getCurrentBGColor().pipe(Object(G.a)(e.ngUnsubscribe)).subscribe((function(t){e._defaultColor=t,e.renderWidgetBGColor()}))}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.setWidgetUIConfig=function(e,t){if(this._apiRef&&t){if(e){var n=this.convertWidgetOptionsToDisplayParams(t);this.resetDisplay(),this.setUIDisplay(n)}else this.hideUIDisplay();var l=(a=t.initial).button?er.Button:a.handHint?er.Hand:a.play?er.Play:void 0,i=(o=t.disableScroll).alert?tr.DoNotCaptureShowMessage:o.overlay?tr.DoNotCapture:tr.Capture;this._apiRef.send(Ja.UISetLoadingExperience,l),this._apiRef.send(Ja.UISetScrollCaptureMode,i)}var o,a},e.prototype.takeSnapshot=function(e){return this.getAPIData(Ja.UISnapshot,nr({width:this.width,height:this.height},e))},e.prototype.setCameraOrbit=function(e){this.sendAPIData(Ja.CameraOrbit,{yaw:e})},e.prototype.renderWidgetBGColor=function(){this.setWidgetBGColor(this._bgColor||this._defaultColor)},e.prototype.setWidgetBGColor=function(e){this._apiRef&&e&&this.sendAPIData(Ja.UISetBackground,e)},e.prototype.setupCameraTracking=function(){var e=this;this.getCurrentCamera().pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.setDefaultCamera(t),e.getCameraUpdates().pipe(Object(G.a)(e.ngUnsubscribe)).subscribe((function(t){e.setUpdateCamera(t)}))}))},e.prototype.setupCameraRotation=function(){var e=this,t=performance.now();Object(Qa.a)(0,Ga.animationFrame).pipe(Object(W.a)((function(){return!!e._rotateDegrees})),Object(c.a)((function(){return e._rotateDegrees*(performance.now()-t)*.001})),Object(Fa.a)((function(){return t=performance.now()})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.setCameraOrbit(t)}))},e.prototype.setDefaultCamera=function(e){this._defaultCamera=e,this.setUpdateCamera(e)},e.prototype.setUpdateCamera=function(e){this._currentCamera=e;var t=this.cameraService.compareCameras(this.cameraService.roundCamera(this._defaultCamera,3),this.cameraService.roundCamera(this._currentCamera,3));this.cameraUpdated.emit(t?null:this._currentCamera)},e.prototype.getAPIEvent=function(e){var t=this;return new Q.a((function(n){t._apiRef.on(e,(function(e){n.next(e)}))}))},e.prototype.getAPIData=function(e,t){var n=this;return new Q.a((function(l){n._apiRef.send(e,t,(function(e){l.next(e),l.complete()}))}))},e.prototype.sendAPIData=function(e,t){this._apiRef.send(e,t)},e.prototype.getCurrentCamera=function(){return this.getAPIData(Ja.CameraInfo).pipe(Object(c.a)((function(e){return{eye:e.position,look:e.target,up:e.up}})))},e.prototype.getCurrentBGColor=function(){return this.getAPIData(Ja.UIGetBackground).pipe(Object(c.a)((function(e){return e?new Xa(ir([].concat.apply([],ir(e.colors))),e.gradientType,e.colorStops):null})))},e.prototype.getCameraUpdates=function(){return this.getAPIEvent(Za.CameraUpdated).pipe(Object(c.a)((function(e){return{eye:e.position,look:e.target,up:e.up}})))},e.prototype.setUIDisplay=function(e){this._apiRef.send(Ja.UISetDisplay,e)},e.prototype.resetDisplay=function(){this._apiRef.send(Ja.UIResetDisplay)},e.prototype.hideUIDisplay=function(){this.setUIDisplay({all:!1})},e.prototype.convertWidgetOptionsToDisplayParams=function(e){return{info:e.uiInfo,search:e.uiSearch,reset:e.uiReset,fullscreen:e.uiFullscreen,nav:e.uiNav,tools:e.uiTools,help:e.uiHelp,chapterList:e.uiChapterList,labelList:e.uiLabelList,anatomyDescriptions:this._params.uiAnatomyDescriptions}},e}(),ar=i.wb({encapsulation:0,styles:[[".widget[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:relative}.widget__container[_ngcontent-%COMP%]{position:absolute;padding:8px}.widget__frame[_ngcontent-%COMP%]{display:block;width:100%;height:100%;box-shadow:0 0 0 1px #eaeff5}"]],data:{}});function rr(e){return i.Ub(2,[i.Qb(402653184,1,{containerRef:0}),i.Qb(402653184,2,{frameRef:0}),(e()(),i.yb(2,0,[[1,0],["widgetContainer",1]],null,3,"div",[["class","widget"]],null,null,null,null,null)),(e()(),i.yb(3,0,null,null,2,"div",[["class","widget__container"]],[[4,"width",null],[4,"height",null],[4,"top",null],[4,"left",null],[4,"transform",null]],null,null,null,null)),(e()(),i.yb(4,0,[[2,0],["widgetFrame",1]],null,1,"iframe",[["allowfullscreen",""],["appEmbedSrc",""],["class","widget__frame"],["id","widget-frame"]],[[8,"width",0],[8,"height",0],[4,"width",null],[4,"height",null],[8,"src",5]],null,null,null,null)),i.xb(5,81920,null,0,Va,[h.i,Vt,$a.b],{model:[0,"model"],id:[1,"id"]},null)],(function(e,t){e(t,5,0,t.component.model,"widget-frame")}),(function(e,t){var n=t.component;e(t,3,0,n.width+"px",n.height+"px",n.topOffset+"px",n.leftOffset+"px","scale("+n.scaleFactor+")"),e(t,4,0,n.width,n.height,n.width+"px",n.height+"px",i.Kb(t,5).src)}))}var ur,cr=n("Gi3i"),sr=function(){return function(){}}(),pr=function(){return function(){}}(),dr=function(){return function(){}}(),br=function(){return dr},gr=function(){function e(){this.type=a.Bookmark,this.favorite=!1,this.unavailable=!1}return Object(g.__decorate)([Object(N.Type)(br),Object(g.__metadata)("design:type",Array)],e.prototype,"group_access",void 0),e}(),hr=n("XlPw"),mr=function(){return function(){}}(),fr=function(){return function(){}}(),yr=function(){return function(){}}(),_r=function(){return fr},vr=function(){function e(){}return Object(g.__decorate)([Object(N.Type)(_r),Object(g.__metadata)("design:type",String)],e.prototype,"objectId",void 0),e}(),xr=function(){return function(){}}(),Or=function(){return function(){}}(),wr=function(){return function(){}}(),Cr=function(){return vr},jr=function(){return wr},kr=function(){return xr},Sr=function(){return Or},Pr=function(){function e(){}return Object(g.__decorate)([Object(N.Type)(Cr),Object(N.Type)(jr),Object(N.Type)(kr),Object(N.Type)(Sr),Object(g.__metadata)("design:type",String)],e.prototype,"moduleId",void 0),e}(),Ir=function(){return function(){this.graph={hidden:!1,clipped:!1,disabled:!1,transparent:!1}}}(),Mr=function(){return function(){}}(),Tr=function(){return function(){}}(),Kr=function(){return function(){}}(),zr=function(){return function(){}}(),Lr=function(e){return e.AllAtOnce="All-At-Once",e.Progressive="Progressive",e.OnDemand="On-Demand",e}({}),Er=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ur=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Er(arguments[t]));return e};function Fr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return new Promise((function(n){e.apply(void 0,Ur(t,[function(){n()}]))}))}}!function(e){function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}e.getUuid=t,e.idWithPrefix=function(e){return e+"-"+t()}}(ur||(ur={}));var Ar,Dr=function(){return function(){}}(),Nr=function(){return function(e){var t=this;this.shown=function(e){return!1},this.selected=function(e){return!1},this.pickable=function(e){return!0},e.forEach((function(e){t[e]=function(e){return!1}}))}}(),Rr=function(){return(Rr=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Br=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Hr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Br(arguments[t]));return e};!function(e){function t(e,t){return e.nodes[t]||null}function n(e,t){return e.predecessors[t]||null}function l(e,t){return Hr(e.successors[t]||[])}function i(e){return Object.keys(e.roots)}e.getNode=t,e.getAncestor=n,e.getAllAncestorsFromList=function(e,t){var l,i={};return t.forEach((function(t){(l=n(e,t))&&!i[l]&&(i[l]=!0)})),Object.keys(i)},e.getSuccessors=l,e.getState=function(e,n,l){var i={},o=t(e,n);return Object.entries(o.boolState).forEach((function(e){var t=Br(e,2),n=t[0],o=t[1];l&&l.includes(n)&&(i[n]=o)})),Object.entries(o.numState).forEach((function(e){var t=Br(e,2),n=t[0],o=t[1];l&&l.includes(n)&&(i[n]=o)})),i},e.isLeaf=function(e,t){return!!e.nodes[t]&&void 0===e.successors[t]},e.isRoot=function(e,t){return e.roots.hasOwnProperty(t)||!1},e.getRoots=i,e.depthFirst=function e(t,n,o){o?(n(o),l(t,o).forEach((function(l){e(t,n,l)}))):i(t).forEach((function(l){n(l),e(t,n,l)}))},e.createGraphFromSrc=function(e,t,n,l){void 0===t&&(t="id"),void 0===n&&(n="children"),void 0===l&&(l={});var i={nodes:{},successors:{},predecessors:{},roots:{}};return e.forEach((function(e){!function e(t,n,l,i,o,a,r){var u={id:l[i],depth:0,boolState:{},numState:{}};u.depth=r,Object.entries(a).forEach((function(e){var t,n=Br(e,2),o=n[0],a=n[1];"string"==typeof a?t=l[a]:"function"==typeof a&&(t=a(l[i])),"boolean"==typeof t?u.boolState[o]=t:"number"==typeof t?u.numState[o]=t:u[o]=t})),t.nodes[u.id]=u,n?(t.successors[n]=Hr(t.successors[n]||[],[u.id]),t.predecessors[u.id]=n):t.roots[u.id]=u,r+=1,l[o].forEach((function(n){e(t,u.id,n,i,o,a,r)}))}(i,null,e,t,n,l,0)})),i},e.pruneHiddenObjects=function e(t,n,l){var i,o,a=[],r=function(t){var i=n[t.objectId],o=!0===i||!1!==i&&l,r=e(t.objects||[],n,o);if(o){var u=Rr({},t);u.objects=r,a.push(u)}else r.forEach((function(e){return a.push(e)}))};try{for(var u=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(t),c=u.next();!c.done;c=u.next())r(c.value)}catch(s){i={error:s}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return a}}(Ar||(Ar={}));var Vr=function(){return(Vr=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function $r(e,t,n){var l={},i={};return Ar.depthFirst(e,(function(o){i[o]=Ar.isRoot(e,o)?Vr({},Ar.getState(e,o,n),t[o]||{}):Vr({},i[e.predecessors[o]],t[o]||{}),Ar.isLeaf(e,o)&&(l[o]=i[o])})),l}var Qr,Gr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Wr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gr(arguments[t]));return e};!function(e){function t(e,t){return e.reduce((function(e,n){return e[n]=t[n]||!1,e}),{})}e.createVoter=t,e.getInitialVoterState=function(e,n){return Object.keys(e).reduce((function(l,i){return l[i]=t(n,e[i]),l}),{})},e.getInitialElectionDepth=function(e,t){return Object.keys(e).reduce((function(e,n){return Math.max(e,Ar.getNode(t,n).depth)}),0)-1},e.getEligibleElections=function(e,t,n){return Ar.getAllAncestorsFromList(e,t).filter((function(t){return t&&Ar.getNode(e,t).depth===n}))};var n={trueWins:function(e){return{result:e.votesFor.length>0,dissenters:Wr(e.votesAgainst)}},falseWins:function(e){return{result:e.votesAgainst.length>0,dissenters:Wr(e.votesFor)}},majorityWins:function(e){var t=e.votesFor.length>e.votesAgainst.length;return{result:t,dissenters:Wr(t?e.votesAgainst:e.votesFor)}}};function l(e,t,l){return Object.keys(t).reduce((function(i,o){var a=t[o],r=n[l[o]||"majorityWins"](a);return i[o]={id:e,result:r.result,dissenters:r.dissenters,voters:Wr(a.votesFor,a.votesAgainst)},i}),{})}e.buildElectionResult=l,e.getElectionResults=function(e,n,i,o){var a=n,r=Object.keys(o);return{results:i.reduce((function(i,u){var c=Ar.getSuccessors(e,u),s=c.map((function(l){var i;return(i={})[l]=n[l]||t(r,Ar.getState(e,l,r)),i}));c.forEach((function(e){delete a[e]}));var p=l(u,function(e,t){return Object.keys(e).reduce((function(e,n){var l=t.reduce((function(e,t){var l=Object.keys(t)[0];return t[l][n]?e.votesFor.push(l):e.votesAgainst.push(l),e}),{votesFor:[],votesAgainst:[]});return e[n]=l,e}),{})}(o,s),o);return a[u]=Object.entries(p).reduce((function(e,t){var n=Gr(t,2);return e[n[0]]=n[1].result,e}),{}),i.results.push(p),i}),{results:[]}).results,remainingVoters:a}}}(Qr||(Qr={}));var qr=function(){return function(){}}(),Yr=function(){return(Yr=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Xr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Jr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Xr(arguments[t]));return e},Zr=function(){function e(){}return e.prototype.serializeNode=function(e,t,n,l){var i=this;void 0===n&&(n={}),void 0===l&&(l=function(e){return!0});var o={};return o.id=t.id,Object.entries(t.boolState).forEach((function(e){var t=Xr(e,2),l=t[0],i=t[1];n.hasOwnProperty(l)&&(o[l]=i)})),Object.entries(t.numState).forEach((function(e){var t=Xr(e,2),l=t[0],i=t[1];n.hasOwnProperty(l)&&(o[l]=i)})),e.successors[t.id]&&(o.children=[],e.successors[t.id].forEach((function(t){l(t)&&o.children.push(i.serializeNode(e,e.nodes[t],n,l))}),this)),o},e.prototype.getAllSiblingsFromList=function(e,t,n){var l,i=[];for(l=0;l<t.length;l++)this.getSiblings(e,t[l],n).forEach((function(e){i.includes(e)||i.push(e)}));return i},e.prototype.getElectionResults=function(e,t,n,l){var i,o,a=this,r=function(e){function t(t,n){var l=e.call(this)||this;return Object.entries(t).forEach((function(e){var t=Xr(e,2)[0];l[t]={votesFor:[],votesAgainst:[]},Object.entries(n).forEach((function(e){var n=Xr(e,2),i=n[0];n[1][t]?l[t].votesFor.push(i):l[t].votesAgainst.push(i)}),l)}),l),l}return Object(g.__extends)(t,e),t}(qr),u=Object.keys(l),c=[];return n.forEach((function(n){o={},Ar.getSuccessors(e,n).forEach((function(n){o[n]=t[n]||Qr.createVoter(u,Ar.getState(e,n,u)),delete t[n]}),a),i=new r(l,o);var s=Qr.buildElectionResult(n,i,l);c.push(s);var p={};Object.entries(s).forEach((function(e){var t=Xr(e,2);p[t[0]]=t[1].result})),t[n]=p}),this),c},e.prototype.updateGraphStateRecord=function(e,t,n,l,i){void 0===i&&(i=!0),n.forEach((function(n){var o=n[l[0]].id,a=Ar.getState(e,o,l),r={},u=!1;l.forEach((function(e){(i||n[e].result!==a[e])&&(r[e]=n[e].result,u=!0)})),u&&(t[o]=r)}),this)},e.prototype.addNode=function(e,t){e.nodes[t.id]||(e.nodes[t.id]=t)},e.prototype.addRootNode=function(e,t){this.addNode(e,t);var n=Ar.getNode(e,t.id);e.roots[n.id]=n},e.prototype.nodeExists=function(e,t){return!!e.nodes[t]},e.prototype.addEdge=function(e,t,n){if(this.nodeExists(e,t)&&this.nodeExists(e,n)){if(e.successors[t]){if(!(e.successors[t].indexOf(n)<0))return!1;e.successors[t].push(n)}else e.successors[t]=[n];var l=Ar.getNode(e,t).depth;return Ar.getNode(e,n).depth=l+1,e.predecessors[n]=t,!0}return!1},e.prototype.getLeaves=function(e){var t=[];return Object.entries(e.nodes).forEach((function(n){var l=Xr(n,2)[0];e.successors[l]||t.push(l)})),t},e.prototype.getDescendants=function(e,t,n){void 0===n&&(n=!1);var l=[];return function t(n){Ar.getSuccessors(e,n).forEach((function(e){l.push(e),t(e)}))}(t),n&&l.push(t),l},e.prototype.getLeafDescendants=function(e,t,n){void 0===n&&(n=!1);var l=this.getDescendants(e,t,n).filter((function(t){return Ar.isLeaf(e,t)}));return(Ar.isLeaf(e,t)||n)&&l.push(t),l},e.prototype.getAllLeafDescendants=function(e,t){var n=this,l=[];return t.forEach((function(t){l=Ar.isLeaf(e,t)?Jr(l,[t]):Jr(l,n.getLeafDescendants(e,t,!1))})),l.sort().reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[])},e.prototype.getInverseSelection=function(e,t){var n=this.getAllLeafDescendants(e,t);return this.getLeaves(e).filter((function(e){return n.indexOf(e)<0}))},e.prototype.getSiblings=function(e,t,n){void 0===n&&(n=!1);var l=e.predecessors[t],i=[];if(i=l?Ar.getSuccessors(e,l):Ar.getRoots(e),!n){var o=i.indexOf(t);o>=0&&i.splice(o,1)}return i},e.prototype.getAncestors=function(e,t,n,l){void 0===n&&(n=!1),void 0===l&&(l="ascending");for(var i=n?[t]:[],o=e.predecessors[t];o;)i.push(o),o=e.predecessors[o];return"descending"===l&&i.reverse(),i},e.prototype.getNodes=function(e,t){var n=[];return t.forEach((function(t){e.nodes[t]&&n.push(e.nodes[t])})),n},e.prototype.setState=function(e,t,n){var l=Ar.getNode(e,t),i={};return Object.entries(n).forEach((function(e){var t=Xr(e,2),n=t[0],o=t[1];"boolean"==typeof o&&l.boolState[n]!==o?(l.boolState[n]=o,i[n]=o):"number"==typeof o&&l.numState[n]!==o&&(l.numState[n]=o,i[n]=o)})),i},e.prototype.synchronize=function(e,t,n){var l=this,i=this.calculateGraphStateMap(e,t,n);return Object.entries(i).forEach((function(t){var n=Xr(t,2);l.setState(e,n[0],n[1])}),this),i},e.prototype.calculateGraphStateMap=function(e,t,n,l){void 0===l&&(l=!n);var i=[],o={},a=[],r={},u=Object.keys(t),c=0;for(n?Object.entries(n).forEach((function(t){var l=Xr(t,2)[0];o[l]=Qr.createVoter(u,n[l]),r[l]=Yr({},o[l]),c=Math.max(c,Ar.getNode(e,l).depth)}),this):this.getLeaves(e).forEach((function(t){o[t]=Qr.createVoter(u,Ar.getNode(e,t).boolState),r[t]=Yr({},o[t]),c=Math.max(c,Ar.getNode(e,t).depth)}),this),c-=1,i=Qr.getEligibleElections(e,Object.keys(o),c);c>=0;)a=this.getElectionResults(e,o,i,t),this.updateGraphStateRecord(e,r,a,u,l),c-=1,i=Qr.getEligibleElections(e,Object.keys(o),c);return r},e.prototype.filterGraphAccessors=function(e,t){var n=this,l=this.getNodes(e,t).sort((function(e,t){return e.depth-t.depth})),i=new Map;return l.filter((function(t){return!i.has(t.id)&&(n.getDescendants(e,t.id,!0).forEach((function(e){return i.set(e,!0)})),!0)})).map((function(e){return e.id}))},e.prototype.resetDepth=function(e){Ar.depthFirst(e,(function(t){var n=0;e.predecessors[t]&&(n=Ar.getNode(e,e.predecessors[t]).depth+1),Ar.getNode(e,t).depth=n}))},e.prototype.deleteNode=function(e,t,n){var l=this;if(void 0===n&&(n=!0),this.nodeExists(e,t)){delete e.nodes[t];var i=e.predecessors[t];i&&(delete e.predecessors[t],e.successors[i]&&(e.successors[i]=e.successors[i].filter((function(e){return e!==t}))));var o=e.successors[t];o&&(delete e.successors[t],n&&o.forEach((function(t){l.deleteNode(e,t)}),this)),e.roots[t]&&delete e.roots[t]}},e.prototype.sanitizeNodeID=function(e){var t=new RegExp(/\|/,"gi");return e.replace(t,"_")},e.prototype.resetAsLeaf=function(e,t){var n=[];return e.nodes[t]&&!Ar.isLeaf(e,t)&&(n=this.getDescendants(e,t),delete e.successors[t],n.forEach((function(t){delete e.nodes[t],delete e.successors[t],delete e.predecessors[t]}))),n},e.prototype.createGraphStateMapFromPropertyMaps=function(e){var t,n={};for(var l in e)for(var i in e[l])n[i]=Yr({},n[i]||{},((t={})[l]=e[l][i],t));return n},e.prototype.extractPropertymapFromGraphState=function(e,t){var n={};for(var l in e)e[l].hasOwnProperty(t)&&(n[l]=e[l][t]);return n},e.ngInjectableDef=i.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),eu=function(){return(eu=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},tu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},nu={shown:"shown",renderable:function(e){return Human.scene.objects[e].isRenderable()},pickable:"pickable",label:function(e){return Human.scene.objects[e].displayName},expanded:function(e){return!1},layer:"layer"},lu={shown:"trueWins",renderable:"falseWins",pickable:"trueWins"},iu={trim:!0},ou=function(){return function(e){this.trim=e.trim||!1,this.terminal=e.terminal||[],this.root=e.root||{children:[],replace:!1},this.connect=e.connect||{},this.nodes=e.nodes||[]}}(),au=function(){function e(e){var t=this;this.graphService=e,this.objectToNodeMap={},this.nodeToObjectMap={},this.events={},this.events=Object.values(Za).reduce((function(e,n){return e[n]=t.makeObservable(n),e}),{})}return e.prototype.makeObservable=function(e){return new Q.a((function(t){Human.events.on(e,(function(e){t.next(e)}))}))},e.prototype.getCanvas=function(){return Human.renderer.canvas.canvas},e.prototype.getEvent=function(e){return this.events[e]},e.prototype.fireEvent=function(e,t){Human.events.fire(e,t)},e.prototype.pickScene=function(e){return Human.renderer.pick.pick(e.x,e.y,{rayPick:e.rayPick})},e.prototype.transformObject=function(e,t){var n=Human.scene.objects[e];n?n.setTransform(t):console.error("Scene object not found: '"+e+"'")},e.prototype.toggleNodes=function(e,t){var n=this,l={replace:!1,objects:{},fetchAssets:t};e.forEach((function(e){n.getObjects(e).forEach((function(e){l.objects[e]=t}))})),Human.scene.setEnabledObjects(l)},e.prototype.setNodesVisible=function(e){var t={replace:!1,objects:eu({},e),fetchAssets:!1};Human.scene.setEnabledObjects(t)},e.prototype.setNodesPickable=function(e,t,n){var l=this,i={};return t.forEach((function(e){var t=Human.scene.objects[e].isLeaf()?[e]:l.getLeafObjects(e);i[e]={pickable:n},t.forEach((function(e){Human.scene.objects[e].setPickable(n),i[e]={pickable:n}}))})),i},e.prototype.filterObjects=function(e,t){for(var n=e.length;n--;)switch(!0){case e[n]instanceof Human.scene.Group:e[n].objects=this.filterObjects(e[n].objects,t),0===e[n].objects.length&&e.splice(n,1);break;case e[n]instanceof Human.scene.Object:-1===e[n].displayName.toLowerCase().indexOf(t)&&e.splice(n,1)}return e},e.prototype.setObjectLayer=function(e,t){var n=Human.scene.objects[e];if(n.layer=t,n.renderables)for(var l=0;l<n.renderables.length;++l)n.renderables[l].setLayer(t);else n.hasOwnProperty("_layerNode")?n._layerNode.setPriority(t):n.hasOwnProperty("_propertiesNode")&&n._propertiesNode.setProperties({layer:t})},e.prototype.getObjectLayerValues=function(e){var t={},n=Human.scene.getBoundary();return e.forEach((function(e){var l=Human.scene.objects[e],i=l.getBoundary(),o=Math.min(i.xmin-n.xmin,n.xmax-i.xmax),a=2*Math.min(i.ymin-n.ymin,n.ymax-i.ymax),r=Math.min(i.zmin-n.zmin,n.zmax-i.zmax),u=l.layer;t[u]=t[u]||[],t[u].push({nodeId:e,value:Math.min(o,a,r)})})),t},e.prototype.getSceneGraph=function(e){var t=Ar.createGraphFromSrc(e,"objectId","objects",nu);return this.graphService.synchronize(t,lu),t},e.prototype.createViewGraph=function(e,t){void 0===t&&(t=!0);var n=t?Ar.pruneHiddenObjects(Human.scene.rootObjects,e):Human.scene.rootObjects,l=n.reduce((function(e,t){var n=t.objectId.includes("-root");return e[t.objectId]=!0!==n,n&&t.objects.forEach((function(t){e[t.objectId]=!0})),e}),{}),i=this.getSceneGraph(Ar.pruneHiddenObjects(n,l));return this.graphService.resetDepth(i),i},e.prototype.getNode=function(e,t){return this.graphService.nodeExists(e,t)?Ar.getNode(e,t):this.objectToNodeMap[t]?Ar.getNode(e,this.objectToNodeMap[t]):null},e.prototype.getChapterGraphConfig=function(){var e=Human.timeline.activeRoot._nowBranch;return new ou(eu({},iu,e.graph||{}))},e.prototype.getRootObjects=function(){return Human.scene.rootObjects},e.prototype.getAllSceneObjects=function(){return Human.scene.objects},e.prototype.getObjects=function(e){return this.nodeToObjectMap[e]?this.nodeToObjectMap[e]:[Human.scene.objects[e].objectId]||!1},e.prototype.getLeafObjects=function(e){if(e in this.nodeToObjectMap){var t={};return this.nodeToObjectMap[e].forEach((function(e){Human.scene.objects[e].isLeaf()?t[e]=!0:Human.scene.getLeaves(e).forEach((function(e){t[e]=!0}))})),Object.keys(t)}return e in Human.scene.objects?Human.scene.getLeaves(e):[]},e.prototype.getChapter=function(e){return Human.timeline.branchTimelines[e]||null},e.prototype.getActiveChapters=function(){return Human.timeline.activeRoot?Human.timeline.activeRoot._chapters:[]},e.prototype.getBoundaryFromObjects=function(e){return e=e.filter((function(e){return Human.scene.objects[e].isLeaf()})),Human.scene.getBoundary({objectIds:e,clipped:!0})},e.prototype.getLeaves=function(e){return Human.scene.getLeaves(e)},e.prototype.getVisibleLeaves=function(){return Human.scene.getEnabledLeaves()},e.prototype.getCameraLookAt=function(){return Object(N.plainToClass)(wr,Human.renderer.camera.getLookAt())},e.prototype.barycentricToWorld=function(e,t,n,l){void 0===l&&(l=0);var i=new Float32Array([0,0,0]);return Human.scene.objects[e].barycentricToWorldSpace(l,t,n,i),isNaN(i[0])?[0,0,0]:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(tu(arguments[t]));return e}(Array.from(i))},e.prototype.setGraphState=function(e){Human.scene.setObjectProperties(e)},e.prototype.getAssetNamespaces=function(){var e={};return Object.keys(Human.assets.loadedAssets).map((function(e){return e.split("/")[0]})).forEach((function(t){e[t]=!0})),Object.keys(e)},e.prototype.queryShownObjects=function(e,t,n){void 0===n&&(n=!0);var l={};e.forEach((function(e){var n=$r(t,e.synchronization,["shown"]);for(var i in n)n.hasOwnProperty(i)&&(l[i]=l[i]||n[i].shown)}));var i=l;if(n){var o=this.graphService.createGraphStateMapFromPropertyMaps({shown:l}),a=this.graphService.calculateGraphStateMap(t,{shown:"trueWins"},o,!0);i=this.graphService.extractPropertymapFromGraphState(a,"shown")}return i},e.prototype.loadGraphObject=function(e){var t=this.getObjects(e).map((function(e){return Human.scene.objects[e]}));return new Q.a((function(e){Human.scene.graph.attachAssetSetsToSubtree(t,null,(function(){e.next(!0),e.complete()}))}))},e.prototype.setProperties=function(e){Human.properties.set(e)},e.prototype.setTransparencyMode=function(e){Human.renderer.setTransparencyMode(e)},e.prototype.setPostProcessingEnabled=function(e){e?Human.renderer.postprocess.enable():Human.renderer.postprocess.disable()},e.prototype.setPostProcessingFeatures=function(e){Human.renderer.postprocess.parse(e)},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(Zr))},token:e,providedIn:"root"}),e}(),ru=function(e){return e.Default="default",e.Plus="plus",e.Minus="minus",e.PlusMinus="plusMinus",e}({}),uu=function(e){return e.Annotation="annotation",e.Classic="classic",e.StudioNext="studioNext",e.Context="context",e}({}),cu=function(){return function(e){this.pinType=ru.PlusMinus,this.theme=uu.StudioNext,this.expandTag=!0,this.showDescription=!0,this.collapseDescription=!1,this.pinGlow=!1,this.hideWire=!1,this.hideTag=!1,this.title=e}}(),su=function(){return function(){}}(),pu=function(){return function(){}}(),du=function(){return function(){}}(),bu=function(){return cu},gu=function(){return su},hu=function(){return wr},mu=function(){return pu},fu=function(){function e(){}return Object(g.__decorate)([Object(N.Type)(bu),Object(N.Type)(gu),Object(N.Type)(hu),Object(N.Type)(mu),Object(N.Expose)(),Object(g.__metadata)("design:type",String)],e.prototype,"id",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"info",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Array)],e.prototype,"labels",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Array)],e.prototype,"hotspots",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",su)],e.prototype,"synchronization",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Xa)],e.prototype,"background",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"lights",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Array)],e.prototype,"timelineMap",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"camera",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"transitions",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"properties",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Boolean)],e.prototype,"loop",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"customData",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"clippingPlanes",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",du)],e.prototype,"ui",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",pu)],e.prototype,"graph",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"viewModes",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"recipes",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",String)],e.prototype,"transparencyMode",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"fallbackTransparency",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"effects",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"environment",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"showObjects",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"options",void 0),Object(g.__decorate)([Object(N.Expose)(),Object(g.__metadata)("design:type",Object)],e.prototype,"media",void 0),Object(g.__decorate)([Object(N.Exclude)()],e)}(),yu=function(e){return e.classicAnnotation="classic-annotation",e.classicHotspot="classic-hotspot",e.studioNext="studio-light",e}({}),_u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},vu=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_u(arguments[t]));return e},xu=function(){function e(e){void 0===e&&(e={center:[0,0,0],edge:[1,1,1],centerBias:1,edgeBias:0,power:1});var t=e.center,n=e.centerBias,l=e.edgeBias,i=e.power;this.edge=e.edge,this.center=t,this.centerBias=n,this.edgeBias=l,this.power=i}return e.toEngine=function(e){var t=e.edge,n=e.centerBias,l=e.edgeBias,i=e.power;return[vu(e.center),vu(t),n,l,i]},e}(),Ou=function(){function e(e){void 0===e&&(e={center:0,edge:1,centerBias:1,edgeBias:0,power:1});var t=e.center,n=e.centerBias,l=e.edgeBias,i=e.power;this.edge=e.edge,this.center=t,this.centerBias=n,this.edgeBias=l,this.power=i}return e.toEngine=function(e){return[e.center,e.edge,e.centerBias,e.edgeBias,e.power]},e}(),wu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Cu=function(){function e(e){void 0===e&&(e={});var t=e.saturation,n=e.contrast,l=e.brightness,i=e.opacity;this.tintColor=e.tintColor,this.saturation=t,this.contrast=n,this.brightness=l,this.opacity=i}return e.toEngine=function(e){var t=!1!==e.tintColor&&void 0,n=!1!==e.saturation&&void 0,l=!1!==e.brightness&&void 0,i=!1!==e.contrast&&void 0,o=!1!==e.opacity&&void 0;return Array.isArray(e.tintColor)?t=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wu(arguments[t]));return e}(e.tintColor):e.tintColor&&e.tintColor instanceof xu&&(t=xu.toEngine(e.tintColor)),"number"==typeof e.saturation?n=e.saturation/100:e.saturation instanceof Ou&&(n=Ou.toEngine(e.saturation)),"number"==typeof e.brightness?l=e.brightness/100:e.brightness instanceof Ou&&(l=Ou.toEngine(e.brightness)),"number"==typeof e.contrast?i=e.contrast/100:e.contrast instanceof Ou&&(i=Ou.toEngine(e.contrast)),"number"==typeof e.opacity?o=e.opacity/100:e.opacity instanceof Ou&&(o=Ou.toEngine(e.opacity)),{tintColor:t,saturation:n,brightness:l,contrast:i,opacity:o}},e}(),ju=["tintColor","contrast","brightness","saturation","opacity"],ku=n("aUsF"),Su=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},Pu=function(){return function(){}}(),Iu=function(){return function(){this.title=null,this.description=null,this.errands=[]}}(),Mu=function(e){return e.flyToChapter="flyToChapter",e.flyToObject="flyToObject",e.flyToCamera="flyToCamera",e}({}),Tu=function(){return function(e){this.type=Mu.flyToObject,this.value=e}}(),Ku=function(){return function(e){this.type=Mu.flyToCamera,this.value=e}}(),zu=function(e){return e.Circle="circle",e.CirclePlus="circle-plus",e.CircleMinus="circle-minus",e.Label="label",e.CircleLabel="circle-label",e}({}),Lu=function(){return function(){this.type=Mu.flyToChapter,this.value=null}}(),Eu=function(){return(Eu=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Uu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Fu={flyToCamera:"flyTo",flyToChapter:"flyTo"},Au=function(){function e(e){var t=this;this.engineService=e,this.convertActionToErrand=function(e,n,l){var i=new RegExp("^flyTo(Async)?"),o=new RegExp("^flyToObject(Async)?"),a=new RegExp("^flyTo[w.:]+currentChapter.[flyTo|jumpTo]"),r=l.split(":").slice(0,2),u=e,c=r[1];/currentChapter/.test(c)&&(c=c.replace("currentChapter","chapters["+n+"]"));var s=null;return o.test(r[0])?s=new Tu(t.objectAddress(u,c)):i.test(r[0])?s=new Ku(t.objectAddress(u,c)):a.test(r[0])&&(s=new Lu),s},this.convertErrandToAction=function(e,n){var l=ur.idWithPrefix("errand").replace(/\-/g,"_"),i={},o="",a=function(e){return Fu[e]||e}(n.type);return n.type===Mu.flyToChapter?o=a+"Async:currentChapter."+t.engineService.getChapter(e.chapterId).camera.action:(o=a+"Async:currentChapter.customData."+l,i[l]=n.value),{action:o,data:i}},this.objectAddress=function(e,t){return t.split(".").reduce((function(e,t){if(null===e)return null;if(/\[+[0-9+]\]+/.test(t)){var n=t.split("["),l=Number(n[1].match(/[0-9]+/));return n[0]in e&&l in e[n[0]]?e[n[0]][l]:null}return t in e?e[t]:null}),e)}}return e.prototype.filterHotspot=function(e,t,n){var l=new RegExp("^(flyTo|flyToObject|hideHotspot|showHotspot|resetHotspots)"),i=this.getHotspotAction(e,n),o=i.filter((function(e){return l.test(e)}));return i.length===o.length},e.prototype.deserializeAnnotation=function(e,t,n){var l=new cu(e.title||"");return l.id=e.annotationId||ur.idWithPrefix("label"),l.chapterId=t.id,l.expandTag=!0,l.showDescription=!0,l.collapseDescription=!1,l.pinGlow=!1,l.hideWire=!1,l.hideTag=!1,n===uu.Annotation?(l.theme=uu.Annotation,l.pinType=ru.Default,l.flyTo=!1,l.states=[]):(l.theme=uu.StudioNext,l.pinType=ru.PlusMinus,l.flyTo=!0,l.states=[new Iu,new Iu],l.states[0].errands=[new Ku(t.camera.location)],l.states[1].errands=[new Tu(e.objectId)]),l.occludable=!1!==e.occludable,l.renderableIndex=e.renderableIndex||0,e.objectId&&e.hasOwnProperty("barycentric")?(l.objectId=e.objectId,l.primitiveIndex=e.primitiveIndex,l.barycentric=e.barycentric):e.hasOwnProperty("pos")&&(e.hasOwnProperty("objectId")&&(l.objectId=e.objectId),l.pos=e.pos),e.dir&&Array.isArray(e.dir)?l.dir=e.dir:e.dir&&e.dir instanceof Object&&(l.dir=Object.values(e.dir)),l.description=e.description||"",l.offset=e.labelOffset||[40,40],l.shown=!1!==e.shown,l.labelShown=!1!==e.labelShown,l},e.prototype.deserializeHotspots=function(e,t,n){for(var l=this,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Uu(i,2),r=a[0],u=a[1],c=new cu(r.title||"");switch(c.id=ur.idWithPrefix("hotspot"),c.objectId=r.objectId,c.chapterId=t.id,c.description=r.description||"",c.pinType=/plus|minus/.test(r.className)?ru.PlusMinus:ru.Default,c.pinGlow=/pulse/.test(r.className),c.occludable=!0,c.shown=r.shown,c.offset=r.labelOffset?r.labelOffset:[22,-17],/left/.test(r.className)&&c.offset[0]>0?c.offset[0]*=-1:/right/.test(r.className)&&c.offset[0]<0&&(c.offset[0]*=-1),r.hasOwnProperty("barycentric")?(c.renderableIndex=r.renderableIndex||0,c.barycentric=r.barycentric,c.primitiveIndex=r.primitiveIndex):c.pos=r.pos,c.dir=r.dir,r.theme=r.theme?r.theme:yu.classicHotspot,r.theme){case yu.classicAnnotation:c.theme=uu.Annotation,c.pinType=ru.Default,c.showDescription=!0,c.collapseDescription=!1,c.expandTag=!0,c.hideTag=!1,c.hideWire=!1;break;case yu.classicHotspot:c.theme=uu.Classic,c.showDescription=/label/.test(r.className),c.expandTag=/label/.test(r.className),c.hideTag=!c.expandTag,c.collapseDescription=!1,c.hideWire=!/leader-line/.test(r.className);break;case yu.studioNext:c.theme=uu.StudioNext,c.showDescription=!!r.description,c.collapseDescription=/collapsible/g.test(r.className),c.hideTag=!r.title,c.hideWire=!/leader-line/.test(r.className)}c.flyTo=!1,c.flyToTarget=null,c.states=[];var s=this.filterHotspotActions(this.getHotspotAction(e,r)),p=u?this.filterHotspotActions(this.getHotspotAction(e,u)):[],d=new Iu,b=new Iu;return s.length&&(d.errands=s.map((function(t){return l.convertActionToErrand(e,n,t)}))),p.length&&(b.errands=p.map((function(t){return l.convertActionToErrand(e,n,t)}))),c.states=[b,d],c},e.prototype.makeDefaultStudioLabel=function(e){var t=e?Eu({},e):new cu("");return t.pinType=ru.PlusMinus,t.theme=uu.StudioNext,t.expandTag=!0,t.showDescription=!0,t.collapseDescription=!1,t.pinGlow=!1,t.hideWire=!1,t.hideTag=!1,t.states=[new Iu,new Iu],t},e.prototype.makeAnnotationLabel=function(e){var t=e?Eu({},e):new cu("");return t.pinType=ru.Default,t.theme=uu.Annotation,t.expandTag=!0,t.showDescription=!0,t.collapseDescription=!1,t.pinGlow=!1,t.hideWire=!1,t.hideTag=!1,t.states=[],t},e.prototype.serializeLabel=function(e,t){var n=this,l=new Pu,i=Object(N.classToClass)(e),o=["circle","draggable"];switch(l.shown=!0,e.objectId&&(l.objectId=i.objectId),e.primitiveIndex&&e.barycentric&&e.objectId?(l.renderableIndex=e.renderableIndex||0,l.primitiveIndex=e.primitiveIndex,l.barycentric=e.barycentric,l.pos=this.engineService.barycentricToWorld(e.objectId,e.primitiveIndex,e.barycentric)):l.pos=i.pos,e.dir&&(l.dir=Array.prototype.slice.call(e.dir)),l.labelOffset=e.offset,e.theme){case uu.Annotation:l.theme=yu.classicAnnotation;break;case uu.Classic:l.theme=yu.classicHotspot;break;default:l.theme=yu.studioNext}""!==i.title?(l.title=i.title,l.description=i.description,l.type=zu.CircleLabel):l.type=zu.Circle,e.pinGlow&&o.push("pulse"),e.pinType===ru.PlusMinus&&o.push("plus"),e.hideWire||o.push("leader-line"),e.hideTag||o.push("label"),e.collapseDescription&&o.push("collapsible collapsed"),l.className=o.join(" ");var a={};l.actions=[];var r=[l],u=e.states.length;return e.states.forEach((function(t,i){if(i===u-1)r[0].actions.push("resetHotspots"),t.errands.forEach((function(t){var l=n.convertErrandToAction(e,t);r[0].actions.push(l.action),a=Eu({},a,l.data)}));else{var o=Object(N.classToClass)(l);o.actions=[],o.className=o.className.replace("plus","minus"),t.errands.forEach((function(t){var l=n.convertErrandToAction(e,t);o.actions.push(l.action),a=Eu({},a,l.data)})),r.push(o)}})),2===r.length&&(r[0].actions.push("hideHotspots:currentChapter.hotspots["+t+"]"),r[0].actions.push("showHotspots:currentChapter.hotspots["+(t+1)+"]"),r[1].actions.push("hideHotspots:currentChapter.hotspots["+(t+1)+"]"),r[1].actions.push("showHotspots:currentChapter.hotspots["+t+"]"),r[0].shown=!0,r[1].shown=!1),2===r.length&&e.collapseDescription&&(r[1].className+=r[1].className.replace("collapsed","")),r.forEach((function(e){l.labelOffset[0]<0?e.className=e.className.replace("right","")+" left":l.labelOffset[0]>0&&(e.className=e.className.replace("left","")+" right")})),{data:a,hotspots:r}},e.prototype.setLabelContainer=function(e){this._labelContainer=e},e.prototype.getLabelContainer=function(){return this._labelContainer},e.prototype.getHotspotAction=function(e,t){var n=t.actionSrc?this.objectAddress(e,t.actionSrc):t.actions?t.actions:[];return n instanceof Array?n:[]},e.prototype.filterHotspotActions=function(e){var t=new RegExp("^(flyTo|flyToObject)");return e.filter((function(e){return t.test(e)}))},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(au))},token:e,providedIn:"root"}),e}(),Du=function(){return(Du=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Nu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ru=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Nu(arguments[t]));return e};function Bu(){return Human.scene.colorRecipes?Human.scene.colorRecipes.getRecipes():[]}var Hu=function(){return function(e){var t=this;this.shown="majorityWins",this.selected="majorityWins",this.pickable="majorityWins",e.forEach((function(e){t[e]="majorityWins"}))}}(),Vu=function(){function e(e){this.labelService=e}return e.prototype.getMinimumGraphSync=function(e,t,n){var l=this,i=Bu(),o=Object.keys(new Nr(i)),a=$r(e,t,o),r=function(e,t,n){var l=Object.keys(t),i=Qr.getInitialVoterState(n,l),o=Qr.getInitialElectionDepth(n,e),a=Object(jt.range)(o,-1).reduce((function(n,l){var i=Qr.getEligibleElections(e,Object.keys(n.remainingVoters),l),o=Qr.getElectionResults(e,n.remainingVoters,i,t),a=function(e){return e.reduce((function(e,t){var n=Object.keys(t).map((function(e){return function(e,t,n,l){var i,o=l.reduce((function(t,l){var i;return t[l]=((i={})[e]=!n,i),t}),{});return o[t]=((i={})[e]=n,i),o}(e,t[e].id,t[e].result,t[e].dissenters)})).reduce((function(e,t){return Object(jt.merge)(e,t)}),{});return Object.keys(n).forEach((function(t){e[t]=n[t]})),e}),{})}(o.results);return Object.keys(a).forEach((function(e){n.syncGraph[e]=a[e]})),n.remainingVoters=o.remainingVoters,n}),{syncGraph:{},remainingVoters:i}).syncGraph;return function(e,t,n,l){var i,o,a=t.reduce((function(t,i){var o,a,r=e[i],u=e[l.predecessors[i]];try{for(var c=Su(n),s=c.next();!s.done;s=c.next()){var p=s.value;r[p]===u[p]&&t.push({successorId:i,prop:p})}}catch(d){o={error:d}}finally{try{s&&!s.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return t}),[]);try{for(var r=Su(a),u=r.next();!u.done;u=r.next()){var c=u.value;delete e[c.successorId][c.prop],0===Object.keys(e[c.successorId]).length&&delete e[c.successorId]}}catch(s){i={error:s}}finally{try{u&&!u.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return e}(a,Object.keys(a).filter((function(t){return!e.roots[t]&&!!e.successors[t]})),l,e)}(e,JSON.parse(JSON.stringify(new Hu(i))),a);Object.entries(t).forEach((function(e){var t=Nu(e,2),n=t[0],l=t[1],i=Object(jt.omit)(l,o);Object(jt.isEmpty)(i)||(r[n]=Du({},r[n]||{},i))}));var u=new Dr;return Object.entries(r).forEach((function(e){var t=Nu(e,2),i=t[1];u[l.switchNamespace(t[0],n)]=i}),this),u},e.prototype.convertGraphSync=function(e){var t=this,n={},l={},i={},o={},a={},r=Bu();return Object.entries(e).forEach((function(e){var u=Nu(e,2),c=u[0];Object.entries(u[1]).forEach((function(e){var t,u,s=Nu(e,2),p=s[0],d=s[1];"shown"===p?n[c]=d:"selected"===p?l[c]=d:"pickable"===p?i[c]=!d:r.find((function(e){return e===p}))?o[p]=Du({},o[p],((t={})[c]=d,t)):a[c]=Du({},a[c]||{},((u={})[p]=d,u))}),t)}),this),{showObjects:n,selectObjects:l,pickThroughObjects:i,colorRecipeObjects:o,synchronization:a}},e.prototype.switchNamespace=function(e,t){return t[e]||e},e.prototype.serializeTimelineMaps=function(e,t){var n=this,l=e.timelineMap;return l.forEach((function(e){e.data.timeline=n.switchNamespace(e.data.timeline,t)})),l},e.prototype.serializeProperties=function(e){var t={},n=Human.properties.getDefaults();Object.entries(e.properties).forEach((function(e){var l=Nu(e,2),i=l[0],o=l[1];ku(o,n[i])||(t[i]=o)}),this);var l=Human.properties.properties["annotations.layout.type"];return"draggable"!==l&&(t["annotations.layout.type"]=l),t},e.prototype.serializeHotspots=function(e){var t=this,n=Ru(e.hotspots),l={};return e.labels.forEach((function(e){var i=t.labelService.serializeLabel(e,n.length);n=Ru(n,i.hotspots),l=Du({},l,i.data)})),{customData:l,hotspots:n}},e.prototype.serializeMedia=function(e){return e.media?Object.entries(e.media).reduce((function(e,t){var n=Nu(t,2);return e[n[0]]=Du({},n[1].data),e}),{}):null},e.prototype.serializeBackground=function(e){return e?Object(N.classToClass)(e):{}},e.prototype.serializeUI=function(e,t){return Object(jt.isEmpty)(t)?{play:{count:1}}:t},e.prototype.serializeChapter=function(e,t,n,l){var i;void 0===n&&(n=!1);var o=this.serializeHotspots(t),a=Du({},t.customData,o.customData),r=((i={id:n?t.id:ur.idWithPrefix("chapter"),displayName:t.info.displayName,description:t.info.description})[t.camera.action]=t.camera.location,i.background=this.serializeBackground(t.background),i.hotspots=o.hotspots,i.clippingPlanes=t.clippingPlanes,i.ui=this.serializeUI(t,t.ui),i.media=this.serializeMedia(t),i.graph=t.graph||{},i.timelineMap=t.timelineMap||[],i.customData=a,i.viewModes=t.viewModes,i.lights=t.lights,i.recipes=t.recipes||{},i.transparencyMode=t.transparencyMode||"",i.fallbackTransparency=t.fallbackTransparency||"",i.properties=this.serializeProperties(t),i.effects=t.effects||{},i.options=t.options,i.transitions=t.transitions,i.environment=t.environment||{},i),u=this.getMinimumGraphSync(e,t.synchronization,l);return Object.entries(this.convertGraphSync(u)).forEach((function(e){var t=Nu(e,2);r[t[0]]=t[1]})),{chapter:r,sourceId:t.id}},e.prototype.serializeSingleChapter=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n={});var l=new Nr(Bu()),i=Ar.createGraphFromSrc(Object.values(Human.scene.rootObjects),"objectId","objects",l);return this.serializeChapter(i,e,t,n)},e.prototype.serialize=function(e,t,n){var l=this;void 0===t&&(t=!1);var i=new Nr(Bu()),o=Ar.createGraphFromSrc(Object.values(Human.scene.rootObjects),"objectId","objects",i),a=[],r={};return e.forEach((function(e){var i=l.serializeChapter(o,e,t,n);r[i.chapter.id]=i.sourceId,a.push(i.chapter)})),{chapters:a,sourceIdMap:r}},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(Au))},token:e,providedIn:"root"}),e}(),$u=function(){return($u=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Qu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Gu=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qu(arguments[t]));return e},Wu=function(){function e(e,t){this.serializeChapterService=e,this.labelService=t}return e.prototype.addChapterToEngine=function(e,t){var n=this.serializeChapterService.serializeSingleChapter(e,!0).chapter;n.synchronization=JSON.parse(JSON.stringify(e.synchronization));var l=new Human.timeline.BranchTimeline(n);Human.timeline.activeRoot.addChapter(l,{rebuild:!0,position:t})},e.prototype.removeChapterFromEngine=function(e){Human.timeline.activeRoot._chapters=Human.timeline.activeRoot._chapters.filter((function(t){return t.id!==e.id})),Human.timeline.activeRoot.build()},e.prototype.copyChapter=function(e,t){var n=Object(N.classToClass)(e);return n.id=t,n.labels.forEach((function(e){e.id=ur.idWithPrefix("label"),e.chapterId=n.id})),n.readyState={model:!0,animation:!0},n},e.prototype.getCurrentChapterId=function(){return Human.timeline.activeRoot._nowBranch.id},e.prototype.replaceEngineChapterWithStateChapter=function(e){var t=Human.timeline.branchTimelines[e.id];t&&(t.synchronization=JSON.parse(JSON.stringify(e.synchronization)))},e.prototype.updateChapterSynchronization=function(e,t){Human.timeline.branchTimelines[e].synchronization=t},e.prototype.clearColorModsFromSync=function(e,t){return t.forEach((function(t){var n=Object(jt.omit)(e[t]||{},ju);Object(jt.isEmpty)(n)?delete e[t]:e[t]=n})),e},e.prototype.clearBoolStateFromSync=function(e,t,n){return t.forEach((function(t){var l=Object(jt.omit)(e[t]||{},[n]);Object(jt.isEmpty)(l)?delete e[t]:e[t]=l})),e},e.prototype.fromHumanChapter=function(e,t,n,l){var i=this,o=$u({},n),a=e.chapters[l];o.environment=$u({},a.environment),o.transitions=$u({},a.transitions),a.transparencyMode&&(o.transparencyMode=a.transparencyMode),o.showObjects=$u({},e.chapters[l].showObjects),o.id||(o.id=ur.idWithPrefix("chapter"));var r=!1;o.timelineMap=Object.values(n.maps).map((function(e){return"dummy"!==e.data.timeline.id&&(r=!0),{start:e.start,end:e.end,data:{timeline:e.data.timeline.id,start:e.data.start,end:e.data.end,fit:e.data.fit||!1,onEnd:e.data.onEnd}}})),delete o.maps;var u=0,c=!!n.animation&&n.animation.loop;r&&c?u=-1:r&&!c&&(u=1),o.ui=n.ui&&!Object(jt.isEmpty)(n.ui)?n.ui:{play:{count:u}};var s=uu.Annotation,p=Gu(o.annotations||[]).map((function(e){return i.labelService.deserializeAnnotation(e,o,s)})),d=[],b=this.groupHotspots(Gu(o.hotspots||[]).filter((function(l){var o=i.labelService.filterHotspot(e,n,l);return o?l.theme||(l.theme="module"===t?yu.studioNext:yu.classicHotspot):d.push(l),o}))).map((function(t){var o;return(o=i.labelService).deserializeHotspots.apply(o,Gu([e,n,l],t))}));o.labels=Gu(p,b),delete o.annotations,o.background=Xa.deserialize(n.background);var g=Object(N.plainToClass)(fu,o);return g.hotspots=d,g.readyState={model:!1,animation:!1},g},e.prototype.groupHotspots=function(e){var t={},n=function(e){return e.primitiveIndex?e.primitiveIndex.toFixed(0):e.pos?e.pos.map((function(e){return e.toFixed(3)})).join(":"):Math.random().toFixed(3)};return e.forEach((function(e){var l,i=[(l=e.type,RegExp("^circle-(plus|minus)").test(l)?"pair":"single"),e.objectId,n(e)].join("|");i in t?t[i].push(e):t[i]=[e]})),Object.values(t)},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(Vu),i.Yb(Au))},token:e,providedIn:"root"}),e}(),qu=function(){return(qu=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Yu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Xu=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Yu(arguments[t]));return e},Ju=["reflections","lights"],Zu=["material","geometry","transform"],ec=["tweens","morph"],tc=function(){function e(e,t,n){this.http=e,this.engineService=t,this.chapterService=n}return e.prototype.getShownObjectsFromChapter=function(e){var t=[];return Object.entries(e.synchronization).forEach((function(e){var n=Yu(e,2);n[1].shown&&t.push(n[0])})),t},e.prototype.getTargetChapterLoadChunks=function(e,t,n){var l=new Tr,i=new Tr,o=new Tr;return l.storyId=i.storyId=o.storyId=e,l.chapterId=i.chapterId=o.chapterId=t.id,l.objects=Human.scene.rootObjects.map((function(e){return e.objectId})),l.assetTypes=Ju,l.activate=!0,l.activationConfig=n.targetChapterConfig.global,l.readyState={},l.time=0,i.objects=this.getShownObjectsFromChapter(t),i.assetTypes=Zu,i.activate=!0,i.activationConfig=n.targetChapterConfig.static,i.readyState={model:!0},i.time=0,o.objects=this.getShownObjectsFromChapter(t),o.assetTypes=ec,o.activate=!0,o.activationConfig=n.targetChapterConfig.dynamic,o.readyState={animation:!0},o.time=0,[l,i,o]},e.prototype.getChapterLoadChunks=function(e,t,n){var l=[];if(t.id===n.targetChapterId)l=this.getTargetChapterLoadChunks(e,t,n);else{var i=this.getShownObjectsFromChapter(t),o=new Tr;o.activate=!1,o.chapterId=t.id,o.objects=i,o.storyId=e,n.chapterAssetBundle?(o.assetTypes=Xu(Zu,ec,Ju),o.readyState={model:!0,animation:!0},l.push(o)):(l.splice(0,0,o,Object(N.classToClass)(o)),l[0].assetTypes=Zu,l[0].readyState={model:!0},l[1].assetTypes=ec,l[1].readyState={animation:!0})}return l},e.prototype.getSceneGraphLoadChunk=function(e,t,n){var l=new Tr;return l.activate=!1,l.chapterId=null,l.objects=t.map((function(e){return e.objectId})),l.storyId=e,l.assetTypes=Xu(Zu),l.readyState={model:!0,animation:!1},l},e.prototype.getAllAtOnceLoadChunks=function(e,t){var n=new Tr;return n.activate=!0,n.chapterId=Human.timeline.rootTimelines[e]._chapters[0].id,n.objects=Human.scene.rootObjects.map((function(e){return e.objectId})),n.storyId=e,n.assetTypes=Xu(Ju,Zu,ec),n.readyState={model:!0,animation:!0},[n]},e.prototype.getProgressiveLoadChunks=function(e,t){var n=this,l=[];return Human.timeline.rootTimelines[e]._chapters.forEach((function(i){var o=n.getChapterLoadChunks(e,i,t);l=i.id===t.targetChapterId?Xu(o,l):Xu(l,o)})),"readyState"===t.sortBy&&l.sort(this.compareReadyState),l.push(this.getSceneGraphLoadChunk(e,Human.scene.rootObjects,t)),l},e.prototype.getOnDemandLoadChunks=function(e,t){var n=this,l=[];return Human.timeline.rootTimelines[e]._chapters.forEach((function(i){var o=n.getChapterLoadChunks(e,i,t);l=i.id===t.targetChapterId?Xu(o,l):Xu(l,o)})),"readyState"===t.sortBy&&l.sort(this.compareReadyState),l},e.prototype.compareReadyState=function(e,t){var n=e.readyState?e.readyState.model?1:e.readyState.animation?2:0:3,l=t.readyState?t.readyState.model?1:t.readyState.animation?2:0:3;if(n<l)return-1;if(n===l){var i=Human.timeline.rootTimelines[e.storyId]._chapters.findIndex((function(t){return t.id===e.chapterId})),o=Human.timeline.rootTimelines[t.storyId]._chapters.findIndex((function(e){return e.id===t.chapterId}));return i<o?-1:i===o?0:1}return 1},e.prototype.getChapterIndex=function(e,t){return Human.timeline.rootTimelines[e]?Human.timeline.rootTimelines[e]._chapters.findIndex((function(e){return e.id===t})):-1},e.prototype.getStory=function(e,t,n){var l=this;void 0===n&&(n="en");var i,o=t===a.Bookmark?this.getBookmark(e):this.getContent(e);return"en"===n?o:o.pipe(Object(Ot.a)((function(o){return i=o,l.getStoryTranslation(e,t,n)}))).pipe(Object(c.a)((function(e){return l.translateStory(i,e)})),Object(P.a)((function(){return o})))},e.prototype.getContent=function(e){return this.http.get("/content/modules/"+e+".json").pipe(Object(c.a)((function(e){return e})))},e.prototype.getBookmark=function(e){return this.http.get("/search/bookmarks/data",{params:{be:e}}).pipe(Object(c.a)((function(e){return e.bookmark})))},e.prototype.getLoadConfig=function(e,t){void 0===t&&(t=0);var n=new Kr;return n.chapterAssetBundle=!0,n.targetChapterId=Human.timeline.rootTimelines[e]._chapters[t].id,n.targetChapterConfig={global:{clipping:!0,graph:!0,camera:!0,properties:!0,transparencyMode:!0,postprocess:!0},static:{labels:!0},dynamic:{timeline:!0,particles:!0}},n.sortBy="readyState",n},e.prototype.buildStory=function(e,t,n){Human.modules.moduleData[e]=t;var l=qu({},t);return l.moduleId=e,new Q.a((function(t){Human.modules.create(e,l,(function(){n&&Human.modules.activate(e,0,{},(function(){})),t.next(!0),t.complete()}))}))},e.prototype.getStoryChapters=function(e,t){var n=this,l=Human.modules.moduleData[e];return Human.timeline.rootTimelines[e]._chapters.map((function(e,i){return n.chapterService.fromHumanChapter(l,t,e,i)}))},e.prototype.getStoryLoadChunks=function(e,t,n){var l=[];switch(n){case Lr.AllAtOnce:l=this.getAllAtOnceLoadChunks(e,t);break;case Lr.Progressive:l=this.getProgressiveLoadChunks(e,t);break;case Lr.OnDemand:l=this.getOnDemandLoadChunks(e,t);break;default:l=this.getProgressiveLoadChunks(e,t)}return l.map((function(e){return qu({},e,{chunkId:ur.idWithPrefix("chunk")})}))},e.prototype.loadStoryChunk=function(e,t){var n=e.objects.map((function(e){return Human.scene.objects[e]}));e.storyId?Human.modules.load(e.storyId,n,e.assetTypes,(function(){t()})):this.engineService.loadGraphObject(e.objects[0]).subscribe((function(){t()}))},e.prototype.unloadStory=function(e,t){var n=this;void 0===t&&(t=!0);var l=(e?[e]:Object.keys(Human.modules.modules)).map((function(e){return n.hardDeleteStory(e,t)}));return new Q.a((function(e){l.length?Object(vt.a)(l).subscribe((function(){e.next(!0),e.complete()})):(e.next(!0),e.complete())}))},e.prototype.createLoadObjectChunk=function(e){var t=new Tr;return t.assetTypes=Xu(Zu,ec),t.objects=[e],t},e.prototype.hardDeleteStory=function(e,t){void 0===t&&(t=!0);var n=(e in Human.modules.modules?Human.modules.modules[e].sceneGraph:[]).map((function(e){return Human.scene.objects[e.objectId]})).filter((function(e){return!!e})),l=Object(jt.flatten)(n.map((function(e){return e.getLeafObjects()}))),i=Fr(Human.modules.deactivate,e,{}),o=Fr(Human.modules.unload,e,l,["geometries","morphs","reflections","tweens","lights","materials","transforms"]),a=Fr(Human.modules.destroy,e);return new Q.a((function(n){(Human.timeline.activeRoot&&Human.timeline.activeRoot.id===e?i():Promise.resolve({})).then((function(){return t?o():Promise.resolve({})})).then((function(){return a()})).then((function(){return n.next(),void n.complete()}))}))},e.prototype.getStoryTranslation=function(e,t,n){return this.http.get(t===a.Bookmark?"/search/bookmarks/tr/"+n+"/"+e:"/tr/"+n+"/"+e+".json").pipe(Object(c.a)((function(e){return Object(N.plainToClass)(zr,e)})))},e.prototype.getStoryType=function(e){return e.indexOf("/")>=0?a.Module:a.Bookmark},e.prototype.translateStory=function(e,t){var n=this,l=e.chapters||[],i=e.sceneGraph||[],o=t.objects||{},a=t.chapters||[];return e.displayName=t.displayName||e.displayName,e.description=t.description||e.description,i.forEach((function(e){(e.objects||[]).forEach((function(e){n.translateObject(e,o)}))})),l.forEach((function(e,t){var l=a[t];if(l){n.translateMetaInfo(e,l);var i=l.annotations||[];(e.annotations||[]).forEach((function(e,t){var l=i[t];l&&n.translateMetaInfo(e,l)}));var o=l.hotspots||[];(e.hotspots||[]).forEach((function(e,t){var l=o[t];l&&n.translateMetaInfo(e,l)}))}})),e},e.prototype.translateMetaInfo=function(e,t){var n=t.title,l=t.description;e.hasOwnProperty("displayName")&&(e.displayName=n),e.hasOwnProperty("title")&&(e.title=n),e.hasOwnProperty("description")&&(e.description=l)},e.prototype.translateObject=function(e,t){var n=this,l=t[e.objectId];l&&(e.displayName=l);var i=e.objects;i&&i.forEach((function(e){n.translateObject(e,t)}))},e.prototype.storeLabelsInChapters=function(e,t){t.forEach((function(t){t.labels=e.filter((function(e){return e.chapterId===t.id}))}))},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(u.c),i.Yb(au),i.Yb(Wu))},token:e,providedIn:"root"}),e}(),nc=function(){return function(){}}(),lc=n("dEwP"),ic=n("F1hP"),oc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ac=function(){function e(e,t,n,l){this.engineService=e,this.imageService=t,this.labelsService=n,this.store=l}return e.prototype.localResize=function(e,t){var n=Human.renderer.canvas.canvas,l=Human.renderer.canvas.annotationCanvas,i=n.parentNode,o=i.clientWidth,a=i.clientHeight;return i.width=e,i.height=t,n.width=e,n.height=t,l.width=e,l.height=t,i.style.width=e+"px",i.style.height=t+"px",Human.renderer.canvas.init(),Human.renderer.viewportDirty=!0,Human.renderer.camera.updateCanvas(),Human.renderer.postprocess.updateCanvas(),Human.renderer.draw.updateCanvas(),Human.renderer.viewportDirty=!0,Human.renderer.prepareFrame(),Human.renderer.forceRenderFrame(),[o,a]},e.prototype.drawHumanCanvasToThumbnail=function(e){var t=e.width/e.height,n=this.engineService.getCanvas(),l=n.height,i=t*l,o=.5*(n.width-i);return new Q.a((function(t){var a=e.getContext("2d");Human.renderer.forceRenderFrame(),a.drawImage(n,o,0,i,l,0,0,e.width,e.height),t.next(),t.complete()}))},e.prototype.drawResizeHumanCanvasToThumbnail=function(e){var t=this,n=this.engineService.getCanvas();n.style.opacity="0",this.store.dispatch(new Ci(!1));var l=oc(this.localResize(e.width,e.height),2),i=l[0],o=l[1],a=e.getContext("2d");return new Q.a((function(e){setTimeout((function(){Human.renderer.viewportDirty=!0,Human.renderer.prepareFrame(),Human.renderer.forceRenderFrame(),a.drawImage(n,0,0,n.width,n.height),t.localResize(i,o),document.getElementById("theCanvas").style.opacity="",t.store.dispatch(new Ci(!0)),e.next(),e.complete()}),10)}))},e.prototype.drawRadialGradient=function(e,t){var n=t.colors,l=oc(t.colorStops.map((function(t){return function(e,t,n){var l=oc([Math.pow(t/2,2),Math.pow(n/2,2)],2);return e/100*Math.pow(l[0]+l[1],.5)}(t,e.width,e.height)})),2),i=l[0],o=l[1],a=e.getContext("2d"),r=oc([e.width/2,e.height/2],2),u=r[0],c=r[1],s=a.createRadialGradient(u,c,i,u,c,o);s.addColorStop(t.colorStops[0]/100,"rgba("+n.slice(0,4).join(",")+")"),s.addColorStop(t.colorStops[1]/100,"rgba("+n.slice(4,8).join(",")+")"),a.fillStyle=s,a.fillRect(0,0,e.width,e.height)},e.prototype.drawLinearGradient=function(e,t){var n=t.colors,l=e.getContext("2d"),i=oc([e.width/2,e.height/2],2),o=i[0],a=l.createLinearGradient(o,i[1],o,e.height);a.addColorStop(t.colorStops[0]/100,"rgba("+n.slice(0,4).join(",")+")"),a.addColorStop(t.colorStops[1]/100,"rgba("+n.slice(4,8).join(",")+")"),l.fillStyle=a,l.fillRect(0,0,e.width,e.height)},e.prototype.takeSnapshot=function(e,t,n,l,i){var o=this,a=i.imageType,r=i.imageQuality,u=i.copyrightEnabled,s=document.createElement("canvas");s.width=e,s.height=t,"radial"===n.gradientType?this.drawRadialGradient(s,n):"linear"===n.gradientType&&this.drawLinearGradient(s,n);var p=this.engineService.getCanvas(),d=[],b=(s.height>p.height||s.width>p.width?this.drawResizeHumanCanvasToThumbnail(s):this.drawHumanCanvasToThumbnail(s)).pipe(Object(c.a)((function(){return s})));d.push(b);var g=this.labelsService.getLabelContainer();if(l&&g){var h=this.imageService.elementToCanvas(g.nativeElement,!0).pipe(Object(Ot.a)((function(n){return o.imageService.fitCanvas(n,{width:e,height:t})})));d.push(h)}return Object(lc.a)(d).pipe(Object(ic.a)(),Object(c.a)((function(e){return o.imageService.combineCanvasElements(e)})),Object(Ot.a)((function(e){return u?o.writeLogoToCanvas(e,i):Object(S.a)(e)})),Object(Ot.a)((function(e){return o.imageService.canvasToBlob(e,a,r)})))},e.prototype.writeLogoToCanvas=function(e,t){var n=this;return this.getLogoImage(t.copyrightImagePath).pipe(Object(c.a)((function(l){var i=l.width,o=l.height,a=e.width;.1*a>i&&(o=o/i*(i=.1*a));var r=n.getLogoPosition(a,e.height,i,o,t),u=r.xOffset,c=r.yOffset;return e.getContext("2d").drawImage(l,u,c,i,o),e})),Object(P.a)((function(){return Object(S.a)(e)})))},e.prototype.getLogoImage=function(e){return new Q.a((function(t){var n=new Image;n.onload=function(){t.next(n),t.complete()},n.onerror=function(){return t.error()},n.src=e}))},e.prototype.getLogoPosition=function(e,t,n,l,i){var o,a,r=i.copyrightPosition,u=i.copyrightOffset;switch(r.x){case"right":o=e-n;break;case"center":o=e/2-n/2;break;default:o=0}switch(r.y){case"bottom":a=t-l;break;case"center":a=t/2-l/2;break;default:a=0}return{xOffset:o+u.x,yOffset:a+u.y}},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(au),i.Yb(Ft),i.Yb(Au),i.Yb(h.i))},token:e,providedIn:"root"}),e}(),rc=function(){return function(){}}(),uc=function(){return function(e,t,n,l,i){this.left=e,this.top=t,this.width=n,this.height=l,this.visibility=i}}(),cc=function(e){return e[e.Hidden=-1]="Hidden",e[e.Shown=1]="Shown",e}({}),sc=function(){return function(){}}(),pc=function(){function e(e){this.id=e}return e.type="[Engine Camera] Clear Camera",e}(),dc=function(){function e(e,t){this.id=e,this.camera=t}return e.type="[Engine Camera] Store Camera",e}(),bc=function(){function e(e,t,n){void 0===t&&(t=!0),this.camera=e,this.animate=t,this.animationDuration=n}return e.type="[Engine Camera] Set Camera",e}(),gc=function(){function e(){}return e.type="[Engine Camera] Set Camera Success",e}(),hc=function(){function e(e){this.cameraMotion=e}return e.type="[Engine Camera] Move Camera",e}(),mc=function(){function e(){}return e.type="[Engine Camera] Reset Camera",e}(),fc=function(){function e(e){this.value=e}return e.type="[Engine Camera] Zoom Camera",e}(),yc=function(){function e(e){this.value=e}return e.type="[Engine Camera] Zoom Camera Static",e}(),_c=function(){function e(e){this.value=e}return e.type="[Engine Camera] Pan Camera X",e}(),vc=function(){function e(e){this.value=e}return e.type="[Engine Camera] Pan Camera Y",e}(),xc=function(){function e(e,t,n){this.x=e,this.y=t,this.z=n}return e.type="[Engine Camera] Pan Camera Static",e}(),Oc=function(){function e(e){this.value=e}return e.type="[Engine Camera] Rotate Camera X",e}(),wc=function(){function e(e){this.value=e}return e.type="[Engine Camera] Rotate Camera Y",e}(),Cc=function(){function e(e,t){this.x=e,this.y=t}return e.type="[Engine Camera] Rotate Camera Static",e}(),jc=function(){function e(e){this.mode=e}return e.type="[Engine Camera] Set Camera Mode",e}(),kc=function(){function e(e){this.zoomed=e}return e.type="[Engine Camera] Set Zoomed",e}(),Sc=function(){function e(e){this.lock=e}return e.type="[Engine Camera] Lock camera",e}(),Pc=function(){return function(e,t,n,l,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===l&&(l=0),void 0===i&&(i=0),this.zoom=e,this.panX=t,this.panY=n,this.rotateX=l,this.rotateY=i}}(),Ic=function(){return(Ic=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Mc={storedCameras:{},cameraMotion:new Pc,panMode:"rotate",zoomed:!1,lockCamera:!1},Tc=function(){function e(e){this.cameraService=e}var t;return t=e,e.getStoredCamera=function(e){return Object(h.j)([t],(function(t){return t.storedCameras[e]||null}))},e.getCameraMotion=function(e){return e.cameraMotion},e.getPanMode=function(e){return e.panMode},e.getZoomed=function(e){return e.zoomed},e.getLockCamera=function(e){return e.lockCamera},e.prototype.storeCamera=function(e,t){var n=t.camera||this.cameraService.getCamera(),l=e.getState().storedCameras;l[t.id]=Ic({},n),e.patchState({storedCameras:Ic({},l)})},e.prototype.clearCamera=function(e,t){var n=e.getState().storedCameras;delete n[t.id],e.patchState({storedCameras:Ic({},n)})},e.prototype.moveCamera=function(e,t){e.patchState({cameraMotion:Ic({},t.cameraMotion)})},e.prototype.resetCamera=function(e,t){return this.cameraService.resetCamera().pipe(Object(Fa.a)((function(){e.patchState({cameraMotion:new Pc})})))},e.prototype.zoomCamera=function(e,t){var n=e.getState().cameraMotion;n.zoom=t.value,e.patchState({cameraMotion:Ic({},n)})},e.prototype.panCameraX=function(e,t){var n=e.getState().cameraMotion;n.panX=t.value,e.patchState({cameraMotion:Ic({},n)})},e.prototype.panCameraY=function(e,t){var n=e.getState().cameraMotion;n.panY=t.value,e.patchState({cameraMotion:Ic({},n)})},e.prototype.rotateCameraX=function(e,t){var n=e.getState().cameraMotion;e.patchState({cameraMotion:Ic({},n,{rotateX:t.value})})},e.prototype.rotateCameraY=function(e,t){var n=e.getState().cameraMotion;n.rotateY=t.value,e.patchState({cameraMotion:Ic({},n)})},e.prototype.SetCameraMode=function(e,t){e.patchState({panMode:t.mode})},e.prototype.setZoomed=function(e,t){e.patchState({zoomed:t.zoomed})},e.prototype.lockCamera=function(e,t){e.patchState({lockCamera:t.lock})},Object(g.__decorate)([Object(h.a)(dc),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,dc]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"storeCamera",null),Object(g.__decorate)([Object(h.a)(pc),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,pc]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"clearCamera",null),Object(g.__decorate)([Object(h.a)(hc),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,hc]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"moveCamera",null),Object(g.__decorate)([Object(h.a)(mc),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,mc]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetCamera",null),Object(g.__decorate)([Object(h.a)(fc),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,fc]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"zoomCamera",null),Object(g.__decorate)([Object(h.a)(_c),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,_c]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"panCameraX",null),Object(g.__decorate)([Object(h.a)(vc),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,vc]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"panCameraY",null),Object(g.__decorate)([Object(h.a)(Oc),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Oc]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"rotateCameraX",null),Object(g.__decorate)([Object(h.a)(wc),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,wc]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"rotateCameraY",null),Object(g.__decorate)([Object(h.a)(jc),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,jc]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"SetCameraMode",null),Object(g.__decorate)([Object(h.a)(kc),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,kc]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setZoomed",null),Object(g.__decorate)([Object(h.a)(Sc),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Sc]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"lockCamera",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[sc]),Object(g.__metadata)("design:returntype",void 0)],e,"getCameraMotion",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[sc]),Object(g.__metadata)("design:returntype",void 0)],e,"getPanMode",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[sc]),Object(g.__metadata)("design:returntype",void 0)],e,"getZoomed",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[sc]),Object(g.__metadata)("design:returntype",void 0)],e,"getLockCamera",null),t=Object(g.__decorate)([Object(h.g)({name:"engineCamera",defaults:Mc})],e)}(),Kc=function(e){return e.Select="Select",e.Hide="Hide",e.Paint="Paint",e.Label="Label",e.Isolate="Isolate",e.Fade="Fade",e.Position="Position",e}({}),zc=function(){return(zc=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Lc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ec=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Lc(arguments[t]));return e},Uc=new uc(0,0,0,0,cc.Hidden),Fc=function(){function e(e,t){this.graphService=e,this.engineService=t}return e.getEngine=function(e){return e.engine},e.getReady=function(e){return e.ready},e.getDisplay=function(e){return e.display},e.getScrollMode=function(e){return e.scrollMode},e.getVisible=function(e){return e.visible},e.getViewGraph=function(e){return e.viewGraph},e.getViewGraphNode=function(e){return function(t){return e.viewGraph.nodes[t]}},e.getEnginePosition=function(e){return e.enginePosition},e.getChapter=function(e){return e.chapter},e.getActiveTool=function(e){return e.activeTool},e.getShowCameraBar=function(e){return e.showCameraBar},e.getShowLabels=function(e){return e.showLabels},e.getChapterInit=function(e){return e.chapterInit},e.getAnimationPlaying=function(e){return e.animationPlaying},e.getEnableAutoplay=function(e){return e.enableAutoplay},e.getXrayModeEnabled=function(e){return e.xrayModeEnabled},e.getXrayCachedColorRecipes=function(e){return e.xrayModeCachedColorRecipes},e.prototype.load=function(e,t){e.dispatch(new li("engine"))},e.prototype.loadSuccess=function(e,t){(0,e.patchState)({engine:t.result})},e.prototype.setReady=function(e,t){e.patchState({ready:t.ready})},e.prototype.setDisplay=function(e,t){e.patchState({display:t.display})},e.prototype.setZoomViaScrollAllowed=function(e,t){e.patchState({scrollMode:t.scrollMode})},e.prototype.setVisible=function(e,t){e.patchState({visible:t.visible})},e.prototype.setEnginePosition=function(e,t){e.patchState({enginePosition:zc({},t.position,{right:t.position.left+t.position.width,bottom:t.position.top+t.position.height})})},e.prototype.resetEnginePosition=function(e,t){e.patchState({enginePosition:Uc})},e.prototype.setChapter=function(e,t){e.patchState({chapter:t.chapterId})},e.prototype.setChapterInit=function(e,t){e.patchState({chapterInit:t.chapterInit})},e.prototype.setActiveTool=function(e,t){e.patchState({activeTool:t.tool})},e.prototype.setGraph=function(e,t){e.patchState({viewGraph:zc({},t.graph)})},e.prototype.clearGraph=function(e,t){e.patchState({viewGraph:{nodes:{},successors:{},predecessors:{},roots:{}}})},e.prototype.setXrayMode=function(e,t){e.patchState({xrayModeEnabled:t.enabled})},e.prototype.setXrayModeCacheColorRecipes=function(e,t){e.patchState({xrayModeCachedColorRecipes:Ec(t.cachedColorRecipes)})},e.prototype.centerCameraOnVisible=function(e,t){var n=this.engineService.getVisibleLeaves(),l=this.engineService.getBoundaryFromObjects(n),i=this.engineService.getCameraLookAt();i.look={x:(l.xmin+l.xmax)/2,y:(l.ymin+l.ymax)/2,z:(l.zmin+l.zmax)/2},Human.renderer.camera.fly.flyTo(i)},e.prototype.toggleCameraBar=function(e,t){e.patchState({showCameraBar:t.show})},e.prototype.toggleLabels=function(e,t){var n=null!=t.show?t.show:!e.getState().showLabels;e.patchState({showLabels:n})},e.prototype.synchronizeVisibleNodes=function(e,t){var n=this,l=e.getState().viewGraph,i=this.stateMapToNodeIds(l,t.leafVisibilityState),o={};i.forEach((function(e){var t=n.engineService.getLeafObjects(e).reduce((function(e,t){return e||Human.scene.objects[t].shown}),!1);o[e]={shown:t}})),this.graphService.synchronize(l,{shown:"trueWins"},o),e.patchState({viewGraph:zc({},l)})},e.prototype.synchronizeRenderableNodes=function(e,t){var n=e.getState().viewGraph,l=this.stateMapToNodeIds(n,t.leafRenderableState),i={};l.forEach((function(e){i[e]={renderable:!0}})),this.graphService.synchronize(n,{renderable:"falseWins"},i)},e.prototype.synchronizePickableNodes=function(e,t){var n=this,l=e.getState().viewGraph,i=this.stateMapToNodeIds(l,t.leafPickableState),o={};i.forEach((function(e){var t=n.engineService.getLeafObjects(e).reduce((function(e,t){return e||Human.scene.objects[t].pickable}),!1);o[e]={pickable:t}})),this.graphService.synchronize(l,{pickable:"trueWins"},o),e.patchState({viewGraph:zc({},l)})},e.prototype.playAnimation=function(e,t){e.patchState({animationPlaying:t.play})},e.prototype.enableAutoplay=function(e,t){e.patchState({enableAutoplay:t.enable})},e.prototype.setObjectLayerOrder=function(e,t){var n=this,l=e.getState().viewGraph,i=isNaN(t.layer)?0:t.layer,o=[];t.nodes.forEach((function(e){var t=n.graphService.getDescendants(l,e.id,!0);o=o.concat(t)})),o.forEach((function(e){n.engineService.setObjectLayer(e,i),n.graphService.setState(l,e,{layer:i})})),e.patchState({viewGraph:zc({},l)})},e.prototype.setObjectDisplayName=function(e,t){var n=Human.scene.objects[t.nodeId];n&&(n.displayName=t.displayName)},e.prototype.autoSortObjectLayers=function(e,t){var n=this,l=e.getState().viewGraph,i=0,o=Human.scene.getEnabledLeaves(),a=this.engineService.getObjectLayerValues(o);Object.keys(a).map((function(e){return parseInt(e,10)})).sort((function(e,t){return e-t})).forEach((function(e){a[e].sort((function(e,t){return t.value-e.value})).forEach((function(e){var t=20*i;n.engineService.setObjectLayer(e.nodeId,t),n.graphService.setState(l,e.nodeId,{layer:t}),i++}))})),e.patchState({viewGraph:zc({},l)})},e.prototype.resetObjectLayers=function(e,t){var n=this,l=e.getState().viewGraph;Human.scene.getEnabledLeaves().forEach((function(e){n.engineService.setObjectLayer(e,0),n.graphService.setState(l,e,{layer:0})})),e.patchState({viewGraph:zc({},l)})},e.prototype.setPostProcessingEffects=function(e,t){this.engineService.setPostProcessingFeatures(t.effects)},e.prototype.setProperties=function(e,t){this.engineService.setProperties(zc({},t.properties))},e.prototype.setTransparencyMode=function(e,t){this.engineService.setTransparencyMode(t.mode)},e.prototype.stateMapToNodeIds=function(e,t){var n=this,l=Object.keys(t).map((function(t){return n.engineService.getNode(e,t)})).filter((function(e){return!!e})).map((function(e){return e.id}));return new Set(l)},Object(g.__decorate)([Object(h.a)(ni),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ni]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"load",null),Object(g.__decorate)([Object(h.a)(li),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,li]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loadSuccess",null),Object(g.__decorate)([Object(h.a)(ii),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ii]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setReady",null),Object(g.__decorate)([Object(h.a)(oi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,oi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setDisplay",null),Object(g.__decorate)([Object(h.a)(ai),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ai]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setZoomViaScrollAllowed",null),Object(g.__decorate)([Object(h.a)(ui),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ui]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setVisible",null),Object(g.__decorate)([Object(h.a)(Ki),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ki]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setEnginePosition",null),Object(g.__decorate)([Object(h.a)(zi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,zi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetEnginePosition",null),Object(g.__decorate)([Object(h.a)(hi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,hi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setChapter",null),Object(g.__decorate)([Object(h.a)(mi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,mi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setChapterInit",null),Object(g.__decorate)([Object(h.a)(ji),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ji]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setActiveTool",null),Object(g.__decorate)([Object(h.a)(pi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,pi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setGraph",null),Object(g.__decorate)([Object(h.a)(di),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,pi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"clearGraph",null),Object(g.__decorate)([Object(h.a)(bi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,bi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setXrayMode",null),Object(g.__decorate)([Object(h.a)(gi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,gi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setXrayModeCacheColorRecipes",null),Object(g.__decorate)([Object(h.a)(_i),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,_i]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"centerCameraOnVisible",null),Object(g.__decorate)([Object(h.a)(wi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,wi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"toggleCameraBar",null),Object(g.__decorate)([Object(h.a)(Ci),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ci]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"toggleLabels",null),Object(g.__decorate)([Object(h.a)(vi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,vi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"synchronizeVisibleNodes",null),Object(g.__decorate)([Object(h.a)(xi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,xi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"synchronizeRenderableNodes",null),Object(g.__decorate)([Object(h.a)(Oi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Oi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"synchronizePickableNodes",null),Object(g.__decorate)([Object(h.a)(ki),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ki]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"playAnimation",null),Object(g.__decorate)([Object(h.a)(Si),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Si]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"enableAutoplay",null),Object(g.__decorate)([Object(h.a)(Pi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Pi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setObjectLayerOrder",null),Object(g.__decorate)([Object(h.a)(Ii),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ii]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setObjectDisplayName",null),Object(g.__decorate)([Object(h.a)(Mi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Mi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"autoSortObjectLayers",null),Object(g.__decorate)([Object(h.a)(Ti),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ti]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetObjectLayers",null),Object(g.__decorate)([Object(h.a)(Li),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Li]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setPostProcessingEffects",null),Object(g.__decorate)([Object(h.a)(Ei),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ei]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setProperties",null),Object(g.__decorate)([Object(h.a)(Ui),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ui]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setTransparencyMode",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getEngine",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getReady",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getDisplay",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getScrollMode",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getVisible",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getViewGraph",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getViewGraphNode",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getEnginePosition",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getChapter",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getActiveTool",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getShowCameraBar",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getShowLabels",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getChapterInit",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getAnimationPlaying",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getEnableAutoplay",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getXrayModeEnabled",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[rc]),Object(g.__metadata)("design:returntype",void 0)],e,"getXrayCachedColorRecipes",null),Object(g.__decorate)([Object(h.g)({name:"engine",defaults:{loading:!1,ready:!1,viewGraph:{nodes:{},successors:{},predecessors:{},roots:{}},engine:"",chapter:"",chapterInit:{id:"",init:!1,camera:!1,annotations:!1,graph:!1,properties:!1,particles:!1,clips:!1,postprocessing:!1,transparency:!1},showCameraBar:!0,showLabels:!0,activeTool:Kc.Select,animationPlaying:!0,enableAutoplay:!0,display:!0,visible:!0,scrollMode:tr.Capture,xrayModeEnabled:!1,xrayModeCachedColorRecipes:[]},children:[Tc]})],e)}(),Ac=function(){return function(){}}(),Dc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Nc={colors:[245,245,245,1,245,245,245,1],gradientType:"radial",colorStops:[0,100]},Rc={colors:[255,255,255,0,255,255,255,0],gradientType:"linear",colorStops:[0,100]},Bc=[{colors:[0,0,0,1,0,0,0,1],gradientType:"linear",colorStops:[0,100]},{colors:[38,38,38,1,38,38,38,1],gradientType:"linear",colorStops:[0,100]},{colors:[77,77,77,1,77,77,77,1],gradientType:"linear",colorStops:[0,100]},{colors:[115,115,115,1,115,115,115,1],gradientType:"linear",colorStops:[0,100]},{colors:[153,153,153,1,153,153,153,1],gradientType:"linear",colorStops:[0,100]},{colors:[191,191,191,1,191,191,191,1],gradientType:"linear",colorStops:[0,100]},{colors:[230,230,230,1,230,230,230,1],gradientType:"linear",colorStops:[0,100]},{colors:[255,255,255,1,255,255,255,1],gradientType:"linear",colorStops:[0,100]},{colors:[128,128,128,1,0,0,0,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,38,38,38,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,77,77,77,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,115,115,115,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,153,153,153,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,191,191,191,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,230,230,230,1],gradientType:"radial",colorStops:[0,100]},{colors:[128,128,128,1,255,255,255,1],gradientType:"radial",colorStops:[0,100]},{colors:[245,208,208,1,245,208,208,1],gradientType:"linear",colorStops:[0,100]},{colors:[253,236,219,1,253,236,219,1],gradientType:"linear",colorStops:[0,100]},{colors:[255,246,219,1,255,246,219,1],gradientType:"linear",colorStops:[0,100]},{colors:[220,236,213,1,220,236,213,1],gradientType:"linear",colorStops:[0,100]},{colors:[212,229,245,1,212,229,245,1],gradientType:"linear",colorStops:[0,100]},{colors:[219,212,235,1,219,212,235,1],gradientType:"linear",colorStops:[0,100]},{colors:[164,194,244,1,164,194,244,1],gradientType:"linear",colorStops:[0,100]},{colors:[118,165,175,1,118,165,175,1],gradientType:"linear",colorStops:[0,100]},{colors:[245,208,208,1,245,208,208,1],gradientType:"radial",colorStops:[0,100]},{colors:[253,236,219,1,240,169,99,1],gradientType:"radial",colorStops:[0,100]},{colors:[255,246,219,1,250,210,92,1],gradientType:"radial",colorStops:[0,100]},{colors:[220,236,213,1,147,188,129,1],gradientType:"radial",colorStops:[0,100]},{colors:[212,229,245,1,112,164,213,1],gradientType:"radial",colorStops:[0,100]},{colors:[219,212,235,1,145,128,187,1],gradientType:"radial",colorStops:[0,100]},{colors:[164,194,244,1,112,164,213,1],gradientType:"radial",colorStops:[0,100]},{colors:[211,211,211,1,118,165,175,1],gradientType:"radial",colorStops:[0,100]}],Hc=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Dc(arguments[t]));return e}(Bc,[{colors:[10,132,130,255,5,43,51,255],gradientType:"radial",colorStops:[0,68]},{colors:[0,28,84,1,0,0,0,1],gradientType:"radial",colorStops:[12,100]}]),Vc={small:{width:256,height:256},large:{width:1024,height:1024}},$c=function(){return function(){this.firstTime=0,this.lastTime=1}}(),Qc=function(){return(Qc=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Gc=function(){function e(e){this.engineService=e}return e.prototype.getChapterLocalTimerange=function(e){var t=Human.timeline.activeRoot._chapters.find((function(t){return t.id===e}));return Object(N.plainToClass)($c,t.timeRange)},e.prototype.mapGlobalTimeToLocal=function(e,t){return void 0===t&&(t={}),Human.timeline.activeRoot.mapGlobalTime(e,t)},e.prototype.mapLocalTimeToGlobal=function(e,t){var n=Human.timeline.activeRoot._chapters.find((function(t){return t.id===e}));return Human.timeline.activeRoot.mapBranchTime(n,t)},e.prototype.isChapterAnimated=function(e){return e.timelineMap.filter((function(e){return"dummy"!==Object(jt.get)(e,"data.timeline")&&"dummy"!==Object(jt.get)(e,"data.timeline.id")&&"dummy"!==Object(jt.get)(e,"data.timeline.id.id")})).length>0},e.prototype.scrub=function(e){Human.timeline.scrub({time:e.time,borderCondition:{which:e.which?e.which:"first",direction:"forward"}})},e.prototype.getTimeFrame=function(){return Human.timeline.getTimeFrame()},e.prototype.getTime=function(){return Human.timeline.time},e.prototype.isPlaying=function(){return Human.timeline.playing},e.prototype.play=function(e){var t=Object.keys(e).reduce((function(e,t){return void 0===e[t]&&delete e[t],e}),Qc({},e));Human.timeline.play(t)},e.prototype.unpause=function(){Human.timeline.unpause()},e.prototype.pause=function(){Human.timeline.pause()},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(au))},token:e,providedIn:"root"}),e}(),Wc=function(){return(Wc=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},qc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Yc=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qc(arguments[t]));return e},Xc={imageType:Ut.JPEG,copyrightEnabled:!1,copyrightImagePath:"assets/images/powered-by-biodigital-color.svg",copyrightPosition:{x:"left",y:"bottom"},copyrightOffset:{x:12,y:-12},imageQuality:1},Jc={loading:!1,chapters:[],chaptersModified:{},chaptersViewed:[],selectedChapter:null,shadowChapter:null,isChapterAnimated:!1,thumbnails:new Map},Zc=function(){function e(e,t,n,l,i,o){this.chapterService=e,this.cameraService=t,this.snapshotService=n,this.store=l,this.graphService=i,this.animationService=o}var t;return t=e,e.getStoryChapters=function(e){return e.chapters},e.getChaptersViewed=function(e){return e.chaptersViewed},e.getSelectedChapterId=function(e){return e.selectedChapter},e.getSelectedChapter=function(e){return e.chapters.find((function(t){return t.id===e.selectedChapter}))||null},e.getNextChapter=function(e){var n=1+t.getSelectedChapterIndex(e);return e.chapters[n]},e.getPreviousChapter=function(e){var n=-1+t.getSelectedChapterIndex(e);return e.chapters[n]},e.getSelectedChapterIndex=function(e){return e.chapters.findIndex((function(t){return t.id===e.selectedChapter}))},e.getSelectedChapterTitle=function(e){return e.chapters.find((function(t){return t.id===e.selectedChapter})).info.displayName},e.getSelectedChapterModified=function(e){return!0===e.chaptersModified[e.selectedChapter]},e.getChapterCount=function(e){return e.chapters.length},e.getRegisteredThumbnails=function(e){return e.thumbnails},e.getShadowChapter=function(e){return e.shadowChapter},e.getIsChapterAnimated=function(e){return e.isChapterAnimated},e.getChaptersLoaded=function(e){return{count:e.chapters.length,modelChapters:e.chapters.filter((function(e){return e.readyState.model})),animationChapters:e.chapters.filter((function(e){return e.readyState.animation}))}},e.getAllChaptersModelsReady=function(e){return e.chapters.length>0&&e.chapters.every((function(e){return e.readyState.model}))},e.getAllChaptersAnimationsReady=function(e){return e.chapters.length>0&&e.chapters.every((function(e){return e.readyState.animation}))},e.getSelectedChapterBackground=function(e){var n=t.findChapter(e.chapters,e.selectedChapter);return Object(jt.get)(n,"background")||Nc},e.getAllChaptersBackground=function(e){return e.chapters.map((function(e){return Object(jt.get)(e,"background")}))},e.getSelectedChapterAudio=function(e){var t=e.chapters.find((function(t){return t.id===e.selectedChapter}));return t&&t.media?Object.values(t.media).filter((function(e){return"audio"===e.data.streamType}))[0]:null},e.findChapter=function(e,t){return e.find((function(e){return e.id===t}))},e.prototype.setChapters=function(e,t){e.patchState({chapters:Yc(t.chapters)})},e.prototype.setChapter=function(e,t){var n=e.getState().chapters,l=n.findIndex((function(e){return e.id===t.chapter.id}));JSON.stringify(n[l])!==JSON.stringify(t.chapter)&&(n[l]=Wc({},t.chapter),e.patchState({chapters:Yc(n)}))},e.prototype.setChapterBackground=function(e,t){var n=e.getState().chapters;e.patchState({chapters:n.map((function(e){return e.id===t.chapterId&&(e.background=t.background),e}))})},e.prototype.setAllChaptersBackground=function(e,t){var n=t.background,l=e.getState().chapters;l.forEach((function(e){e.background=n})),e.patchState({chapters:Yc(l)})},e.prototype.resetSelectedChapterBackground=function(e,t){var n=e.getState();this.store.dispatch(new Wo(n.selectedChapter,n.shadowChapter.background))},e.prototype.setSelectedChapterBackground=function(e,t){var n=t.background,l=e.getState().selectedChapter;this.store.dispatch(new Wo(l,n))},e.prototype.selectChapter=function(e,t){if(t.chapter){var n=this.animationService.isChapterAnimated(t.chapter);this.store.dispatch(new ui(!!t.chapter));var l=e.getState().chaptersViewed;l.some((function(e){return t.chapter.id===e}))||l.push(t.chapter.id),e.patchState({selectedChapter:t.chapter?t.chapter.id:null,shadowChapter:t.chapter?Object(N.classToClass)(t.chapter):null,chaptersViewed:Yc(l),isChapterAnimated:n})}},e.prototype.selectChapterById=function(e,t){var n=t.chapterId;this.store.dispatch(new ui(!0)),e.patchState({selectedChapter:n})},e.prototype.saveLiveToChapter=function(e,t){var n=t.chapterId?t.chapterId:e.getState().selectedChapter,l=e.getState().shadowChapter,i=e.getState().chapters,o=i.findIndex((function(e){return e.id===n})),a=Wc({},i[o],Object(N.classToClass)(l));a.camera.location=this.cameraService.getCamera(),i[o]=a,this.chapterService.replaceEngineChapterWithStateChapter(i[o]),e.patchState({chapters:Yc(i)})},e.prototype.duplicateChapter=function(e,t){var n=!t.chapter,l=n?e.getState().shadowChapter:t.chapter,i=this.chapterService.copyChapter(l,t.chapterId),o=e.getState().chapters,a=o.length;this.chapterService.addChapterToEngine(Object(jt.cloneDeep)(i),a),o[a]=i,e.patchState({chapters:Yc(o)}),e.dispatch(new ao(l,i)),e.dispatch(new ca(n?null:l,i))},e.prototype.copyThumbnail=function(e,t){var n=e.getState().thumbnails,l=new Ac;if(t.sourceChapter){var i=n.get(t.sourceChapter.id);(l=Object(N.classToClass)(i)).urls.small=l.urls.small.replace(t.sourceChapter.id,t.targetChapter.id),l.urls.large=l.urls.large.replace(t.sourceChapter.id,t.targetChapter.id),l.snapshot=i.snapshot?i.snapshot:n.get(t.sourceChapter.id).urls.large,n.set(t.targetChapter.id,l),e.patchState({thumbnails:new Map(n)})}else e.dispatch(new sa(t.targetChapter.id))},e.prototype.nextChapter=function(e,t){var n=e.getState().chapters,l=this.chapterService.getCurrentChapterId(),i=0;(i=n.findIndex((function(e){return e.id===l})))<n.length-1&&i++,e.dispatch(new Vo(n[i]))},e.prototype.previousChapter=function(e,t){var n=e.getState().chapters,l=this.chapterService.getCurrentChapterId(),i=0;(i=n.findIndex((function(e){return e.id===l})))>0&&i--,e.dispatch(new Vo(n[i]))},e.prototype.lastChapter=function(e,t){var n=e.getState().chapters;e.dispatch(new Vo(n[n.length-1]))},e.prototype.firstChapter=function(e,t){var n=e.getState().chapters;e.dispatch(new Vo(n[0]))},e.prototype.removeChapter=function(e,t){var n=e.getState(),l=n.chapters,i=n.selectedChapter;if(1!==l.length){this.chapterService.removeChapterFromEngine(t.chapter);var o=l.findIndex((function(e){return e.id===t.chapter.id}));l.splice(o,1),e.patchState({chapters:Yc(l)}),t.chapter.id===i&&(o===l.length&&o--,e.dispatch(new Vo(l[o]))),e.dispatch(new so(t.chapter))}},e.prototype.resetStoryChaptersState=function(e,t){e.setState(Jc)},e.prototype.recordShadowChapter=function(e,t){e.patchState({shadowChapter:Object(N.classToClass)(t.chapter)})},e.prototype.recordChapterVisibilityState=function(e,t){this.store.dispatch(new ia(t.nodes,{shown:t.visible},t.record))},e.prototype.recordChapterPaintState=function(e,t){var n=this,l=e.getState().shadowChapter,i=this.store.selectSnapshot(Fc.getViewGraph),o=this.graphService.filterGraphAccessors(i,t.nodes.map((function(e){return e.id}))),a=Cu.toEngine(t.paintState),r=Object(jt.omitBy)(a,(function(e){return Object(jt.isNil)(e)})),u=l.synchronization;if(o.forEach((function(e){(u=n.chapterService.clearColorModsFromSync(u,n.graphService.getDescendants(i,e)))[e]=Wc({},u[e]||{},r)})),l.synchronization=Wc({},u),e.patchState({shadowChapter:Object(N.classToClass)(l)}),t.record){var c=e.getState().chapters,s=e.getState().selectedChapter,p=c.findIndex((function(e){return e.id===s})),d=c[p];this.chapterService.updateChapterSynchronization(d.id,l.synchronization),d.synchronization=Wc({},l.synchronization),e.patchState({chapters:Yc(c)})}},e.prototype.recordChapterCamera=function(e,t){var n=Wc({},t.camera),l=e.getState().shadowChapter;if(l.id===t.chapter.id&&(l.camera.location=n,e.patchState({shadowChapter:Object(N.classToClass)(l)})),t.record){var i=e.getState().chapters,o=i.findIndex((function(e){return e.id===t.chapter.id})),a=i[o];t.chapter.id===l.id&&this.chapterService.updateChapterSynchronization(a.id,l.synchronization),a.camera.location=Wc({},t.camera),e.patchState({chapters:Yc(i)})}},e.prototype.recordChapterPickableState=function(e,t){this.store.dispatch(new ia(t.nodes,{pickable:t.pickable},t.record))},e.prototype.recordChapterNodeState=function(e,t){var n=this,l=e.getState().shadowChapter,i=this.store.selectSnapshot(Fc.getViewGraph),o=this.graphService.filterGraphAccessors(i,t.nodes.map((function(e){return e.id}))),a=l.synchronization;if(o.forEach((function(e){Object.entries(t.stateMap).forEach((function(t){var l,o=qc(t,2),r=o[0],u=o[1];(a=n.chapterService.clearBoolStateFromSync(a,n.graphService.getDescendants(i,e),r))[e]=Wc({},a[e]||{},((l={})[r]=u,l))}))})),e.patchState({shadowChapter:Object(N.classToClass)(l)}),t.record){var r=e.getState().chapters,u=e.getState().selectedChapter,c=r.findIndex((function(e){return e.id===u})),s=r[c];this.chapterService.updateChapterSynchronization(s.id,l.synchronization),s.synchronization=Wc({},l.synchronization),e.patchState({chapters:Yc(r)})}},e.prototype.registerChapterThumbnails=function(e,t){e.patchState({thumbnails:new Map(t.thumbnails)})},e.prototype.takeChapterSnapshot=function(e,n){var l=this,i=n.chapterId,o=n.includeLabels,a=n.includeCopyright,r=n.dimensions||Vc.large,u=r.width,c=r.height,s=this.store.selectSnapshot(t.getSelectedChapterBackground),p=s&&!Xa.isTransparent(s)?s:Nc,d=s.colors.slice(0,3),b=Ge.isLight(d),g=Wc({},Xc,{copyrightEnabled:a,copyrightImagePath:b?"assets/images/powered-by-biodigital-color.svg":"assets/images/powered-by-biodigital-white.svg"});setTimeout((function(){l.snapshotService.takeSnapshot(u,c,p,o,g).subscribe((function(t){e.dispatch(new pa(i,t,r))}))}))},e.prototype.takeChapterSnapshotSuccess=function(e,t){var n=e.getState().thumbnails,l=n.get(t.chapterId)||new Ac;l.snapshot=URL.createObjectURL(t.blob),n.set(t.chapterId,l),e.patchState({thumbnails:new Map(n)})},e.prototype.setChaptersModfied=function(e,t){var n,l=t.chapterId,i=t.modified,o=e.getState().chaptersModified;e.patchState({chaptersModified:Wc({},o,(n={},n[l]=i,n))})},e.prototype.ResetChaptersModfied=function(e,t){e.patchState({chaptersModified:{}})},Object(g.__decorate)([Object(h.a)(Qo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Qo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setChapters",null),Object(g.__decorate)([Object(h.a)(Go),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Go]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setChapter",null),Object(g.__decorate)([Object(h.a)(Wo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Wo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setChapterBackground",null),Object(g.__decorate)([Object(h.a)(qo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Object]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setAllChaptersBackground",null),Object(g.__decorate)([Object(h.a)(Yo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Yo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetSelectedChapterBackground",null),Object(g.__decorate)([Object(h.a)(Xo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Object]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setSelectedChapterBackground",null),Object(g.__decorate)([Object(h.a)(Vo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Vo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"selectChapter",null),Object(g.__decorate)([Object(h.a)($o),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Object]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"selectChapterById",null),Object(g.__decorate)([Object(h.a)(Jo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Jo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"saveLiveToChapter",null),Object(g.__decorate)([Object(h.a)(Zo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Zo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"duplicateChapter",null),Object(g.__decorate)([Object(h.a)(ca),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ca]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"copyThumbnail",null),Object(g.__decorate)([Object(h.a)(No),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,No]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"nextChapter",null),Object(g.__decorate)([Object(h.a)(Ro),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ro]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"previousChapter",null),Object(g.__decorate)([Object(h.a)(Ho),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ho]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"lastChapter",null),Object(g.__decorate)([Object(h.a)(Bo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ho]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"firstChapter",null),Object(g.__decorate)([Object(h.a)(ea),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ea]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"removeChapter",null),Object(g.__decorate)([Object(h.a)(ta),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ta]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetStoryChaptersState",null),Object(g.__decorate)([Object(h.a)(aa),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,aa]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"recordShadowChapter",null),Object(g.__decorate)([Object(h.a)(na),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,na]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"recordChapterVisibilityState",null),Object(g.__decorate)([Object(h.a)(oa),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,oa]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"recordChapterPaintState",null),Object(g.__decorate)([Object(h.a)(ua),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ua]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"recordChapterCamera",null),Object(g.__decorate)([Object(h.a)(la),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,la]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"recordChapterPickableState",null),Object(g.__decorate)([Object(h.a)(ia),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ia]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"recordChapterNodeState",null),Object(g.__decorate)([Object(h.a)(ra),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ra]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"registerChapterThumbnails",null),Object(g.__decorate)([Object(h.a)(sa),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,sa]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"takeChapterSnapshot",null),Object(g.__decorate)([Object(h.a)(pa),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,pa]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"takeChapterSnapshotSuccess",null),Object(g.__decorate)([Object(h.a)(da),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,da]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setChaptersModfied",null),Object(g.__decorate)([Object(h.a)(ba),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ba]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"ResetChaptersModfied",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getStoryChapters",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getChaptersViewed",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedChapterId",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedChapter",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getNextChapter",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getPreviousChapter",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedChapterIndex",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedChapterTitle",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedChapterModified",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getChapterCount",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getRegisteredThumbnails",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getShadowChapter",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getIsChapterAnimated",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getChaptersLoaded",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getAllChaptersModelsReady",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getAllChaptersAnimationsReady",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedChapterBackground",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getAllChaptersBackground",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedChapterAudio",null),t=Object(g.__decorate)([Object(h.g)({name:"storyChapters",defaults:Jc})],e)}(),es=function(){return(es=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ts=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},ns=function(){return(ns=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ls=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},is=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},os=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(is(arguments[t]));return e};function as(e,t,n){var l=function(e,t){var n,l,i,o,a={};try{for(var r=ls(e),u=r.next();!u.done;u=r.next()){var c=Object.keys(t[u.value]);try{for(var s=ls(c),p=s.next();!p.done;p=s.next())a[p.value]=!1}catch(d){i={error:d}}finally{try{p&&!p.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}}catch(b){n={error:b}}finally{try{u&&!u.done&&(l=r.return)&&l.call(r)}finally{if(n)throw n.error}}return a}(t,n);return e.map((function(e){return ns({},e,{showObjects:ns({},e.showObjects,l),selectObjects:ns({},e.selectObjects,l),pickThroughObjects:ns({},e.pickThroughObjects,l)})}))}var rs=function(){return(rs=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function us(e){return e.split("/").length>1?a.Module:a.Bookmark}var cs=function(){return(cs=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ss=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ps=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ss(arguments[t]));return e},ds=function(){return(ds=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},bs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},gs=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bs(arguments[t]));return e};function hs(e,t){return e.map((function(e){if(!Object(jt.isEmpty)(e.lights))return e;var n={libraries:gs(t),lights:[]};return ds({},e,{lights:n})}))}var ms=function(){return(ms=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},fs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ys=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fs(arguments[t]));return e};function _s(e){return e.split("_particle-")[0]}function vs(e,t){return e.customData&&e.customData.particleSystems?e.customData.particleSystems.reduce((function(e,n){var l=_s(n.id);return e[l]=l+"_"+t("particle"),e}),{}):{}}function xs(e,t){return e.customData&&e.customData.particleSystems?e.customData.particleSystems.map((function(e){var n=_s(e.id);return ms({},e,{id:t[n]})})):[]}function Os(e,t){return e.map((function(e){return e.customData&&e.customData.particleSystems&&(e.customData.particleSystems=e.customData.particleSystems.map((function(e){return t[_s(e)]}))),e}))}function ws(e,t){return e.map((function(e){return e.id})).reduce((function(n,l){return e.some((function(e){return e.id===l&&Object(jt.get)(e,"customData.particleSystems",[]).length>0}))&&(n[l]=t),n}),{})}var Cs,js=function(){return(js=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ks=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ss=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ks(arguments[t]));return e};function Ps(e,t,n,l,i,o){void 0===i&&(i=a.Bookmark),void 0===o&&(o=ur.idWithPrefix);var r,u,c,s=function(e,t){var n=function(e){return void 0!==e.objectId},l=is(Object(jt.partition)(e,n),2),i=l[0],o=l[1],a=is(Object(jt.partition)(t,n),2),r=a[0],u=function(e,t){return t.reduce((function(t,n){var l,i;try{for(var o=ls(e),a=o.next();!a.done;a=o.next()){var r=a.value;Object(jt.isEqual)(r,n)||t.push(n)}}catch(u){l={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(l)throw l.error}}return t}),e)}(o,a[1]),c=function(e,t){var n=e.reduce((function(e,t){return e[t.objectId]=t,e}),{}),l=t.reduce((function(e,t){if(void 0===e.nodes[t.objectId])return e.nodes[t.objectId]=t,e;if(!Object(jt.isEqual)(t,e.nodes[t.objectId])){var n=(l={},i={},{root:function e(t,n){var o,a,r,u,c,s,p,d;if(t.objectId!==n.objectId)return l[n.objectId]=!0,[t,n];if(void 0===t.objects&&n.objects){try{for(var b=ts(n.objects),g=b.next();!g.done;g=b.next())l[g.value.objectId]=!0}catch(j){o={error:j}}finally{try{g&&!g.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}return[es({},n)]}if(t.objects&&void 0===n.objects){try{for(var h=ts(t.objects),m=h.next();!m.done;m=h.next())i[m.value.objectId]=!0}catch(k){r={error:k}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(r)throw r.error}}return[es({},t)]}if(void 0===t.objects&&void 0===n.objects)return[es({},t)];var f=[],y=function(t){var l=n.objects.find((function(e){return e.objectId===t.objectId}));l?f.push(e(t,l)):(i[t.objectId]=!0,f.push(t))};try{for(var _=ts(t.objects),v=_.next();!v.done;v=_.next())y(v.value)}catch(S){c={error:S}}finally{try{v&&!v.done&&(s=_.return)&&s.call(_)}finally{if(c)throw c.error}}var x=function(e){t.objects.find((function(t){return t.objectId===e.objectId}))||(l[e.objectId]=!0,f.push(e))};try{for(var O=ts(n.objects),w=O.next();!w.done;w=O.next())x(w.value)}catch(P){p={error:P}}finally{try{w&&!w.done&&(d=O.return)&&d.call(O)}finally{if(p)throw p.error}}var C=es({},t);return C.objects=Object(jt.flatten)(f),[C]}(e.nodes[t.objectId],t),objectIdsUniqueToNew:l,objectIdsUniqueToOriginal:i});e.nodes[t.objectId]=n.root[0],e.graphsMerged.push(t.objectId),e.objectIdsUniqueToNew[t.objectId]=n.objectIdsUniqueToNew,e.objectIdsUniqueToOriginal[t.objectId]=n.objectIdsUniqueToOriginal}var l,i;return e}),{nodes:n,graphsMerged:[],objectIdsUniqueToNew:{},objectIdsUniqueToOriginal:{}});return{newSceneGraph:Object.keys(l.nodes).reduce((function(e,t){return e.push(l.nodes[t]),e}),[]),graphsMerged:l.graphsMerged,objectIdsUniqueToNew:l.objectIdsUniqueToNew,objectIdsUniqueToOriginal:l.objectIdsUniqueToOriginal}}(i,r),s=c.graphsMerged,p=c.objectIdsUniqueToNew,d=c.objectIdsUniqueToOriginal;return{sceneGraph:os(u,c.newSceneGraph),graphsMerged:s,objectIdsUniqueToNew:p,objectIdsUniqueToOriginal:d}}(e.sceneGraph,n.sceneGraph),p=s.sceneGraph,d=s.graphsMerged,b=s.objectIdsUniqueToNew,g=s.objectIdsUniqueToOriginal,h={lights:(c=function(e,t){return Object(jt.uniq)(ps(e,t))})((r=e.assetLibraries).lights,(u=n.assetLibraries).lights),tweens:c(r.tweens,u.tweens),regionMaps:c(r.regionMaps,u.regionMaps),reflections:c(r.reflections,u.reflections)},m=function(e,t,n,l){e=e||{},t=t||{};var i=function(e,t){return t.includes("/")?t:function(e){return us(e)===a.Bookmark?e:e.split("/").pop()}(e)+"/"+t};return cs({},Object(jt.mapKeys)(e,(function(e,t){return i(n,t)})),Object(jt.mapKeys)(t,(function(e,t){return i(l,t)})))}(e.reflections,n.reflections,t,l),f=function(e,t,n){e=e||{},t=t||{};var l=Object.keys(t).reduce((function(e,l){var i=n("color-recipe-"+l);return e.newColorRecipeIds[l]=i,e.colorRecipes[i]=t[l],e}),{colorRecipes:{},newColorRecipeIds:{}});return{colorRecipes:rs({},e,l.colorRecipes),newColorRecipeIds:l.newColorRecipeIds}}(e.colorRecipes,n.colorRecipes,o),y=f.colorRecipes,_=f.newColorRecipeIds,v=hs(e.chapters,e.assetLibraries.lights),x=hs(n.chapters,n.assetLibraries.lights),O=function(e,t,n,l,i){var o=vs(e,i),a=vs(t,i),r=ys(xs(e,o),xs(t,a)),u=Os(n,o),c=Os(l,a),s=ms({},ws(u,o),ws(c,a));return{mergedParticles:r,currentChapters:u,importedChapters:c,tweenParticleLookup:Object(jt.pickBy)(s,(function(e,t){return!Object(jt.isEmpty)(e)}))}}(e,n,as(v,d,b),as(x,d,g).map((function(e){return js({},e,{id:o("chapter")})})),o),w=function(e,t){return e.map((function(e){if(Object(jt.isEmpty)(e.colorRecipeObjects))return e;var n=Object.keys(e.colorRecipeObjects).reduce((function(n,l){return n[t[l]]=e.colorRecipeObjects[l],n}),{});return e.colorRecipeObjects=n,e}))}(O.importedChapters,_),C=Ss(O.currentChapters,w),j=js({},e.customData,{particleSystems:O.mergedParticles});return js({},e,{assetLibraries:h,chapters:C,sceneGraph:p,customData:j,tags:"module"===i?e.tags:[],reflections:m,colorRecipes:y,stateId:Object(jt.uniq)(Ss(e.stateId,n.stateId)),tweenParticleLookup:O.tweenParticleLookup})}(Cs||(Cs={})).generateThumbnailUrls=function(e){return e.reduce((function(e,t){var n=t.originalChapterId,l=t.newChapterId,i=t.originalStoryId,o="/thumbs/"+(a.Bookmark===us(i)?"bookmarks":"modules")+"/"+i,r=new Ac;return r.storyId=i,r.chapterId=n,r.urls={small:o+"/small/chapters/"+n+".jpg",large:o+"/large/chapters/"+n+".jpg"},e.set(l,r),e}),new Map)};var Is,Ms=function(){return(Ms=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ts=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ks=1e-4;!function(e){function t(e,t){void 0===t&&(t=0),["x","y","z"].forEach((function(n){void 0!==e[n]&&Math.abs(e[n]-t)<Ks&&delete e[n]}))}function n(e){["translate","rotate","pivot"].forEach((function(n){void 0!==e[n]&&(t(e[n]),0===Object.keys(e[n]).length&&delete e[n])})),void 0!==e.scale&&(t(e.scale,1),0===Object.keys(e.scale).length&&delete e.scale)}function l(e,t){["backfaces","displayName","layer"].forEach((function(n){e[n]&&(t[n]=e[n])}))}function i(e,t){var l=new fr;l.translate=JSON.parse(JSON.stringify(e.translate)),l.rotate=JSON.parse(JSON.stringify(e.rotate)),l.scale=JSON.parse(JSON.stringify(e.scale)),l.pivot=JSON.parse(JSON.stringify(e.pivot)),n(l),Object.entries(l).forEach((function(e){var n=Ts(e,2);t[n[0]]=JSON.parse(JSON.stringify(n[1]))})),t.transformId&&delete t.transformId}function o(e,t){var n=["geometryId","morphId","materialId"],l=[];return e.renderables&&e.renderables.forEach((function(e){var t=new mr;n.forEach((function(n){e[n]&&(t[n]=e[n])})),e.layer&&(t.layer=e.layer),l.push(t)})),1===l.length?t=Ms({},t,l[0]):l.length>1&&(t.renderables=l),t}e.filterTransformProperties=n,e.serializeObjectProperties=l,e.serializeTransformData=i,e.serializeRenderables=o,e.serializeHumanObject=function e(t,n){if(n[t.objectId])return null;var a=new yr;return a.objectId=t.objectId,l(t,a),i(t,a),a=o(t,a),t.objects&&t.objects.length&&(a.objects=[]),t.objects.forEach((function(t){var l=e(t,n);null!==l&&a.objects.push(l)}),this),a}}(Is||(Is={}));var zs,Ls=function(){return(Ls=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};!function(e){e.updateChapterIds=function(e,t){return Object.keys(e).reduce((function(n,l){return n[t[l]]=e[l],n}),{})},e.duplicateChapter=function(e,t,n){var l;return Ls({},n,((l={})[t]=n[e],l))},e.deleteChapter=function(e,t){var n=Ls({},t);return delete n[e],n},e.refreshEngineLookup=function(e,t){Human.modules.moduleData[e].tweenParticleLookup=t}}(zs||(zs={}));var Es,Us=function(){return(Us=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Fs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};!function(e){function t(e,t){return Object.entries(t).reduce((function(e,t){var n=Fs(t,2),l=n[0],i=n[1];if(e.startsWith(l)){var o=new RegExp("^"+l);e=e.replace(o,i)}return e}),e||"")}e.renamespaceValue=t,e.renamespaceKeys=function(e,n){return Object.entries(e).reduce((function(e,l){var i=Fs(l,2),o=i[1];return e[t(i[0],n)]=o,e}),{})},e.renamespaceAssetLibrary=function(e,n,l){if(!l)return e;var i=e.tweens.map((function(e){return t(e,n)})),o=e.reflections.map((function(e){return t(e,n)}));return Us({},e,{tweens:i,reflections:o})},e.renamespaceReflections=function(e,n,l){return l?Object(jt.mapValues)(e,(function(e){return t(e,n)})):e}}(Es||(Es={}));var As=function(){return(As=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ds=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};function Ns(e,t){return{showObjects:Object(jt.mapKeys)(e.showObjects,(function(e,n){return Es.renamespaceValue(n,t)})),selectObjects:Object(jt.mapKeys)(e.selectObjects,(function(e,n){return Es.renamespaceValue(n,t)})),pickThroughObjects:Object(jt.mapKeys)(e.pickThroughObjects,(function(e,n){return Es.renamespaceValue(n,t)})),synchronization:Object(jt.mapKeys)(e.synchronization,(function(e,n){return Es.renamespaceValue(n,t)}))}}function Rs(e,t){return(e||[]).map((function(e){return As({},e,{objectId:Es.renamespaceValue(e.objectId,t),states:e.states.map((function(e){return As({},e,{errands:(n=e.errands,n.map((function(e){return e.type===Mu.flyToChapter||e.type===Mu.flyToObject?As({},e,{value:Es.renamespaceValue(e.value,t)}):e})))});var n}))})}))}function Bs(e,t){return(e||[]).map((function(e){return e.data.timeline=t[e.data.timeline]||e.data.timeline,e}))}function Hs(e,t){return(e||[]).map((function(e){return e.objectId&&(e.objectId=Es.renamespaceValue(e.objectId,t)),e}))}function Vs(e,t){return e?{xray:Object(jt.mapKeys)(e.xray,(function(e,n){return Es.renamespaceValue(n,t)})),highlight:Object(jt.mapKeys)(e.highlight,(function(e,n){return Es.renamespaceValue(n,t)}))}:{}}function $s(e,t){var n=function(e,t){return"string"==typeof e?[t[e]||e]:e.map((function(e){return t[e]||e}))}(e.stateId,t),l=e.assetLibraries.tweens.map((function(e){return Es.renamespaceValue(e,t)})),i=e.assetLibraries.reflections.map((function(e){return Es.renamespaceValue(e,t)})),o=Object(jt.mapValues)(e.reflections,(function(e,n){return Es.renamespaceValue(e,t)})),a=function(e,t){return e.map((function(e){return As({},e,Ns(e,t),{colorRecipeObjects:Vs(e.colorRecipeObjects,t),timelineMap:Bs(e.timelineMap,t),labels:Rs(e.labels,t),hotspots:Hs(e.hotspots,t)})}))}(e.chapters,t),r=function e(t,n){var l,i,o=function(t){["objectId","displayName","geometryId","morphId","materialId"].forEach((function(e){t[e]&&(t[e]=Es.renamespaceValue(t[e],n))})),e(t.objects||[],n)};try{for(var a=Ds(t),r=a.next();!r.done;r=a.next())o(r.value)}catch(u){l={error:u}}finally{try{r&&!r.done&&(i=a.return)&&i.call(a)}finally{if(l)throw l.error}}return t}(e.sceneGraph,t);return As({},e,{stateId:n},Ns(e,t),{assetLibraries:As({},e.assetLibraries,{tweens:l,reflections:i}),reflections:o,chapters:a,sceneGraph:r})}var Qs=function(){return(Qs=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Gs=function(){function e(e,t,n,l){this.store=e,this.engineService=t,this.chapterSerializer=n,this.animationService=l}return e.prototype.serializeUI=function(e){var t=Qs({},e.ui);return e.chapters.length>1&&(t.scrubber=!1,t.playPause=!1,t.tour={chapters:!0}),t},e.prototype.serializeAnimation=function(e){return this.animationService.isChapterAnimated(e)?{startTime:e.timelineMap[0].start,loop:!1!==e.loop,numChapters:1}:{}},e.prototype.generateTrimObjectMap=function(e,t){var n=this.engineService.getSceneGraph(Human.scene.rootObjects),l={};t.graph.hidden&&(l=Qs({},l,this.engineService.queryShownObjects(e,n,!0)));var i={};for(var o in l)i[o]=!l[o];return i},e.prototype.serialize=function(e,t,n,l,i,o){void 0===e&&(e=!1),void 0===l&&(l=!1);var a=this.generateTrimObjectMap(o,n),r=Object(jt.cloneDeep)(i),u=this.chapterSerializer.serialize(o,e,t);if(r.chapters=u.chapters,!1===e&&r.tweenParticleLookup){var c=Object(jt.invert)(u.sourceIdMap);r.tweenParticleLookup=zs.updateChapterIds(r.tweenParticleLookup,c)}var s=Human.scene.rootObjects;return r.sceneGraph=function(e,t){var n=[];return Object.entries(e).forEach((function(e){var l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2),i=Is.serializeHumanObject(l[1],t);null!==i&&n.push(i)}),this),n}(s,a),r.ui=this.serializeUI(r),r.animation=this.serializeAnimation(o[0]),{story:l?$s(r,t):r,chapterIdMap:u.sourceIdMap}},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(h.i),i.Yb(au),i.Yb(Vu),i.Yb(Gc))},token:e,providedIn:"root"}),e}(),Ws=function(){return(Ws=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},qs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ys=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qs(arguments[t]));return e},Xs={loading:!1,incoming:{id:void 0,type:void 0},storyId:void 0,storyType:void 0,loadingChunk:null,loadType:Lr.OnDemand,loadChunks:[],loadChunksRemaining:[],thumbnailLookup:[]},Js=function(){function e(e,t,n){this.store=e,this.storyService=t,this.serializeModuleService=n}var t;return t=e,e.getStory=function(e){return e.story},e.getStoryId=function(e){return e.storyId},e.getLoadChunks=function(e){return e.loadChunks},e.getLoadChunksRemaining=function(e){return e.loadChunksRemaining},e.getStoryInfo=function(e){return{id:e.storyId,type:e.storyType}},e.getLoadType=function(e){return e.loadType},e.getIncomingStoryInfo=function(e){return e.incoming},e.getStoryTags=function(e){return Object(jt.get)(e,"story.tags",[])},e.prototype.setStoryText=function(e,t){var n=e.getState().story;n&&e.patchState({story:Ws({},n,{displayName:t.displayName})})},e.prototype.setStoryTags=function(e,t){var n=t.tags,l=e.getState().story;l&&e.patchState({story:Ws({},l,{tags:n})})},e.prototype.setStory=function(e,t){e.patchState({story:t.story})},e.prototype.SetStoryId=function(e,t){e.patchState({storyId:t.id})},e.prototype.setIncomingStory=function(e,t){var n=e.getState(),l=t.id,i=t.reset;l!==n.storyId||i?e.patchState({incoming:{id:l,type:t.type}}):i&&e.dispatch(new To(t.id,n.story,t.type,n.loadType))},e.prototype.loadStory=function(e,t){this.storyService.getStory(t.id,t.type,t.lang).subscribe((function(n){e.dispatch(new Lo(n,t.id,t.type))}),(function(){e.dispatch(new Eo(t.id,t.type))}))},e.prototype.fetchStory=function(e,t){this.storyService.getStory(t.id,t.type,t.lang).subscribe((function(n){e.dispatch(new Lo(n,t.id,t.type))}),(function(){e.dispatch(new Eo(t.id,t.type))}))},e.prototype.loadStorySuccess=function(e,t){var n=e.getState().loadType;this.storyService.unloadStory(null).subscribe((function(){e.dispatch(new To(t.id,t.story,t.type,n))}))},e.prototype.buildStoryWorkflow=function(e,t,n,l,i,o,a){var r=this;void 0===o&&(o=0),void 0===a&&(a=new Map),this.storyService.buildStory(t,n,!0).subscribe((function(u){var c=r.storyService.getStoryChapters(t,l),s=[];c.forEach((function(e){s=Ys(s,e.labels)}));var p=r.storyService.getLoadConfig(t,o),d=r.storyService.getStoryLoadChunks(t,p,i);e.patchState({storyId:t,story:n,loadChunks:d,loadChunksRemaining:d,incoming:{id:void 0,type:void 0}}),e.dispatch(new Qo(c)),e.dispatch(new ra(a)),e.dispatch(new lo(s)),e.dispatch(new Vo(c[o])),e.dispatch(new Po)}))},e.prototype.setTweenParticleLookup=function(e,t){e.patchState({story:Ws({},e.getState().story,{tweenParticleLookup:t.lookup})})},e.prototype.importStorySuccess=function(e,n){var l=this,i=e.getState(),o=i.storyType,a=i.storyId,u=Lr.Progressive,c=new Ir,s=this.store.selectSnapshot(t.getStory),p=this.store.selectSnapshot(Zc.getStoryChapters),d=this.serializeModuleService.serialize(!0,{},c,!1,s,p).story,b=Ps(d,a,n.story,n.id,r.exportType),g=d.chapters.map((function(e,t){return{newChapterId:e.id,originalChapterId:e.id,originalStoryId:a}})),h=(i.thumbnailLookup||[]).concat(n.story.chapters.map((function(e,t){return{newChapterId:b.chapters[d.chapters.length+t].id,originalChapterId:e.id,originalStoryId:n.id}})));e.patchState({thumbnailLookup:h});var m=Cs.generateThumbnailUrls(Ys(g,h)),f=this.store.selectSnapshot(Zc.getRegisteredThumbnails),y=new Map(Ys(f).filter((function(e){return e[1].snapshot}))),_=new Map(Ys(m,y));this.storyService.unloadStory(null,!0).subscribe((function(){l.buildStoryWorkflow(e,a,b,o,u,b.chapters.length-1,_)}))},e.prototype.buildStory=function(e,t){var n=t.story.chapters.map((function(e,n){return{newChapterId:e.id,originalChapterId:e.id,originalStoryId:t.id}})),l=Cs.generateThumbnailUrls(n);this.buildStoryWorkflow(e,t.id,t.story,t.type,t.loadType,t.chapterIdx||0,l)},e.prototype.unloadStory=function(){},e.prototype.loadStoryChunk=function(e){var t=e.getState().loadChunksRemaining[0];t&&(e.patchState({loadingChunk:t}),this.storyService.loadStoryChunk(t,(function(){e.dispatch([new Mo(t),new Po])})))},e.prototype.reorderLoadChunks=function(e,t){var n=e.getState().loadChunksRemaining,l=qs(Object(jt.partition)(n,(function(e){return e.chapterId===t.chapterId})),2);e.patchState({loadChunksRemaining:Ys(l[0],l[1])})},e.prototype.loadStoryChunkSuccess=function(e,t){var n=this.store.selectSnapshot(Zc.getStoryChapters),l=Ws({},n.find((function(e){return t.chunk.chapterId===e.id}))),i=e.getState().loadChunksRemaining.filter((function(e){return e.chunkId!==t.chunk.chunkId}));e.patchState({loadingChunk:null,loadChunksRemaining:i}),l.readyState=Ws({},l.readyState,t.chunk.readyState),e.dispatch(new Go(l))},e.prototype.synchronizeChapters=function(e){var t=this.store.selectSnapshot(Zc.getStoryChapters),n=e.getState().story;e.patchState({story:Ws({},n,{chapters:Ys(t)})})},e.prototype.importStory=function(e,t){this.storyService.getStory(t.id,t.type,t.lang).subscribe((function(n){e.dispatch(new Fo(n,t.id,t.type))}))},e.prototype.resetStory=function(e){e.setState(Xs)},Object(g.__decorate)([Object(h.a)(jo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,jo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setStoryText",null),Object(g.__decorate)([Object(h.a)(ko),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ko]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setStoryTags",null),Object(g.__decorate)([Object(h.a)(wo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,wo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setStory",null),Object(g.__decorate)([Object(h.a)(Co),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Co]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"SetStoryId",null),Object(g.__decorate)([Object(h.a)(So),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,So]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setIncomingStory",null),Object(g.__decorate)([Object(h.a)(Oo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Oo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loadStory",null),Object(g.__decorate)([Object(h.a)(xo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,xo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"fetchStory",null),Object(g.__decorate)([Object(h.a)(Lo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Lo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loadStorySuccess",null),Object(g.__decorate)([Object(h.a)(Ko),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ko]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setTweenParticleLookup",null),Object(g.__decorate)([Object(h.a)(Fo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Fo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"importStorySuccess",null),Object(g.__decorate)([Object(h.a)(To),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,To]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"buildStory",null),Object(g.__decorate)([Object(h.a)(zo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"unloadStory",null),Object(g.__decorate)([Object(h.a)(Po),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loadStoryChunk",null),Object(g.__decorate)([Object(h.a)(Io),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Io]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"reorderLoadChunks",null),Object(g.__decorate)([Object(h.a)(Mo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Mo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loadStoryChunkSuccess",null),Object(g.__decorate)([Object(h.a)(Do),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"synchronizeChapters",null),Object(g.__decorate)([Object(h.a)(Uo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Uo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"importStory",null),Object(g.__decorate)([Object(h.a)(Ao),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetStory",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Mr]),Object(g.__metadata)("design:returntype",void 0)],e,"getStory",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Mr]),Object(g.__metadata)("design:returntype",void 0)],e,"getStoryId",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Mr]),Object(g.__metadata)("design:returntype",void 0)],e,"getLoadChunks",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Mr]),Object(g.__metadata)("design:returntype",void 0)],e,"getLoadChunksRemaining",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Mr]),Object(g.__metadata)("design:returntype",void 0)],e,"getStoryInfo",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Mr]),Object(g.__metadata)("design:returntype",void 0)],e,"getLoadType",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Mr]),Object(g.__metadata)("design:returntype",void 0)],e,"getIncomingStoryInfo",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Mr]),Object(g.__metadata)("design:returntype",void 0)],e,"getStoryTags",null),t=Object(g.__decorate)([Object(h.g)({name:"story",defaults:Xs})],e)}(),Zs={main:{title:"All Categories",image:"cat-all",translations:{es:{title:"Todas las Categor\xedas"},zh:{title:"\u6240\u6709\u7c7b\u522b"},fr:{title:"Toutes les cat\xe9gories"},de:{title:"Alle Kategorien"},it:{title:"Tutte le categorie"},ja:{title:"\u3059\u3079\u3066\u306e\u30ab\u30c6\u30b4\u30ea"},pt:{title:"Todas as categorias"}}},baseAnatomyCategories:[{title:"Male Complete Anatomy",image:"cat-complete-male",id:"production/maleAdult/male_complete_anatomy_10",translations:{es:{title:"Anatom\xeda Completa Masculina"},zh:{title:"\u7537\u6027\u5b8c\u6574\u89e3\u5256\u5b66"},fr:{title:"Anatomie compl\xe8te masculine"},de:{title:"M\xe4nnliche vollst\xe4ndige Anatomie"},it:{title:"Anatomia Completa Maschile"},ja:{title:"\u7537\u6027\u306e\u5b8c\u5168\u306a\u89e3\u5256\u5b66"},pt:{title:"Anatomia Completa Masculina"}}},{title:"Female Complete Anatomy",image:"cat-complete-female",id:"production/femaleAdult/female_complete_anatomy_10",translations:{es:{title:"Anatom\xeda Completa Femenina"},zh:{title:"\u5973\u6027\u5b8c\u6574\u89e3\u5256\u5b66"},fr:{title:"Anatomie compl\xe8te f\xe9minine"},de:{title:"Weibliche komplette Anatomie"},it:{title:"Anatomia Completa Femminile"},ja:{title:"\u5973\u6027\u89e3\u5256\u5b66"},pt:{title:"Anatomia Completa Feminina"}}}],categories:[{title:"Anatomy by Systems",id:"anatomy-by-system",image:"cat-anatomy",translations:{es:{title:"Anatom\xeda por Sistemas"},zh:{title:"\u6309\u7cfb\u7edf\u8fdb\u884c\u89e3\u5256\u5b66"},fr:{title:"Anatomie par syst\xe8mes"},de:{title:"Anatomie nach Systemen"},it:{title:"Anatomia per sistemi"},ja:{title:"\u30b7\u30b9\u30c6\u30e0\u306b\u3088\u308b\u89e3\u5256\u5b66"},pt:{title:"Anatomia por Sistemas"}}},{title:"Anatomy by Regions",id:"regional",image:"cat-anatomy-region",translations:{es:{title:"Anatom\xeda por Regiones"},zh:{title:"\u6309\u5730\u533a\u5212\u5206\u7684\u89e3\u5256\u5b66"},fr:{title:"Anatomie par r\xe9gions"},de:{title:"Anatomie nach Regionen"},it:{title:"Anatomia per regioni"},ja:{title:"\u5730\u57df\u5225\u89e3\u5256\u5b66"},pt:{title:"Anatomia por Regi\xf5es"}}},{title:"Blood, Heart and Circulation",id:"Blood, Heart and Circulation",image:"cat-blood-heart",translations:{es:{title:"Sangre, Coraz\xf3n y Circulaci\xf3n"},zh:{title:"\u8840\u6db2\u3001\u5fc3\u810f\u548c\u8840\u6db2\u5faa\u73af"},fr:{title:"Sang, c\u0153ur et circulation sanguine"},de:{title:"Blut, Herz und Kreislauf"},it:{title:"Sangue, Cuore e Circolazione"},ja:{title:"\u8840\u6db2\u3001\u5fc3\u81d3\u3001\u5faa\u74b0"},pt:{title:"Sangue, Cora\xe7\xe3o e Circula\xe7\xe3o"}}},{title:"Bones, Joints and Muscles",id:"Bones, Joints and Muscles",image:"cat-bones-joints-muscles",translations:{es:{title:"Huesos, Articulaciones y M\xfascula"},zh:{title:"\u9aa8\u9abc\u3001\u5173\u8282\u548c\u808c\u8089"},fr:{title:"Os, articulations et muscles"},de:{title:"Knochen, Gelenke und Muskeln"},it:{title:"Ossa, articolazioni e muscoli"},ja:{title:"\u30dc\u30fc\u30f3\u3001\u30b8\u30e7\u30a4\u30f3\u30c8\u3001\u30de\u30c3\u30b9\u30eb"},pt:{title:"Ossos, articula\xe7\xf5es e m\xfasculos"}}},{title:"Brain and Nerves",id:"Brain and Nerves",image:"cat-brain-nerves",translations:{es:{title:"Cerebro y Nervios"},zh:{title:"\u5927\u8111\u548c\u795e\u7ecf"},fr:{title:"Cerveau et nerfs"},de:{title:"Gehirn und Nerven"},it:{title:"Cervello e nervi"},ja:{title:"\u8133\u3068\u795e\u7d4c"},pt:{title:"C\xe9rebro e Nervos"}}},{title:"Digestive System",id:"Digestive System",image:"cat-digestive-system",translations:{es:{title:"Sistema Digestivo"},zh:{title:"\u6d88\u5316\u7cfb\u7edf"},fr:{title:"Syst\xe8me digestif"},de:{title:"Verdauungssystem"},it:{title:"Apparato Digestivo"},ja:{title:"\u6d88\u5316\u5668\u7cfb"},pt:{title:"Sistema Digestivo"}}},{title:"Ear, Nose and Throat",id:"Ear, Nose and Throat",image:"cat-ear-nose-throat",translations:{es:{title:"O\xeddo, Nariz y Garganta"},zh:{title:"\u8033\u9f3b\u5589\u79d1"},fr:{title:"Oreille, Nez et Gorge"},de:{title:"Ohr, Nase und Hals"},it:{title:"Orecchio, naso e gola"},ja:{title:"\u8033\u30fb\u9f3b\u30fb\u5589"},pt:{title:"Orelha, nariz e garganta"}}},{title:"Endocrine System",id:"Endocrine System",image:"cat-endocrine-system",translations:{es:{title:"Sistema Endocrino"},zh:{title:"\u5185\u5206\u6ccc\u7cfb\u7edf"},fr:{title:"Syst\xe8me endocrinien"},de:{title:"Endokrine System"},it:{title:"Sistema Endocrino"},ja:{title:"\u5185\u5206\u6ccc\u7cfb"},pt:{title:"Sistema end\xf3crino"}}},{title:"Eyes and Vision",id:"Eyes and Vision",image:"cat-eyes-vision",translations:{es:{title:"Ojos y Visi\xf3n"},zh:{title:"\u773c\u775b\u548c\u89c6\u529b"},fr:{title:"Yeux et vision"},de:{title:"Augen und Sehkraft"},it:{title:"Occhi e Visione"},ja:{title:"\u76ee\u3068\u30d3\u30b8\u30e7\u30f3"},pt:{title:"Olhos e Vis\xe3o"}}},{title:"Immune System",id:"Immune System",image:"cat-immune-system",translations:{es:{title:"Sistema Inmunol\xf3gico"},zh:{title:"\u514d\u75ab\u7cfb\u7edf"},fr:{title:"Syst\xe8me immunitaire"},de:{title:"Immunsystem"},it:{title:"Sistema immunitario"},ja:{title:"\u514d\u75ab\u7cfb"},pt:{title:"Sistema Imunit\xe1rio"}}},{title:"Kidneys and Urinary System",id:"Kidneys and Urinary System",image:"cat-kidney-urinary",translations:{es:{title:"Ri\xf1ones y Sistema Urinario"},zh:{title:"\u80be\u810f\u548c\u6ccc\u5c3f\u7cfb\u7edf"},fr:{title:"Reins et syst\xe8me urinaire"},de:{title:"Nieren und Harnwege"},it:{title:"Reni e sistema urinario"},ja:{title:"\u814e\u81d3\u3068\u6ccc\u5c3f\u5668\u7cfb"},pt:{title:"Rins e Sistema Urin\xe1rio"}}},{title:"Lungs and Breathing",id:"Lungs and Breathing",image:"cat-lungs-breathing",translations:{es:{title:"Pulmones y Respiraci\xf3n"},zh:{title:"\u80ba\u548c\u547c\u5438"},fr:{title:"Poumons et respiration"},de:{title:"Lunge und Atmung"},it:{title:"Polmoni e Respirazione"},ja:{title:"\u80ba\u3068\u547c\u5438"},pt:{title:"Pulm\xf5es e respira\xe7\xe3o"}}},{title:"Mouth and Teeth",id:"Mouth and Teeth",image:"cat-mouth-teeth",translations:{es:{title:"Boca y Dientes"},zh:{title:"\u53e3\u8154\u548c\u7259\u9f7f"},fr:{title:"Bouche et dents"},de:{title:"Mund und Z\xe4hne"},it:{title:"Bocca e Denti"},ja:{title:"\u53e3\u3068\u6b6f"},pt:{title:"Boca e Dentes"}}},{title:"Skin, Hair and Nails",id:"Skin, Hair and Nails",image:"cat-skin-hair-nails",translations:{es:{title:"Piel, Pelo y U\xf1as"},zh:{title:"\u76ae\u80a4\u3001\u5934\u53d1\u548c\u6307\u7532"},fr:{title:"Peau, cheveux et ongles"},de:{title:"Haut, Haare und N\xe4gel"},it:{title:"Pelle, Capelli e Unghie"},ja:{title:"\u808c\u3001\u9aea\u3001\u722a"},pt:{title:"Pele, Cabelo e Unhas"}}},{title:"Female Reproductive System",id:"Female Reproductive System",image:"cat-female-reproductive",translations:{es:{title:"Sistema Reproductivo Femenino"},zh:{title:"\u5973\u6027\u751f\u6b96\u7cfb\u7edf"},fr:{title:"Syst\xe8me reproducteur f\xe9minin"},de:{title:"Weibliches Fortpflanzungssystem"},it:{title:"Sistema riproduttivo femminile"},ja:{title:"\u5973\u6027\u306e\u751f\u6b96\u5668\u7cfb"},pt:{title:"Sistema Reprodutivo Feminino"}}},{title:"Male Reproductive System",id:"Male Reproductive System",image:"cat-male-reproductive",translations:{es:{title:"Sistema Reproductivo Masculino"},zh:{title:"\u7537\u6027\u751f\u6b96\u7cfb\u7edf"},fr:{title:"Syst\xe8me reproducteur masculin"},de:{title:"M\xe4nnliches Fortpflanzungssystem"},it:{title:"Sistema riproduttivo maschile"},ja:{title:"\u751f\u6b96\u5668\u7cfb"},pt:{title:"Sistema Reprodutor Masculino"}}},{title:"Community Bookmarks",id:"public",image:"cat-community",translations:{es:{title:"Marcadores de la Comunidad"},zh:{title:"\u793e\u533a\u4e66\u7b7e"},fr:{title:"Signets de la communaut\xe9"},de:{title:"Community-Lesezeichen"},it:{title:"Segnalibri della Comunit\xe0"},ja:{title:"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u30d6\u30c3\u30af\u30de\u30fc\u30af"},pt:{title:"Marcadores da Comunidade"}}}]},ep=["web platform","!obsolete"],tp=function(){function e(e){this.http=e}return e.prototype.search=function(e,t,n){var l=this;void 0===e&&(e=""),void 0===t&&(t=[]),void 0===n&&(n="en");var i=e.split(/[ ]+/).join("+"),o=ep.concat(t).map((function(e){return'"'+e+'"'})).join("+");return this.http.get("/search?k="+i+"&t="+o+"&ol="+n).pipe(Object(c.a)((function(e){return l.resultsToBookmarks(e)})))},e.prototype.getAnatomyCategory=function(e,t,n){return this.search(e,[t],n)},e.prototype.getConditionModel=function(e){var t=this,n=this.toDatabaseContentId(e);return this.http.get("/search/conditions?q="+n).pipe(Object(c.a)((function(e){return t.resultsToBookmarks(e)})),Object(c.a)((function(e){return e[0]})))},e.prototype.resultsToBookmarks=function(e){var t=this;return e.forEach((function(e){e.id=t.toAppContentId(e.id),e.tour=e.tags.indexOf("tour")>=0})),Object(N.plainToClass)(gr,e)},e.prototype.getBookmarkCategory=function(e){if(!e.tags)return null;var t=Zs.categories.map((function(e){return e.id.toLocaleLowerCase()}));return e.tags.find((function(e){return t.includes(e.toLocaleLowerCase())}))},e.prototype.getStoryCategory=function(e){if(!e.tags)return null;var t=Zs.categories.map((function(e){return e.id.toLocaleLowerCase()}));return e.tags.find((function(e){return t.includes(e.toLocaleLowerCase())}))},e.prototype.toAppContentId=function(e){return e.replace("Condition.content.","").replace(".json","").split(".").join("/")},e.prototype.toDatabaseContentId=function(e){return e.match("Condition.content")?e:"Condition.content."+e.replace(".json","").split("/").join(".")+".json"},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(u.c))},token:e,providedIn:"root"}),e}(),np=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},lp={headers:new u.g({"Content-Type":"application/json; charset=utf-8"})},ip=function(e){return e.Private="private",e.Group="enterprise",e.Public="public",e}({}),op=function(){function e(e,t,n,l,i){this.store=e,this.http=t,this.serializeModuleService=n,this.exploreService=l,this.storyService=i}return e.prototype.getBookmarkData=function(e){return this.http.get("/search/bookmarks/data?be="+e).pipe(Object(c.a)((function(e){return(e=e.bookmark).moduleId=e.customData?e.customData.moduleId:e.modules.activeModules[0],Object(N.plainToClass)(Pr,e)})))},e.prototype.getBookmarkModel=function(e){var t=this;return this.http.get("/ws/search/bookmarks?eid="+e).pipe(Object(c.a)((function(e){return Object(N.plainToClass)(gr,e.bookmark_info)})),Object(c.a)((function(e){return t.normalizeBookmarkModel(e)})))},e.prototype.getUserBookmarks=function(e,t){var n=this;return void 0===t&&(t=""),this.http.get("/ws/search/bookmarks/"+e+"?q="+t).pipe(Object(c.a)((function(e){return e.map((function(e){return Object(N.plainToClass)(gr,e)})).map((function(e){return n.normalizeBookmarkModel(e)}))})))},e.prototype.getUserConditions=function(e,t){var n=this,l="";switch(e){case ip.Private:l="user";break;case ip.Group:l="group"}return this.http.get("/ws/search/conditions/private").pipe(Object(c.a)((function(e){return e.filter((function(e){return e.module_accessor_level===l&&(!t||e.module_accessor_id===t)}))})),Object(c.a)((function(e){return Object(N.plainToClass)(gr,e)})),Object(c.a)((function(e){return e.map((function(e){return n.normalizeBookmarkModel(e)}))})))},e.prototype.getPrivateBookmarks=function(e){return void 0===e&&(e=""),this.getUserBookmarks(ip.Private,e).pipe(Object(c.a)((function(e){return e.filter((function(e){return e.is_owner}))})))},e.prototype.getFavorites=function(){var e=this;return this.http.get("/ws/user/favorite").pipe(Object(c.a)((function(t){return Object.values(t).map((function(e){return Object(N.plainToClass)(gr,e)})).map((function(t){return e.normalizeBookmarkModel(t)}))})))},e.prototype.deleteFavorite=function(e,t){return this.http.delete("/ws/user/favorite?modelId="+e+"&category="+t)},e.prototype.getPrivateConditions=function(){return this.getUserConditions(ip.Private)},e.prototype.getOrganizationBookmarks=function(e,t){return void 0===t&&(t=""),this.getUserBookmarks(ip.Private,t).pipe(Object(c.a)((function(t){return t.filter((function(e){return e.tags.includes("enterprise")})).filter((function(t){return t.group_access.some((function(t){return t.group_id===e}))}))})))},e.prototype.getOrganizationConditions=function(e){return this.getUserConditions(ip.Group,e)},e.prototype.getOrganizationContent=function(e,t){return void 0===t&&(t=""),Object(vt.a)(this.getOrganizationBookmarks(e,t),this.getOrganizationConditions(e)).pipe(Object(c.a)((function(e){var t=np(e,2);return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(np(arguments[t]));return e}(t[0],t[1])})))},e.prototype.createBookmarkStory=function(e){return void 0===e&&(e=!1),this.serializeModuleService.serialize(e,{},new Ir,!1,this.store.selectSnapshot(Js.getStory),this.store.selectSnapshot(Zc.getStoryChapters))},e.prototype.getPublicBookmarks=function(e){return void 0===e&&(e=""),this.getUserBookmarks(ip.Public,e)},e.prototype.saveBookmark=function(e){var t=this,n=this.getNormalizedBookmarkEntry(e);return this.http.post(e.id?"/ws/user/bookmark/v1/update":"/ws/user/bookmark/v1/save",n,lp).pipe(Object(Ot.a)((function(e){return t.getBookmarkModel(e.id)})))},e.prototype.deleteBookmark=function(e){return this.http.delete("/ws/user/bookmark/v1/delete?eid="+e).pipe(Object(P.a)((function(e){var t=e.error.error,n=t?t.message:"";return Object(hr.a)(n)})))},e.prototype.copyBookmark=function(e,t,n){var l=this;return void 0===n&&(n="en"),t!==a.Module||Object(jt.endsWith)(e,".json")||(e+=".json"),this.http.post("/ws/user/bookmark/v1/copy",{source_content_type:t,source_content_id:e}).pipe(Object(c.a)((function(e){return e.id})),Object(Ot.a)((function(i){return"en"===n?Object(S.a)(i):l.translateBookmark(i,e,t,n)})))},e.prototype.atMaxFreeBookmarkCount=function(){return this.http.get("/ws/user/content/limit/check").pipe(Object(c.a)((function(){return!1})),Object(P.a)((function(e){return Object(S.a)(403===e.status)})))},e.prototype.saveBookmarkThumbnails=function(e,t,n,l){var i=this,o=t.index.chapters.reduce((function(t,o){var a=n.get(l[o.id]);if(a&&a.snapshot)t.push(i.postThumbnail(e,o.id,a.snapshot,!0));else if(o.id!==l[o.id]||a.chapterId!==o.id){var r=a.urls.large.match(/(bookmarks\/)|(modules\/)/).index,u=a.urls.large.slice(r);t.push(i.copyThumbnail(e,o.id,u))}return t}),[]),a=n.get(l[t.index.chapters[0].id]);return o.push(a.snapshot?this.postThumbnail(e,null,a.snapshot,!0):this.copyThumbnail(e,null,a.urls.large)),o},e.prototype.deleteBookmarkThumbnails=function(e,t,n,l){var i=this,o=t.index.chapters.map((function(e){return l[e.id]||e.id}));return Array.from(n.values()).filter((function(e){return o.indexOf(e.chapterId)<0})).map((function(t){return i.deleteThumbnail(e,t.chapterId)}))},e.prototype.filterByTags=function(e,t,n){return void 0===n&&(n=!1),e.filter((function(e){return n?t.every((function(t){return e.tags.includes(t)})):t.some((function(t){return e.tags.includes(t)}))}))},e.prototype.canEdit=function(e){return!!e.is_owner||!(!e.group_access||!e.group_access.length)&&e.group_access[0].member_edit},e.prototype.normalizeBookmarkModel=function(e){return"module"===e.type&&(e.id=this.exploreService.toAppContentId(e.id)),e.tour=e.tags.includes("tour"),e.animated=e.tags.includes("animated"),e},e.prototype.translateBookmark=function(e,t,n,l){var i=this,o=n===a.Module?t.replace(".json",""):t;return Object(vt.a)(this.storyService.getStory(e,a.Bookmark),this.storyService.getStoryTranslation(o,n,l)).pipe(Object(c.a)((function(e){var t=np(e,2);return i.storyService.translateStory(t[0],t[1])})),Object(Ot.a)((function(t){return i.saveBookmark({isOwner:!0,title:t.displayName.substr(0,60),id:e,index:t})})),Object(c.a)((function(e){return e.id})),Object(P.a)((function(t){return 404===t.status?Object(S.a)(e):Object(hr.a)(t)})))},e.prototype.getNormalizedBookmarkEntry=function(e){var t,n,l,i=this,o=e.id,a=e.title,r=e.description,u=e.index,c=e.public_access,s=e.add_group_access,p=e.remove_group_access;if(e.isOwner&&(t=s?this.getGroupAccess(s):[],p&&p.forEach((function(e){var n=i.getNormalizeGroupAccess({group_id:e.group_id,remove:!0});t.push(n)})),n=this.getNormalizedBool(c),u)){l={},u.chapters&&(l.user_generated_tour=this.getNormalizedBool(u.chapters.length>1));var d=u.tags.includes("animated");l.animated=this.getNormalizedBool(d)}return{eid:o,name:a,description:r,index:u,group_access:t,public_access:n,flags:l}},e.prototype.getGroupAccess=function(e){var t=this;return e.map((function(e){return t.getNormalizeGroupAccess(e)}))},e.prototype.getNormalizeGroupAccess=function(e){var t=e.visible,n=e.remove;return{group_id:e.group_id,group_name:e.group_name,member_edit:this.getNormalizedBool(e.member_edit),visibility:this.getNormalizedBool(t),remove:this.getNormalizedBool(n)}},e.prototype.getNormalizedBool=function(e){return!0===e?"1":!1===e?"0":""},e.prototype.postThumbnail=function(e,t,n,l){var i=this;void 0===l&&(l=!1);var o=new Image;return o.src=n,new Q.a((function(n){o.onload=function(){var a=document.createElement("canvas"),r=a.getContext("2d");a.width=o.naturalWidth,a.height=o.naturalHeight,r.drawImage(o,0,0);var c,s=a.toDataURL("image/jpeg",1);c=t?"/ws/thumbs/bookmarks/"+e+"/large/chapters/"+t+".jpg":"/ws/thumbs/bookmarks/"+e+"/large/index.jpg";var p=(new u.g).set("Content-Type","application/json");i.http.post(c,{image:s,invalidate:l},{headers:p,responseType:"text"}).subscribe((function(e){n.next(),n.complete()}))}}))},e.prototype.deleteThumbnail=function(e,t){return new Q.a((function(n){var l=new Request("/ws/thumbs/bookmarks/"+e+"/large/chapters/"+t+".jpg",{method:"DELETE"});fetch(l).then((function(e){n.complete()}))}))},e.prototype.copyThumbnail=function(e,t,n){var l,i=this,o=n.replace("/thumbs/","");l=t?"bookmarks/"+e+"/large/chapters/"+t+".jpg":"bookmarks/"+e+"/large/index.jpg";var a=(new u.g).set("Content-Type","application/json");return new Q.a((function(e){i.http.post("/ws/thumbs/copy",{src:o,dst:l},{headers:a,responseType:"text"}).subscribe((function(t){e.next(),e.complete()}))}))},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(h.i),i.Yb(u.c),i.Yb(Gs),i.Yb(tp),i.Yb(tc))},token:e,providedIn:"root"}),e}(),ap="/ws/enterprise/collection",rp=function(){function e(e,t){this.http=e,this.bookmarkService=t}return e.prototype.getCollections=function(e){var t=this;return this.http.get(ap+"?group_id="+e).pipe(Object(c.a)((function(e){return Object(N.plainToClass)(pr,e).map((function(e){return t.normalizeCollectionModel(e)}))})))},e.prototype.getCollectionsByContent=function(e,t,n){var l=this;return void 0===n&&(n=!1),this.http.get(ap+"?group_id="+e+"&content_type="+t.content_type+"&content_id="+t.content_id+"&include_content="+(n?1:0)).pipe(Object(c.a)((function(e){return Object(N.plainToClass)(pr,e).map((function(e){return l.normalizeCollectionModel(e)}))})))},e.prototype.getCollectionContentId=function(e,t){var n=t.content_type,l=t.content_id;return this.getCollectionsByContent(e.group_id,t,!0).pipe(Object(c.a)((function(t){return t.find((function(t){return t.collection_id===e.collection_id}))})),Object(c.a)((function(e){var t;return e&&(t=e.collection_content.find((function(e){return"module"===n?l===e.module_name:l===e.id}))),t?t.collection_content_id:null})))},e.prototype.getCollection=function(e,t,n){var l=this;return this.http.get(ap+"?group_id="+e+"&collection_id="+t+"&include_content="+(n?1:0)).pipe(Object(c.a)((function(e){var t=e[0];return t?l.normalizeCollectionModel(t):t})))},e.prototype.getCollectionContent=function(e,t,n){void 0===n&&(n="");var l=n.toLocaleLowerCase().split(" ");return this.getCollection(e,t,!0).pipe(Object(c.a)((function(e){return e.collection_content.map((function(e){return Object(N.plainToClass)(gr,e)})).filter((function(e){var t=!0;return l.length&&e.title&&l.forEach((function(n){t=t&&e.title.toLocaleLowerCase().indexOf(n)>=0})),t=t&&!0!==e.unavailable}))})))},e.prototype.addToCollection=function(e,t){var n=this;return this.formPost(ap,{group_id:e.group_id,collection_id:e.collection_id,add_content:t}).pipe(Object(c.a)((function(e){return e.map((function(e){return n.normalizeCollectionModel(e)}))})))},e.prototype.removeFromCollection=function(e,t){var n=this;return this.formPost(ap,{group_id:e.group_id,collection_id:e.collection_id,remove_content:t}).pipe(Object(c.a)((function(e){return e.map((function(e){return n.normalizeCollectionModel(e)}))})))},e.prototype.getOrganizationAttribute=function(e,t,n){return e.find((function(e){return e.type===t&&e.name===n}))},e.prototype.addUserToOrganization=function(e){return this.http.post("/ws/enterprise/user/add",{group_eid:e})},e.prototype.addUserWithGroupCode=function(e){return this.http.post("/ws/enterprise/user/add",{group_code:e})},e.prototype.normalizeCollectionModel=function(e){var t=this;return e.collection_content&&e.collection_content.forEach((function(e){t.bookmarkService.normalizeBookmarkModel(e)})),e},e.prototype.formPost=function(e,t){var n={headers:new u.g({"Content-Type":"application/x-www-form-urlencoded"})},l=new URLSearchParams;return Object.keys(t).forEach((function(e){var n=t[e],i=""+(n instanceof Object?JSON.stringify(n):n);l.set(e,i)})),this.http.post(""+e,l.toString(),n).pipe(Object(c.a)((function(e){return e})))},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(u.c),i.Yb(op))},token:e,providedIn:"root"}),e}(),up=function(){return(up=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},cp={},sp=function(){function e(e,t){this.organizationsService=e,this.publishService=t}return e.getOrganizations=function(e){return e.organizations},e.getOrganization=function(e){return e.organization},e.getSelectedOrganization=function(e){return e.selectedOrganization},e.getCollections=function(e){return e.collections},e.getSelectedCollection=function(e){return e.selectedCollection},e.getWidgetURL=function(e){return e.widgetURL},e.getWidgetOptions=function(e){return e.widgetOptions},e.getAppFeatures=function(e){return e.appFeatures},e.prototype.selectOrganization=function(e,t){e.patchState({selectedOrganization:t.organization,selectedCollection:null})},e.prototype.setOrganizations=function(e,t){var n,l=t.organizations||[],i=l[0],o=null,a=up({},e.getState().appFeatures);if(i&&i.group_attributes){var r=i.group_attributes,u=this.organizationsService.getOrganizationAttribute(r,"widget_settings","widget_custom_url_path");u&&u.value&&(n=u.value);var c=this.organizationsService.getOrganizationAttribute(r,"widget_settings","widget_url_params");c&&c.value&&(o=this.publishService.extendWidgetOptions(new xt,c.value));var s=this.organizationsService.getOrganizationAttribute(r,"app_settings","web_app_features");s&&(a=up({},a,s.value))}e.patchState({organization:i,organizations:l,widgetURL:n,widgetOptions:o,appFeatures:a}),e.dispatch(new it(n))},e.prototype.joinOrganization=function(e,t){var n=t.organization;this.organizationsService.addUserToOrganization(n.eid).subscribe((function(){return e.dispatch(new Nn(n))}),(function(t){return e.dispatch(new Rn(n))}))},e.prototype.getCollections=function(e,t){this.organizationsService.getCollections(t.organizationId).subscribe((function(t){e.dispatch(new An(t))}))},e.prototype.getCollectionsSuccess=function(e,t){e.patchState({collections:t.collections})},e.prototype.selectCollection=function(e,t){var n=e.getState();e.patchState({selectedOrganization:n.selectedOrganization||n.organization,selectedCollection:t.collection})},e.prototype.resetOrganizations=function(e,t){e.setState(cp)},Object(g.__decorate)([Object(h.a)(En),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,En]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"selectOrganization",null),Object(g.__decorate)([Object(h.a)(Ln),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ln]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setOrganizations",null),Object(g.__decorate)([Object(h.a)(Dn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Dn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"joinOrganization",null),Object(g.__decorate)([Object(h.a)(Fn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Fn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getCollections",null),Object(g.__decorate)([Object(h.a)(An),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,An]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getCollectionsSuccess",null),Object(g.__decorate)([Object(h.a)(Un),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Un]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"selectCollection",null),Object(g.__decorate)([Object(h.a)(Bn),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Bn]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetOrganizations",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[sr]),Object(g.__metadata)("design:returntype",void 0)],e,"getOrganizations",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[sr]),Object(g.__metadata)("design:returntype",void 0)],e,"getOrganization",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[sr]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedOrganization",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[sr]),Object(g.__metadata)("design:returntype",void 0)],e,"getCollections",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[sr]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedCollection",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[sr]),Object(g.__metadata)("design:returntype",void 0)],e,"getWidgetURL",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[sr]),Object(g.__metadata)("design:returntype",void 0)],e,"getWidgetOptions",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[sr]),Object(g.__metadata)("design:returntype",void 0)],e,"getAppFeatures",null),Object(g.__decorate)([Object(h.g)({name:"organizations",defaults:{}})],e)}(),pp=function(){return(pp=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},dp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},bp={title:"Small",type:"desktop",dimensions:{width:480,height:320},orientation:"horizontal"},gp={title:"Medium",type:"desktop",dimensions:{width:700,height:550},orientation:"horizontal"},hp={title:"Large",type:"desktop",dimensions:{width:1920,height:1200},orientation:"horizontal"},mp={title:"Extra Large",type:"desktop",dimensions:{width:2560,height:1440},orientation:"horizontal"},fp={title:"Maximum",type:"desktop",dimensions:{width:5120,height:2880},orientation:"horizontal"},yp=function(){function e(e,t,n,l,i,o,a,r,u){var c=this;this.store=e,this.actions=t,this.publishService=n,this.storageService=l,this.clipboardService=i,this.dialogService=o,this.snackBar=a,this.formBuilder=r,this.ref=u,this.minSnapshotPixels={width:300,height:300},this.maxSnapshotPixels={width:5120,height:2880},this.minSnapshotInches={width:this.pixelsToInches(this.minSnapshotPixels.width),height:this.pixelsToInches(this.minSnapshotPixels.height)},this.maxSnapshotInches={width:this.pixelsToInches(this.maxSnapshotPixels.width),height:this.pixelsToInches(this.maxSnapshotPixels.height)},this.snapshotSizes=[bp,gp,hp,mp,fp],this.selectedSnapshotSize=gp,this.ngUnsubscribe=new $.a,this.defaultWidgetOptions=pp({},new xt,{loadRotate:10});var s=this.getWidgetOptions(),p=this.store.selectSnapshot(Ha.getDimensions),d=this.store.selectSnapshot(Ha.getMinDimensions),b=s.initial,g=b.button,m=b.handHint,f=b.play,y=s.disableScroll,_=y.alert,v=y.overlay;this.formModeGroup=this.formBuilder.group({mode:["3d",ae.x.required]});var x=this.selectedSnapshotSize.dimensions;this.formSnapshot=this.formBuilder.group({dimensions:this.formBuilder.group({width:[x.width,[ae.x.required,ae.x.min(this.minSnapshotPixels.width),ae.x.max(this.maxSnapshotPixels.width)]],height:[x.height,[ae.x.required,ae.x.min(this.minSnapshotPixels.height),ae.x.max(this.maxSnapshotPixels.height)]]}),inches:this.formBuilder.group({width:[this.pixelsToInches(x.width),[ae.x.required,ae.x.min(this.minSnapshotInches.width),ae.x.max(this.maxSnapshotInches.width)]],height:[this.pixelsToInches(x.height),[ae.x.required,ae.x.min(this.minSnapshotInches.height),ae.x.max(this.maxSnapshotInches.height)]]})}),this.form=this.formBuilder.group({dimensions:this.formBuilder.group({width:[p.width,[ae.x.min(d.width)]],height:[p.height,[ae.x.min(d.height)]]}),options:this.formBuilder.group(s),rotate:this.formBuilder.group({enabled:null!==s.loadRotate,value:s.loadRotate}),initial:this.formBuilder.group({enabled:g||m||f,mode:g?"button":m?f:""}),disableScroll:this.formBuilder.group({enabled:_||v,mode:_?"alert":v?"overlay":""})});var O=Object(jt.get)(s,"background.colors");O&&(this.bgColor=this.getBackgroundFromColor({red:O[0],green:O[1],blue:O[2],alpha:O.length>3?O[3]:1})),this.actions.pipe(Object(h.l)(st),Object(Ot.a)((function(e){return c.copyToClipboard(e.url)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){c.snackBar.open(e?"Successfully copied URL to clipboard.":"Unable to copy URL to clipboard.")})),this.actions.pipe(Object(h.l)(pt),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){c.snackBar.open("Unable to generate URL.")})),this.actions.pipe(Object(h.l)(rt),Object(Ot.a)((function(e){return c.copyToClipboard(e.embed)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){c.snackBar.open(e?"Successfully copied embed code to clipboard.":"Unable to copy embed code to clipboard.")})),this.actions.pipe(Object(h.l)(ut),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){c.snackBar.open("Unable to generate embed code.")})),this.actions.pipe(Object(h.l)(ht),Object(Ot.a)((function(e){return c.copyToClipboard(e.imageURL)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){c.snackBar.open(e?"Successfully copied image URL to clipboard.":"Unable to copy image URL to clipboard.")})),this.actions.pipe(Object(h.l)(mt),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){c.snackBar.open("Unable to generate image URL.")})),this.actions.pipe(Object(h.l)(yt),Object(Ot.a)((function(e){return c.copyToClipboard(e.embed)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){c.snackBar.open(e?"Successfully copied image embed code to clipboard.":"Unable to copy image embed code to clipboard.")})),this.actions.pipe(Object(h.l)(_t),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){c.snackBar.open("Unable to generate embed code.")}))}return Object.defineProperty(e.prototype,"widgetOptions",{get:function(){return"2d"===this.mode?null:this.form.value.options},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotateEnabled",{get:function(){return this.form.get("rotate").value.enabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this.formModeGroup.get("mode").value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetWidth",{get:function(){return"2d"===this.mode?this.selectedSnapshotSize.dimensions.width:this.store.selectSnapshot(Ha.getDimensions).width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetHeight",{get:function(){return"2d"===this.mode?this.selectedSnapshotSize.dimensions.height:this.store.selectSnapshot(Ha.getDimensions).height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetBGColor",{get:function(){return"2d"===this.mode?this.snapshotBGColor:this.bgColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetScalable",{get:function(){return"2d"===this.mode},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.setupWidgetForm(),this.setupSnapshotForm(),this.store.dispatch(new dt(!0))},e.prototype.ngOnDestroy=function(){this.store.dispatch(new dt(!1)),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.setupWidgetForm=function(){var e=this,t=this.form.get("options"),n=this.form.get("dimensions"),l=this.form.get("rotate"),i=this.form.get("initial"),o=this.form.get("disableScroll"),a=l.get("enabled"),r=l.get("value");a.valueChanges.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(n){n?r.patchValue("number"==typeof r.value?r.value:e.defaultWidgetOptions.loadRotate):t.patchValue({loadRotate:null})})),r.valueChanges.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){t.patchValue({loadRotate:e})})),i.get("enabled").valueChanges.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){i.patchValue({mode:e?"button":""})})),i.get("mode").valueChanges.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){i.patchValue({enabled:!!e},{emitEvent:!1}),t.patchValue({initial:{button:"button"===e,handHint:"handHint"===e,play:"play"===e}})})),o.get("enabled").valueChanges.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){o.patchValue({mode:e?"alert":""})})),o.get("mode").valueChanges.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){o.patchValue({enabled:!!e},{emitEvent:!1}),t.patchValue({disableScroll:{alert:"alert"===e,overlay:"overlay"===e}})})),n.valueChanges.pipe(Object(cr.a)(300),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.setScreenDimensions(t)})),this.dimensions$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){n.setValue(e,{emitEvent:!1})})),t.valueChanges.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.writeSavedOptions(t)}))},e.prototype.setupSnapshotForm=function(){var e=this,t=this.formSnapshot.get("dimensions"),n=this.formSnapshot.get("inches");n.valueChanges.pipe(Object(cr.a)(500),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){var l=n.value,i=l.height;n.valid&&t.patchValue({width:e.inchesToPixels(l.width),height:e.inchesToPixels(i)})})),t.valueChanges.pipe(Object(cr.a)(500),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){var n=t.value,l=n.width,i=n.height;if(t.valid){var o=e.snapshotSizes.find((function(e){return e.dimensions.width===l&&e.dimensions.height===i}));e.selectedSnapshotSize=pp({},e.selectedSnapshotSize,{title:o?o.title:"Custom",dimensions:{width:l,height:i}}),e.ref.markForCheck()}}))},e.prototype.setScreenDimensions=function(e){this.store.dispatch(new ot(e))},e.prototype.handleGenerateIFrame=function(){this.generateIFrameCode()},e.prototype.handleGenerateURL=function(){this.generateURL()},e.prototype.handleCopyImageURL=function(){this.generateImageURL()},e.prototype.handleGenerateImage=function(){this.generateImageCode()},e.prototype.generateIFrameCode=function(){this.store.dispatch(new at(this.model,this.form.value.options,this.camera))},e.prototype.generateURL=function(){this.store.dispatch(new ct(this.model,this.form.value.options,this.camera))},e.prototype.generateImageURL=function(){var e=this;this.publishWidget.takeSnapshot().pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.store.dispatch(new gt(t))}))},e.prototype.generateImageCode=function(){var e=this;this.publishWidget.takeSnapshot().pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=new xt;e.store.dispatch(new ft(e.model,t,n,e.camera))}))},e.prototype.handleSnapshotBGColorClick=function(e){this.snapshotBGColor=this.getBackgroundFromColor(e)},e.prototype.handleSnapshotSizeClick=function(e){this.selectedSnapshotSize=pp({},e),this.formSnapshot.patchValue({dimensions:{width:e.dimensions.width,height:e.dimensions.height},inches:{width:this.pixelsToInches(e.dimensions.width),height:this.pixelsToInches(e.dimensions.height)}},{emitEvent:!1})},e.prototype.handleDownloadSnapClick=function(){var e=this;this.publishWidget.takeSnapshot().pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.downloadImage(t)}))},e.prototype.handleCameraUpdated=function(e){this.camera=e},e.prototype.copyToClipboard=function(e){var t=this;return this.clipboardService.copyToClipboard(e).pipe(Object(Ot.a)((function(n){return n?Object(S.a)(n):t.dialogService.openClipboardDialog(e).afterClosed()})))},e.prototype.formatScreenSizeText=function(e){var t=e.dimensions;return e.title+" ("+t.width+" x "+t.height+")"},e.prototype.getBackgroundFromColor=function(e){var t=e?[e.red,e.green,e.blue,e.alpha]:null;return t?new Xa(function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(dp(arguments[t]));return e}(t,t),"radial",[0,100]):null},e.prototype.getWidgetOptions=function(){var e=this.readSavedOptions(),t=this.store.selectSnapshot(sp.getWidgetOptions);if(e){var n=this.publishService.extendWidgetOptions(new xt,e);return pp({},n,{background:t?t.background:null})}return t||new xt},e.prototype.readSavedOptions=function(){!function(e,t){var n=localStorage.getItem(Hn.WidgetOptions);if(null!==n){var l=JSON.parse(n);if(void 0!==l[e]&&(l[e].timestamp||0)<1573675067505){delete l[e];try{localStorage.setItem(Hn.WidgetOptions,JSON.stringify(l))}catch(i){}}}}(this.getStorageKey());var e=this.storageService.getLocalJSON(Hn.WidgetOptions);return e?e[this.getStorageKey()]:null},e.prototype.writeSavedOptions=function(e){var t=pp({},e,{timestamp:Date.now()}),n=this.storageService.getLocalJSON(Hn.WidgetOptions)||{};n[this.getStorageKey()]=t,this.storageService.setLocalItem(Hn.WidgetOptions,n)},e.prototype.getStorageKey=function(){return this.store.selectSnapshot(Ra.getUserProfile).eid},e.prototype.downloadImage=function(e){var t=this,n=(this.model.title||"snapshot").replace(/ /g,"_").replace(/\W/g,"");this.publishService.exportImage(e,Ut.JPEG,n+".jpg").pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){t.snackBar.open(e?"Successfuly downloaded image":"Unable to download image.")}))},e.prototype.pixelsToInches=function(e){return parseFloat((e/300).toFixed(2))},e.prototype.inchesToPixels=function(e){return 300*e},Object(g.__decorate)([Object(h.e)(Ha.getDimensions),Object(g.__metadata)("design:type",Q.a)],e.prototype,"dimensions$",void 0),Object(g.__decorate)([Object(h.e)(Ha.getMinDimensions),Object(g.__metadata)("design:type",Q.a)],e.prototype,"minDimensions$",void 0),e}(),_p=function(){function e(){}return e.prototype.getClipboardAPISupport=function(){return"clipboard"in navigator},e.prototype.getClipboardAPI=function(){return navigator.clipboard},e.prototype.copyToClipboard=function(e){if(this.getClipboardAPISupport()){var t=this.getClipboardAPI();return new Q.a((function(n){t.writeText(e).then((function(){n.next(!0),n.complete()})).catch((function(e){n.next(!1),n.complete()}))}))}return Object(S.a)(!1)},e.prototype.copyInputFieldValue=function(e){e.select();var t=!1;try{t=document.execCommand("copy")}catch(n){t=!1}return t},e.ngInjectableDef=i.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),vp=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),xp=function(){return(xp=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Op=function(e){return e.UpgradeSubscription="/legacy/upgrade-human.html",e.BuySubscription="/legacy/buy-subscription.html",e.MyProfile="/legacy/user-account.html",e}({}),wp=function(){function e(e,t,n){this.dialogRef=e,this.data=t,this.sanitizer=n,this.headerOffset=100,this.settings={type:null,dimensions:{width:100,height:100}},this.settings=xp({},this.settings,t);var l=t.dimensions;this.dialogRef.updateSize(l.width+"px",l.height+"px")}return Object.defineProperty(e.prototype,"height",{get:function(){return Math.max(200,this.settings.dimensions.height-this.headerOffset)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){var e=this.getURL();return e?this.sanitizer.bypassSecurityTrustResourceUrl(e):null},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.closeDialog=function(){this.dialogRef.close()},e.prototype.getURL=function(){var e=""+this.settings.type;if(Object.values(Op).includes(e)){var t=this.getURLParams();return t?e+"?"+t:e}return""},e.prototype.getURLParams=function(){var e=this.settings.options;return e?Object.entries(e).map((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2);return t[0]+"="+t[1]})).join("&"):""},e}(),Cp=function(){return(Cp=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},jp=function(){function e(e,t){this.dialogRef=e,this.data=t,this.settings={titleText:"Confirm Action",bodyText:"",confirmText:"Confirm",confirmColor:"primary",cancelText:"Cancel",confirmEnabled:!0,cancelEnabled:!0,miscText:""},t&&(this.settings=Cp({},this.settings,t))}return e.prototype.ngOnInit=function(){},e}(),kp=function(){return function(){}}(),Sp=n("R+r5"),Pp={label:"Most Recent",fields:["collection_content_createdate","update_date_time","create_date_time"],ascending:!1},Ip={label:"Title (A-Z)",fields:["title"],ascending:!0},Mp=[Pp,Ip,{label:"Title (Z-A)",fields:["title"],ascending:!1},{label:"Author (A-Z)",fields:["author"],ascending:!0},{label:"Author (Z-A)",fields:["author"],ascending:!1}],Tp=function(){return function(){}}(),Kp=function(e){return e[e.Annotation=0]="Annotation",e[e.StudioNext=1]="StudioNext",e}({}),zp=function(){return(zp=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Lp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ep=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Lp(arguments[t]));return e},Up={enableContextLabel:{enable:!0,enableInfo:!0,enableActions:!0},loading:!1,labelsCollapsed:!1,labelsCollapsedMode:no.None,labels:[],contextLabel:null,selectedLabel:null,draggable:{pin:!0,tag:!0}},Fp=function(){function e(e){this.labelsService=e}return e.getLabels=function(e){return e.labels},e.getLabelsCollapsed=function(e){return e.labelsCollapsed},e.getLabelsCollapsedMode=function(e){return e.labelsCollapsedMode},e.getSelectedLabelId=function(e){return e.selectedLabel},e.getSelectedLabel=function(e){return e.labels.find((function(t){return t.id===e.selectedLabel}))||null},e.getContextLabel=function(e){return e.contextLabel},e.getChapterLabels=function(e,t){return e.labels.filter((function(e){return e.chapterId===t.selectedChapter}))},e.getEnableContextLabel=function(e){return e.enableContextLabel.enable},e.getEnableContextLabelInfo=function(e){return e.enableContextLabel.enableInfo},e.getEnableContextLabelActions=function(e){return e.enableContextLabel.enableActions},e.getLabelsDraggable=function(e){return e.draggable},e.prototype.setLabels=function(e,t){e.patchState({labels:t.labels})},e.prototype.setLabel=function(e,t){var n=e.getState().labels,l=n.findIndex((function(e){return e.id===t.label.id}));n[l]=zp({},t.label),e.patchState({labels:Ep(n)})},e.prototype.addLabel=function(e,t){t.label.id=t.label.id||ur.idWithPrefix("label");var n=e.getState().labels;e.patchState({labels:Ep(n,[zp({},t.label)])})},e.prototype.addContextLabel=function(e,t){var n=zp({},t.label);n.id="context-label",e.patchState({contextLabel:n})},e.prototype.copyLabels=function(e,t){var n=e.getState().labels,l=n.filter((function(e){return e.chapterId===t.sourceChapter.id})).map((function(e){return zp({},Object(jt.cloneDeep)(e),{id:ur.idWithPrefix("label"),chapterId:t.targetChapter.id})}));e.patchState({labels:Ep(n,l)})},e.prototype.removeLabel=function(e,t){var n=e.getState().labels.filter((function(e){return e.id!==t.label.id}));e.patchState({labels:Ep(n)}),Human.scene.markers.delete(t.label.id)},e.prototype.removeContextLabel=function(e,t){e.patchState({contextLabel:null}),Human.scene.markers.delete("context-label")},e.prototype.removeAllLabels=function(e,t){e.getState().labels.forEach((function(e){Human.scene.markers.delete(e.id)})),e.patchState({labels:[]})},e.prototype.removeAllChapterLabels=function(e,t){var n=e.getState().labels,l=n.filter((function(e){return e.chapterId===t.chapter.id})),i=n.filter((function(e){return e.chapterId!==t.chapter.id}));l.forEach((function(e){Human.scene.markers.delete(e.id)})),e.patchState({labels:Ep(i)})},e.prototype.selectLabel=function(e,t){e.patchState({selectedLabel:t.label?t.label.id:null})},e.prototype.resetLabels=function(e,t){e.dispatch(new co),e.dispatch(new uo),e.setState(Up)},e.prototype.convertLabels=function(e,t){var n=this,l=e.getState().labels;t.labels.forEach((function(e){var i=l.findIndex((function(t){return t.id===e.id}));switch(t.type){case Kp.StudioNext:l[i]=n.labelsService.makeDefaultStudioLabel(l[i]),e.objectId&&(l[i].states[0].errands[0]=new Lu,l[i].states[1].errands[0]=new Tu(e.objectId));break;case Kp.Annotation:l[i]=n.labelsService.makeAnnotationLabel(l[i])}})),e.patchState({labels:Ep(l)})},e.prototype.enableContextLabel=function(e,t){e.patchState({enableContextLabel:zp({},t)})},e.prototype.setLabelsShown=function(e,t){var n=t.labels,l=t.shown,i=e.getState().labels.map((function(e){var t=n.some((function(t){return t.id===e.id}));return zp({},e,{shown:t?l:e.shown})}));e.patchState({labels:Ep(i)})},e.prototype.setAllLabelsShown=function(e,t){var n=t.shown,l=e.getState().labels;e.dispatch(new fo(l,n))},e.prototype.setLabelsCollapsed=function(e,t){e.patchState({labelsCollapsed:t.collapsed,labelsCollapsedMode:t.collapsedMode})},e.prototype.setLabelsDraggable=function(e,t){e.patchState({draggable:zp({},t.draggable)})},Object(g.__decorate)([Object(h.a)(lo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,lo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setLabels",null),Object(g.__decorate)([Object(h.a)(po),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,po]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setLabel",null),Object(g.__decorate)([Object(h.a)(io),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,io]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"addLabel",null),Object(g.__decorate)([Object(h.a)(oo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,oo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"addContextLabel",null),Object(g.__decorate)([Object(h.a)(ao),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ao]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"copyLabels",null),Object(g.__decorate)([Object(h.a)(ro),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ro]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"removeLabel",null),Object(g.__decorate)([Object(h.a)(uo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,uo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"removeContextLabel",null),Object(g.__decorate)([Object(h.a)(co),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ro]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"removeAllLabels",null),Object(g.__decorate)([Object(h.a)(so),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,so]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"removeAllChapterLabels",null),Object(g.__decorate)([Object(h.a)(bo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,bo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"selectLabel",null),Object(g.__decorate)([Object(h.a)(go),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,go]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetLabels",null),Object(g.__decorate)([Object(h.a)(ho),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ho]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"convertLabels",null),Object(g.__decorate)([Object(h.a)(mo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,mo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"enableContextLabel",null),Object(g.__decorate)([Object(h.a)(fo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,fo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setLabelsShown",null),Object(g.__decorate)([Object(h.a)(yo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,yo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setAllLabelsShown",null),Object(g.__decorate)([Object(h.a)(_o),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,_o]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setLabelsCollapsed",null),Object(g.__decorate)([Object(h.a)(vo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,vo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setLabelsDraggable",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Tp]),Object(g.__metadata)("design:returntype",void 0)],e,"getLabels",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Tp]),Object(g.__metadata)("design:returntype",void 0)],e,"getLabelsCollapsed",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Tp]),Object(g.__metadata)("design:returntype",void 0)],e,"getLabelsCollapsedMode",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Tp]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedLabelId",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Tp]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedLabel",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Tp]),Object(g.__metadata)("design:returntype",void 0)],e,"getContextLabel",null),Object(g.__decorate)([Object(h.f)([Zc]),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Tp,nc]),Object(g.__metadata)("design:returntype",void 0)],e,"getChapterLabels",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Tp]),Object(g.__metadata)("design:returntype",void 0)],e,"getEnableContextLabel",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Tp]),Object(g.__metadata)("design:returntype",void 0)],e,"getEnableContextLabelInfo",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Tp]),Object(g.__metadata)("design:returntype",void 0)],e,"getEnableContextLabelActions",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Tp]),Object(g.__metadata)("design:returntype",void 0)],e,"getLabelsDraggable",null),Object(g.__decorate)([Object(h.g)({name:"labels",defaults:Up})],e)}();function Ap(e,t,n){var l=t.map((function(t){return e[t]})).filter((function(e){return!Object(jt.isNil)(e)}));return n?l.sort().shift():l.sort().pop()}function Dp(e,t,n){var l=new Intl.Collator("en-US",{sensitivity:"base"});return e.sort((function(e,i){var o=Ap(e,t,n)||"",a=Ap(i,t,n)||"";return(n?1:-1)*l.compare(o.toString(),a.toString())}))}var Np=function(){return(Np=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Rp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Bp=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Rp(arguments[t]));return e},Hp={loading:!0,exporting:!1,copying:!1,saving:!1,bookmarks:[],selectedBookmark:null,sort:Pp,checkedBookmarks:[],selectedCategory:null},Vp=function(){function e(e,t,n,l,i,o){this.store=e,this.storyService=t,this.bookmarksService=n,this.exploreService=l,this.publishService=i,this.organizationsService=o}return e.getBookmarks=function(e){var t=e.sort;return Dp(e.bookmarks,t.fields,t.ascending)},e.getCheckedBookmarks=function(e){return e.checkedBookmarks},e.getSelectedBookmark=function(e){return e.selectedBookmark},e.getLoading=function(e){return e.loading},e.getExporting=function(e){return e.exporting},e.getSaving=function(e){return e.saving},e.getCopying=function(e){return e.copying},e.getSort=function(e){return e.sort},e.getSelectedCategory=function(e){return e.selectedCategory},e.prototype.loadBookmarks=function(e,t){e.patchState({loading:!0,bookmarks:[],checkedBookmarks:[]}),Object(vt.a)(this.bookmarksService.getPrivateBookmarks(t.query),this.bookmarksService.getPrivateConditions(),this.bookmarksService.getFavorites()).pipe(Object(L.a)((function(){e.patchState({loading:!1})}))).subscribe((function(t){var n=Rp(t,3);e.dispatch(new gl(Bp(n[0],n[1],n[2])))}))},e.prototype.loadOrganizationBookmarks=function(e,t){var n=t.organizationId;e.patchState({loading:!0,bookmarks:[],checkedBookmarks:[]}),this.bookmarksService.getOrganizationContent(n).pipe(Object(L.a)((function(){e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new gl(t))}))},e.prototype.loadCollectionBookmarks=function(e,t){e.patchState({loading:!0,bookmarks:[],checkedBookmarks:[]}),this.organizationsService.getCollectionContent(t.organizationId,t.collectionId).pipe(Object(L.a)((function(){e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new gl(t))}))},e.prototype.loadSuccess=function(e,t){(0,e.patchState)({bookmarks:t.result})},e.prototype.loadBookmark=function(e,t){var n=t.id;("bookmark"===t.type?this.bookmarksService.getBookmarkModel(n):this.exploreService.getConditionModel(n)).subscribe((function(t){e.dispatch(new bl(t))}))},e.prototype.selectBookmarkSuccess=function(e,t){e.patchState({selectedBookmark:t.bookmark})},e.prototype.saveBookmark=function(e,t){var n,l=this,i=t.bookmarkEntry;if(e.patchState({saving:!0}),t.includeIndex){var o=this.store.selectSnapshot(Fp.getLabels),a=this.store.selectSnapshot(Zc.getStoryChapters);this.storyService.storeLabelsInChapters(o,a),n=this.bookmarksService.createBookmarkStory(t.inplace),i.index=n.story}var r=i.id?"update":"save";this.bookmarksService.saveBookmark(i).pipe(Object(L.a)((function(){e.patchState({saving:!1})}))).subscribe((function(o){if(t.includeIndex){var a=l.store.selectSnapshot(Zc.getRegisteredThumbnails);e.dispatch(new Cl(r,o.id,i,a,n.chapterIdMap))}(i.addCollection||i.removeCollection)&&e.dispatch(new zl(o,i.addCollection,i.removeCollection)),e.dispatch(new _l(o,n?n.story:null,r))}),(function(t){e.dispatch(new vl(i))}))},e.prototype.saveBookmarkSuccess=function(e,t){var n=t.bookmark,l=e.getState().bookmarks,i=l.findIndex((function(e){return e.id===n.id}));-1!==i&&(l[i]=n,e.patchState({bookmarks:Bp(l)})),"save"===t.method&&e.patchState({selectedBookmark:t.bookmark})},e.prototype.deleteBookmark=function(e,t){var n=t.bookmarkId;this.bookmarksService.deleteBookmark(n).subscribe((function(){e.dispatch(new ml(n))}),(function(t){e.dispatch(new fl(n,t))}))},e.prototype.deleteBookmarkSuccess=function(e,t){var n=e.getState().bookmarks.filter((function(e){return e.id!==t.bookmarkId}));e.patchState({bookmarks:Bp(n)})},e.prototype.deleteFavorite=function(e,t){var n=t.bookmark,l=n.id,i=Object(jt.get)(n,"category","bookmark"),o="bookmark"===i?l:this.exploreService.toDatabaseContentId(l);this.bookmarksService.deleteFavorite(o,i).subscribe((function(){e.dispatch(new Ol(l))}),(function(t){e.dispatch(new wl(l))}))},e.prototype.deleteFavoriteSuccess=function(e,t){var n=e.getState().bookmarks.filter((function(e){return e.id!==t.bookmarkId}));e.patchState({bookmarks:Bp(n)})},e.prototype.sortBookmarks=function(e,t){var n=e.getState().bookmarks;e.patchState({sort:t.sort,bookmarks:Bp(n)})},e.prototype.clearBookmarks=function(e,t){e.patchState({bookmarks:[],checkedBookmarks:[]})},e.prototype.resetBookmarks=function(e,t){e.setState(Hp)},e.prototype.checkBookmark=function(e,t){var n=e.getState().checkedBookmarks,l=n.some((function(e){return e===t.id}));t.checked&&!l?n=Bp(n,[t.id]):t.checked||(n=n.filter((function(e){return e!==t.id}))),e.patchState({checkedBookmarks:n})},e.prototype.setCheckedBookmarks=function(e,t){e.patchState({checkedBookmarks:t.ids})},e.prototype.saveBookmarkThumbnails=function(e,t){var n,l,i=t.chapterIdMap,o=t.thumbnails,a=this.bookmarksService.saveBookmarkThumbnails(t.bookmarkId,t.bookmarkEntry,o,i);if("update"===t.method){var r=this.bookmarksService.deleteBookmarkThumbnails(t.bookmarkId,t.bookmarkEntry,o,i);try{for(var u=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(r),c=u.next();!c.done;c=u.next())a.push(c.value)}catch(s){n={error:s}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(n)throw n.error}}}Object(vt.a)(a).subscribe((function(n){var l=t.bookmarkEntry.index.chapters.map((function(e){var n=e.id;return{originalStoryId:t.bookmarkId,newChapterId:n,originalChapterId:n}})),i=Cs.generateThumbnailUrls(l);e.dispatch(new ra(new Map)).subscribe((function(){e.dispatch(new ra(i))}))}))},e.prototype.exportBookmarks=function(e,t){var n=t.bookmarks,l=t.widgetURL,i=t.offlineEnabled,o=t.widgetOptions||new xt;e.patchState({exporting:!0}),this.publishService.exportModels(n,l,o,null,t.userLanguage,t.userApp,i).pipe(Object(L.a)((function(){e.patchState({exporting:!1})}))).subscribe((function(t){e.dispatch(t?new Tl(n):new Kl(n))}))},e.prototype.updateBookmarkCollection=function(e,t){var n=this,l=t.bookmark,i=t.addCollection,o=t.removeCollection,a={content_type:l.type,content_id:l.id},r=[];o&&r.push(this.organizationsService.getCollectionContentId(o,a).pipe(Object(W.a)((function(e){return!!e})),Object(Ot.a)((function(e){return n.organizationsService.removeFromCollection(o,[e])})),Object(Fa.a)((function(){return e.dispatch(new Al(l,o))}),(function(){return e.dispatch(new Dl(l,o))})))),i&&r.push(this.organizationsService.addToCollection(i,[a]).pipe(Object(Fa.a)((function(){return e.dispatch(new Ul(l,o))}),(function(){return e.dispatch(new Fl(l,o))})))),lc.a.apply(void 0,Bp(r)).subscribe((function(){return e.dispatch(new Ll(l,i,o))}),(function(){return e.dispatch(new El(l,i,o))}))},e.prototype.removeBookmarkCollectionSuccess=function(e,t){var n=e.getState();if("collection"===n.selectedCategory){var l=t.bookmark.id,i=n.bookmarks.filter((function(e){return e.id!==l}));e.patchState({bookmarks:Bp(i)})}},e.prototype.copyBookmark=function(e,t){var n=this,l=t.groupAccess,i=t.collection;e.patchState({copying:!0}),this.bookmarksService.copyBookmark(t.id,t.type,t.lang).pipe(Object(Ot.a)((function(e){var t=[Object(S.a)(e)];return l&&(t.push(n.bookmarksService.saveBookmark({isOwner:!0,id:e,add_group_access:[l]})),i&&t.push(n.organizationsService.addToCollection(i,[{content_type:"bookmark",content_id:e}]))),lc.a.apply(void 0,Bp(t)).pipe(Object(Sp.a)(),Object(c.a)((function(){return e})))})),Object(L.a)((function(){e.patchState({copying:!1})}))).subscribe((function(n){e.dispatch(new Rl(n,t.id,l,i))}),(function(n){e.dispatch(new Bl(t.id,n))}))},e.prototype.setBookmarkText=function(e,t){var n=e.getState().selectedBookmark;e.patchState({selectedBookmark:Np({},n,{title:t.title})})},e.prototype.setSelectedCategory=function(e,t){e.patchState({selectedCategory:t.category||null})},Object(g.__decorate)([Object(h.a)(cl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,cl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loadBookmarks",null),Object(g.__decorate)([Object(h.a)(sl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,sl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loadOrganizationBookmarks",null),Object(g.__decorate)([Object(h.a)(pl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,pl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loadCollectionBookmarks",null),Object(g.__decorate)([Object(h.a)(gl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,gl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loadSuccess",null),Object(g.__decorate)([Object(h.a)(dl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,dl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loadBookmark",null),Object(g.__decorate)([Object(h.a)(bl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,bl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"selectBookmarkSuccess",null),Object(g.__decorate)([Object(h.a)(yl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,yl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"saveBookmark",null),Object(g.__decorate)([Object(h.a)(_l),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,_l]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"saveBookmarkSuccess",null),Object(g.__decorate)([Object(h.a)(hl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,hl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"deleteBookmark",null),Object(g.__decorate)([Object(h.a)(ml),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ml]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"deleteBookmarkSuccess",null),Object(g.__decorate)([Object(h.a)(xl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,xl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"deleteFavorite",null),Object(g.__decorate)([Object(h.a)(Ol),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ol]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"deleteFavoriteSuccess",null),Object(g.__decorate)([Object(h.a)(Sl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Sl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"sortBookmarks",null),Object(g.__decorate)([Object(h.a)(kl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,kl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"clearBookmarks",null),Object(g.__decorate)([Object(h.a)(jl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,jl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetBookmarks",null),Object(g.__decorate)([Object(h.a)(Pl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Pl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"checkBookmark",null),Object(g.__decorate)([Object(h.a)(Il),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Il]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setCheckedBookmarks",null),Object(g.__decorate)([Object(h.a)(Cl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Cl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"saveBookmarkThumbnails",null),Object(g.__decorate)([Object(h.a)(Ml),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ml]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"exportBookmarks",null),Object(g.__decorate)([Object(h.a)(zl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,zl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"updateBookmarkCollection",null),Object(g.__decorate)([Object(h.a)(Al),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Al]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"removeBookmarkCollectionSuccess",null),Object(g.__decorate)([Object(h.a)(Nl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Nl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"copyBookmark",null),Object(g.__decorate)([Object(h.a)(Hl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Hl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setBookmarkText",null),Object(g.__decorate)([Object(h.a)(Vl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Vl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setSelectedCategory",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[kp]),Object(g.__metadata)("design:returntype",void 0)],e,"getBookmarks",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[kp]),Object(g.__metadata)("design:returntype",void 0)],e,"getCheckedBookmarks",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[kp]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedBookmark",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[kp]),Object(g.__metadata)("design:returntype",void 0)],e,"getLoading",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[kp]),Object(g.__metadata)("design:returntype",void 0)],e,"getExporting",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[kp]),Object(g.__metadata)("design:returntype",void 0)],e,"getSaving",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[kp]),Object(g.__metadata)("design:returntype",void 0)],e,"getCopying",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[kp]),Object(g.__metadata)("design:returntype",void 0)],e,"getSort",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[kp]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedCategory",null),Object(g.__decorate)([Object(h.g)({name:"bookmarks",defaults:Hp})],e)}(),$p=function(){return($p=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Qp=function(e){return e[e.SaveStory=0]="SaveStory",e[e.Manage=1]="Manage",e}({}),Gp=function(){function e(e,t,n,l,i,o,a){var r=this;this.store=e,this.fb=t,this.dialogRef=n,this.data=l,this.snackBar=i,this.actions=o,this.organizationsService=a,this.saveDebounce=new $.a,this.settings={mode:Qp.SaveStory},this.ngUnsubscribe=new $.a,this.settings=$p({},this.settings,l),this.form=this.fb.group({title:["",[ae.x.required,ae.x.maxLength(60)]],collection:[null],groupAccess:[null],publicAccess:[!1]}),this.actions.pipe(Object(h.l)(_l),Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){return r.handleSaveSuccess(e)})),this.actions.pipe(Object(h.l)(vl),Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){return r.handleSaveFailure(e)})),this.saveDebounce.pipe(Object(cr.a)(100),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){r.saveBookmark()}))}return Object.defineProperty(e.prototype,"dialogTitle",{get:function(){return this.settings.title||(this.settings.mode===Qp.Manage?"Manage":"Save")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this.store.selectSnapshot(sp.getOrganization);e&&this.store.dispatch(new Fn(e.id));var t=this.settings.bookmark,n=t?t.title:this.settings.bookmarkTitle?this.settings.bookmarkTitle:"",l=t?this.getGroupAccess(t):null,i=!1,o=!1;l?o=!(i=l.member_edit)&&l.visible:!t&&e&&(i=!1,o=!0);var a=!this.isGroupUser()&&t&&t.tags.includes("public");if(this.form.patchValue({title:n,groupAccess:i?"edit":o?"view":"",publicAccess:a}),this.isNew=!0,this.isOwner=!0,t)if(t.is_owner)this.isNew=!1,this.isOwner=!0;else{var r=t.group_access.some((function(e){return!0===e.member_edit}));this.isNew=!r,this.isOwner=this.isNew}this.initGroupAccess(),this.initCollections(),this.toggleGroupAccess(o,i)},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initGroupAccess=function(){var e=this;this.form.get("groupAccess").valueChanges.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.toggleGroupAccess("view"===t,"edit"===t)}))},e.prototype.initCollections=function(){var e=this,t=this.settings.bookmark;this.form.get("collection").disable();var n=this.store.selectSnapshot(sp.getOrganization);n&&t&&this.organizationsService.getCollectionsByContent(n.id,{content_type:t.type,content_id:t.id}).pipe(Object(c.a)((function(e){return e[0]})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.currentCollection=t,e.form.patchValue({collection:e.currentCollection?e.currentCollection.collection_id:null})}))},e.prototype.toggleGroupAccess=function(e,t){var n=this.form.get("collection"),l=this.isOwner||this.isNew,i=e||t;i||n.setValue(null),l&&i?n.enable():n.disable()},e.prototype.handleSubmit=function(){this.form.valid&&this.saveDebounce.next()},e.prototype.saveBookmark=function(){var e=this.getBookmarkEntry();this.store.dispatch(new yl(e,!1,this.settings.mode===Qp.SaveStory))},e.prototype.handleSaveSuccess=function(e){var t=e.bookmark;this.snackBar.open(this.settings.mode===Qp.Manage?'Your updates to "'+t.title+'" have been saved to your dashboard.':'"'+t.title+'" saved to your dashboard.'),this.dialogRef.close(t)},e.prototype.handleSaveFailure=function(e){this.snackBar.open('Unable to save bookmark "'+e.bookmarkEntry.title+'". Please try again.')},e.prototype.getBookmarkEntry=function(){var e,t,n=this.settings.bookmark,l=this.form.value,i=l.title,o=l.collection,a=l.groupAccess,r=l.publicAccess,u="view"===a,c="edit"===a,s=this.isGroupUser()?null:r,p=[],d=[];if(this.isOwner){var b=this.createGroupAccess(u,c);b?p=[b]:d=n?n.group_access:[];var g=this.store.selectSnapshot(sp.getCollections)||[],h=parseInt(o,10),m=g.find((function(e){return e.collection_id===h}));this.currentCollection?this.currentCollection.collection_id===h||(e=m,t=this.currentCollection):m&&(e=m)}return{isOwner:!n||n.is_owner,id:n?n.id:null,title:i,add_group_access:p,remove_group_access:d,addCollection:e,removeCollection:t,public_access:s}},e.prototype.getGroupAccess=function(e){var t=this.store.selectSnapshot(sp.getOrganization),n=null;if(t&&e.group_access){var l=t.id;n=e.group_access.find((function(e){return e.group_id===l}))}return n},e.prototype.createGroupAccess=function(e,t){var n=this.store.selectSnapshot(sp.getOrganization);return n&&(e||t)?{group_id:n.id,member_edit:t,visible:e||t}:null},e.prototype.isGroupUser=function(){return!!this.store.selectSnapshot(sp.getOrganization)},Object(g.__decorate)([Object(h.e)(sp.getOrganization),Object(g.__metadata)("design:type",Q.a)],e.prototype,"organization$",void 0),Object(g.__decorate)([Object(h.e)(sp.getCollections),Object(g.__metadata)("design:type",Q.a)],e.prototype,"collections$",void 0),Object(g.__decorate)([Object(h.e)(Vp.getSaving),Object(g.__metadata)("design:type",Q.a)],e.prototype,"saving$",void 0),e}(),Wp=function(){function e(e,t,n){this.dialogRef=e,this.data=t,this.storageService=n,this.email=!1,this.ip=!1,this.supportEmail=r.supportEmail,this.organizationName=t.organizationName,this.email=t.email,this.ip=t.ip}return e.prototype.ngOnInit=function(){},e.prototype.handleDontShowClick=function(){var e=this.storageService.getLocalJSON(Hn.GroupRestriction)||{};e.dontShowDialog=!0,this.storageService.setLocalItem(Hn.GroupRestriction,e),this.dialogRef.close()},e}(),qp=function(){return(qp=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Yp=function(){function e(e,t,n){this.dialogRef=e,this.data=t,this.clipboardService=n,this.settings={title:"Copy to Clipboard",copyText:""},this.settings=qp({},this.settings,t)}return Object.defineProperty(e.prototype,"rowCount",{get:function(){return this.settings.copyText.split(/\r?\n/).length+1},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this.copyField.nativeElement;e.focus(),e.select()},e.prototype.handleCopyClick=function(){var e=this.clipboardService.copyInputFieldValue(this.copyField.nativeElement);this.close(e)},e.prototype.handleCancelClick=function(){this.close(!1)},e.prototype.close=function(e){this.dialogRef.close(e)},e}(),Xp=function(){return(Xp=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Jp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Zp=function(e){return e[e.NewUser=0]="NewUser",e[e.ExistingUser=1]="ExistingUser",e[e.Group=2]="Group",e}({}),ed=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jp(arguments[t]));return e}([{text:"We make it easy to visualize the human body<br/> for your educational needs - all in interactive 3D.",logo:"/assets/images/biodigital-logo.svg"}],[{title:"Explore",text:"Browse our digital library for 3D models to complement your curriculum.",image:"/assets/images/welcome-tour-explore.jpg"},{title:"Customize",text:"Use our authoring tools to create 3D views tailored to your educational goals.",image:"/assets/images/welcome-tour-customize.jpg"},{title:"Collaborate",text:"Share your saved 3D views with your team from a central Dashboard.",image:"/assets/images/welcome-tour-collaborate.jpg"},{title:"Integrate",text:"Publish your interactive 3D model and drop into your digital content.",image:"/assets/images/welcome-tour-integrate.jpg"}]),td=[{title:"Introducing Human Studio",text:"The first product for authoring custom interactive 3D models of anatomy, disease and treatments.",image:"/assets/images/studio-tour-studio.jpg"},{title:"Interactive Labels",text:"Quickly add anatomical labels to call out key learning objectives.",image:"/assets/images/studio-tour-labels.jpg"},{title:"Paint",text:"Customize the look and feel of your 3D model by applying different paint effects to anatomical structures.",image:"/assets/images/studio-tour-paint.jpg"},{title:"Tour Builder",text:"Tell an interactive story by stringing together different views of your 3D model.",image:"/assets/images/studio-tour-tour.jpg"},{title:"Text Manager",text:"Add or modify text from one dedicated place.",image:"/assets/images/studio-tour-text.jpg"}],nd=function(){function e(e,t,n){switch(this.store=e,this.dialogRef=t,this.data=n,this.ngUnsubscribe=new $.a,this.settings={userType:Zp.NewUser},this.slides=[],this.selectedIndex=0,this.settings=Xp({},this.settings,n),this.settings.userType){case Zp.NewUser:this.slides=ed;break;case Zp.ExistingUser:this.slides=td}}return Object.defineProperty(e.prototype,"isFirstSlide",{get:function(){return 0===this.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLastSlide",{get:function(){return this.selectedIndex===this.slides.length-1},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleCloseTour=function(){this.close()},e.prototype.close=function(){this.dialogRef.close()},e.prototype.handleSelectSlideClick=function(e){this.selectedIndex=e},e.prototype.handleNextClick=function(){this.incrementSelectedIndex(1)},e.prototype.handlePrevClick=function(){this.incrementSelectedIndex(-1)},e.prototype.incrementSelectedIndex=function(e){this.selectedIndex=Math.max(0,this.selectedIndex+e)%this.slides.length},e}(),ld=function(){function e(e,t,n,l,i){this.store=e,this.dialogRef=t,this.data=n,this.actions=l,this.snackBar=i,this.ngUnsubscribe=new $.a,this.organization=n.organization}return e.prototype.ngOnInit=function(){var e=this;this.actions.pipe(Object(h.l)(Nn),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleJoinSuccess(t.organization)})),this.actions.pipe(Object(h.l)(Rn),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleJoinFail(t.organization)}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleCancelClick=function(){this.close(!1)},e.prototype.handleJoinClick=function(){this.join()},e.prototype.handleJoinSuccess=function(e){this.snackBar.open('Successfully joined "'+e.name+'".'),this.close(!0)},e.prototype.handleJoinFail=function(e){this.snackBar.open('There was an error joining "'+e.name+'".')},e.prototype.join=function(){this.store.dispatch(new Dn(this.organization))},e.prototype.close=function(e){this.dialogRef.close(e)},e}(),id=function(){function e(e){this.dialogRef=e}return e.prototype.ngOnInit=function(){},e.prototype.closeDialog=function(){this.dialogRef.close()},e}(),od=function(){return function(e){this.namespaceMap={},this.duplicate=!1,this.replace=!1,Object.assign(this,e)}}(),ad=function(){function e(e,t,n){this.id=e,this.saveConfig=t,this.trimConfig=n}return e.type="[Modules] Save Module",e}(),rd=function(){function e(e){this.id=e}return e.type="[Modules] Save Module Success",e}(),ud=function(){function e(e){this.id=e}return e.type="[Modules] Save Module Failure",e}(),cd=function(){function e(e){this.id=e}return e.type="[Modules] Duplicate Module Success",e}(),sd=function(){function e(e){this.id=e}return e.type="[Modules] Duplicate Module Failure",e}(),pd=function(){function e(e,t,n){this.id=e,this.serialized=t,this.saveConfig=n}return e.type="[Modules] Save Module Thumbnails",e}(),dd=function(){function e(e){this.module=e}return e.type="[Modules] Set Save Module",e}(),bd=function(){function e(){}return e.type="[Modules] Get Primary Categories",e}(),gd=function(){function e(e){this.primaryCategory=e}return e.type="[Modules] Get Secondary Categories",e}(),hd=function(){function e(){}return e.type="[Modules] Reset",e}(),md=function(e){return e.Success="success",e.Fail="fail",e}({}),fd="cdb/content",yd="cdb/copy/content",_d={headers:new u.g({"Content-Type":"application/json; charset=utf-8"})},vd=["production","client","preview","internal_content","public_preview","demos","social","exports","real_data"],xd=function(){function e(e,t){this.http=e,this.serializeModuleService=t}return e.prototype.saveModule=function(e,t){t=this.formatModulePath(t);var n=[fd,"modules",t].join("/"),l=this.JSONStringify(e);return this.http.put(n,l,_d).pipe(Object(c.a)((function(){return md.Success})),Object(P.a)((function(e){var t=e.status;return t>=200&&t<=202?Object(S.a)(md.Success):Object(S.a)(md.Fail)})))},e.prototype.copyState=function(e,t){var n=[yd,"states",t].join("/"),l={headers:new u.g({"Content-Type":"application/json; charset=utf-8","source-state":e})};return this.http.put(n,{},l)},e.prototype.listContents=function(e,t,n){var l=this.generateModulePath(e,t||"",n||"");return this.http.get("/cdb/ls/content/modules/"+l).pipe(Object(c.a)((function(e){return e.contents})))},e.prototype.getState=function(e){return this.http.get("/cdb/ls/content/states/"+e).pipe(Object(c.a)((function(e){return e.contents})))},e.prototype.getClients=function(){return this.http.get("/search/client").pipe(Object(c.a)((function(e){return e.clients})))},e.prototype.getUsedStates=function(){var e=this,t={};return Object.values(Human.scene.objects).reduce((function(n,l){return["transformId","morphId","geometryId","materialId"].forEach((function(n){var i=e.getPropertyState(l,n);i.length&&(t[i]=!0)})),l.hasOwnProperty("renderables")&&["morphId","geometryId","materialId"].forEach((function(n){l.renderables.forEach((function(l){var i=e.getPropertyState(l,n);i.length&&(t[i]=!0)}))})),n}),{}),Object.keys(t)},e.prototype.parseScenePath=function(e){var t=e.split("/");return 1===t.length?null:{fullPath:"https://qa.biodigital.com/content/modules/"+e,relativePath:t.slice(0,t.length-1).join("/"),sceneName:t[t.length-1]}},e.prototype.formatModulePath=function(e){var t=e;return/\.json$/.test(e)||(t+=".json"),t},e.prototype.getPrimaryCategories=function(){return Object(S.a)(vd)},e.prototype.getSecondaryCategories=function(e){switch(e){case"production":return Object(S.a)(["maleAdult","femaleAdult"]);case"client":return this.getClients();default:return Object(S.a)([])}},e.prototype.generateSaveModule=function(e){var t=this.parseScenePath(e),n=t.relativePath.split("/");return{id:e,name:t.sceneName,primaryCategory:n[0]||"",secondaryCategory:n[1]||""}},e.prototype.generateModulePath=function(e,t,n){var l=[];return e.length&&l.push(e),t.length&&l.push(t),n.length&&(n.indexOf(".json")<0&&(n+=".json"),l.push(n)),l.join("/")},e.prototype.getPropertyState=function(e,t){return null!=e[t]?e[t].split("/")[0]:""},e.prototype.JSONStringify=function(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(u.c),i.Yb(Gs))},token:e,providedIn:"root"}),e}(),Od=((new u.g).set("Content-Type","application/json"),n("t9fZ")),wd=function(){return function(){}}(),Cd=function(){return(Cd=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},jd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};(new Ir).graph.hidden=!0;var kd,Sd={primaryCategoryOptions:[],secondaryCategoryOptions:[],moduleExists:!1,saveModule:new wd,storyType:a.Module,saving:!1},Pd=function(){function e(e,t,n,l,i){this.store=e,this.serializeModuleService=t,this.modulesService=n,this.modulesThumbnailService=l,this.storyService=i}var t;return t=e,e.getSaveModule=function(e){return e.saveModule},e.getPrimaryCategoryOptions=function(e){return Object(h.j)([t],(function(t){return"read"===e?t.primaryCategoryOptions:t.primaryCategoryOptions.filter((function(e){return"exports"!==e}))}))},e.getSecondaryCategoryOptions=function(e){return e.secondaryCategoryOptions},e.getSaving=function(e){return e.saving},e.prototype.saveModule=function(e,t){var n=this;e.patchState({saving:!0});var l=t.saveConfig,i=t.trimConfig?t.trimConfig:new Ir,o=l.duplicate?t.saveConfig.namespaceMap:{},a=this.store.selectSnapshot(Fp.getLabels),r=this.store.selectSnapshot(Zc.getStoryChapters);this.storyService.storeLabelsInChapters(a,r);var u=this.serializeModuleService.serialize(l.replace,o,i,t.saveConfig.duplicate,this.store.selectSnapshot(Js.getStory),this.store.selectSnapshot(Zc.getStoryChapters));if(this.modulesService.saveModule(u.story,t.id).pipe(Object(L.a)((function(){return e.patchState({saving:!1})}))).subscribe((function(i){i===md.Success?(u&&n.store.dispatch(new wo(u.story)),n.store.dispatch(new Co(t.id)),e.dispatch(new rd(t.id)),e.dispatch(new pd(t.id,u,l))):e.dispatch(new ud(t.id))})),l.duplicate){var c=[];Object.entries(o).forEach((function(e){var t=jd(e,2);c.push(n.modulesService.copyState(t[0],t[1]))})),Object(vt.a)(c).subscribe((function(n){e.dispatch(new cd(t.id))}),(function(n){e.dispatch(new sd(t.id))}))}},e.prototype.saveModuleThumbnails=function(e,t){var n=this.store.selectSnapshot(Zc.getRegisteredThumbnails);this.modulesThumbnailService.saveStoryThumbnails({storyId:t.id,storyType:a.Module,thumbnails:n,chapterIdMap:t.serialized.chapterIdMap,indexId:t.serialized.story.chapters[0].id,deleteUnused:t.saveConfig.replace}).subscribe((function(e){}))},e.prototype.setSaveModule=function(e,t){e.patchState({saveModule:Cd({},t.module)})},e.prototype.getModulePrimaryCategories=function(e,t){this.modulesService.getPrimaryCategories().subscribe((function(t){e.patchState({primaryCategoryOptions:t})}))},e.prototype.getModuleSecondaryCategories=function(e,t){this.modulesService.getSecondaryCategories(t.primaryCategory).subscribe((function(t){e.patchState({secondaryCategoryOptions:t})}))},e.prototype.resetModules=function(e,t){Object(vt.a)(this.modulesService.getPrimaryCategories(),this.modulesService.getSecondaryCategories("")).pipe(Object(Od.a)(1)).subscribe((function(t){var n=jd(t,2);e.patchState({primaryCategoryOptions:n[0],secondaryCategoryOptions:n[1]})}))},Object(g.__decorate)([Object(h.a)(ad),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ad]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"saveModule",null),Object(g.__decorate)([Object(h.a)(pd),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,pd]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"saveModuleThumbnails",null),Object(g.__decorate)([Object(h.a)(dd),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,dd]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setSaveModule",null),Object(g.__decorate)([Object(h.a)(bd),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,bd]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getModulePrimaryCategories",null),Object(g.__decorate)([Object(h.a)(gd),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,gd]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getModuleSecondaryCategories",null),Object(g.__decorate)([Object(h.a)(hd),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,hd]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetModules",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object]),Object(g.__metadata)("design:returntype",void 0)],e,"getSaveModule",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object]),Object(g.__metadata)("design:returntype",void 0)],e,"getSecondaryCategoryOptions",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object]),Object(g.__metadata)("design:returntype",void 0)],e,"getSaving",null),t=Object(g.__decorate)([Object(h.g)({name:"modules",defaults:Sd})],e)}(),Id=n("dzgT"),Md=n("p0ib"),Td=n("15JJ"),Kd=function(){return(Kd=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},zd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ld=/^[0-9a-zA-Z_]+$/,Ed=function(){function e(e,t,n,l,i,o,a,r){this.store=e,this.actions=t,this.formBuilder=n,this.modulesService=l,this.changeDetector=i,this.snackbar=o,this.dialogRef=a,this.data=r,this.moduleExists=!1,this.validating=!1,this.ngUnsubscribe=new $.a,this.settings=Kd({},r)}return Object.defineProperty(e.prototype,"formName",{get:function(){return this.form.get("name")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formStates",{get:function(){return this.form.get("states")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formPrimaryCategory",{get:function(){return this.form.get("primaryCategory")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formSecondaryCategory",{get:function(){return this.form.get("secondaryCategory")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDuplicateStates",{get:function(){return this.form.get("duplicateStates")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formTrimGraph",{get:function(){return this.form.get("trimGraph")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formConfirmProduction",{get:function(){return this.form.get("confirmProduction")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.store.dispatch(new hd),this.saveModule=this.generateSaveModule(),this.usedStates=this.modulesService.getUsedStates(),this.initApplicationListeners(),this.initForm(),this.setFormValidators(),this.initFormListeners(),this.setFormValues(this.saveModule),this.populateStateValues()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initApplicationListeners=function(){var e=this;this.actions.pipe(Object(h.l)(rd),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleSaveSuccess(t.id)})),this.actions.pipe(Object(h.l)(ud),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleSaveFail(t.id)}))},e.prototype.initFormListeners=function(){var e=this;this.formPrimaryCategory.valueChanges.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.store.dispatch(new gd(t))})),Object(Id.b)(this.formPrimaryCategory.valueChanges,this.formSecondaryCategory.valueChanges,this.formName.valueChanges,this.formDuplicateStates.valueChanges).pipe(Object(G.a)(this.ngUnsubscribe),Object(cr.a)(300)).subscribe((function(t){var n=zd(t,4);e.handleNameChange(n[0],n[1],n[2],n[3])})),Object(Md.a)(this.formDuplicateStates.valueChanges,this.formStates.valueChanges).pipe(Object(Fa.a)((function(){return e.validating=!0})),Object(cr.a)(300),Object(Td.a)((function(t){return e.checkStateGroups()})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.validating=!1,e.updateFormStates(t)}))},e.prototype.initForm=function(){this.form=this.formBuilder.group({primaryCategory:["",ae.x.required],secondaryCategory:[""],name:["",[ae.x.required,ae.x.pattern("[0-9a-zA-Z_]*")]],trimGraph:[!1],duplicateStates:[!1],confirmProduction:[!1,this.validateProductionSave],states:this.formBuilder.array([this.initStateForm("")])},{validators:[this.validateProductionSave]})},e.prototype.initStateForm=function(e){return this.formBuilder.group({include:[!0],oldState:[e],newState:[e,[ae.x.required,ae.x.pattern("[0-9a-zA-Z_]*")]]})},e.prototype.handleReplaceClick=function(e){this.changeStatePrefix(e,"replace")},e.prototype.handlePrependClick=function(e){this.changeStatePrefix(e,"prepend")},e.prototype.handleSubmit=function(){this.form.valid&&this.save()},e.prototype.handleSaveSuccess=function(e){this.dialogRef.close(),this.snackbar.open('"'+e+'" successfully saved.')},e.prototype.handleSaveFail=function(e){this.snackbar.open('There was an error saving "'+e+'".')},e.prototype.generateSaveModule=function(){return this.modulesService.generateSaveModule(this.settings.id)},e.prototype.populateStateValues=function(){for(var e=this;this.formStates.length>0;)this.formStates.removeAt(0);var t=[];this.modulesService.getUsedStates().forEach((function(n){var l={enabled:!0,state:n};e.formStates.push(e.initStateForm(l.state)),t.push(l)})),this.formStates.markAsDirty()},e.prototype.setFormValidators=function(){var e=this;this.formPrimaryCategory.valueChanges.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){switch(t){case"production":case"client":e.formSecondaryCategory.setValidators([ae.x.required]);break;default:e.formSecondaryCategory.setValidators(null),e.formSecondaryCategory.setValue("")}}))},e.prototype.setFormValues=function(e){this.form.patchValue({primaryCategory:"exports"===e.primaryCategory?"preview":e.primaryCategory||"preview",secondaryCategory:e.secondaryCategory||"",name:e.name||"",trimGraph:!1,duplicateStates:!1})},e.prototype.save=function(){var e=this.modulesService.generateModulePath(this.formPrimaryCategory.value,this.formSecondaryCategory.value,this.formName.value),t=new od;this.formDuplicateStates.value&&(t.duplicate=!0,this.formStates.value.map((function(e){e.include&&(t.namespaceMap[e.oldState]=e.newState)})));var n=new Ir;n.graph.hidden=this.formTrimGraph.value,this.store.dispatch(new ad(e,t,n))},e.prototype.handleNameChange=function(e,t,n,l){var i=this;if(this.modulePath=this.modulesService.generateModulePath(e,t,n),this.formName.errors){var o=this.formName.errors;if(o.pattern||o.required)return}this.modulePath&&n.length&&this.modulesService.listContents(e,t,n).subscribe((function(e){i.moduleExists=e.length>0;var t=l&&i.moduleExists,o=!Ld.test(n);i.formName.setErrors(t||o?{invalid:!0}:null),i.formName.markAsDirty(),i.changeDetector.markForCheck()}))},e.prototype.validateProductionSave=function(e){var t=e.get("primaryCategory"),n=e.get("confirmProduction");return t&&n&&"production"===t.value&&!1===n.value?{confirmProduction:!0}:null},e.prototype.checkStateGroups=function(){var e=this,t=this.formStates.controls.map((function(t){return e.validateStateGroup(t)}));return t.length>0?Id.b.apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zd(arguments[t]));return e}(t)):Object(S.a)([])},e.prototype.validateStateGroup=function(e){var t=!0===this.formDuplicateStates.value,n=e.get("newState"),l=e.get("include");return t&&!1!==l.value?n.errors||0===n.value.length?Object(S.a)({stateControl:n,valid:!1}):this.modulesService.getState(n.value).pipe(Object(c.a)((function(e){var t=Ld.test(n.value);return{stateControl:n,valid:0===e.length&&t}}))):Object(S.a)({stateControl:n,valid:!0})},e.prototype.updateFormStates=function(e){e.forEach((function(e){e.valid?(e.stateControl.setErrors(null),e.stateControl.markAsDirty()):e.stateControl.setErrors({stateTaken:!0})})),this.changeDetector.markForCheck()},e.prototype.changeStatePrefix=function(e,t){this.formStates.controls.forEach((function(n){var l=n.get("newState");switch(t){case"prepend":l.setValue(e+"_"+l.value);break;case"replace":var i=new RegExp(/[^_]*/),o=l.value.replace(i,e);l.setValue(o)}}))},Object(g.__decorate)([Object(h.e)(Pd.getSaveModule),Object(g.__metadata)("design:type",Q.a)],e.prototype,"saveModule$",void 0),Object(g.__decorate)([Object(h.e)(Pd.getPrimaryCategoryOptions("write")),Object(g.__metadata)("design:type",Q.a)],e.prototype,"primaryCategoryOptions$",void 0),Object(g.__decorate)([Object(h.e)(Pd.getSecondaryCategoryOptions),Object(g.__metadata)("design:type",Q.a)],e.prototype,"secondaryCategoryOptions$",void 0),Object(g.__decorate)([Object(h.e)(Pd.getSaving),Object(g.__metadata)("design:type",Q.a)],e.prototype,"saving$",void 0),e}(),Ud=function(){return(Ud=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Fd=function(){function e(e,t,n,l){this.store=e,this.dialogRef=t,this.data=n,this.sanitizer=l;var i=this.store.selectSnapshot(Ra.getUserProfile);this.settings=Ud({surveyEmail:i?i.email:""},this.data)}return Object.defineProperty(e.prototype,"src",{get:function(){var e=this.settings;return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.research.net/r/BKTXJMC?Org="+e.surveyGroupName+"&Email="+e.surveyEmail)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.closeDialog=function(){this.dialogRef.close()},e}(),Ad=function(){return function(){}}(),Dd=function(e){return e[e.Query=0]="Query",e[e.Path=1]="Path",e}({}),Nd=function(e){return e[e.List=0]="List",e[e.Cards=1]="Cards",e}({}),Rd=function(){return function(e,t,n,l){void 0===l&&(l=null),this.label=e,this.value=t,this.type=n,this.organizationId=l,this.id=n+"|"+(t||"")+"|"+(l||"")}}(),Bd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Hd=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Bd(arguments[t]));return e},Vd={loading:!0,searchMode:Dd.Query,viewMode:Nd.Cards,sort:Ip,sortOptions:Mp,studioOptions:[],studioQuery:"",studioCategoryId:"category||",searchResults:[],checkedResults:[]},$d=function(){function e(e,t,n,l){this.organizationsService=e,this.modulesService=t,this.exploreService=n,this.bookmarksService=l}return e.getLoading=function(e){return e.loading},e.getSearchMode=function(e){return e.searchMode},e.getViewMode=function(e){return e.viewMode},e.getSort=function(e){return e.sort},e.getSortOptions=function(e){return e.sortOptions},e.getStudioOptions=function(e){return e.studioOptions},e.getSearchResults=function(e){var t=e.sort;return Dp(e.searchResults,t.fields,t.ascending)},e.getStudioCategoryId=function(e){return e.studioCategoryId},e.getStudioQuery=function(e){return e.studioQuery},e.prototype.setSearchMode=function(e,t){e.patchState({searchMode:t.searchMode})},e.prototype.setViewMode=function(e,t){e.patchState({viewMode:t.viewMode})},e.prototype.setSort=function(e,t){var n=e.getState().searchResults;e.patchState({sort:t.sort,searchResults:Hd(n)})},e.prototype.getStudioCategories=function(e,t){var n=t.organizationId,l=Object(S.a)(Zs.categories),i=n?this.organizationsService.getCollections(n):Object(S.a)([]);Object(vt.a)(l,i).subscribe((function(t){var l=Bd(t,2),i=l[0],o=l[1],a=[];a=Hd([new Rd("My Models","","user"),new Rd("Biodigital Models","","category")],i.map((function(e){return new Rd(e.title,e.id,"category")}))),n&&(a=Hd(a,[new Rd("Team Models","","organization",n)],o.map((function(e){return new Rd(e.collection_name,e.collection_id.toString(),"collection",n)})))),e.dispatch(new rl.GetStudioOptionsSuccess(a))}))},e.prototype.getStudioOptionsSuccess=function(e,t){e.patchState({studioOptions:Hd(t.options)})},e.prototype.searchStudio=function(e,t){var n=t.category,l=t.query,i=n.organizationId,o=n.value,a=n.type;e.patchState({loading:!0,studioQuery:l,studioCategoryId:n.id});var r=new Q.a;switch(a){case"category":r="public"===o?this.bookmarksService.getPublicBookmarks(l):this.exploreService.getAnatomyCategory(l,o.toString());break;case"organization":r=this.bookmarksService.getOrganizationContent(i,l);break;case"collection":r=this.organizationsService.getCollectionContent(i,o,l);break;case"user":r=this.bookmarksService.getPrivateBookmarks(l)}r.pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new rl.SearchStudioSuccess(t))}))},e.prototype.searchStudioSuccess=function(e,t){e.dispatch(new rl.SearchSuccess(t.bookmarks))},e.prototype.searchLoft=function(e,t){e.patchState({loading:!0});var n=t.name.indexOf(".json")>0;this.modulesService.listContents(t.primaryCategory,t.secondaryCategory,n?t.name:"").pipe(Object(c.a)((function(e){return n?e:e.filter((function(e){return e.name.indexOf(t.name)>=0}))})),Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){e.dispatch(new rl.SearchLoftSuccess(t))}),(function(t){e.dispatch(new rl.SearchLoftSuccess([]))}))},e.prototype.searchLoftSuccess=function(e,t){var n=t.bookmarks.map((function(e){var t=e.name.replace("/content/modules/","").replace(".json",""),n=e.name.split("/").pop().replace("/content/modules","").replace(".json",""),l=new gr;return l.id=t,l.title=n,l.type=a.Module,l}));e.dispatch(new rl.SearchSuccess(n))},e.prototype.searchSuccess=function(e,t){e.patchState({searchResults:t.bookmarks})},e.prototype.clearResults=function(e,t){e.patchState({searchResults:[]})},e.prototype.resetGallery=function(e,t){e.patchState(Vd)},Object(g.__decorate)([Object(h.a)(rl.SetSearchMode),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rl.SetSearchMode]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setSearchMode",null),Object(g.__decorate)([Object(h.a)(rl.SetViewMode),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rl.SetViewMode]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setViewMode",null),Object(g.__decorate)([Object(h.a)(rl.SetSort),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rl.SetSort]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setSort",null),Object(g.__decorate)([Object(h.a)(rl.GetStudioOptions),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rl.GetStudioOptions]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getStudioCategories",null),Object(g.__decorate)([Object(h.a)(rl.GetStudioOptionsSuccess),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rl.GetStudioOptionsSuccess]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"getStudioOptionsSuccess",null),Object(g.__decorate)([Object(h.a)(rl.SearchStudio),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rl.SearchStudio]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"searchStudio",null),Object(g.__decorate)([Object(h.a)(rl.SearchStudioSuccess),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rl.SearchStudioSuccess]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"searchStudioSuccess",null),Object(g.__decorate)([Object(h.a)(rl.SearchLoft),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rl.SearchLoft]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"searchLoft",null),Object(g.__decorate)([Object(h.a)(rl.SearchLoftSuccess),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rl.SearchLoftSuccess]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"searchLoftSuccess",null),Object(g.__decorate)([Object(h.a)(rl.SearchSuccess),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rl.SearchSuccess]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"searchSuccess",null),Object(g.__decorate)([Object(h.a)(rl.ClearResults),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rl.ClearResults]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"clearResults",null),Object(g.__decorate)([Object(h.a)(rl.Reset),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,rl.Reset]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetGallery",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Ad]),Object(g.__metadata)("design:returntype",void 0)],e,"getLoading",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Ad]),Object(g.__metadata)("design:returntype",void 0)],e,"getSearchMode",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Ad]),Object(g.__metadata)("design:returntype",void 0)],e,"getViewMode",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Ad]),Object(g.__metadata)("design:returntype",void 0)],e,"getSort",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Ad]),Object(g.__metadata)("design:returntype",void 0)],e,"getSortOptions",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Ad]),Object(g.__metadata)("design:returntype",void 0)],e,"getStudioOptions",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Ad]),Object(g.__metadata)("design:returntype",void 0)],e,"getSearchResults",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Ad]),Object(g.__metadata)("design:returntype",void 0)],e,"getStudioCategoryId",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Ad]),Object(g.__metadata)("design:returntype",void 0)],e,"getStudioQuery",null),Object(g.__decorate)([Object(h.g)({name:"gallery",defaults:Vd})],e)}();!function(e){var t=function(){function e(){}return e.type="[Dialog] Open Premium Content",e}();e.OpenPremiumContent=t;var n=function(){function e(e){this.confirmed=e}return e.type="[Dialog] Close Premium Content",e}();e.ClosePremiumContent=n;var l=function(){function e(){}return e.type="[Dialog] Open Upgrade",e}();e.OpenUpgrade=l;var i=function(){function e(){}return e.type="[Dialog] Close Upgrade",e}();e.CloseUpgrade=i}(kd||(kd={}));var Qd=function(){function e(e,t,n){this.store=e,this.dialogRef=t,this.changeDetectorRef=n,this.ngUnsubscribe=new $.a}return e.prototype.ngOnInit=function(){var e=this;this.results$.subscribe((function(t){e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.store.dispatch(new rl.ClearResults),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleSelect=function(e){!e.premium||this.store.selectSnapshot(Ra.isPremiumUser)?(this.store.dispatch(new rl.SelectBookmark(e)),this.dialogRef.close(e)):this.store.dispatch(new kd.OpenPremiumContent)},Object(g.__decorate)([Object(h.e)($d.getViewMode),Object(g.__metadata)("design:type",Q.a)],e.prototype,"viewMode$",void 0),Object(g.__decorate)([Object(h.e)($d.getLoading),Object(g.__metadata)("design:type",Q.a)],e.prototype,"loading$",void 0),Object(g.__decorate)([Object(h.e)($d.getSearchResults),Object(g.__metadata)("design:type",Q.a)],e.prototype,"results$",void 0),Object(g.__decorate)([Object(h.e)(Ra.isPremiumUser),Object(g.__metadata)("design:type",Q.a)],e.prototype,"isPremiumUser$",void 0),e}(),Gd=function(){return(Gd=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Wd=function(){function e(e,t,n,l,i,o,a){this.store=e,this.actions=t,this.formBuilder=n,this.dialogRef=l,this.snackBar=i,this.storageService=o,this.data=a,this.ngUnsubscribe=new $.a,this.settings=Gd({},a);var r=this.store.selectSnapshot(sp.getOrganization);r&&this.store.dispatch(new Fn(r.id))}return e.prototype.ngOnInit=function(){var e=this,t="true"===this.storageService.getLocalItem(Hn.DefaultGroupEdit),n=this.storageService.getLocalItem(Hn.DefaultCollectionId);this.form=this.formBuilder.group({groupEditEnabled:[""+t,ae.x.required],collectionId:[n]}),this.form.valueChanges.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.groupEditEnabled,l=t.collectionId;n?e.storageService.setLocalItem(Hn.DefaultGroupEdit,n):e.storageService.removeLocalItem(Hn.DefaultGroupEdit),l?e.storageService.setLocalItem(Hn.DefaultCollectionId,l):e.storageService.removeLocalItem(Hn.DefaultCollectionId)})),this.actions.pipe(Object(h.l)(Rl),Object(W.a)((function(t){return t.sourceId===e.settings.bookmark.id&&!!t.groupAccess})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.dialogRef.close(t.newId)})),this.actions.pipe(Object(h.l)(Bl),Object(W.a)((function(t){return t.id===e.settings.bookmark.id})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.snackBar.open("Adding "+e.settings.bookmark.title+" to your team models has failed. Please try again")}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleSubmit=function(){this.form.valid&&this.addTeamModel(this.settings.bookmark)},e.prototype.addTeamModel=function(e){var t=this.form.value,n=t.groupEditEnabled,l=t.collectionId,i=this.store.selectSnapshot(sp.getOrganization),o=this.store.selectSnapshot(sp.getCollections),a=this.store.selectSnapshot(Ra.getUserLocale).lang,r={group_id:i.id,member_edit:"true"===n,visible:!0},u=o.find((function(e){return""+e.collection_id===l}));this.store.dispatch(new Nl(e.id,e.type,a,r,u))},Object(g.__decorate)([Object(h.e)(sp.getCollections),Object(g.__metadata)("design:type",Q.a)],e.prototype,"collections$",void 0),Object(g.__decorate)([Object(h.e)(Vp.getCopying),Object(g.__metadata)("design:type",Q.a)],e.prototype,"copying$",void 0),e}(),qd=function(e){return e.ClipboardDialog="ClipboardDialog",e.WelcomeTourDialog="WelcomeTourDialog",e.JoinDomainDialog="JoinDomainDialog",e.NpsSurveyDialog="NpsSurveyDialog",e.ConfirmDialog="ConfirmDialog",e.LimitDialog="LimitDialog",e.UpgradeDialog="UpgradeDialog",e.BuyDialog="BuyDialog",e.ProfileDialog="ProfileDialog",e.SaveModuleDialog="SaveModuleDialog",e.SaveBookmarkDialog="SaveBookmarkDialog",e.SaveAsBookmarkDialog="SaveAsBookmarkDialog",e.ManageDialog="ManageDialog",e.BookmarkAccessDialog="BookmarkAccessDialog",e.GroupRestrictionDialog="GroupRestrictionDialog",e.PremiumContentDialog="PremiumContentDialog",e.AboutDialog="AboutDialog",e.ImportDialog="ImportDialog",e.AddTeamModelDialog="AddTeamModelDialog",e}({}),Yd=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Xd=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Yd(arguments[t]));return e},Jd=function(){function e(e,t,n,l){this.store=e,this.actions=t,this.fb=n,this.snackBar=l,this.presetBackgrounds="module"===r.exportType?Object(N.plainToClass)(Xa,Hc):Object(N.plainToClass)(Xa,Bc),this.ngUnsubscribe=new $.a}return e.prototype.ngOnInit=function(){var e=this;this.initPresets(),this.initForm(),this.actions.pipe(Object(h.k)(qo),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.snackBar.open("Successfully applied color to all chapters.")}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initPresets=function(){var e=this;this.presetBackground=this.store.selectSnapshot(Zc.getSelectedChapterBackground),this.background$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.presetBackground=t})),this.allChapterBackgrounds$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.distinctBackgrounds=t.filter((function(n,l){return t.findIndex((function(t){return e.backgroundsEqual(n,t)}))===l}))}))},e.prototype.initForm=function(){var e=this,t=this.store.selectSnapshot(Zc.getSelectedChapterBackground);this.form=this.fb.group({type:["solid",[ae.x.required]],color1:["",[ae.x.required]],stop1:[0,[ae.x.required,ae.x.min(0),ae.x.max(100)]],color2:["",[ae.x.required]],stop2:[100,[ae.x.required,ae.x.min(0),ae.x.max(100)]]}),this.form.valueChanges.pipe(Object(W.a)((function(){return e.customTab.isActive})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.applyFromCustom()})),t&&this.setCustomColorForm(t)},e.prototype.handleFormColorSelected=function(e,t){this.form.get(e).setValue(t)},e.prototype.handlePresetSelected=function(e){this.presetBackground=e,this.store.dispatch(new Xo(e))},e.prototype.handleResetClick=function(){this.store.dispatch(new Yo)},e.prototype.handleTabChange=function(e){this.customTab.isActive&&this.presetBackground&&this.setCustomColorForm(this.presetBackground)},e.prototype.backgroundsEqual=function(e,t){return Object(jt.isEqual)(e,t)},e.prototype.getBackgroundHex=function(e){var t=e.colors;return Ge.rgbToHex([t[0],t[1],t[2]])},e.prototype.getFormBackgroundHex=function(e){return this.form.get(e).value},e.prototype.applyAll=function(){var e=this.form.value.type;if(this.presetTab.isActive)this.store.dispatch(new qo(this.presetBackground));else if(this.customTab.isActive){var t=this.formToBackgroundColor(e);t&&this.store.dispatch(new qo(t))}},e.prototype.applyFromCustom=function(){var e=this.formToBackgroundColor(this.form.value.type);e&&this.store.dispatch(new Xo(e))},e.prototype.setCustomColorForm=function(e){var t,n,l,i=e.colors,o=e.gradientType,a=e.colorStops,r=[i[0],i[1],i[2]],u=i.length<8?r:[i[4],i[5],i[6]];t=Ge.rgbToHex(r,!1),n=Ge.rgbToHex(u,!1),l=Xa.isTransparent(e)?"transparent":Object(jt.isEqual)(r,u)?"solid":o,this.form.patchValue({type:l,color1:t,stop1:a[0],color2:n,stop2:a[1]})},e.prototype.formToBackgroundColor=function(e){var t=this.form.value,n=t.color1,l=t.color2,i=t.stop1,o=t.stop2;if("transparent"===e)return Rc;if(!this.form.valid)return null;var a=[],r="radial"===e?"radial":"linear";return n&&a.push.apply(a,Xd(Ge.hexToRgb(n,!1),[1])),a.push.apply(a,l&&"solid"!==e?Xd(Ge.hexToRgb(l,!1),[1]):Xd(a)),new Xa(a,r,[i,o])},Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterBackground),Object(g.__metadata)("design:type",Q.a)],e.prototype,"background$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getAllChaptersBackground),Object(g.__metadata)("design:type",Q.a)],e.prototype,"allChapterBackgrounds$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterIndex),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedChapterIndex$",void 0),e}(),Zd=n("o3x0"),eb=function(){return(eb=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},tb=function(){function e(e){this.dialog=e}return Object.defineProperty(e.prototype,"isMobile",{get:function(){return window.innerWidth<=768},enumerable:!0,configurable:!0}),e.prototype.openClipboardDialog=function(e,t){var n=eb({data:{id:qd.ClipboardDialog,copyText:e}},t);return this.dialog.open(Yp,n)},e.prototype.openWelcomeTourDialog=function(e,t){var n=eb({id:qd.WelcomeTourDialog,disableClose:!0,data:{userType:"updated_tour"===e?Zp.ExistingUser:Zp.NewUser}},t);return this.dialog.open(nd,n)},e.prototype.openJoinDomainDialog=function(e,t){var n=eb({id:qd.JoinDomainDialog,data:{organization:e}},t);return this.dialog.open(ld,n)},e.prototype.openNpsSurveyDialog=function(e,t){var n=eb({id:qd.NpsSurveyDialog,data:{surveyGroupName:e}},t);return this.dialog.open(Fd,n)},e.prototype.openConfirmDialog=function(e){var t=eb({id:qd.ConfirmDialog},e);return this.dialog.open(jp,t)},e.prototype.openLimitDialog=function(){return this.dialog.closeAll(),this.dialog.open(vp,{id:qd.LimitDialog,width:"480px"})},e.prototype.openUpgradeDialog=function(e){var t={width:925,height:700},n=eb({id:qd.UpgradeDialog},{width:t.width+"px",height:t.height+"px",data:{type:Op.UpgradeSubscription,dimensions:t}},e);return this.dialog.closeAll(),this.dialog.open(wp,n)},e.prototype.openBuyDialog=function(e){var t={width:550,height:650},n=eb({id:qd.BuyDialog},{width:t.width+"px",height:t.height+"px",data:{type:Op.BuySubscription,dimensions:t}},e);return this.dialog.closeAll(),this.dialog.open(wp,n)},e.prototype.openProfileDialog=function(e,t){void 0===t&&(t="");var n={width:750,height:600},l=eb({id:qd.ProfileDialog},{width:n.width+"px",height:n.height+"px",data:{type:Op.MyProfile,dimensions:n,options:{show_tab:t}}},e);return this.dialog.closeAll(),this.dialog.open(wp,l)},e.prototype.openSaveModuleDialog=function(e,t){this.dialog.closeAll();var n=eb({id:qd.SaveModuleDialog},{width:"480px",data:{id:e}},t);return this.dialog.open(Ed,n)},e.prototype.openSaveBookmarkDialog=function(e,t){return this._openSaveBookmarkDialog(eb({id:qd.SaveBookmarkDialog,data:{bookmark:e,mode:Qp.SaveStory}},t))},e.prototype.openSaveAsBookmarkDialog=function(e,t,n,l){return this._openSaveBookmarkDialog(eb({id:qd.SaveBookmarkDialog,data:{title:e,bookmarkTitle:t,message:n,mode:Qp.SaveStory}},l))},e.prototype.openManageDialog=function(e,t){return this._openSaveBookmarkDialog(eb({id:qd.SaveBookmarkDialog,data:{bookmark:e,mode:Qp.Manage}},t))},e.prototype.openBookmarkAccessDialog=function(e,t){var n=eb({id:qd.BookmarkAccessDialog,width:"480px",data:{model:e}},t);return this.dialog.closeAll(),this.dialog.open(Gp,n)},e.prototype.openGroupRestrictionDialog=function(e){var t=eb({id:qd.GroupRestrictionDialog},{width:"480px",height:"auto"},e);return this.dialog.open(Wp,t)},e.prototype.openPremiumContentDialog=function(){return this.openConfirmDialog({id:qd.PremiumContentDialog,data:{titleText:"Premium Content",bodyText:this.isMobile?"This is premium content. Visit us on desktop to upgrade to a premium plan.":"This is premium content. Upgrade to a Premium Plan for unlimited access.",confirmText:"Go Premium",confirmEnabled:!this.isMobile,cancelText:"OK",confirmColor:"warn"}})},e.prototype.openAboutDialog=function(){return this.dialog.closeAll(),this.dialog.open(id,{id:qd.AboutDialog})},e.prototype.openImportDialog=function(){return this.dialog.closeAll(),this.dialog.open(Qd,{id:qd.ImportDialog,maxWidth:"90vw",width:"90vw",height:"90vh"})},e.prototype.openAddTeamModelDialog=function(e){return this.dialog.open(Wd,{id:qd.AddTeamModelDialog,data:{bookmark:e}})},e.prototype.openBackgroundColorDialog=function(){return this.dialog.open(Jd,{backdropClass:"backdropClass",data:{}})},e.prototype._openSaveBookmarkDialog=function(e){var t=eb({mode:Qp.SaveStory},e);return this.dialog.closeAll(),this.dialog.open(Gp,t)},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(Zd.e))},token:e,providedIn:"root"}),e}(),nb=n("vARd"),lb=i.wb({encapsulation:0,styles:[[".publish[_ngcontent-%COMP%]{display:grid;grid-template-columns:320px auto;grid-template-rows:1fr auto;height:100%;grid-template-areas:'options embed' 'actions embed'}.publish__options[_ngcontent-%COMP%]{grid-area:options;overflow-y:scroll}.publish__screens[_ngcontent-%COMP%]{grid-area:screens;text-align:center}.publish__embed[_ngcontent-%COMP%]{grid-area:embed;background-color:#fff;border-left:1px solid #eaeff5;overflow:auto}.publish__actions[_ngcontent-%COMP%]{grid-area:actions}.publish__actions[_ngcontent-%COMP%]:before{content:' ';display:block;background-color:#fff;height:12px;box-shadow:inset 0 -12px 8px -10px rgba(150,168,192,.4)}.publish__actions-content[_ngcontent-%COMP%]{padding:0 20px 0 8px}.publish__group[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;-webkit-box-align:center;align-items:center}.publish__flex-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.publish__input[_ngcontent-%COMP%]{width:100px;min-height:28px;padding:6px 8px}.publish__picker[_ngcontent-%COMP%]{width:60px}"]],data:{}});function ib(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,22,"div",[["class","publish__flex-group"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,10,"app-form-field",[["class","mr-6"],["display","inline"],["label","Width"],["theme","light"]],null,null,null,oe,le)),i.xb(2,114688,null,0,ne,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),i.yb(3,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","width"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,4)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,4).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,4)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,4)._compositionEnd(n.target.value)&&l),"change"===t&&(l=!1!==i.Kb(e,5).onChange(n.target.value)&&l),"input"===t&&(l=!1!==i.Kb(e,5).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,5).onTouched()&&l),l}),null,null)),i.xb(4,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.xb(5,16384,null,0,ae.s,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e,t){return[e,t]}),[ae.d,ae.s]),i.xb(7,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(9,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(10,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),i.Sb(11,null,["Min. ","px"])),(e()(),i.yb(12,0,null,null,10,"app-form-field",[["display","inline"],["label","Height"],["theme","light"]],null,null,null,oe,le)),i.xb(13,114688,null,0,ne,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),i.yb(14,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","height"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,15)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,15).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,15)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,15)._compositionEnd(n.target.value)&&l),"change"===t&&(l=!1!==i.Kb(e,16).onChange(n.target.value)&&l),"input"===t&&(l=!1!==i.Kb(e,16).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,16).onTouched()&&l),l}),null,null)),i.xb(15,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.xb(16,16384,null,0,ae.s,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e,t){return[e,t]}),[ae.d,ae.s]),i.xb(18,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(20,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(21,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),i.Sb(22,null,["Min. ","px"]))],(function(e,t){e(t,2,0,"Width","inline","light",!0),e(t,7,0,"width"),e(t,13,0,"Height","inline","light",!0),e(t,18,0,"height")}),(function(e,t){e(t,3,0,i.Kb(t,9).ngClassUntouched,i.Kb(t,9).ngClassTouched,i.Kb(t,9).ngClassPristine,i.Kb(t,9).ngClassDirty,i.Kb(t,9).ngClassValid,i.Kb(t,9).ngClassInvalid,i.Kb(t,9).ngClassPending),e(t,11,0,t.context.ngIf.width),e(t,14,0,i.Kb(t,20).ngClassUntouched,i.Kb(t,20).ngClassTouched,i.Kb(t,20).ngClassPristine,i.Kb(t,20).ngClassDirty,i.Kb(t,20).ngClassValid,i.Kb(t,20).ngClassInvalid,i.Kb(t,20).ngClassPending),e(t,22,0,t.context.ngIf.height)}))}function ob(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,8,"app-panel",[["formGroupName","dimensions"],["label","Size"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe,me)),i.Pb(5120,null,ae.m,(function(e){return[e]}),[he]),i.xb(2,212992,null,0,ae.i,[[3,ae.c],[8,null],[8,null]],{name:[0,"name"]},null),i.Pb(2048,null,ae.c,null,[ae.i]),i.xb(4,16384,null,0,ae.p,[[4,ae.c]],null,null),i.xb(5,114688,null,0,he,[i.i],{label:[0,"label"]},null),(e()(),i.ob(16777216,null,1,2,null,ib)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,2,0,"dimensions"),e(t,5,0,"Size"),e(t,7,0,i.Tb(t,7,0,i.Kb(t,8).transform(n.minDimensions$)))}),(function(e,t){e(t,0,0,i.Kb(t,4).ngClassUntouched,i.Kb(t,4).ngClassTouched,i.Kb(t,4).ngClassPristine,i.Kb(t,4).ngClassDirty,i.Kb(t,4).ngClassValid,i.Kb(t,4).ngClassInvalid,i.Kb(t,4).ngClassPending)}))}function ab(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,8,"app-form-field",[["label","Degrees"],["theme","light"]],null,null,null,oe,le)),i.xb(1,114688,null,0,ne,[],{label:[0,"label"],theme:[1,"theme"],isCompact:[2,"isCompact"]},null),(e()(),i.yb(2,0,null,0,6,"input",[["class","publish__input input"],["formControlName","value"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,3)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,3).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,3)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,3)._compositionEnd(n.target.value)&&l),"change"===t&&(l=!1!==i.Kb(e,4).onChange(n.target.value)&&l),"input"===t&&(l=!1!==i.Kb(e,4).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,4).onTouched()&&l),l}),null,null)),i.xb(3,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.xb(4,16384,null,0,ae.s,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e,t){return[e,t]}),[ae.d,ae.s]),i.xb(6,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(8,16384,null,0,ae.o,[[4,ae.n]],null,null)],(function(e,t){e(t,1,0,"Degrees","light",!0),e(t,6,0,"value")}),(function(e,t){e(t,2,0,i.Kb(t,8).ngClassUntouched,i.Kb(t,8).ngClassTouched,i.Kb(t,8).ngClassPristine,i.Kb(t,8).ngClassDirty,i.Kb(t,8).ngClassValid,i.Kb(t,8).ngClassInvalid,i.Kb(t,8).ngClassPending)}))}function rb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,152,null,null,null,null,(function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==i.Kb(e,1).onSubmit(n)&&l),"reset"===t&&(l=!1!==i.Kb(e,1).onReset()&&l),l}),null,null)),i.xb(1,540672,null,0,ae.h,[[8,null],[8,null]],{form:[0,"form"]},null),i.Pb(2048,null,ae.c,null,[ae.h]),i.xb(3,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.ob(16777216,null,null,2,null,ob)),i.xb(5,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(7,0,null,null,76,"app-panel",[["formGroupName","options"],["label","Display Options"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,xe,me)),i.Pb(5120,null,ae.m,(function(e){return[e]}),[he]),i.xb(9,212992,null,0,ae.i,[[3,ae.c],[8,null],[8,null]],{name:[0,"name"]},null),i.Pb(2048,null,ae.c,null,[ae.i]),i.xb(11,16384,null,0,ae.p,[[4,ae.c]],null,null),i.xb(12,114688,null,0,he,[i.i],{label:[0,"label"]},null),(e()(),i.yb(13,0,null,1,70,"div",[["class","publish__group"]],null,null,null,null,null)),(e()(),i.yb(14,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiInfo"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(15,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(17,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(19,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,["Information Panel"])),(e()(),i.yb(21,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiNav"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(22,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(24,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(26,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,["3D Navigation"])),(e()(),i.yb(28,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiSearch"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(29,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(31,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(33,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,["Search"])),(e()(),i.yb(35,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiTools"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(36,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(38,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(40,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,["Edit Toolbar"])),(e()(),i.yb(42,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiReset"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(43,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(45,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(47,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,["Reset"])),(e()(),i.yb(49,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiHelp"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(50,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(52,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(54,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,["Help"])),(e()(),i.yb(56,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiFullscreen"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(57,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(59,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(61,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,["Fullscreen"])),(e()(),i.yb(63,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiChapterList"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(64,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(66,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(68,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,["Chapter List"])),(e()(),i.yb(70,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiLabelList"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(71,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(73,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(75,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,["Label List"])),(e()(),i.yb(77,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","uiAnatomyDescriptions"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(78,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(80,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(82,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,["Anatomy Descriptions"])),(e()(),i.yb(84,0,null,null,68,"app-panel",[["label","Loading Experience"]],null,null,null,xe,me)),i.Pb(5120,null,ae.m,(function(e){return[e]}),[he]),i.xb(86,114688,null,0,he,[i.i],{label:[0,"label"]},null),(e()(),i.yb(87,0,null,1,12,"div",[["class","mb-1"],["formGroupName","rotate"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),i.xb(88,212992,null,0,ae.i,[[3,ae.c],[8,null],[8,null]],{name:[0,"name"]},null),i.Pb(2048,null,ae.c,null,[ae.i]),i.xb(90,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(91,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","enabled"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(92,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(94,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(96,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,["Rotate 3D Model"])),(e()(),i.ob(16777216,null,null,1,null,ab)),i.xb(99,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(100,0,null,1,27,"div",[["class","mb-2"],["formGroupName","initial"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),i.xb(101,212992,null,0,ae.i,[[3,ae.c],[8,null],[8,null]],{name:[0,"name"]},null),i.Pb(2048,null,ae.c,null,[ae.i]),i.xb(103,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(104,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","enabled"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(105,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(107,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(109,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,['Show "Click to Interact" hint'])),(e()(),i.yb(111,0,null,null,16,"div",[["class","m-1 ml-5"]],null,null,null,null,null)),(e()(),i.yb(112,0,null,null,15,"mat-radio-group",[["class","publish__group mat-radio-group"],["formControlName","mode"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),i.xb(113,1064960,null,1,Oe.c,[i.i],null,null),i.Qb(603979776,3,{_radios:1}),i.Pb(1024,null,ae.m,(function(e){return[e]}),[Oe.c]),i.xb(116,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(118,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(119,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","button"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var l=!0;return"focus"===t&&(l=!1!==i.Kb(e,120)._inputElement.nativeElement.focus()&&l),l}),we.b,we.a)),i.xb(120,4440064,[[3,4]],0,Oe.b,[[2,Oe.c],i.l,i.i,be.e,Ce.c,[2,ge.a],[2,Oe.a]],{value:[0,"value"]},null),(e()(),i.Sb(-1,0,["Button"])),(e()(),i.yb(122,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","handHint"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var l=!0;return"focus"===t&&(l=!1!==i.Kb(e,123)._inputElement.nativeElement.focus()&&l),l}),we.b,we.a)),i.xb(123,4440064,[[3,4]],0,Oe.b,[[2,Oe.c],i.l,i.i,be.e,Ce.c,[2,ge.a],[2,Oe.a]],{value:[0,"value"]},null),(e()(),i.Sb(-1,0,["Animated hand"])),(e()(),i.yb(125,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","play"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var l=!0;return"focus"===t&&(l=!1!==i.Kb(e,126)._inputElement.nativeElement.focus()&&l),l}),we.b,we.a)),i.xb(126,4440064,[[3,4]],0,Oe.b,[[2,Oe.c],i.l,i.i,be.e,Ce.c,[2,ge.a],[2,Oe.a]],{value:[0,"value"]},null),(e()(),i.Sb(-1,0,["Play"])),(e()(),i.yb(128,0,null,1,24,"div",[["formGroupName","disableScroll"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),i.xb(129,212992,null,0,ae.i,[[3,ae.c],[8,null],[8,null]],{name:[0,"name"]},null),i.Pb(2048,null,ae.c,null,[ae.i]),i.xb(131,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(132,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","enabled"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(133,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(135,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(137,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.Sb(-1,0,["Disable scroll wheel zooming"])),(e()(),i.yb(139,0,null,null,13,"div",[["class","m-1 ml-5"]],null,null,null,null,null)),(e()(),i.yb(140,0,null,null,12,"mat-radio-group",[["class","publish__group mat-radio-group"],["formControlName","mode"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),i.xb(141,1064960,null,1,Oe.c,[i.i],null,null),i.Qb(603979776,4,{_radios:1}),i.Pb(1024,null,ae.m,(function(e){return[e]}),[Oe.c]),i.xb(144,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(146,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(147,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","alert"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var l=!0;return"focus"===t&&(l=!1!==i.Kb(e,148)._inputElement.nativeElement.focus()&&l),l}),we.b,we.a)),i.xb(148,4440064,[[4,4]],0,Oe.b,[[2,Oe.c],i.l,i.i,be.e,Ce.c,[2,ge.a],[2,Oe.a]],{value:[0,"value"]},null),(e()(),i.Sb(-1,0,["Show alert"])),(e()(),i.yb(150,0,null,null,2,"mat-radio-button",[["class","mv-1 mat-radio-button"],["value","overlay"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var l=!0;return"focus"===t&&(l=!1!==i.Kb(e,151)._inputElement.nativeElement.focus()&&l),l}),we.b,we.a)),i.xb(151,4440064,[[4,4]],0,Oe.b,[[2,Oe.c],i.l,i.i,be.e,Ce.c,[2,ge.a],[2,Oe.a]],{value:[0,"value"]},null),(e()(),i.Sb(-1,0,["Do not show alert"]))],(function(e,t){var n=t.component;e(t,1,0,n.form),e(t,5,0,i.Tb(t,5,0,i.Kb(t,6).transform(n.dimensions$))),e(t,9,0,"options"),e(t,12,0,"Display Options"),e(t,17,0,"uiInfo"),e(t,24,0,"uiNav"),e(t,31,0,"uiSearch"),e(t,38,0,"uiTools"),e(t,45,0,"uiReset"),e(t,52,0,"uiHelp"),e(t,59,0,"uiFullscreen"),e(t,66,0,"uiChapterList"),e(t,73,0,"uiLabelList"),e(t,80,0,"uiAnatomyDescriptions"),e(t,86,0,"Loading Experience"),e(t,88,0,"rotate"),e(t,94,0,"enabled"),e(t,99,0,n.rotateEnabled),e(t,101,0,"initial"),e(t,107,0,"enabled"),e(t,116,0,"mode"),e(t,120,0,"button"),e(t,123,0,"handHint"),e(t,126,0,"play"),e(t,129,0,"disableScroll"),e(t,135,0,"enabled"),e(t,144,0,"mode"),e(t,148,0,"alert"),e(t,151,0,"overlay")}),(function(e,t){e(t,7,0,i.Kb(t,11).ngClassUntouched,i.Kb(t,11).ngClassTouched,i.Kb(t,11).ngClassPristine,i.Kb(t,11).ngClassDirty,i.Kb(t,11).ngClassValid,i.Kb(t,11).ngClassInvalid,i.Kb(t,11).ngClassPending),e(t,14,1,[i.Kb(t,15).id,null,i.Kb(t,15).indeterminate,i.Kb(t,15).checked,i.Kb(t,15).disabled,"before"==i.Kb(t,15).labelPosition,"NoopAnimations"===i.Kb(t,15)._animationMode,i.Kb(t,19).ngClassUntouched,i.Kb(t,19).ngClassTouched,i.Kb(t,19).ngClassPristine,i.Kb(t,19).ngClassDirty,i.Kb(t,19).ngClassValid,i.Kb(t,19).ngClassInvalid,i.Kb(t,19).ngClassPending]),e(t,21,1,[i.Kb(t,22).id,null,i.Kb(t,22).indeterminate,i.Kb(t,22).checked,i.Kb(t,22).disabled,"before"==i.Kb(t,22).labelPosition,"NoopAnimations"===i.Kb(t,22)._animationMode,i.Kb(t,26).ngClassUntouched,i.Kb(t,26).ngClassTouched,i.Kb(t,26).ngClassPristine,i.Kb(t,26).ngClassDirty,i.Kb(t,26).ngClassValid,i.Kb(t,26).ngClassInvalid,i.Kb(t,26).ngClassPending]),e(t,28,1,[i.Kb(t,29).id,null,i.Kb(t,29).indeterminate,i.Kb(t,29).checked,i.Kb(t,29).disabled,"before"==i.Kb(t,29).labelPosition,"NoopAnimations"===i.Kb(t,29)._animationMode,i.Kb(t,33).ngClassUntouched,i.Kb(t,33).ngClassTouched,i.Kb(t,33).ngClassPristine,i.Kb(t,33).ngClassDirty,i.Kb(t,33).ngClassValid,i.Kb(t,33).ngClassInvalid,i.Kb(t,33).ngClassPending]),e(t,35,1,[i.Kb(t,36).id,null,i.Kb(t,36).indeterminate,i.Kb(t,36).checked,i.Kb(t,36).disabled,"before"==i.Kb(t,36).labelPosition,"NoopAnimations"===i.Kb(t,36)._animationMode,i.Kb(t,40).ngClassUntouched,i.Kb(t,40).ngClassTouched,i.Kb(t,40).ngClassPristine,i.Kb(t,40).ngClassDirty,i.Kb(t,40).ngClassValid,i.Kb(t,40).ngClassInvalid,i.Kb(t,40).ngClassPending]),e(t,42,1,[i.Kb(t,43).id,null,i.Kb(t,43).indeterminate,i.Kb(t,43).checked,i.Kb(t,43).disabled,"before"==i.Kb(t,43).labelPosition,"NoopAnimations"===i.Kb(t,43)._animationMode,i.Kb(t,47).ngClassUntouched,i.Kb(t,47).ngClassTouched,i.Kb(t,47).ngClassPristine,i.Kb(t,47).ngClassDirty,i.Kb(t,47).ngClassValid,i.Kb(t,47).ngClassInvalid,i.Kb(t,47).ngClassPending]),e(t,49,1,[i.Kb(t,50).id,null,i.Kb(t,50).indeterminate,i.Kb(t,50).checked,i.Kb(t,50).disabled,"before"==i.Kb(t,50).labelPosition,"NoopAnimations"===i.Kb(t,50)._animationMode,i.Kb(t,54).ngClassUntouched,i.Kb(t,54).ngClassTouched,i.Kb(t,54).ngClassPristine,i.Kb(t,54).ngClassDirty,i.Kb(t,54).ngClassValid,i.Kb(t,54).ngClassInvalid,i.Kb(t,54).ngClassPending]),e(t,56,1,[i.Kb(t,57).id,null,i.Kb(t,57).indeterminate,i.Kb(t,57).checked,i.Kb(t,57).disabled,"before"==i.Kb(t,57).labelPosition,"NoopAnimations"===i.Kb(t,57)._animationMode,i.Kb(t,61).ngClassUntouched,i.Kb(t,61).ngClassTouched,i.Kb(t,61).ngClassPristine,i.Kb(t,61).ngClassDirty,i.Kb(t,61).ngClassValid,i.Kb(t,61).ngClassInvalid,i.Kb(t,61).ngClassPending]),e(t,63,1,[i.Kb(t,64).id,null,i.Kb(t,64).indeterminate,i.Kb(t,64).checked,i.Kb(t,64).disabled,"before"==i.Kb(t,64).labelPosition,"NoopAnimations"===i.Kb(t,64)._animationMode,i.Kb(t,68).ngClassUntouched,i.Kb(t,68).ngClassTouched,i.Kb(t,68).ngClassPristine,i.Kb(t,68).ngClassDirty,i.Kb(t,68).ngClassValid,i.Kb(t,68).ngClassInvalid,i.Kb(t,68).ngClassPending]),e(t,70,1,[i.Kb(t,71).id,null,i.Kb(t,71).indeterminate,i.Kb(t,71).checked,i.Kb(t,71).disabled,"before"==i.Kb(t,71).labelPosition,"NoopAnimations"===i.Kb(t,71)._animationMode,i.Kb(t,75).ngClassUntouched,i.Kb(t,75).ngClassTouched,i.Kb(t,75).ngClassPristine,i.Kb(t,75).ngClassDirty,i.Kb(t,75).ngClassValid,i.Kb(t,75).ngClassInvalid,i.Kb(t,75).ngClassPending]),e(t,77,1,[i.Kb(t,78).id,null,i.Kb(t,78).indeterminate,i.Kb(t,78).checked,i.Kb(t,78).disabled,"before"==i.Kb(t,78).labelPosition,"NoopAnimations"===i.Kb(t,78)._animationMode,i.Kb(t,82).ngClassUntouched,i.Kb(t,82).ngClassTouched,i.Kb(t,82).ngClassPristine,i.Kb(t,82).ngClassDirty,i.Kb(t,82).ngClassValid,i.Kb(t,82).ngClassInvalid,i.Kb(t,82).ngClassPending]),e(t,87,0,i.Kb(t,90).ngClassUntouched,i.Kb(t,90).ngClassTouched,i.Kb(t,90).ngClassPristine,i.Kb(t,90).ngClassDirty,i.Kb(t,90).ngClassValid,i.Kb(t,90).ngClassInvalid,i.Kb(t,90).ngClassPending),e(t,91,1,[i.Kb(t,92).id,null,i.Kb(t,92).indeterminate,i.Kb(t,92).checked,i.Kb(t,92).disabled,"before"==i.Kb(t,92).labelPosition,"NoopAnimations"===i.Kb(t,92)._animationMode,i.Kb(t,96).ngClassUntouched,i.Kb(t,96).ngClassTouched,i.Kb(t,96).ngClassPristine,i.Kb(t,96).ngClassDirty,i.Kb(t,96).ngClassValid,i.Kb(t,96).ngClassInvalid,i.Kb(t,96).ngClassPending]),e(t,100,0,i.Kb(t,103).ngClassUntouched,i.Kb(t,103).ngClassTouched,i.Kb(t,103).ngClassPristine,i.Kb(t,103).ngClassDirty,i.Kb(t,103).ngClassValid,i.Kb(t,103).ngClassInvalid,i.Kb(t,103).ngClassPending),e(t,104,1,[i.Kb(t,105).id,null,i.Kb(t,105).indeterminate,i.Kb(t,105).checked,i.Kb(t,105).disabled,"before"==i.Kb(t,105).labelPosition,"NoopAnimations"===i.Kb(t,105)._animationMode,i.Kb(t,109).ngClassUntouched,i.Kb(t,109).ngClassTouched,i.Kb(t,109).ngClassPristine,i.Kb(t,109).ngClassDirty,i.Kb(t,109).ngClassValid,i.Kb(t,109).ngClassInvalid,i.Kb(t,109).ngClassPending]),e(t,112,0,i.Kb(t,118).ngClassUntouched,i.Kb(t,118).ngClassTouched,i.Kb(t,118).ngClassPristine,i.Kb(t,118).ngClassDirty,i.Kb(t,118).ngClassValid,i.Kb(t,118).ngClassInvalid,i.Kb(t,118).ngClassPending),e(t,119,1,[i.Kb(t,120).checked,i.Kb(t,120).disabled,"NoopAnimations"===i.Kb(t,120)._animationMode,"primary"===i.Kb(t,120).color,"accent"===i.Kb(t,120).color,"warn"===i.Kb(t,120).color,-1,i.Kb(t,120).id,null,null,null]),e(t,122,1,[i.Kb(t,123).checked,i.Kb(t,123).disabled,"NoopAnimations"===i.Kb(t,123)._animationMode,"primary"===i.Kb(t,123).color,"accent"===i.Kb(t,123).color,"warn"===i.Kb(t,123).color,-1,i.Kb(t,123).id,null,null,null]),e(t,125,1,[i.Kb(t,126).checked,i.Kb(t,126).disabled,"NoopAnimations"===i.Kb(t,126)._animationMode,"primary"===i.Kb(t,126).color,"accent"===i.Kb(t,126).color,"warn"===i.Kb(t,126).color,-1,i.Kb(t,126).id,null,null,null]),e(t,128,0,i.Kb(t,131).ngClassUntouched,i.Kb(t,131).ngClassTouched,i.Kb(t,131).ngClassPristine,i.Kb(t,131).ngClassDirty,i.Kb(t,131).ngClassValid,i.Kb(t,131).ngClassInvalid,i.Kb(t,131).ngClassPending),e(t,132,1,[i.Kb(t,133).id,null,i.Kb(t,133).indeterminate,i.Kb(t,133).checked,i.Kb(t,133).disabled,"before"==i.Kb(t,133).labelPosition,"NoopAnimations"===i.Kb(t,133)._animationMode,i.Kb(t,137).ngClassUntouched,i.Kb(t,137).ngClassTouched,i.Kb(t,137).ngClassPristine,i.Kb(t,137).ngClassDirty,i.Kb(t,137).ngClassValid,i.Kb(t,137).ngClassInvalid,i.Kb(t,137).ngClassPending]),e(t,140,0,i.Kb(t,146).ngClassUntouched,i.Kb(t,146).ngClassTouched,i.Kb(t,146).ngClassPristine,i.Kb(t,146).ngClassDirty,i.Kb(t,146).ngClassValid,i.Kb(t,146).ngClassInvalid,i.Kb(t,146).ngClassPending),e(t,147,1,[i.Kb(t,148).checked,i.Kb(t,148).disabled,"NoopAnimations"===i.Kb(t,148)._animationMode,"primary"===i.Kb(t,148).color,"accent"===i.Kb(t,148).color,"warn"===i.Kb(t,148).color,-1,i.Kb(t,148).id,null,null,null]),e(t,150,1,[i.Kb(t,151).checked,i.Kb(t,151).disabled,"NoopAnimations"===i.Kb(t,151)._animationMode,"primary"===i.Kb(t,151).color,"accent"===i.Kb(t,151).color,"warn"===i.Kb(t,151).color,-1,i.Kb(t,151).id,null,null,null])}))}function ub(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleSnapshotSizeClick(e.context.$implicit)&&l),l}),je.c,je.a)),i.xb(1,180224,[[6,4],[7,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(2,0,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null),e(t,2,0,n.formatScreenSizeText(t.context.$implicit))}))}function cb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,94,null,null,null,null,(function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==i.Kb(e,1).onSubmit(n)&&l),"reset"===t&&(l=!1!==i.Kb(e,1).onReset()&&l),l}),null,null)),i.xb(1,540672,null,0,ae.h,[[8,null],[8,null]],{form:[0,"form"]},null),i.Pb(2048,null,ae.c,null,[ae.h]),i.xb(3,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(4,0,null,null,78,"app-panel",[["label","Size"]],null,null,null,xe,me)),i.Pb(5120,null,ae.m,(function(e){return[e]}),[he]),i.xb(6,114688,null,0,he,[i.i],{label:[0,"label"]},null),(e()(),i.yb(7,0,null,1,75,"app-tabs",[],null,null,null,Le,Te)),i.xb(8,1294336,null,1,Me,[i.i],null,null),i.Qb(603979776,5,{_tabs:1}),(e()(),i.yb(10,0,null,0,42,"app-tab",[["label","Pixels"]],null,null,null,Ae,Ue)),i.xb(11,114688,[[5,4]],0,Ee,[i.i],{label:[0,"label"]},null),(e()(),i.yb(12,16777216,null,0,5,"button",[["app-button",""],["aria-haspopup","true"],["buttonTheme","light"],["buttonType","outline"],["class","mt-2 mat-menu-trigger"]],[[1,"aria-expanded",0],[8,"disabled",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var l=!0;return"mousedown"===t&&(l=!1!==i.Kb(e,13)._handleMousedown(n)&&l),"keydown"===t&&(l=!1!==i.Kb(e,13)._handleKeydown(n)&&l),"click"===t&&(l=!1!==i.Kb(e,13)._handleClick(n)&&l),l}),Qe,$e)),i.xb(13,1196032,null,0,ke.g,[We.a,i.l,i.T,ke.c,[2,ke.d],[8,null],[2,qe.b],be.e],{menu:[0,"menu"]},null),i.xb(14,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],uppercase:[2,"uppercase"]},null),(e()(),i.Sb(15,0,[" "," "])),(e()(),i.yb(16,0,null,0,1,"app-icon",[["class","ml-1"],["icon","caret-down"]],null,null,null,ce,ue)),i.xb(17,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(18,0,null,0,8,"mat-menu",[],null,null,null,je.d,je.b)),i.Pb(6144,null,ke.d,null,[ke.h]),i.Pb(6144,null,ke.b,null,[ke.d]),i.xb(21,1294336,[["imageSizes",4]],3,ke.h,[i.l,i.C,ke.a],null,null),i.Qb(603979776,6,{_allItems:1}),i.Qb(603979776,7,{items:1}),i.Qb(603979776,8,{lazyContent:0}),(e()(),i.ob(16777216,null,0,1,null,ub)),i.xb(26,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),(e()(),i.yb(27,0,null,0,25,"div",[["class","publish__flex-group mt-2"],["formGroupName","dimensions"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),i.xb(28,212992,null,0,ae.i,[[3,ae.c],[8,null],[8,null]],{name:[0,"name"]},null),i.Pb(2048,null,ae.c,null,[ae.i]),i.xb(30,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(31,0,null,null,10,"app-form-field",[["class","mr-6"],["display","inline"],["label","Width"],["theme","light"]],null,null,null,oe,le)),i.xb(32,114688,null,0,ne,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),i.yb(33,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","width"],["type","number"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,34)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,34).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,34)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,34)._compositionEnd(n.target.value)&&l),"change"===t&&(l=!1!==i.Kb(e,35).onChange(n.target.value)&&l),"input"===t&&(l=!1!==i.Kb(e,35).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,35).onTouched()&&l),l}),null,null)),i.xb(34,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.xb(35,16384,null,0,ae.s,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e,t){return[e,t]}),[ae.d,ae.s]),i.xb(37,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(39,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(40,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),i.Sb(41,null,["","px to ","px"])),(e()(),i.yb(42,0,null,null,10,"app-form-field",[["display","inline"],["label","Height"],["theme","light"]],null,null,null,oe,le)),i.xb(43,114688,null,0,ne,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),i.yb(44,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","height"],["type","number"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,45)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,45).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,45)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,45)._compositionEnd(n.target.value)&&l),"change"===t&&(l=!1!==i.Kb(e,46).onChange(n.target.value)&&l),"input"===t&&(l=!1!==i.Kb(e,46).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,46).onTouched()&&l),l}),null,null)),i.xb(45,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.xb(46,16384,null,0,ae.s,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e,t){return[e,t]}),[ae.d,ae.s]),i.xb(48,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(50,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(51,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),i.Sb(52,null,["","px to ","px"])),(e()(),i.yb(53,0,null,0,29,"app-tab",[["label","Inches"]],null,null,null,Ae,Ue)),i.xb(54,114688,[[5,4]],0,Ee,[i.i],{label:[0,"label"]},null),(e()(),i.yb(55,0,null,0,25,"div",[["class","publish__flex-group mt-2"],["formGroupName","inches"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),i.xb(56,212992,null,0,ae.i,[[3,ae.c],[8,null],[8,null]],{name:[0,"name"]},null),i.Pb(2048,null,ae.c,null,[ae.i]),i.xb(58,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(59,0,null,null,10,"app-form-field",[["class","mr-6"],["display","inline"],["label","Width"],["theme","light"]],null,null,null,oe,le)),i.xb(60,114688,null,0,ne,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),i.yb(61,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","width"],["step",".01"],["type","number"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,62)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,62).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,62)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,62)._compositionEnd(n.target.value)&&l),"change"===t&&(l=!1!==i.Kb(e,63).onChange(n.target.value)&&l),"input"===t&&(l=!1!==i.Kb(e,63).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,63).onTouched()&&l),l}),null,null)),i.xb(62,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.xb(63,16384,null,0,ae.s,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e,t){return[e,t]}),[ae.d,ae.s]),i.xb(65,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(67,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(68,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),i.Sb(69,null,["",'" to ','"'])),(e()(),i.yb(70,0,null,null,10,"app-form-field",[["class","mr-6"],["display","inline"],["label","Height"],["theme","light"]],null,null,null,oe,le)),i.xb(71,114688,null,0,ne,[],{label:[0,"label"],display:[1,"display"],theme:[2,"theme"],isCompact:[3,"isCompact"]},null),(e()(),i.yb(72,0,null,0,6,"input",[["class","publish__input input input--small"],["formControlName","height"],["step",".01"],["type","number"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,73)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,73).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,73)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,73)._compositionEnd(n.target.value)&&l),"change"===t&&(l=!1!==i.Kb(e,74).onChange(n.target.value)&&l),"input"===t&&(l=!1!==i.Kb(e,74).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,74).onTouched()&&l),l}),null,null)),i.xb(73,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.xb(74,16384,null,0,ae.s,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e,t){return[e,t]}),[ae.d,ae.s]),i.xb(76,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(78,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(79,0,null,1,1,"div",[["class","mt-1"],["form-field-help",""]],null,null,null,null,null)),(e()(),i.Sb(80,null,["",'" to ','"'])),(e()(),i.yb(81,0,null,0,1,"div",[["class","pt-2 text-small text-dim"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Images are published at 300 dpi"])),(e()(),i.yb(83,0,null,null,8,"app-panel",[["label","Background Color"]],null,null,null,xe,me)),i.Pb(5120,null,ae.m,(function(e){return[e]}),[he]),i.xb(85,114688,null,0,he,[i.i],{label:[0,"label"]},null),(e()(),i.yb(86,0,null,1,5,"div",[["class","publish__flex-group"]],null,null,null,null,null)),(e()(),i.yb(87,0,null,null,1,"app-color-picker",[["alphaEnabled","false"],["class","publish__picker"],["size","normal"]],null,[[null,"colorSelected"]],(function(e,t,n){var l=!0;return"colorSelected"===t&&(l=!1!==e.component.handleSnapshotBGColorClick(n)&&l),l}),nt,tt)),i.xb(88,114688,null,0,et,[],{color:[0,"color"],size:[1,"size"],alphaEnabled:[2,"alphaEnabled"]},{colorSelected:"colorSelected"}),(e()(),i.yb(89,0,null,null,2,"button",[["app-button",""],["buttonSize","xsmall"],["buttonTheme","light"],["buttonType","outline"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSnapshotBGColorClick(null)&&l),l}),Qe,$e)),i.xb(90,114688,null,0,Ve,[],{buttonSize:[0,"buttonSize"],buttonType:[1,"buttonType"],buttonTheme:[2,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Reset Color"])),(e()(),i.yb(92,0,null,null,2,"div",[["class","mt-4"]],null,null,null,null,null)),(e()(),i.yb(93,0,null,null,1,"a",[["class","text-link"],["href","https://www.biodigital.com/terms"],["target","_blank"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Read about our Terms of Use"]))],(function(e,t){var n=t.component;e(t,1,0,n.formSnapshot),e(t,6,0,"Size"),e(t,8,0),e(t,11,0,"Pixels"),e(t,13,0,i.Kb(t,21)),e(t,14,0,"outline","light",!1),e(t,17,0,"caret-down"),e(t,21,0),e(t,26,0,n.snapshotSizes),e(t,28,0,"dimensions"),e(t,32,0,"Width","inline","light",!0),e(t,37,0,"width"),e(t,43,0,"Height","inline","light",!0),e(t,48,0,"height"),e(t,54,0,"Inches"),e(t,56,0,"inches"),e(t,60,0,"Width","inline","light",!0),e(t,65,0,"width"),e(t,71,0,"Height","inline","light",!0),e(t,76,0,"height"),e(t,85,0,"Background Color"),e(t,88,0,n.snapshotBGColor,"normal","false"),e(t,90,0,"xsmall","outline","light")}),(function(e,t){var n=t.component;e(t,12,0,i.Kb(t,13).menuOpen||null,i.Kb(t,14).disabled),e(t,15,0,n.formatScreenSizeText(n.selectedSnapshotSize)),e(t,27,0,i.Kb(t,30).ngClassUntouched,i.Kb(t,30).ngClassTouched,i.Kb(t,30).ngClassPristine,i.Kb(t,30).ngClassDirty,i.Kb(t,30).ngClassValid,i.Kb(t,30).ngClassInvalid,i.Kb(t,30).ngClassPending),e(t,33,0,n.minSnapshotPixels.width,n.maxSnapshotPixels.width,i.Kb(t,39).ngClassUntouched,i.Kb(t,39).ngClassTouched,i.Kb(t,39).ngClassPristine,i.Kb(t,39).ngClassDirty,i.Kb(t,39).ngClassValid,i.Kb(t,39).ngClassInvalid,i.Kb(t,39).ngClassPending),e(t,41,0,n.minSnapshotPixels.width,n.maxSnapshotPixels.width),e(t,44,0,n.minSnapshotPixels.height,n.maxSnapshotPixels.height,i.Kb(t,50).ngClassUntouched,i.Kb(t,50).ngClassTouched,i.Kb(t,50).ngClassPristine,i.Kb(t,50).ngClassDirty,i.Kb(t,50).ngClassValid,i.Kb(t,50).ngClassInvalid,i.Kb(t,50).ngClassPending),e(t,52,0,n.minSnapshotPixels.height,n.maxSnapshotPixels.height),e(t,55,0,i.Kb(t,58).ngClassUntouched,i.Kb(t,58).ngClassTouched,i.Kb(t,58).ngClassPristine,i.Kb(t,58).ngClassDirty,i.Kb(t,58).ngClassValid,i.Kb(t,58).ngClassInvalid,i.Kb(t,58).ngClassPending),e(t,61,0,n.minSnapshotInches.width,n.maxSnapshotInches.width,i.Kb(t,67).ngClassUntouched,i.Kb(t,67).ngClassTouched,i.Kb(t,67).ngClassPristine,i.Kb(t,67).ngClassDirty,i.Kb(t,67).ngClassValid,i.Kb(t,67).ngClassInvalid,i.Kb(t,67).ngClassPending),e(t,69,0,n.minSnapshotInches.width,n.maxSnapshotInches.width),e(t,72,0,n.minSnapshotInches.height,n.maxSnapshotInches.height,i.Kb(t,78).ngClassUntouched,i.Kb(t,78).ngClassTouched,i.Kb(t,78).ngClassPristine,i.Kb(t,78).ngClassDirty,i.Kb(t,78).ngClassValid,i.Kb(t,78).ngClassInvalid,i.Kb(t,78).ngClassPending),e(t,80,0,n.minSnapshotInches.height,n.maxSnapshotInches.height),e(t,89,0,i.Kb(t,90).disabled)}))}function sb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"div",[["class","text-12 p-2 mt-2 mb-2"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" Make this model available to anyone by publishing it to the web. "])),(e()(),i.yb(3,0,null,null,6,"div",[["class","publish__actions-content"]],null,null,null,null,null)),(e()(),i.yb(4,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","mb-2 w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleGenerateIFrame()&&l),l}),Qe,$e)),i.xb(5,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),i.Sb(-1,0,["Copy embed"])),(e()(),i.yb(7,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleGenerateURL()&&l),l}),Qe,$e)),i.xb(8,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),i.Sb(-1,0,["Copy URL"]))],(function(e,t){var n=t.component;e(t,5,0,"flat","light",!n.form.valid),e(t,8,0,"flat","light",!n.form.valid)}),(function(e,t){e(t,4,0,i.Kb(t,5).disabled),e(t,7,0,i.Kb(t,8).disabled)}))}function pb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,12,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"div",[["class","text-12 p-2 mt-2 mb-2"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" Download this image or make it available to anyone by publishing it to the web. "])),(e()(),i.yb(3,0,null,null,9,"div",[["class","publish__actions-content"]],null,null,null,null,null)),(e()(),i.yb(4,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","mb-2 w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleDownloadSnapClick()&&l),l}),Qe,$e)),i.xb(5,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),i.Sb(-1,0,["Download"])),(e()(),i.yb(7,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","mb-2 w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCopyImageURL()&&l),l}),Qe,$e)),i.xb(8,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),i.Sb(-1,0,["Copy URL"])),(e()(),i.yb(10,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","w-100"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleGenerateImage()&&l),l}),Qe,$e)),i.xb(11,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),(e()(),i.Sb(-1,0,["Copy Embed"]))],(function(e,t){var n=t.component;e(t,5,0,"flat","light",!n.formSnapshot.valid),e(t,8,0,"flat","light",!n.formSnapshot.valid),e(t,11,0,"flat","light",!n.formSnapshot.valid)}),(function(e,t){e(t,4,0,i.Kb(t,5).disabled),e(t,7,0,i.Kb(t,8).disabled),e(t,10,0,i.Kb(t,11).disabled)}))}function db(e){return i.Ub(2,[i.Qb(402653184,1,{publishWidget:0}),(e()(),i.yb(1,0,null,null,33,"div",[["class","publish theme-light"]],null,null,null,null,null)),i.xb(2,16384,null,0,te.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),i.yb(3,0,null,null,24,"div",[["class","publish__options text-12"]],null,null,null,null,null)),(e()(),i.yb(4,0,null,null,19,"app-panel",[["label","Select a format to publish:"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==i.Kb(e,6).onSubmit(n)&&l),"reset"===t&&(l=!1!==i.Kb(e,6).onReset()&&l),l}),xe,me)),i.Pb(5120,null,ae.m,(function(e){return[e]}),[he]),i.xb(6,540672,null,0,ae.h,[[8,null],[8,null]],{form:[0,"form"]},null),i.Pb(2048,null,ae.c,null,[ae.h]),i.xb(8,16384,null,0,ae.p,[[4,ae.c]],null,null),i.xb(9,114688,null,0,he,[i.i],{label:[0,"label"]},null),(e()(),i.yb(10,0,null,1,13,"div",[["class","publish__flex-group"]],null,null,null,null,null)),(e()(),i.yb(11,0,null,null,12,"mat-radio-group",[["class","mat-radio-group"],["formControlName","mode"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),i.xb(12,1064960,null,1,Oe.c,[i.i],null,null),i.Qb(603979776,2,{_radios:1}),i.Pb(1024,null,ae.m,(function(e){return[e]}),[Oe.c]),i.xb(15,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(17,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(18,0,null,null,2,"mat-radio-button",[["class","mr-2 mat-radio-button"],["value","3d"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var l=!0;return"focus"===t&&(l=!1!==i.Kb(e,19)._inputElement.nativeElement.focus()&&l),l}),we.b,we.a)),i.xb(19,4440064,[[2,4]],0,Oe.b,[[2,Oe.c],i.l,i.i,be.e,Ce.c,[2,ge.a],[2,Oe.a]],{value:[0,"value"]},null),(e()(),i.Sb(-1,0,["3D Embeddable"])),(e()(),i.yb(21,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"],["value","2d"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var l=!0;return"focus"===t&&(l=!1!==i.Kb(e,22)._inputElement.nativeElement.focus()&&l),l}),we.b,we.a)),i.xb(22,4440064,[[2,4]],0,Oe.b,[[2,Oe.c],i.l,i.i,be.e,Ce.c,[2,ge.a],[2,Oe.a]],{value:[0,"value"]},null),(e()(),i.Sb(-1,0,["Image"])),(e()(),i.ob(16777216,null,null,1,null,rb)),i.xb(25,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,cb)),i.xb(27,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.yb(28,0,null,null,4,"div",[["class","publish__actions"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,sb)),i.xb(30,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,pb)),i.xb(32,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.yb(33,0,null,null,1,"app-publish-widget",[["class","publish__embed"]],null,[[null,"cameraUpdated"]],(function(e,t,n){var l=!0;return"cameraUpdated"===t&&(l=!1!==e.component.handleCameraUpdated(n)&&l),l}),rr,ar)),i.xb(34,245760,[[1,4],["publishWidget",4]],0,or,[i.l,Vt,Pt],{model:[0,"model"],width:[1,"width"],height:[2,"height"],scalable:[3,"scalable"],enableUI:[4,"enableUI"],bgColor:[5,"bgColor"],widgetParams:[6,"widgetParams"]},{cameraUpdated:"cameraUpdated"})],(function(e,t){var n=t.component;e(t,2,0,n.mode),e(t,6,0,n.formModeGroup),e(t,9,0,"Select a format to publish:"),e(t,15,0,"mode"),e(t,19,0,"3d"),e(t,22,0,"2d"),e(t,25,0,"3d"),e(t,27,0,"2d"),e(t,30,0,"3d"),e(t,32,0,"2d"),e(t,34,0,n.model,n.widgetWidth,n.widgetHeight,n.widgetScalable,"3d"===n.mode,n.widgetBGColor,n.widgetOptions)}),(function(e,t){e(t,4,0,i.Kb(t,8).ngClassUntouched,i.Kb(t,8).ngClassTouched,i.Kb(t,8).ngClassPristine,i.Kb(t,8).ngClassDirty,i.Kb(t,8).ngClassValid,i.Kb(t,8).ngClassInvalid,i.Kb(t,8).ngClassPending),e(t,11,0,i.Kb(t,17).ngClassUntouched,i.Kb(t,17).ngClassTouched,i.Kb(t,17).ngClassPristine,i.Kb(t,17).ngClassDirty,i.Kb(t,17).ngClassValid,i.Kb(t,17).ngClassInvalid,i.Kb(t,17).ngClassPending),e(t,18,1,[i.Kb(t,19).checked,i.Kb(t,19).disabled,"NoopAnimations"===i.Kb(t,19)._animationMode,"primary"===i.Kb(t,19).color,"accent"===i.Kb(t,19).color,"warn"===i.Kb(t,19).color,-1,i.Kb(t,19).id,null,null,null]),e(t,21,1,[i.Kb(t,22).checked,i.Kb(t,22).disabled,"NoopAnimations"===i.Kb(t,22)._animationMode,"primary"===i.Kb(t,22).color,"accent"===i.Kb(t,22).color,"warn"===i.Kb(t,22).color,-1,i.Kb(t,22).id,null,null,null])}))}var bb=function(){function e(e,t){this.dialogRef=e,this.bookmark=t.bookmark}return e.prototype.ngOnInit=function(){},e.prototype.closeDialog=function(){this.dialogRef.close()},e}(),gb=i.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}a[_ngcontent-%COMP%]{color:#de3838}a[_ngcontent-%COMP%]:hover{color:#c32020}.publish__contents[_ngcontent-%COMP%]{height:calc(90vh - 80px);border-top:1px solid #eaeff5;margin-top:12px}.publish__heading[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.publish__text[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.publish__title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.publish__close[_ngcontent-%COMP%]{cursor:pointer;color:#283853}.publish__close[_ngcontent-%COMP%]:hover{color:#1c2a3f}"]],data:{}});function hb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-publish",[],null,null,null,db,lb)),i.xb(1,245760,null,0,yp,[h.i,h.b,Vt,Vn,_p,tb,nb.c,ae.f,i.i],{model:[0,"model"]},null)],(function(e,t){e(t,1,0,t.component.bookmark)}),null)}function mb(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,9,"div",[["class","publish"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,5,"div",[["class","publish__heading"]],null,null,null,null,null)),(e()(),i.yb(2,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),i.yb(3,0,null,null,1,"h1",[["class","publish__title"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" Publish "])),(e()(),i.yb(5,0,null,null,1,"app-icon",[["class","publish__close"],["icon","times"],["size","lg"],["title","close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog()&&l),l}),ce,ue)),i.xb(6,114688,null,0,re,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),i.yb(7,0,null,null,2,"div",[["class","publish__contents"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,hb)),i.xb(9,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,6,0,"times","lg"),e(t,9,0,n.bookmark)}),null)}function fb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-publish-dialog",[],null,null,null,mb,gb)),i.xb(1,114688,null,0,bb,[Zd.l,Zd.a],null,null)],(function(e,t){e(t,1,0)}),null)}var yb=i.ub("app-publish-dialog",bb,fb,{},{},[]),_b=i.wb({encapsulation:0,styles:[["a[_ngcontent-%COMP%]{color:#1c5ab9;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.modal[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.modal__close[_ngcontent-%COMP%]{cursor:pointer;color:#283853}.content[_ngcontent-%COMP%]{width:640px;position:relative;margin:auto;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;padding:40px;text-align:center}@media (max-width:1024px){.content[_ngcontent-%COMP%]{width:100%}}"]],data:{}});function vb(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,30,"div",[["class","modal"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-icon",[["class","modal__close"],["icon","times"],["size","lg"],["title","close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog()&&l),l}),ce,ue)),i.xb(2,114688,null,0,re,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),i.yb(3,0,null,null,27,"div",[["class","text-12 content mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),i.xb(4,16384,null,0,Zd.j,[],null,null),(e()(),i.yb(5,0,null,null,0,"img",[["class","mb-2"],["src","assets/images/biodigital-logo.svg"],["width","190"]],null,null,null,null,null)),(e()(),i.yb(6,0,null,null,1,"p",[["class","text-14 text-semibold"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["The BioDgital Human Platform"])),(e()(),i.yb(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Version 4.0"])),(e()(),i.yb(10,0,null,null,5,"p",[["class","mb-3"]],null,null,null,null,null)),(e()(),i.yb(11,0,null,null,1,"a",[["href","https://wwww.biodigital.com/terms"],["target","_blank"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Terms of Service"])),(e()(),i.Sb(-1,null,[" | "])),(e()(),i.yb(14,0,null,null,1,"a",[["href","https://wwww.biodigital.com/privacy"],["target","_blank"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Privacy Policy"])),(e()(),i.yb(16,0,null,null,4,"p",[["class","mb-4"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Software and all 3D models \xa9 "])),(e()(),i.yb(18,0,null,null,1,"span",[["class","text-semibold"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["BioDigital, Inc 2019."])),(e()(),i.Sb(-1,null,[" All rights reserved."])),(e()(),i.yb(21,0,null,null,3,"p",[["class","mb-2"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["This program is protected by copyright law and international treaties. Unauthorized reproduction, distribution, reverse engineering or sale of the software is strictly prohibited. This software is not a diagnostic or clinical decision-making tool. The medical information is intended for background viewing and general interest. Content is asserted neither complete nor error free. Please consult your own licensed physician regarding diagnosis and treatment of any medical condition! Please see also our full "])),(e()(),i.yb(23,0,null,null,1,"a",[["href","https://wwww.biodigital.com/terms"],["target","_blank"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Terms of Service."])),(e()(),i.yb(25,0,null,null,1,"p",[["class","mb-2"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["The BioDigital Human is made possible through the expertise and dedication of our development team, advisors, investors and all who pioneered medical education before us. Thank you! "])),(e()(),i.yb(27,0,null,null,3,"p",[["class","mb-2"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["For licensing information contact "])),(e()(),i.yb(29,0,null,null,1,"span",[["class","text-medium"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["info@biodigital.com."]))],(function(e,t){e(t,2,0,"times","lg")}),null)}function xb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-about-dialog",[],null,null,null,vb,_b)),i.xb(1,114688,null,0,id,[Zd.l],null,null)],(function(e,t){e(t,1,0)}),null)}var Ob=i.ub("app-about-dialog",id,xb,{},{},[]),wb=function(){return(wb=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Cb=function(){function e(e,t){this.dialogRef=e,this.data=t,this.settings={titleText:"Confirm Action"},t&&(this.settings=wb({},this.settings,t))}return e.prototype.ngOnInit=function(){},e}(),jb=i.wb({encapsulation:0,styles:[[""]],data:{}});function kb(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),i.xb(1,81920,null,0,Zd.m,[[2,Zd.l],i.l,Zd.e],null,null),(e()(),i.Sb(-1,null,[" View Only\n"])),(e()(),i.yb(3,0,null,null,3,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),i.xb(4,16384,null,0,Zd.j,[],null,null),(e()(),i.yb(5,0,null,null,1,"span",[["class","text-14"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["This content is currently set to view only, and changes made will be saved to a copy. "])),(e()(),i.yb(7,0,null,null,5,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),i.xb(8,16384,null,0,Zd.f,[],null,null),(e()(),i.yb(9,0,null,null,3,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""],["style","min-width: 100px;"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,10).dialogRef.close(i.Kb(e,10).dialogResult)&&l),l}),Qe,$e)),i.xb(10,606208,null,0,Zd.g,[[2,Zd.l],i.l,Zd.e],{dialogResult:[0,"dialogResult"]},null),i.xb(11,114688,null,0,Ve,[],{buttonType:[0,"buttonType"]},null),(e()(),i.Sb(-1,0,["OK"]))],(function(e,t){e(t,1,0),e(t,10,0,!0),e(t,11,0,"primary")}),(function(e,t){e(t,0,0,i.Kb(t,1).id),e(t,9,0,i.Kb(t,10).ariaLabel||null,i.Kb(t,10).type,i.Kb(t,11).disabled)}))}function Sb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-access-dialog",[],null,null,null,kb,jb)),i.xb(1,114688,null,0,Cb,[Zd.l,Zd.a],null,null)],(function(e,t){e(t,1,0)}),null)}var Pb=i.ub("app-access-dialog",Cb,Sb,{},{},[]),Ib=function(e){return e.Small="small",e.Medium="medium",e.Large="large",e.Huge="huge",e}({}),Mb=function(e){return e.Horizontal="horizontal",e.Vertical="vertical",e}({}),Tb=function(e){return e.Inline="inline",e.Block="block",e.Fill="fill",e}({}),Kb=function(){function e(){this.size=Ib.Medium,this.label="",this.direction=Mb.Horizontal,this.render=Tb.Fill}return e.prototype.ngOnInit=function(){},e}(),zb=i.wb({encapsulation:0,styles:[['@-webkit-keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.spinner--small[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%], .spinner--small[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%]:after{width:11px;height:11px}.spinner--small[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{font-size:10px}.spinner--medium[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%], .spinner--medium[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%]:after{width:14px;height:14px}.spinner--medium[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{font-size:10px}.spinner--large[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%], .spinner--large[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%]:after{width:28px;height:28px}.spinner--large[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{font-size:14px}.spinner--huge[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%], .spinner--huge[_ngcontent-%COMP%]   .spinner__circle[_ngcontent-%COMP%]:after{width:44px;height:44px}.spinner--huge[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{font-size:16px}.spinner--horizontal[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.spinner--vertical[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.spinner--vertical[_ngcontent-%COMP%]   .spinner__label[_ngcontent-%COMP%]{padding:8px 0 0}.spinner--inline[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex}.spinner--block[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.spinner--fill[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:100%}.spinner__circle[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:50%;border:2px solid rgba(16,24,35,.1);position:relative}.spinner__circle[_ngcontent-%COMP%]:after{-webkit-animation:.4s linear infinite spinner;animation:.4s linear infinite spinner;content:" ";border-radius:50%;border:2px solid transparent;border-top-color:rgba(255,255,255,.2);border-right-color:rgba(16,24,35,.2);box-sizing:border-box;position:absolute;display:block;width:14px;height:14px;top:-2px;left:-2px}.spinner__label[_ngcontent-%COMP%]{padding-left:8px;font-size:14px;text-transform:uppercase}.theme-dark[_nghost-%COMP%]   .spinner__label[_ngcontent-%COMP%], .theme-dark   [_nghost-%COMP%]   .spinner__label[_ngcontent-%COMP%]{color:rgba(255,255,255,.2)}.theme-light[_nghost-%COMP%]   .spinner__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .spinner__label[_ngcontent-%COMP%]{color:rgba(16,24,35,.2)}']],data:{}});function Lb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"div",[["class","spinner__label"]],null,null,null,null,null)),(e()(),i.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.label)}))}function Eb(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,6,"div",[["class","spinner spinner--horizontal"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Lb(3,3),(e()(),i.yb(4,0,null,null,0,"div",[["class","spinner__circle"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Lb)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,"spinner--"+n.size,"spinner--"+n.render,"spinner--"+n.direction);e(t,2,0,"spinner spinner--horizontal",l),e(t,6,0,n.label.length)}),null)}var Ub=i.wb({encapsulation:0,styles:[[".dialog__radio-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}@media (min-width:480px){.dialog[_ngcontent-%COMP%]{min-width:380px}}"]],data:{}});function Fb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),i.xb(1,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(2,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.collection_id),e(t,2,0,t.context.$implicit.collection_id)}),(function(e,t){e(t,3,0,t.context.$implicit.collection_name)}))}function Ab(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,14,"app-form-field",[["class","mb-2"],["label","Collection (Optional)"],["theme","light"]],null,null,null,oe,le)),i.xb(1,114688,null,0,ne,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),i.yb(2,0,null,0,12,"select",[["class","input"],["formControlName","collectionId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==i.Kb(e,3).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,3).onTouched()&&l),l}),null,null)),i.xb(3,16384,null,0,ae.w,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.w]),i.xb(5,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(7,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(8,0,null,null,3,"option",[],null,null,null,null,null)),i.xb(9,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(10,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(-1,null,["--"])),(e()(),i.ob(16777216,null,null,2,null,Fb)),i.xb(13,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,1,0,"Collection (Optional)","light"),e(t,5,0,"collectionId"),e(t,9,0,null),e(t,10,0,null),e(t,13,0,i.Tb(t,13,0,i.Kb(t,14).transform(n.collections$)))}),(function(e,t){e(t,2,0,i.Kb(t,7).ngClassUntouched,i.Kb(t,7).ngClassTouched,i.Kb(t,7).ngClassPristine,i.Kb(t,7).ngClassDirty,i.Kb(t,7).ngClassValid,i.Kb(t,7).ngClassInvalid,i.Kb(t,7).ngClassPending)}))}function Db(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-spinner",[["class","mr-1"],["render","inline"],["size","small"]],null,null,null,Eb,zb)),i.xb(2,114688,null,0,Kb,[],{size:[0,"size"],render:[1,"render"]},null),(e()(),i.Sb(-1,null,[" Adding "]))],(function(e,t){e(t,2,0,"small","inline")}),null)}function Nb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i.Sb(-1,null,[" Add "]))],null,null)}function Rb(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),i.xb(1,81920,null,0,Zd.m,[[2,Zd.l],i.l,Zd.e],null,null),(e()(),i.Sb(-1,null,[" Add to Team Models\n"])),(e()(),i.yb(3,0,null,null,24,"div",[["class","dialog mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),i.xb(4,16384,null,0,Zd.j,[],null,null),(e()(),i.yb(5,0,null,null,22,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0,o=e.component;return"submit"===t&&(l=!1!==i.Kb(e,7).onSubmit(n)&&l),"reset"===t&&(l=!1!==i.Kb(e,7).onReset()&&l),"submit"===t&&(l=!1!==o.handleSubmit()&&l),l}),null,null)),i.xb(6,16384,null,0,ae.C,[],null,null),i.xb(7,540672,null,0,ae.h,[[8,null],[8,null]],{form:[0,"form"]},null),i.Pb(2048,null,ae.c,null,[ae.h]),i.xb(9,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(10,0,null,null,14,"app-form-field",[["class","mt-2 mb-2"],["label","Permissions"],["theme","light"]],null,null,null,oe,le)),i.xb(11,114688,null,0,ne,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),i.yb(12,0,null,0,12,"mat-radio-group",[["class","dialog__radio-group text-12 mt-2 mat-radio-group"],["formControlName","groupEditEnabled"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),i.xb(13,1064960,null,1,Oe.c,[i.i],null,null),i.Qb(603979776,1,{_radios:1}),i.Pb(1024,null,ae.m,(function(e){return[e]}),[Oe.c]),i.xb(16,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(18,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(19,0,null,null,2,"mat-radio-button",[["class","mb-2 mat-radio-button"],["value","false"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var l=!0;return"focus"===t&&(l=!1!==i.Kb(e,20)._inputElement.nativeElement.focus()&&l),l}),we.b,we.a)),i.xb(20,4440064,[[1,4]],0,Oe.b,[[2,Oe.c],i.l,i.i,be.e,Ce.c,[2,ge.a],[2,Oe.a]],{value:[0,"value"]},null),(e()(),i.Sb(-1,0,["Team - View Only"])),(e()(),i.yb(22,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"],["value","true"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var l=!0;return"focus"===t&&(l=!1!==i.Kb(e,23)._inputElement.nativeElement.focus()&&l),l}),we.b,we.a)),i.xb(23,4440064,[[1,4]],0,Oe.b,[[2,Oe.c],i.l,i.i,be.e,Ce.c,[2,ge.a],[2,Oe.a]],{value:[0,"value"]},null),(e()(),i.Sb(-1,0,["Team - View & Edit"])),(e()(),i.ob(16777216,null,null,2,null,Ab)),i.xb(26,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(28,0,null,null,14,"div",[["class","pt-2 mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),i.xb(29,16384,null,0,Zd.f,[],null,null),(e()(),i.yb(30,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["class","mr-2"],["type","button"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,31).dialogRef.close(i.Kb(e,31).dialogResult)&&l),l}),Qe,$e)),i.xb(31,606208,null,0,Zd.g,[[2,Zd.l],i.l,Zd.e],{type:[0,"type"]},null),i.xb(32,114688,null,0,Ve,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Cancel"])),(e()(),i.yb(34,0,null,null,8,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSubmit()&&l),l}),Qe,$e)),i.xb(35,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],disabled:[1,"disabled"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,0,2,null,Db)),i.xb(38,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,0,2,null,Nb)),i.xb(41,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n,l=t.component;e(t,1,0),e(t,7,0,l.form),e(t,11,0,"Permissions","light"),e(t,16,0,"groupEditEnabled"),e(t,20,0,"false"),e(t,23,0,"true"),e(t,26,0,null==(n=i.Tb(t,26,0,i.Kb(t,27).transform(l.collections$)))?null:n.length),e(t,31,0,"button"),e(t,32,0,"light"),e(t,35,0,"primary",i.Tb(t,35,1,i.Kb(t,36).transform(l.copying$))),e(t,38,0,i.Tb(t,38,0,i.Kb(t,39).transform(l.copying$))),e(t,41,0,!i.Tb(t,41,0,i.Kb(t,42).transform(l.copying$)))}),(function(e,t){e(t,0,0,i.Kb(t,1).id),e(t,5,0,i.Kb(t,9).ngClassUntouched,i.Kb(t,9).ngClassTouched,i.Kb(t,9).ngClassPristine,i.Kb(t,9).ngClassDirty,i.Kb(t,9).ngClassValid,i.Kb(t,9).ngClassInvalid,i.Kb(t,9).ngClassPending),e(t,12,0,i.Kb(t,18).ngClassUntouched,i.Kb(t,18).ngClassTouched,i.Kb(t,18).ngClassPristine,i.Kb(t,18).ngClassDirty,i.Kb(t,18).ngClassValid,i.Kb(t,18).ngClassInvalid,i.Kb(t,18).ngClassPending),e(t,19,1,[i.Kb(t,20).checked,i.Kb(t,20).disabled,"NoopAnimations"===i.Kb(t,20)._animationMode,"primary"===i.Kb(t,20).color,"accent"===i.Kb(t,20).color,"warn"===i.Kb(t,20).color,-1,i.Kb(t,20).id,null,null,null]),e(t,22,1,[i.Kb(t,23).checked,i.Kb(t,23).disabled,"NoopAnimations"===i.Kb(t,23)._animationMode,"primary"===i.Kb(t,23).color,"accent"===i.Kb(t,23).color,"warn"===i.Kb(t,23).color,-1,i.Kb(t,23).id,null,null,null]),e(t,30,0,i.Kb(t,31).ariaLabel||null,i.Kb(t,31).type,i.Kb(t,32).disabled),e(t,34,0,i.Kb(t,35).disabled)}))}function Bb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-add-team-model-dialog",[],null,null,null,Rb,Ub)),i.xb(1,245760,null,0,Wd,[h.i,h.b,ae.f,Zd.l,nb.c,Vn,Zd.a],null,null)],(function(e,t){e(t,1,0)}),null)}var Hb=i.ub("app-add-team-model-dialog",Wd,Bb,{},{},[]),Vb=function(){function e(e){this.domSanitizer=e,this.size="medium"}return Object.defineProperty(e.prototype,"isTransparent",{get:function(){return this.color&&Xa.isTransparent(this.color)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.getBackgroundCSS=function(){if(this.color&&!this.isTransparent){var e=Xa.toCSS(this.color);return this.domSanitizer.bypassSecurityTrustStyle(e)}return null},e}(),$b=i.wb({encapsulation:0,styles:[[".item[_ngcontent-%COMP%]{border-radius:1px;cursor:pointer;border:1px solid #eaeff5}.item--small[_ngcontent-%COMP%]{width:12px;height:12px}.item--medium[_ngcontent-%COMP%]{width:24px;height:24px}.item--large[_ngcontent-%COMP%]{width:36px;height:36px}.item--selected[_ngcontent-%COMP%]{border-color:#1c5ab9;border-width:2px}.item--transparent[_ngcontent-%COMP%]{background:linear-gradient(45deg,#f9fafd 48%,#de3838 50%,#f9fafd 52%)}"]],data:{}});function Qb(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,0,"div",[["class","item"]],[[2,"item--x-small",null],[2,"item--small",null],[2,"item--medium",null],[2,"item--large",null],[2,"item--x-large",null],[2,"item--selected",null],[2,"item--transparent",null],[4,"background-image",null]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,0,0,"x-small"===n.size,"small"===n.size,"medium"===n.size,"large"===n.size,"x-large"===n.size,n.selected,n.isTransparent,n.getBackgroundCSS())}))}var Gb=function(){function e(){this.theme="dark",this.min=0,this.max=100,this.step=1,this._value=0,this.disabled=!1,this.onChange=function(){},this.onTouched=function(){},this.propagateChange=function(e){}}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){null!=e&&(null==this._initialValue&&(this._initialValue=e),this._value=e,this.propagateChange(this.value))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleRangeDoubleClick=function(){this.value=this._initialValue},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e}(),Wb=i.wb({encapsulation:0,styles:[[".slider[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex}.slider__range[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 100%}.slider__input[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 0 64px;margin-left:8px}"]],data:{}});function qb(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,16,"div",[["class","slider"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,7,"div",[["class","slider__range"]],null,null,null,null,null)),(e()(),i.yb(2,0,null,null,6,"input",[["class","range"],["type","range"]],[[2,"light",null],[2,"dark",null],[8,"min",0],[8,"max",0],[8,"step",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"dblclick"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var l=!0,o=e.component;return"input"===t&&(l=!1!==i.Kb(e,3)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,3).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,3)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,3)._compositionEnd(n.target.value)&&l),"change"===t&&(l=!1!==i.Kb(e,4).onChange(n.target.value)&&l),"input"===t&&(l=!1!==i.Kb(e,4).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,4).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(o.value=n)&&l),"dblclick"===t&&(l=!1!==o.handleRangeDoubleClick()&&l),l}),null,null)),i.xb(3,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.xb(4,16384,null,0,ae.t,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e,t){return[e,t]}),[ae.d,ae.t]),i.xb(6,671744,null,0,ae.q,[[8,null],[8,null],[8,null],[6,ae.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i.Pb(2048,null,ae.n,null,[ae.q]),i.xb(8,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(9,0,null,null,7,"div",[["class","slider__input"]],null,null,null,null,null)),(e()(),i.yb(10,0,null,null,6,"input",[["class","input"],["type","number"]],[[8,"min",0],[8,"max",0],[8,"step",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var l=!0,o=e.component;return"input"===t&&(l=!1!==i.Kb(e,11)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,11).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,11)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,11)._compositionEnd(n.target.value)&&l),"change"===t&&(l=!1!==i.Kb(e,12).onChange(n.target.value)&&l),"input"===t&&(l=!1!==i.Kb(e,12).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,12).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(o.value=n)&&l),l}),null,null)),i.xb(11,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.xb(12,16384,null,0,ae.s,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e,t){return[e,t]}),[ae.d,ae.s]),i.xb(14,671744,null,0,ae.q,[[8,null],[8,null],[8,null],[6,ae.m]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i.Pb(2048,null,ae.n,null,[ae.q]),i.xb(16,16384,null,0,ae.o,[[4,ae.n]],null,null)],(function(e,t){var n=t.component;e(t,6,0,n.disabled,n.value),e(t,14,0,n.disabled,n.value)}),(function(e,t){var n=t.component;e(t,2,1,["light"===n.theme,"dark"===n.theme,n.min,n.max,n.step,i.Kb(t,8).ngClassUntouched,i.Kb(t,8).ngClassTouched,i.Kb(t,8).ngClassPristine,i.Kb(t,8).ngClassDirty,i.Kb(t,8).ngClassValid,i.Kb(t,8).ngClassInvalid,i.Kb(t,8).ngClassPending]),e(t,10,0,n.min,n.max,n.step,i.Kb(t,16).ngClassUntouched,i.Kb(t,16).ngClassTouched,i.Kb(t,16).ngClassPristine,i.Kb(t,16).ngClassDirty,i.Kb(t,16).ngClassValid,i.Kb(t,16).ngClassInvalid,i.Kb(t,16).ngClassPending)}))}var Yb=function(e){return e.Danger="danger",e.Info="info",e}({}),Xb=function(){function e(){this.type=Yb.Info,this.theme="dark"}return e.prototype.ngOnInit=function(){},e}(),Jb=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}:host{display:block}.app-alert{border-radius:4px;padding:16px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.app-alert--info{background:rgba(45,144,220,.15);border:1px solid rgba(45,144,220,.5)}.app-alert--danger{background:rgba(222,56,56,.15);border:1px solid rgba(222,56,56,.4)}.app-alert--light{color:#1c2a3f}.app-alert--light a,.app-alert--light a:visited{color:#283853}.app-alert--dark{color:#f9fafd}.app-alert--dark a,.app-alert--dark a:visited{color:#fff}"]],data:{}});function Zb(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,3,"div",[["class","app-alert"]],[[2,"app-alert--dark",null],[2,"app-alert--light",null]],null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Jb(null,0)],(function(e,t){e(t,2,0,"app-alert","app-alert--"+t.component.type)}),(function(e,t){var n=t.component;e(t,0,0,"dark"===n.theme,"light"===n.theme)}))}var eg=i.wb({encapsulation:0,styles:[[".background[_ngcontent-%COMP%]{width:256px;min-height:280px}.background__section[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.background__swatches[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap}"]],data:{}});function tg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-swatch-item",[["class","m-1"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handlePresetSelected(e.context.$implicit)&&l),l}),Qb,$b)),i.xb(1,114688,null,0,Vb,[$a.b],{color:[0,"color"],size:[1,"size"],selected:[2,"selected"]},null)],(function(e,t){var n=t.component;e(t,1,0,t.context.$implicit,"medium",n.backgroundsEqual(t.context.$implicit,n.presetBackground))}),null)}function ng(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-swatch-item",[["class","m-1"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handlePresetSelected(e.context.$implicit)&&l),l}),Qb,$b)),i.xb(1,114688,null,0,Vb,[$a.b],{color:[0,"color"],size:[1,"size"]},null)],(function(e,t){e(t,1,0,t.context.$implicit,"medium")}),null)}function lg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,3,"app-form-field",[["label","Color"]],null,null,null,oe,le)),i.xb(2,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(3,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,4).handleClick()&&l),"focus"===t&&(l=!1!==i.Kb(e,4).handleFocus()&&l),"input"===t&&(l=!1!==i.Kb(e,4).handleInput(n)&&l),"colorPickerChange"===t&&(l=!1!==o.handleFormColorSelected("color1",n)&&l),l}),null,null)),i.xb(4,671744,null,0,Ye.b,[i.t,i.k,i.g,i.T,i.l,Ye.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"})],(function(e,t){var n=t.component;e(t,2,0,"Color"),e(t,4,0,n.getFormBackgroundHex("color1"),"hex","disabled","left")}),(function(e,t){e(t,3,0,t.component.getFormBackgroundHex("color1"))}))}function ig(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,24,"div",[],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,3,"app-form-field",[["label","Inner Color"]],null,null,null,oe,le)),i.xb(2,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(3,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,4).handleClick()&&l),"focus"===t&&(l=!1!==i.Kb(e,4).handleFocus()&&l),"input"===t&&(l=!1!==i.Kb(e,4).handleInput(n)&&l),"colorPickerChange"===t&&(l=!1!==o.handleFormColorSelected("color1",n)&&l),l}),null,null)),i.xb(4,671744,null,0,Ye.b,[i.t,i.k,i.g,i.T,i.l,Ye.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(e()(),i.yb(5,0,null,null,7,"app-form-field",[["label","Inner Radius"]],null,null,null,oe,le)),i.xb(6,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(7,0,null,0,5,"app-slider",[["formControlName","stop1"],["theme","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,qb,Wb)),i.xb(8,114688,null,0,Gb,[],{theme:[0,"theme"],min:[1,"min"],max:[2,"max"]},null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[Gb]),i.xb(10,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(12,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(13,0,null,null,3,"app-form-field",[["label","Outer Color"]],null,null,null,oe,le)),i.xb(14,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(15,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,16).handleClick()&&l),"focus"===t&&(l=!1!==i.Kb(e,16).handleFocus()&&l),"input"===t&&(l=!1!==i.Kb(e,16).handleInput(n)&&l),"colorPickerChange"===t&&(l=!1!==o.handleFormColorSelected("color2",n)&&l),l}),null,null)),i.xb(16,671744,null,0,Ye.b,[i.t,i.k,i.g,i.T,i.l,Ye.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(e()(),i.yb(17,0,null,null,7,"app-form-field",[["label","Outer Radius"]],null,null,null,oe,le)),i.xb(18,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(19,0,null,0,5,"app-slider",[["formControlName","stop2"],["theme","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,qb,Wb)),i.xb(20,114688,null,0,Gb,[],{theme:[0,"theme"],min:[1,"min"],max:[2,"max"]},null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[Gb]),i.xb(22,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(24,16384,null,0,ae.o,[[4,ae.n]],null,null)],(function(e,t){var n=t.component;e(t,2,0,"Inner Color"),e(t,4,0,n.getFormBackgroundHex("color1"),"hex","disabled","left"),e(t,6,0,"Inner Radius"),e(t,8,0,"light",0,100),e(t,10,0,"stop1"),e(t,14,0,"Outer Color"),e(t,16,0,n.getFormBackgroundHex("color2"),"hex","disabled","left"),e(t,18,0,"Outer Radius"),e(t,20,0,"light",0,100),e(t,22,0,"stop2")}),(function(e,t){var n=t.component;e(t,3,0,n.getFormBackgroundHex("color1")),e(t,7,0,i.Kb(t,12).ngClassUntouched,i.Kb(t,12).ngClassTouched,i.Kb(t,12).ngClassPristine,i.Kb(t,12).ngClassDirty,i.Kb(t,12).ngClassValid,i.Kb(t,12).ngClassInvalid,i.Kb(t,12).ngClassPending),e(t,15,0,n.getFormBackgroundHex("color2")),e(t,19,0,i.Kb(t,24).ngClassUntouched,i.Kb(t,24).ngClassTouched,i.Kb(t,24).ngClassPristine,i.Kb(t,24).ngClassDirty,i.Kb(t,24).ngClassValid,i.Kb(t,24).ngClassInvalid,i.Kb(t,24).ngClassPending)}))}function og(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,24,"div",[],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,3,"app-form-field",[["label","Starting Color"]],null,null,null,oe,le)),i.xb(2,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(3,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,4).handleClick()&&l),"focus"===t&&(l=!1!==i.Kb(e,4).handleFocus()&&l),"input"===t&&(l=!1!==i.Kb(e,4).handleInput(n)&&l),"colorPickerChange"===t&&(l=!1!==o.handleFormColorSelected("color1",n)&&l),l}),null,null)),i.xb(4,671744,null,0,Ye.b,[i.t,i.k,i.g,i.T,i.l,Ye.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(e()(),i.yb(5,0,null,null,7,"app-form-field",[["label","Starting Color Stop"]],null,null,null,oe,le)),i.xb(6,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(7,0,null,0,5,"app-slider",[["formControlName","stop1"],["theme","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,qb,Wb)),i.xb(8,114688,null,0,Gb,[],{theme:[0,"theme"],min:[1,"min"],max:[2,"max"]},null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[Gb]),i.xb(10,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(12,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(13,0,null,null,3,"app-form-field",[["label","Ending Color"]],null,null,null,oe,le)),i.xb(14,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(15,16777216,null,0,1,"input",[["class","input"],["cpPosition","left"],["type","text"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,16).handleClick()&&l),"focus"===t&&(l=!1!==i.Kb(e,16).handleFocus()&&l),"input"===t&&(l=!1!==i.Kb(e,16).handleInput(n)&&l),"colorPickerChange"===t&&(l=!1!==o.handleFormColorSelected("color2",n)&&l),l}),null,null)),i.xb(16,671744,null,0,Ye.b,[i.t,i.k,i.g,i.T,i.l,Ye.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpPosition:[3,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(e()(),i.yb(17,0,null,null,7,"app-form-field",[["label","Ending Color Stop"]],null,null,null,oe,le)),i.xb(18,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(19,0,null,0,5,"app-slider",[["formControlName","stop2"],["theme","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,qb,Wb)),i.xb(20,114688,null,0,Gb,[],{theme:[0,"theme"],min:[1,"min"],max:[2,"max"]},null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[Gb]),i.xb(22,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(24,16384,null,0,ae.o,[[4,ae.n]],null,null)],(function(e,t){var n=t.component;e(t,2,0,"Starting Color"),e(t,4,0,n.getFormBackgroundHex("color1"),"hex","disabled","left"),e(t,6,0,"Starting Color Stop"),e(t,8,0,"light",0,100),e(t,10,0,"stop1"),e(t,14,0,"Ending Color"),e(t,16,0,n.getFormBackgroundHex("color2"),"hex","disabled","left"),e(t,18,0,"Ending Color Stop"),e(t,20,0,"light",0,100),e(t,22,0,"stop2")}),(function(e,t){var n=t.component;e(t,3,0,n.getFormBackgroundHex("color1")),e(t,7,0,i.Kb(t,12).ngClassUntouched,i.Kb(t,12).ngClassTouched,i.Kb(t,12).ngClassPristine,i.Kb(t,12).ngClassDirty,i.Kb(t,12).ngClassValid,i.Kb(t,12).ngClassInvalid,i.Kb(t,12).ngClassPending),e(t,15,0,n.getFormBackgroundHex("color2")),e(t,19,0,i.Kb(t,24).ngClassUntouched,i.Kb(t,24).ngClassTouched,i.Kb(t,24).ngClassPristine,i.Kb(t,24).ngClassDirty,i.Kb(t,24).ngClassValid,i.Kb(t,24).ngClassInvalid,i.Kb(t,24).ngClassPending)}))}function ag(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,2,"app-alert",[["theme","light"],["type","info"]],null,null,null,Zb,Jb)),i.xb(2,114688,null,0,Xb,[],{type:[0,"type"],theme:[1,"theme"]},null),(e()(),i.Sb(-1,0,[" The background of your application will appear behind the 3D model. "]))],(function(e,t){e(t,2,0,"info","light")}),null)}function rg(e){return i.Ub(2,[i.Qb(402653184,1,{presetTab:0}),i.Qb(402653184,2,{customTab:0}),(e()(),i.yb(2,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),i.xb(3,81920,null,0,Zd.m,[[2,Zd.l],i.l,Zd.e],null,null),(e()(),i.Sb(-1,null,[" Background Color\n"])),(e()(),i.yb(5,0,null,null,59,"div",[["class","background theme-light"]],null,null,null,null,null)),(e()(),i.yb(6,0,null,null,58,"app-tabs",[],null,[[null,"activeTabChange"]],(function(e,t,n){var l=!0;return"activeTabChange"===t&&(l=!1!==e.component.handleTabChange(n)&&l),l}),Le,Te)),i.xb(7,1294336,null,1,Me,[i.i],null,{activeTabChange:"activeTabChange"}),i.Qb(603979776,3,{_tabs:1}),(e()(),i.yb(9,0,null,0,15,"app-tab",[["label","Presets"]],null,null,null,Ae,Ue)),i.xb(10,114688,[[3,4],[1,4],["presetTab",4]],0,Ee,[i.i],{label:[0,"label"]},null),(e()(),i.yb(11,0,null,0,13,"div",[["class","background__section mt-3"]],null,null,null,null,null)),(e()(),i.yb(12,0,null,null,4,"app-form-field",[],null,null,null,oe,le)),i.xb(13,114688,null,0,ne,[],null,null),(e()(),i.yb(14,0,null,0,2,"div",[["class","background__swatches"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,tg)),i.xb(16,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),(e()(),i.yb(17,0,null,null,2,"button",[["app-button",""],["buttonSize","small"],["buttonTheme","light"],["buttonType","outline"],["class","mb-4"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleResetClick()&&l),l}),Qe,$e)),i.xb(18,114688,null,0,Ve,[],{buttonSize:[0,"buttonSize"],buttonType:[1,"buttonType"],buttonTheme:[2,"buttonTheme"]},null),(e()(),i.Sb(-1,0,[" Revert to Original "])),(e()(),i.yb(20,0,null,null,4,"app-form-field",[["label","Currently Used"]],null,null,null,oe,le)),i.xb(21,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(22,0,null,0,2,"div",[["class","background__swatches"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,ng)),i.xb(24,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),(e()(),i.yb(25,0,null,0,39,"app-tab",[["label","Custom"]],null,null,null,Ae,Ue)),i.xb(26,114688,[[3,4],[2,4],["customTab",4]],0,Ee,[i.i],{label:[0,"label"]},null),(e()(),i.yb(27,0,null,0,37,"form",[["class","background__section mt-4"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==i.Kb(e,30).onSubmit(n)&&l),"reset"===t&&(l=!1!==i.Kb(e,30).onReset()&&l),l}),null,null)),i.xb(28,16384,null,0,te.q,[],{ngSwitch:[0,"ngSwitch"]},null),i.xb(29,16384,null,0,ae.C,[],null,null),i.xb(30,540672,null,0,ae.h,[[8,null],[8,null]],{form:[0,"form"]},null),i.Pb(2048,null,ae.c,null,[ae.h]),i.xb(32,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(33,0,null,null,23,"app-form-field",[["label","Type"]],null,null,null,oe,le)),i.xb(34,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(35,0,null,0,21,"select",[["class","input"],["formControlName","type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==i.Kb(e,36).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,36).onTouched()&&l),l}),null,null)),i.xb(36,16384,null,0,ae.w,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.w]),i.xb(38,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(40,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(41,0,null,null,3,"option",[["value","solid"]],null,null,null,null,null)),i.xb(42,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(43,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(-1,null,["Solid Color"])),(e()(),i.yb(45,0,null,null,3,"option",[["value","radial"]],null,null,null,null,null)),i.xb(46,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(47,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(-1,null,["Radial Gradient"])),(e()(),i.yb(49,0,null,null,3,"option",[["value","linear"]],null,null,null,null,null)),i.xb(50,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(51,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(-1,null,["Linear Gradient"])),(e()(),i.yb(53,0,null,null,3,"option",[["value","transparent"]],null,null,null,null,null)),i.xb(54,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(55,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(-1,null,["Transparent"])),(e()(),i.ob(16777216,null,null,1,null,lg)),i.xb(58,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,ig)),i.xb(60,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,og)),i.xb(62,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,ag)),i.xb(64,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.yb(65,0,null,null,8,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),i.xb(66,16384,null,0,Zd.f,[],null,null),(e()(),i.yb(67,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["class","mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.applyAll()&&l),l}),Qe,$e)),i.xb(68,114688,null,0,Ve,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Apply to All"])),(e()(),i.yb(70,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["cdkFocusInitial",""]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,71).dialogRef.close(i.Kb(e,71).dialogResult)&&l),l}),Qe,$e)),i.xb(71,606208,null,0,Zd.g,[[2,Zd.l],i.l,Zd.e],{dialogResult:[0,"dialogResult"]},null),i.xb(72,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Done"]))],(function(e,t){var n=t.component;e(t,3,0),e(t,7,0),e(t,10,0,"Presets"),e(t,13,0),e(t,16,0,n.presetBackgrounds),e(t,18,0,"small","outline","light"),e(t,21,0,"Currently Used"),e(t,24,0,n.distinctBackgrounds),e(t,26,0,"Custom"),e(t,28,0,n.form.get("type").value),e(t,30,0,n.form),e(t,34,0,"Type"),e(t,38,0,"type"),e(t,42,0,"solid"),e(t,43,0,"solid"),e(t,46,0,"radial"),e(t,47,0,"radial"),e(t,50,0,"linear"),e(t,51,0,"linear"),e(t,54,0,"transparent"),e(t,55,0,"transparent"),e(t,58,0,"solid"),e(t,60,0,"radial"),e(t,62,0,"linear"),e(t,64,0,"transparent"),e(t,68,0,"light"),e(t,71,0,!0),e(t,72,0,"flat","light")}),(function(e,t){e(t,2,0,i.Kb(t,3).id),e(t,17,0,i.Kb(t,18).disabled),e(t,27,0,i.Kb(t,32).ngClassUntouched,i.Kb(t,32).ngClassTouched,i.Kb(t,32).ngClassPristine,i.Kb(t,32).ngClassDirty,i.Kb(t,32).ngClassValid,i.Kb(t,32).ngClassInvalid,i.Kb(t,32).ngClassPending),e(t,35,0,i.Kb(t,40).ngClassUntouched,i.Kb(t,40).ngClassTouched,i.Kb(t,40).ngClassPristine,i.Kb(t,40).ngClassDirty,i.Kb(t,40).ngClassValid,i.Kb(t,40).ngClassInvalid,i.Kb(t,40).ngClassPending),e(t,67,0,i.Kb(t,68).disabled),e(t,70,0,i.Kb(t,71).ariaLabel||null,i.Kb(t,71).type,i.Kb(t,72).disabled)}))}function ug(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-background-color-dialog",[],null,null,null,rg,eg)),i.xb(1,245760,null,0,Jd,[h.i,h.b,ae.f,nb.c],null,null)],(function(e,t){e(t,1,0)}),null)}var cg=i.ub("app-background-color-dialog",Jd,ug,{},{},[]),sg=i.wb({encapsulation:0,styles:[[".copy[_ngcontent-%COMP%]{min-width:480px;display:-webkit-box;display:flex}.copy__input[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1}"]],data:{}});function pg(e){return i.Ub(2,[i.Qb(402653184,1,{copyField:0}),(e()(),i.yb(1,0,null,null,2,"div",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),i.xb(2,81920,null,0,Zd.m,[[2,Zd.l],i.l,Zd.e],null,null),(e()(),i.Sb(3,null,[" ","\n"])),(e()(),i.yb(4,0,null,null,3,"div",[["class","copy mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),i.xb(5,16384,null,0,Zd.j,[],null,null),(e()(),i.yb(6,0,[[1,0],["copyField",1]],null,1,"textarea",[["class","copy__input"]],[[8,"value",0],[8,"rows",0]],null,null,null,null)),(e()(),i.Sb(-1,null,["  "])),(e()(),i.yb(8,0,null,null,7,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),i.xb(9,16384,null,0,Zd.f,[],null,null),(e()(),i.yb(10,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCancelClick()&&l),l}),Qe,$e)),i.xb(11,114688,null,0,Ve,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Cancel"])),(e()(),i.yb(13,0,null,null,2,"button",[["app-button",""],["buttonType","primary"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCopyClick()&&l),l}),Qe,$e)),i.xb(14,114688,null,0,Ve,[],{buttonType:[0,"buttonType"]},null),(e()(),i.Sb(-1,0,["Copy to Clipboard"]))],(function(e,t){e(t,2,0),e(t,11,0,"light"),e(t,14,0,"primary")}),(function(e,t){var n=t.component;e(t,1,0,i.Kb(t,2).id),e(t,3,0,n.settings.title),e(t,6,0,n.settings.copyText,n.rowCount),e(t,10,0,i.Kb(t,11).disabled),e(t,13,0,i.Kb(t,14).disabled)}))}function dg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-clipboard-dialog",[],null,null,null,pg,sg)),i.xb(1,4308992,null,0,Yp,[Zd.l,Zd.a,_p],null,null)],(function(e,t){e(t,1,0)}),null)}var bg=i.ub("app-clipboard-dialog",Yp,dg,{},{},[]),gg=i.wb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.dialog__actions[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.dialog__actions--compact[_ngcontent-%COMP%]{-webkit-box-pack:end;justify-content:flex-end}@media (min-width:480px){[_nghost-%COMP%]{min-width:320px}}"]],data:{}});function hg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,1).dialogRef.close(i.Kb(e,1).dialogResult)&&l),l}),Qe,$e)),i.xb(1,606208,null,0,Zd.g,[[2,Zd.l],i.l,Zd.e],null,null),i.xb(2,114688,null,0,Ve,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),i.Sb(3,0,["",""]))],(function(e,t){e(t,1,0),e(t,2,0,"light")}),(function(e,t){var n=t.component;e(t,0,0,i.Kb(t,1).ariaLabel||null,i.Kb(t,1).type,i.Kb(t,2).disabled),e(t,3,0,n.settings.miscText)}))}function mg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["class","mr-1"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,1).dialogRef.close(i.Kb(e,1).dialogResult)&&l),l}),Qe,$e)),i.xb(1,606208,null,0,Zd.g,[[2,Zd.l],i.l,Zd.e],{dialogResult:[0,"dialogResult"]},null),i.xb(2,114688,null,0,Ve,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),i.Sb(3,0,["",""]))],(function(e,t){e(t,1,0,!1),e(t,2,0,"light")}),(function(e,t){var n=t.component;e(t,0,0,i.Kb(t,1).ariaLabel||null,i.Kb(t,1).type,i.Kb(t,2).disabled),e(t,3,0,n.settings.cancelText)}))}function fg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,1).dialogRef.close(i.Kb(e,1).dialogResult)&&l),l}),Qe,$e)),i.xb(1,606208,null,0,Zd.g,[[2,Zd.l],i.l,Zd.e],{dialogResult:[0,"dialogResult"]},null),i.xb(2,114688,null,0,Ve,[],{buttonType:[0,"buttonType"]},null),(e()(),i.Sb(3,0,["",""]))],(function(e,t){e(t,1,0,!0),e(t,2,0,"primary")}),(function(e,t){var n=t.component;e(t,0,0,i.Kb(t,1).ariaLabel||null,i.Kb(t,1).type,i.Kb(t,2).disabled),e(t,3,0,n.settings.confirmText)}))}function yg(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),i.xb(1,81920,null,0,Zd.m,[[2,Zd.l],i.l,Zd.e],null,null),(e()(),i.Sb(2,null,[" ","\n"])),(e()(),i.yb(3,0,null,null,3,"div",[["class","pt-4 pb-6 mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),i.xb(4,16384,null,0,Zd.j,[],null,null),(e()(),i.yb(5,0,null,null,1,"div",[["class","text-14"]],null,null,null,null,null)),(e()(),i.Sb(6,null,["",""])),(e()(),i.yb(7,0,null,null,8,"div",[["class","dialog__actions pt-2 mat-dialog-actions"],["mat-dialog-actions",""]],[[2,"dialog__actions--compact",null]],null,null,null,null)),i.xb(8,16384,null,0,Zd.f,[],null,null),(e()(),i.ob(16777216,null,null,1,null,hg)),i.xb(10,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(11,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,mg)),i.xb(13,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,fg)),i.xb(15,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0),e(t,10,0,n.settings.miscText),e(t,13,0,n.settings.cancelEnabled),e(t,15,0,n.settings.confirmEnabled)}),(function(e,t){var n=t.component;e(t,0,0,i.Kb(t,1).id),e(t,2,0,n.settings.titleText),e(t,6,0,n.settings.bodyText),e(t,7,0,!n.settings.miscText)}))}function _g(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-confirm-dialog",[],null,null,null,yg,gg)),i.xb(1,114688,null,0,jp,[Zd.l,Zd.a],null,null)],(function(e,t){e(t,1,0)}),null)}var vg=i.ub("app-confirm-dialog",jp,_g,{},{},[]),xg=i.wb({encapsulation:0,styles:[[".welcome[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.welcome__close[_ngcontent-%COMP%]{cursor:pointer;align-self:flex-end}.welcome__button[_ngcontent-%COMP%]{margin:auto 8px}"]],data:{}});function Og(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"img",[["class","m-4"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.organization.group_logos.default)}))}function wg(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,14,"div",[["class","welcome"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-icon",[["class","welcome__close"],["icon","times"],["size","lg"],["title","Close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCancelClick()&&l),l}),ce,ue)),i.xb(2,114688,null,0,re,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),i.yb(3,0,null,null,1,"div",[["class","m-4 text-16"]],null,null,null,null,null)),(e()(),i.Sb(4,null,[" Welcome to the "," Group Network! "])),(e()(),i.ob(16777216,null,null,1,null,Og)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(7,0,null,null,7,"div",[["class","m-4 mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),i.xb(8,16384,null,0,Zd.f,[],null,null),(e()(),i.yb(9,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","welcome__button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCancelClick()&&l),l}),Qe,$e)),i.xb(10,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),i.Sb(-1,0,[" No, thank you "])),(e()(),i.yb(12,0,null,null,2,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""],["class","welcome__button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleJoinClick()&&l),l}),Qe,$e)),i.xb(13,114688,null,0,Ve,[],{buttonType:[0,"buttonType"]},null),(e()(),i.Sb(-1,0,[" Join Group "]))],(function(e,t){var n=t.component;e(t,2,0,"times","lg"),e(t,6,0,n.organization.group_logos.default),e(t,10,0,"outline","light"),e(t,13,0,"primary")}),(function(e,t){e(t,4,0,t.component.organization.name),e(t,9,0,i.Kb(t,10).disabled),e(t,12,0,i.Kb(t,13).disabled)}))}function Cg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-domain-join-dialog",[],null,null,null,wg,xg)),i.xb(1,245760,null,0,ld,[h.i,Zd.l,Zd.a,h.b,nb.c],null,null)],(function(e,t){e(t,1,0)}),null)}var jg=i.ub("app-domain-join-dialog",ld,Cg,{},{},[]),kg=i.wb({encapsulation:0,styles:[[""]],data:{}});function Sg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"div",[["class","text-14"]],null,null,null,null,null)),(e()(),i.Sb(1,null,[" You must be within the "," network to access this group account. "])),(e()(),i.yb(2,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),i.Sb(-1,null,["Contact us"])),(e()(),i.Sb(-1,null,[" if you have any questions regarding your group account. "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.organizationName),e(t,2,0,"mailto:"+n.supportEmail)}))}function Pg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"div",[["class","text-14"]],null,null,null,null,null)),(e()(),i.Sb(1,null,[" You must be within the "," network to access this group account. "])),(e()(),i.yb(2,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),i.Sb(-1,null,["Contact us"])),(e()(),i.Sb(-1,null,[" if you have any questions regarding your group account. "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.organizationName),e(t,2,0,"mailto:"+n.supportEmail)}))}function Ig(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,4,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),i.xb(1,81920,null,0,Zd.m,[[2,Zd.l],i.l,Zd.e],null,null),(e()(),i.Sb(-1,null,[" Oh no, you have no access to the "])),(e()(),i.yb(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),i.Sb(4,null,[""," group!\n"])),(e()(),i.yb(5,0,null,null,5,"div",[["class","pt-4 pb-6 mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),i.xb(6,16384,null,0,Zd.j,[],null,null),(e()(),i.ob(16777216,null,null,1,null,Sg)),i.xb(8,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Pg)),i.xb(10,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(11,0,null,null,8,"div",[["class","pt-2 mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),i.xb(12,16384,null,0,Zd.f,[],null,null),(e()(),i.yb(13,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleDontShowClick()&&l),l}),Qe,$e)),i.xb(14,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Don't show me this again"])),(e()(),i.yb(16,0,null,null,3,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,17).dialogRef.close(i.Kb(e,17).dialogResult)&&l),l}),Qe,$e)),i.xb(17,606208,null,0,Zd.g,[[2,Zd.l],i.l,Zd.e],{dialogResult:[0,"dialogResult"]},null),i.xb(18,114688,null,0,Ve,[],{buttonType:[0,"buttonType"]},null),(e()(),i.Sb(-1,0,["Close"]))],(function(e,t){var n=t.component;e(t,1,0),e(t,8,0,n.ip),e(t,10,0,n.email),e(t,14,0,"outline","light"),e(t,17,0,!0),e(t,18,0,"primary")}),(function(e,t){var n=t.component;e(t,0,0,i.Kb(t,1).id),e(t,4,0,n.organizationName),e(t,13,0,i.Kb(t,14).disabled),e(t,16,0,i.Kb(t,17).ariaLabel||null,i.Kb(t,17).type,i.Kb(t,18).disabled)}))}function Mg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-group-restriction-dialog",[],null,null,null,Ig,kg)),i.xb(1,114688,null,0,Wp,[Zd.l,Zd.a,Vn],null,null)],(function(e,t){e(t,1,0)}),null)}var Tg=i.ub("app-group-restriction-dialog",Wp,Mg,{},{},[]),Kg=i.wb({encapsulation:0,styles:[[".modal[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.modal__close[_ngcontent-%COMP%]{margin-bottom:4px;align-self:flex-end;cursor:pointer}.modal__contents[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;height:100vh}.modal__frame[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;display:-webkit-box;display:flex}"]],data:{}});function zg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"iframe",[["class","modal__frame"]],[[8,"src",5]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.src)}))}function Lg(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,5,"div",[["class","modal"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-icon",[["class","modal__close"],["icon","times"],["size","lg"],["title","close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog()&&l),l}),ce,ue)),i.xb(2,114688,null,0,re,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),i.yb(3,0,null,null,2,"div",[["class","modal__contents"]],[[4,"height",null]],null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,zg)),i.xb(5,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,"times","lg"),e(t,5,0,n.src)}),(function(e,t){e(t,3,0,t.component.height+"px")}))}function Eg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-legacy-dialog",[],null,null,null,Lg,Kg)),i.xb(1,114688,null,0,wp,[Zd.l,Zd.a,$a.b],null,null)],(function(e,t){e(t,1,0)}),null)}var Ug=i.ub("app-legacy-dialog",wp,Eg,{},{},[]),Fg=i.wb({encapsulation:0,styles:[[""]],data:{}});function Ag(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),i.xb(1,81920,null,0,Zd.m,[[2,Zd.l],i.l,Zd.e],null,null),(e()(),i.Sb(-1,null,[" New Bookmark Limit Reached\n"])),(e()(),i.yb(3,0,null,null,5,"div",[["class","pt-1 pb-6 mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),i.xb(4,16384,null,0,Zd.j,[],null,null),(e()(),i.yb(5,0,null,null,1,"div",[["class","text-14 pb-3"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["You've reached your limit of 5 3D models in your dashboard. You can make changes to this model, but you will not be able to save as a new model."])),(e()(),i.yb(7,0,null,null,1,"div",[["class","text-14"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Upgrade to a Premium Plan to save unlimited 3D models."])),(e()(),i.yb(9,0,null,null,9,"div",[["class","pt-2 mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),i.xb(10,16384,null,0,Zd.f,[],null,null),(e()(),i.yb(11,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["cdkFocusInitial",""],["class","mr-2"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,12).dialogRef.close(i.Kb(e,12).dialogResult)&&l),l}),Qe,$e)),i.xb(12,606208,null,0,Zd.g,[[2,Zd.l],i.l,Zd.e],{dialogResult:[0,"dialogResult"]},null),i.xb(13,114688,null,0,Ve,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["OK"])),(e()(),i.yb(15,0,null,null,3,"button",[["app-button",""],["buttonType","primary"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,16).dialogRef.close(i.Kb(e,16).dialogResult)&&l),l}),Qe,$e)),i.xb(16,606208,null,0,Zd.g,[[2,Zd.l],i.l,Zd.e],{dialogResult:[0,"dialogResult"]},null),i.xb(17,114688,null,0,Ve,[],{buttonType:[0,"buttonType"]},null),(e()(),i.Sb(-1,0,["Go Premium"]))],(function(e,t){e(t,1,0),e(t,12,0,!1),e(t,13,0,"light"),e(t,16,0,!0),e(t,17,0,"primary")}),(function(e,t){e(t,0,0,i.Kb(t,1).id),e(t,11,0,i.Kb(t,12).ariaLabel||null,i.Kb(t,12).type,i.Kb(t,13).disabled),e(t,15,0,i.Kb(t,16).ariaLabel||null,i.Kb(t,16).type,i.Kb(t,17).disabled)}))}function Dg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-limit-dialog",[],null,null,null,Ag,Fg)),i.xb(1,114688,null,0,vp,[],null,null)],(function(e,t){e(t,1,0)}),null)}var Ng=i.ub("app-limit-dialog",vp,Dg,{},{},[]),Rg=i.wb({encapsulation:0,styles:[[".survey[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:end;align-items:flex-end}.survey__close[_ngcontent-%COMP%]{cursor:pointer}.survey__frame[_ngcontent-%COMP%]{display:block;width:600px;height:520px}@media (max-width:760px){.survey__frame[_ngcontent-%COMP%]{display:block;width:100%}}"]],data:{}});function Bg(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,3,"div",[["class","survey"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-icon",[["class","survey__close mb-2"],["icon","times"],["size","lg"],["title","close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog()&&l),l}),ce,ue)),i.xb(2,114688,null,0,re,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),i.yb(3,0,null,null,0,"iframe",[["class","survey__frame"]],[[8,"src",5]],null,null,null,null))],(function(e,t){e(t,2,0,"times","lg")}),(function(e,t){e(t,3,0,t.component.src)}))}function Hg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-nps-dialog",[],null,null,null,Bg,Rg)),i.xb(1,114688,null,0,Fd,[h.i,Zd.l,Zd.a,$a.b],null,null)],(function(e,t){e(t,1,0)}),null)}var Vg=i.ub("app-nps-dialog",Fd,Hg,{},{},[]),$g=n("seP3"),Qg=n("bne5"),Gg=function(){function e(e,t){this.renderer=e,this.ref=t,this.ngUnsubscribe=new $.a,this.display="block",this.mode="count"}return Object.defineProperty(e.prototype,"remainingCount",{get:function(){return this.max-this.count},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.count=0,this.max=this.field.maxLength||0},e.prototype.ngAfterViewInit=function(){var e=this;this.input$=Object(Qg.a)(this.field,"input"),this.input$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.updateCount()}))},e.prototype.ngAfterContentChecked=function(){this.updateCount()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.updateCount=function(){var e=this.field.value.length;this.count!==e&&(this.count=e,this.ref.markForCheck())},e}(),Wg=i.wb({encapsulation:0,styles:[[".theme-light[_nghost-%COMP%]   .counter__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .counter__label[_ngcontent-%COMP%]{color:#1c2a3f}.theme-dark[_nghost-%COMP%]   .counter__label[_ngcontent-%COMP%], .theme-dark   [_nghost-%COMP%]   .counter__label[_ngcontent-%COMP%]{color:#96a8c0}.counter[_ngcontent-%COMP%]{display:block;width:100%;float:right;text-align:right}.counter--inline[_ngcontent-%COMP%]{display:inline-block;width:auto}"]],data:{}});function qg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"span",[["class","counter__label"]],null,null,null,null,null)),(e()(),i.Sb(1,null,[""," "," remaining"]))],null,(function(e,t){var n=t.component;e(t,1,0,n.remainingCount,1===n.remainingCount?"character":"characters")}))}function Yg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"span",[["class","counter__label"]],null,null,null,null,null)),(e()(),i.Sb(1,null,["","/",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.count,n.max)}))}function Xg(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,"div",[["class","counter text-10 pt-1 pb-1"]],[[2,"counter--inline",null]],null,null,null,null)),i.xb(1,16384,null,0,te.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),i.ob(16777216,null,null,1,null,qg)),i.xb(3,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,Yg)),i.xb(5,16384,null,0,te.s,[i.T,i.Q,te.q],null,null)],(function(e,t){e(t,1,0,t.component.mode),e(t,3,0,"remaining")}),(function(e,t){e(t,0,0,"inline"===t.component.display)}))}function Jg(e){return i.Ub(0,[(e()(),i.ob(16777216,null,null,1,null,Xg)),i.xb(1,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.max)}),null)}var Zg=i.wb({encapsulation:0,styles:[[".save[_ngcontent-%COMP%]{min-width:380px}.save__message[_ngcontent-%COMP%]{color:#6a82a4;margin:12px auto;font-size:12px}.save__radio-group[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.save__permission[_ngcontent-%COMP%]{display:block;margin:4px auto}"]],data:{}});function eh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"p",[["class","save__message"]],null,null,null,null,null)),(e()(),i.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.settings.message)}))}function th(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),i.xb(1,16384,null,0,$g.a,[],null,null),(e()(),i.Sb(-1,null,["Please enter a valid title."]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).id)}))}function nh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,17,"app-form-field",[["label","Permissions"],["theme","light"]],null,null,null,oe,le)),i.xb(1,114688,null,0,ne,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),i.yb(2,0,null,0,15,"mat-radio-group",[["class","save__radio-group text-12 mt-2 mat-radio-group"],["formControlName","groupAccess"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),i.xb(3,1064960,null,1,Oe.c,[i.i],null,null),i.Qb(603979776,1,{_radios:1}),i.Pb(1024,null,ae.m,(function(e){return[e]}),[Oe.c]),i.xb(6,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(8,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(9,0,null,null,2,"mat-radio-button",[["class","mb-2 mat-radio-button"],["value",""]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var l=!0;return"focus"===t&&(l=!1!==i.Kb(e,10)._inputElement.nativeElement.focus()&&l),l}),we.b,we.a)),i.xb(10,4440064,[[1,4]],0,Oe.b,[[2,Oe.c],i.l,i.i,be.e,Ce.c,[2,ge.a],[2,Oe.a]],{value:[0,"value"]},null),(e()(),i.Sb(-1,0,["Private"])),(e()(),i.yb(12,0,null,null,2,"mat-radio-button",[["class","mb-2 mat-radio-button"],["value","view"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var l=!0;return"focus"===t&&(l=!1!==i.Kb(e,13)._inputElement.nativeElement.focus()&&l),l}),we.b,we.a)),i.xb(13,4440064,[[1,4]],0,Oe.b,[[2,Oe.c],i.l,i.i,be.e,Ce.c,[2,ge.a],[2,Oe.a]],{value:[0,"value"]},null),(e()(),i.Sb(-1,0,["Team - View Only"])),(e()(),i.yb(15,0,null,null,2,"mat-radio-button",[["class","mat-radio-button"],["value","edit"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[2,"_mat-animation-noopable",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"tabindex",0],[1,"id",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"focus"]],(function(e,t,n){var l=!0;return"focus"===t&&(l=!1!==i.Kb(e,16)._inputElement.nativeElement.focus()&&l),l}),we.b,we.a)),i.xb(16,4440064,[[1,4]],0,Oe.b,[[2,Oe.c],i.l,i.i,be.e,Ce.c,[2,ge.a],[2,Oe.a]],{value:[0,"value"]},null),(e()(),i.Sb(-1,0,["Team - View & Edit"]))],(function(e,t){e(t,1,0,"Permissions","light"),e(t,6,0,"groupAccess"),e(t,10,0,""),e(t,13,0,"view"),e(t,16,0,"edit")}),(function(e,t){e(t,2,0,i.Kb(t,8).ngClassUntouched,i.Kb(t,8).ngClassTouched,i.Kb(t,8).ngClassPristine,i.Kb(t,8).ngClassDirty,i.Kb(t,8).ngClassValid,i.Kb(t,8).ngClassInvalid,i.Kb(t,8).ngClassPending),e(t,9,1,[i.Kb(t,10).checked,i.Kb(t,10).disabled,"NoopAnimations"===i.Kb(t,10)._animationMode,"primary"===i.Kb(t,10).color,"accent"===i.Kb(t,10).color,"warn"===i.Kb(t,10).color,-1,i.Kb(t,10).id,null,null,null]),e(t,12,1,[i.Kb(t,13).checked,i.Kb(t,13).disabled,"NoopAnimations"===i.Kb(t,13)._animationMode,"primary"===i.Kb(t,13).color,"accent"===i.Kb(t,13).color,"warn"===i.Kb(t,13).color,-1,i.Kb(t,13).id,null,null,null]),e(t,15,1,[i.Kb(t,16).checked,i.Kb(t,16).disabled,"NoopAnimations"===i.Kb(t,16)._animationMode,"primary"===i.Kb(t,16).color,"accent"===i.Kb(t,16).color,"warn"===i.Kb(t,16).color,-1,i.Kb(t,16).id,null,null,null])}))}function lh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),i.xb(1,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(2,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.collection_id),e(t,2,0,t.context.$implicit.collection_id)}),(function(e,t){e(t,3,0,t.context.$implicit.collection_name)}))}function ih(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,14,"app-form-field",[["label","Collection (Optional)"],["theme","light"]],null,null,null,oe,le)),i.xb(1,114688,null,0,ne,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),i.yb(2,0,null,0,12,"select",[["class","input"],["formControlName","collection"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==i.Kb(e,3).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,3).onTouched()&&l),l}),null,null)),i.xb(3,16384,null,0,ae.w,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.w]),i.xb(5,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(7,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(8,0,null,null,3,"option",[],null,null,null,null,null)),i.xb(9,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(10,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(-1,null,["--"])),(e()(),i.ob(16777216,null,null,2,null,lh)),i.xb(13,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,1,0,"Collection (Optional)","light"),e(t,5,0,"collection"),e(t,9,0,null),e(t,10,0,null),e(t,13,0,i.Tb(t,13,0,i.Kb(t,14).transform(n.collections$)))}),(function(e,t){e(t,2,0,i.Kb(t,7).ngClassUntouched,i.Kb(t,7).ngClassTouched,i.Kb(t,7).ngClassPristine,i.Kb(t,7).ngClassDirty,i.Kb(t,7).ngClassValid,i.Kb(t,7).ngClassInvalid,i.Kb(t,7).ngClassPending)}))}function oh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,nh)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,2,null,ih)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n,l=t.component;e(t,2,0,l.isNew||l.isOwner),e(t,4,0,(null==(n=i.Tb(t,4,0,i.Kb(t,5).transform(l.collections$)))?null:n.length)>0)}),null)}function ah(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,10,"div",[],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,9,"app-form-field",[["label","Share"],["theme","light"]],null,null,null,oe,le)),i.xb(2,114688,null,0,ne,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),i.yb(3,0,null,0,7,"mat-checkbox",[["class","save__permission mat-checkbox"],["formControlName","publicAccess"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(4,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(6,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(8,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(9,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["With the BioDigital Community"]))],(function(e,t){e(t,2,0,"Share","light"),e(t,6,0,"publicAccess")}),(function(e,t){e(t,3,1,[i.Kb(t,4).id,null,i.Kb(t,4).indeterminate,i.Kb(t,4).checked,i.Kb(t,4).disabled,"before"==i.Kb(t,4).labelPosition,"NoopAnimations"===i.Kb(t,4)._animationMode,i.Kb(t,8).ngClassUntouched,i.Kb(t,8).ngClassTouched,i.Kb(t,8).ngClassPristine,i.Kb(t,8).ngClassDirty,i.Kb(t,8).ngClassValid,i.Kb(t,8).ngClassInvalid,i.Kb(t,8).ngClassPending])}))}function rh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-spinner",[["class","ml-2"],["render","inline"],["size","medium"]],null,null,null,Eb,zb)),i.xb(1,114688,null,0,Kb,[],{size:[0,"size"],render:[1,"render"]},null)],(function(e,t){e(t,1,0,"medium","inline")}),null)}function uh(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,48,"div",[["class","save"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,47,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0,o=e.component;return"submit"===t&&(l=!1!==i.Kb(e,3).onSubmit(n)&&l),"reset"===t&&(l=!1!==i.Kb(e,3).onReset()&&l),"submit"===t&&(l=!1!==o.handleSubmit()&&l),l}),null,null)),i.xb(2,16384,null,0,ae.C,[],null,null),i.xb(3,540672,null,0,ae.h,[[8,null],[8,null]],{form:[0,"form"]},null),i.Pb(2048,null,ae.c,null,[ae.h]),i.xb(5,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(6,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),i.xb(7,81920,null,0,Zd.m,[[2,Zd.l],i.l,Zd.e],null,null),(e()(),i.Sb(8,null,[" "," "])),(e()(),i.ob(16777216,null,null,1,null,eh)),i.xb(10,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(11,0,null,null,23,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),i.xb(12,16384,null,0,Zd.j,[],null,null),(e()(),i.yb(13,0,null,null,21,"div",[["class","theme-light"]],null,null,null,null,null)),(e()(),i.yb(14,0,null,null,14,"app-form-field",[["label","Title"],["theme","light"]],null,null,null,oe,le)),i.xb(15,114688,null,0,ne,[],{label:[0,"label"],theme:[1,"theme"]},null),(e()(),i.yb(16,0,[["title",1]],0,8,"input",[["autocomplete","off"],["class","input"],["formControlName","title"],["maxlength","60"],["name","title"],["required",""],["type","text"]],[[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,17)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,17).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,17)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,17)._compositionEnd(n.target.value)&&l),l}),null,null)),i.xb(17,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.xb(18,16384,null,0,ae.v,[],{required:[0,"required"]},null),i.xb(19,540672,null,0,ae.k,[],{maxlength:[0,"maxlength"]},null),i.Pb(1024,null,ae.l,(function(e,t){return[e,t]}),[ae.v,ae.k]),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.d]),i.xb(22,671744,null,0,ae.g,[[3,ae.c],[6,ae.l],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(24,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(25,0,null,0,1,"app-character-counter",[],null,null,null,Jg,Wg)),i.xb(26,6537216,null,0,Gg,[i.I,i.i],{field:[0,"field"]},null),(e()(),i.ob(16777216,null,0,1,null,th)),i.xb(28,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,2,null,oh)),i.xb(30,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,ah)),i.xb(33,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(35,0,null,null,13,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),i.xb(36,16384,null,0,Zd.f,[],null,null),(e()(),i.yb(37,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["class","mr-2"],["type","button"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,38).dialogRef.close(i.Kb(e,38).dialogResult)&&l),l}),Qe,$e)),i.xb(38,606208,null,0,Zd.g,[[2,Zd.l],i.l,Zd.e],{type:[0,"type"]},null),i.xb(39,114688,null,0,Ve,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Cancel"])),(e()(),i.yb(41,0,null,null,7,"button",[["app-button",""],["buttonType","primary"],["cdkFocusInitial",""]],[[8,"disabled",0]],null,null,Qe,$e)),i.xb(42,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],disabled:[1,"disabled"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.Sb(44,0,[" "," "])),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,0,2,null,rh)),i.xb(47,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,3,0,n.form),e(t,7,0),e(t,10,0,n.settings.message),e(t,15,0,"Title","light"),e(t,18,0,""),e(t,19,0,"60"),e(t,22,0,"title"),e(t,26,0,i.Kb(t,16)),e(t,28,0,!n.form.get("title").valid),e(t,30,0,i.Tb(t,30,0,i.Kb(t,31).transform(n.organization$))),e(t,33,0,!i.Tb(t,33,0,i.Kb(t,34).transform(n.organization$))),e(t,38,0,"button"),e(t,39,0,"light"),e(t,42,0,"primary",i.Tb(t,42,1,i.Kb(t,43).transform(n.saving$))),e(t,47,0,i.Tb(t,47,0,i.Kb(t,48).transform(n.saving$)))}),(function(e,t){var n=t.component;e(t,1,0,i.Kb(t,5).ngClassUntouched,i.Kb(t,5).ngClassTouched,i.Kb(t,5).ngClassPristine,i.Kb(t,5).ngClassDirty,i.Kb(t,5).ngClassValid,i.Kb(t,5).ngClassInvalid,i.Kb(t,5).ngClassPending),e(t,6,0,i.Kb(t,7).id),e(t,8,0,n.dialogTitle),e(t,16,0,i.Kb(t,18).required?"":null,i.Kb(t,19).maxlength?i.Kb(t,19).maxlength:null,i.Kb(t,24).ngClassUntouched,i.Kb(t,24).ngClassTouched,i.Kb(t,24).ngClassPristine,i.Kb(t,24).ngClassDirty,i.Kb(t,24).ngClassValid,i.Kb(t,24).ngClassInvalid,i.Kb(t,24).ngClassPending),e(t,37,0,i.Kb(t,38).ariaLabel||null,i.Kb(t,38).type,i.Kb(t,39).disabled),e(t,41,0,i.Kb(t,42).disabled),e(t,44,0,i.Tb(t,44,0,i.Kb(t,45).transform(n.saving$))?"Saving":"Save")}))}function ch(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-save-bookmark-dialog",[],null,null,null,uh,Zg)),i.xb(1,245760,null,0,Gp,[h.i,ae.f,Zd.l,Zd.a,nb.c,h.b,rp],null,null)],(function(e,t){e(t,1,0)}),null)}var sh=i.ub("app-save-bookmark-dialog",Gp,ch,{},{},[]),ph=n("v9Dh"),dh=n("qAlS"),bh=n("dWZg"),gh=n("TtEo"),hh=n("LC5p"),mh=i.wb({encapsulation:0,styles:[[""]],data:{}});function fh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),i.xb(1,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(2,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function yh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),i.xb(1,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(2,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function _h(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,10,"app-form-field",[["label","Secondary Category"]],null,null,null,oe,le)),i.xb(1,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(2,0,null,0,8,"select",[["class","input"],["formControlName","secondaryCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==i.Kb(e,3).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,3).onTouched()&&l),l}),null,null)),i.xb(3,16384,null,0,ae.w,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.w]),i.xb(5,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(7,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.ob(16777216,null,null,2,null,yh)),i.xb(9,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,1,0,"Secondary Category"),e(t,5,0,"secondaryCategory"),e(t,9,0,i.Tb(t,9,0,i.Kb(t,10).transform(n.secondaryCategoryOptions$)))}),(function(e,t){e(t,2,0,i.Kb(t,7).ngClassUntouched,i.Kb(t,7).ngClassTouched,i.Kb(t,7).ngClassPristine,i.Kb(t,7).ngClassDirty,i.Kb(t,7).ngClassValid,i.Kb(t,7).ngClassInvalid,i.Kb(t,7).ngClassPending)}))}function vh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,"div",[["class","text-info"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-icon",[["icon","exclamation-triangle"]],null,null,null,ce,ue)),i.xb(2,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(3,0,null,null,1,"span",[["class","pl-2"]],null,null,null,null,null)),(e()(),i.Sb(4,null,["",""])),(e()(),i.yb(5,0,null,null,1,"span",[["class","pl-2 text-bold"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["(File exists)"]))],(function(e,t){e(t,2,0,"exclamation-triangle")}),(function(e,t){e(t,4,0,t.component.modulePath)}))}function xh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-icon",[["icon","exclamation-circle"]],null,null,null,ce,ue)),i.xb(2,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(3,0,null,null,1,"span",[["class","pl-2"]],null,null,null,null,null)),(e()(),i.Sb(4,null,["",""])),(e()(),i.yb(5,0,null,null,1,"span",[["class","pl-2 text-bold"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["(File exists and cannot be overwritten)"]))],(function(e,t){e(t,2,0,"exclamation-circle")}),(function(e,t){e(t,4,0,t.component.modulePath)}))}function Oh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"div",[["class","text-success"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-icon",[["icon","check-circle"]],null,null,null,ce,ue)),i.xb(2,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(3,0,null,null,1,"span",[["class","pl-2"]],null,null,null,null,null)),(e()(),i.Sb(4,null,["",""]))],(function(e,t){e(t,2,0,"check-circle")}),(function(e,t){e(t,4,0,t.component.modulePath)}))}function wh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,"div",[["class","pt-2 text-12"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,vh)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,xh)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Oh)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.moduleExists&&!n.formDuplicateStates.value),e(t,4,0,n.moduleExists&&n.formDuplicateStates.value),e(t,6,0,!n.moduleExists)}),null)}function Ch(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,9,"app-form-field",[["label","Production Save"]],null,null,null,oe,le)),i.xb(1,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(2,0,null,0,7,"mat-checkbox",[["class","mat-checkbox"],["formControlName","confirmProduction"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(3,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(5,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(7,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(8,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["I intend to save to Production"]))],(function(e,t){e(t,1,0,"Production Save"),e(t,5,0,"confirmProduction")}),(function(e,t){e(t,2,1,[i.Kb(t,3).id,null,i.Kb(t,3).indeterminate,i.Kb(t,3).checked,i.Kb(t,3).disabled,"before"==i.Kb(t,3).labelPosition,"NoopAnimations"===i.Kb(t,3)._animationMode,i.Kb(t,7).ngClassUntouched,i.Kb(t,7).ngClassTouched,i.Kb(t,7).ngClassPristine,i.Kb(t,7).ngClassDirty,i.Kb(t,7).ngClassValid,i.Kb(t,7).ngClassInvalid,i.Kb(t,7).ngClassPending])}))}function jh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,26,"div",[["class","mb-2"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,25,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),i.xb(2,212992,null,0,ae.i,[[3,ae.c],[8,null],[8,null]],{name:[0,"name"]},null),i.Pb(2048,null,ae.c,null,[ae.i]),i.xb(4,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(5,0,null,null,21,"div",[["class","flex"]],null,null,null,null,null)),(e()(),i.yb(6,0,null,null,7,"div",[["class","flex-shrink pr-2 pt-2"]],null,null,null,null,null)),(e()(),i.yb(7,16777216,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","include"],["matTooltip","Include State"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0;return"longpress"===t&&(l=!1!==i.Kb(e,9).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,9)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,9)._handleTouchend()&&l),l}),pe.b,pe.a)),i.xb(8,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.xb(9,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(11,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(13,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(14,0,null,null,12,"div",[["class","flex-grow"]],null,null,null,null,null)),(e()(),i.yb(15,0,null,null,5,"input",[["class","input"],["formControlName","oldState"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,16)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,16).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,16)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,16)._compositionEnd(n.target.value)&&l),l}),null,null)),i.xb(16,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.d]),i.xb(18,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(20,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(21,0,null,null,5,"input",[["class","input"],["formControlName","newState"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,22)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,22).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,22)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,22)._compositionEnd(n.target.value)&&l),l}),null,null)),i.xb(22,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.d]),i.xb(24,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(26,16384,null,0,ae.o,[[4,ae.n]],null,null)],(function(e,t){e(t,2,0,t.context.index),e(t,9,0,"Include State"),e(t,11,0,"include"),e(t,18,0,"oldState"),e(t,24,0,"newState")}),(function(e,t){e(t,1,0,i.Kb(t,4).ngClassUntouched,i.Kb(t,4).ngClassTouched,i.Kb(t,4).ngClassPristine,i.Kb(t,4).ngClassDirty,i.Kb(t,4).ngClassValid,i.Kb(t,4).ngClassInvalid,i.Kb(t,4).ngClassPending),e(t,7,1,[i.Kb(t,8).id,null,i.Kb(t,8).indeterminate,i.Kb(t,8).checked,i.Kb(t,8).disabled,"before"==i.Kb(t,8).labelPosition,"NoopAnimations"===i.Kb(t,8)._animationMode,i.Kb(t,13).ngClassUntouched,i.Kb(t,13).ngClassTouched,i.Kb(t,13).ngClassPristine,i.Kb(t,13).ngClassDirty,i.Kb(t,13).ngClassValid,i.Kb(t,13).ngClassInvalid,i.Kb(t,13).ngClassPending]),e(t,15,0,i.Kb(t,20).ngClassUntouched,i.Kb(t,20).ngClassTouched,i.Kb(t,20).ngClassPristine,i.Kb(t,20).ngClassDirty,i.Kb(t,20).ngClassValid,i.Kb(t,20).ngClassInvalid,i.Kb(t,20).ngClassPending),e(t,21,0,i.Kb(t,26).ngClassUntouched,i.Kb(t,26).ngClassTouched,i.Kb(t,26).ngClassPristine,i.Kb(t,26).ngClassDirty,i.Kb(t,26).ngClassValid,i.Kb(t,26).ngClassInvalid,i.Kb(t,26).ngClassPending)}))}function kh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,18,"div",[],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"mat-divider",[["class","mv-4 mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(2,49152,null,0,hh.a,[],null,null),(e()(),i.yb(3,0,null,null,15,"app-form-field",[["label","Prefix"]],null,null,null,oe,le)),i.xb(4,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(5,0,null,0,7,"div",[["class","flex"]],null,null,null,null,null)),(e()(),i.yb(6,0,[["prefix",1]],null,0,"input",[["class","input flex-25 w-25"],["pattern","[^ ]*"],["type","text"]],null,null,null,null,null)),(e()(),i.yb(7,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","ml-2"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleReplaceClick(i.Kb(e,6).value)&&l),l}),Qe,$e)),i.xb(8,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Replace"])),(e()(),i.yb(10,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","ml-2"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handlePrependClick(i.Kb(e,6).value)&&l),l}),Qe,$e)),i.xb(11,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Prepend"])),(e()(),i.yb(13,0,null,0,5,"div",[["class","pv-4 text-12"],["formArrayName","states"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),i.xb(14,212992,null,0,ae.e,[[3,ae.c],[8,null],[8,null]],{name:[0,"name"]},null),i.Pb(2048,null,ae.c,null,[ae.e]),i.xb(16,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.ob(16777216,null,null,1,null,jh)),i.xb(18,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,"Prefix"),e(t,8,0,"outline","light"),e(t,11,0,"outline","light"),e(t,14,0,"states"),e(t,18,0,n.formStates.controls)}),(function(e,t){e(t,1,0,i.Kb(t,2).vertical?"vertical":"horizontal",i.Kb(t,2).vertical,!i.Kb(t,2).vertical,i.Kb(t,2).inset),e(t,7,0,i.Kb(t,8).disabled),e(t,10,0,i.Kb(t,11).disabled),e(t,13,0,i.Kb(t,16).ngClassUntouched,i.Kb(t,16).ngClassTouched,i.Kb(t,16).ngClassPristine,i.Kb(t,16).ngClassDirty,i.Kb(t,16).ngClassValid,i.Kb(t,16).ngClassInvalid,i.Kb(t,16).ngClassPending)}))}function Sh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-spinner",[["class","ml-2"],["render","inline"],["size","medium"]],null,null,null,Eb,zb)),i.xb(2,114688,null,0,Kb,[],{size:[0,"size"],render:[1,"render"]},null),(e()(),i.Sb(-1,null,[" Validating "]))],(function(e,t){e(t,2,0,"medium","inline")}),null)}function Ph(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-spinner",[["class","ml-2"],["render","inline"],["size","medium"]],null,null,null,Eb,zb)),i.xb(2,114688,null,0,Kb,[],{size:[0,"size"],render:[1,"render"]},null),(e()(),i.Sb(-1,null,[" Saving "]))],(function(e,t){e(t,2,0,"medium","inline")}),null)}function Ih(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i.Sb(-1,null,[" Save Module "]))],null,null)}function Mh(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),i.xb(1,81920,null,0,Zd.m,[[2,Zd.l],i.l,Zd.e],null,null),(e()(),i.Sb(-1,null,[" Save Module\n"])),(e()(),i.yb(3,0,null,null,58,"div",[["class","theme-light mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),i.xb(4,16384,null,0,Zd.j,[],null,null),(e()(),i.yb(5,0,null,null,56,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0,o=e.component;return"submit"===t&&(l=!1!==i.Kb(e,7).onSubmit(n)&&l),"reset"===t&&(l=!1!==i.Kb(e,7).onReset()&&l),"submit"===t&&(l=!1!==o.handleSubmit()&&l),l}),null,null)),i.xb(6,16384,null,0,ae.C,[],null,null),i.xb(7,540672,null,0,ae.h,[[8,null],[8,null]],{form:[0,"form"]},null),i.Pb(2048,null,ae.c,null,[ae.h]),i.xb(9,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(10,0,null,null,11,"app-form-field",[],null,null,null,oe,le)),i.xb(11,114688,null,0,ne,[],null,null),(e()(),i.yb(12,0,null,0,7,"mat-checkbox",[["class","mat-checkbox"],["formControlName","duplicateStates"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(13,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(15,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(17,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(18,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Duplicate Content States"])),(e()(),i.yb(20,0,null,1,1,"div",[["form-field-help",""]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" This requires that you specify the location for the new module, and new unused names for each of the content states. "])),(e()(),i.yb(22,0,null,null,9,"app-form-field",[],null,null,null,oe,le)),i.xb(23,114688,null,0,ne,[],null,null),(e()(),i.yb(24,0,null,0,7,"mat-checkbox",[["class","mat-checkbox"],["formControlName","trimGraph"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,pe.b,pe.a)),i.xb(25,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(27,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(29,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(30,0,null,0,1,"span",[["class","text-12"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Trim Graph"])),(e()(),i.yb(32,0,null,null,1,"mat-divider",[["class","mb-4 mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(33,49152,null,0,hh.a,[],null,null),(e()(),i.yb(34,0,null,null,10,"app-form-field",[["label","Primary Category"]],null,null,null,oe,le)),i.xb(35,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(36,0,null,0,8,"select",[["class","input"],["formControlName","primaryCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==i.Kb(e,37).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,37).onTouched()&&l),l}),null,null)),i.xb(37,16384,null,0,ae.w,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.w]),i.xb(39,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(41,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.ob(16777216,null,null,2,null,fh)),i.xb(43,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,_h)),i.xb(46,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(48,0,null,null,9,"app-form-field",[["label","Name"]],null,null,null,oe,le)),i.xb(49,114688,null,0,ne,[],{label:[0,"label"]},null),(e()(),i.yb(50,0,[["name",1]],0,5,"input",[["class","input w-100"],["formControlName","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,51)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,51).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,51)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,51)._compositionEnd(n.target.value)&&l),l}),null,null)),i.xb(51,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.d]),i.xb(53,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(55,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.ob(16777216,null,0,1,null,wh)),i.xb(57,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Ch)),i.xb(59,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,kh)),i.xb(61,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(62,0,null,null,16,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),i.xb(63,16384,null,0,Zd.f,[],null,null),(e()(),i.yb(64,0,null,null,3,"button",[["app-button",""],["buttonTheme","light"],["class","mr-2"],["type","button"]],[[1,"aria-label",0],[1,"type",0],[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,65).dialogRef.close(i.Kb(e,65).dialogResult)&&l),l}),Qe,$e)),i.xb(65,606208,null,0,Zd.g,[[2,Zd.l],i.l,Zd.e],{type:[0,"type"]},null),i.xb(66,114688,null,0,Ve,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Cancel"])),(e()(),i.yb(68,0,null,null,10,"button",[["app-button",""],["buttonTheme","light"],["buttonType","primary"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSubmit()&&l),l}),Qe,$e)),i.xb(69,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],disabled:[2,"disabled"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,0,1,null,Sh)),i.xb(72,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,0,2,null,Ph)),i.xb(74,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,0,2,null,Ih)),i.xb(77,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n,l=t.component;e(t,1,0),e(t,7,0,l.form),e(t,11,0),e(t,15,0,"duplicateStates"),e(t,23,0),e(t,27,0,"trimGraph"),e(t,35,0,"Primary Category"),e(t,39,0,"primaryCategory"),e(t,43,0,i.Tb(t,43,0,i.Kb(t,44).transform(l.primaryCategoryOptions$))),e(t,46,0,null==(n=i.Tb(t,46,0,i.Kb(t,47).transform(l.secondaryCategoryOptions$)))?null:n.length),e(t,49,0,"Name"),e(t,53,0,"name"),e(t,57,0,l.modulePath&&i.Kb(t,50).value.length),e(t,59,0,"production"===l.formPrimaryCategory.value),e(t,61,0,l.formDuplicateStates.value),e(t,65,0,"button"),e(t,66,0,"light"),e(t,69,0,"primary","light",i.Tb(t,69,2,i.Kb(t,70).transform(l.saving$))||!l.form.valid||l.validating),e(t,72,0,l.validating),e(t,74,0,i.Tb(t,74,0,i.Kb(t,75).transform(l.saving$))),e(t,77,0,!l.validating&&!i.Tb(t,77,0,i.Kb(t,78).transform(l.saving$)))}),(function(e,t){e(t,0,0,i.Kb(t,1).id),e(t,5,0,i.Kb(t,9).ngClassUntouched,i.Kb(t,9).ngClassTouched,i.Kb(t,9).ngClassPristine,i.Kb(t,9).ngClassDirty,i.Kb(t,9).ngClassValid,i.Kb(t,9).ngClassInvalid,i.Kb(t,9).ngClassPending),e(t,12,1,[i.Kb(t,13).id,null,i.Kb(t,13).indeterminate,i.Kb(t,13).checked,i.Kb(t,13).disabled,"before"==i.Kb(t,13).labelPosition,"NoopAnimations"===i.Kb(t,13)._animationMode,i.Kb(t,17).ngClassUntouched,i.Kb(t,17).ngClassTouched,i.Kb(t,17).ngClassPristine,i.Kb(t,17).ngClassDirty,i.Kb(t,17).ngClassValid,i.Kb(t,17).ngClassInvalid,i.Kb(t,17).ngClassPending]),e(t,24,1,[i.Kb(t,25).id,null,i.Kb(t,25).indeterminate,i.Kb(t,25).checked,i.Kb(t,25).disabled,"before"==i.Kb(t,25).labelPosition,"NoopAnimations"===i.Kb(t,25)._animationMode,i.Kb(t,29).ngClassUntouched,i.Kb(t,29).ngClassTouched,i.Kb(t,29).ngClassPristine,i.Kb(t,29).ngClassDirty,i.Kb(t,29).ngClassValid,i.Kb(t,29).ngClassInvalid,i.Kb(t,29).ngClassPending]),e(t,32,0,i.Kb(t,33).vertical?"vertical":"horizontal",i.Kb(t,33).vertical,!i.Kb(t,33).vertical,i.Kb(t,33).inset),e(t,36,0,i.Kb(t,41).ngClassUntouched,i.Kb(t,41).ngClassTouched,i.Kb(t,41).ngClassPristine,i.Kb(t,41).ngClassDirty,i.Kb(t,41).ngClassValid,i.Kb(t,41).ngClassInvalid,i.Kb(t,41).ngClassPending),e(t,50,0,i.Kb(t,55).ngClassUntouched,i.Kb(t,55).ngClassTouched,i.Kb(t,55).ngClassPristine,i.Kb(t,55).ngClassDirty,i.Kb(t,55).ngClassValid,i.Kb(t,55).ngClassInvalid,i.Kb(t,55).ngClassPending),e(t,64,0,i.Kb(t,65).ariaLabel||null,i.Kb(t,65).type,i.Kb(t,66).disabled),e(t,68,0,i.Kb(t,69).disabled)}))}function Th(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-save-module-dialog",[],null,null,null,Mh,mh)),i.xb(1,245760,null,0,Ed,[h.i,h.b,ae.f,xd,i.i,nb.c,Zd.l,Zd.a],null,null)],(function(e,t){e(t,1,0)}),null)}var Kh=i.ub("app-save-module-dialog",Ed,Th,{},{},[]),zh=i.wb({encapsulation:0,styles:[[".welcome[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.welcome__close[_ngcontent-%COMP%]{cursor:pointer}.slide[_ngcontent-%COMP%]{width:800px;height:600px;position:relative;margin:auto;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between}.slide__item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;text-align:center}.slide__item--hidden[_ngcontent-%COMP%]{display:none}.slide__logo[_ngcontent-%COMP%]{width:300px;margin:160px 0 40px}.slide__image[_ngcontent-%COMP%]{-webkit-box-flex:2;flex:2;overflow:auto;width:100%}.slide__nav[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;font-size:16px;margin:12px 0}.slide__nav-arrow[_ngcontent-%COMP%]{cursor:pointer;margin:auto 12px;opacity:.8}.slide__nav-arrow[_ngcontent-%COMP%]:hover{opacity:1}.slide__nav-arrow--disabled[_ngcontent-%COMP%]{opacity:.25;pointer-events:none}.slide__nav-dots[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.slide__nav-dot[_ngcontent-%COMP%]{margin:auto 4px;cursor:pointer;display:-webkit-box;display:flex;background-color:rgba(28,42,63,.4);border-radius:50%;width:14px;height:14px;line-height:17px}.slide__nav-dot[_ngcontent-%COMP%]:hover{background-color:rgba(28,42,63,.6)}.slide__nav-dot--active[_ngcontent-%COMP%]{background-color:#2d72dc}@media (max-width:1024px){.slide[_ngcontent-%COMP%]{width:100%;height:80vh}}"]],data:{}});function Lh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"img",[["class","slide__logo"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.logo)}))}function Eh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"div",[["class","text-24 text-medium text-uppercase mt-4"]],null,null,null,null,null)),(e()(),i.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.title)}))}function Uh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"div",[["class","text-18 mt-4 mb-4"]],[[2,"text-22",null],[2,"text-medium",null],[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.logo,t.parent.context.$implicit.logo,t.parent.context.$implicit.text)}))}function Fh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"img",[["class","slide__image"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.image)}))}function Ah(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,8,"div",[["class","slide__item"]],[[2,"slide__item--hidden",null]],null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Lh)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Eh)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Uh)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Fh)),i.xb(8,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit.logo),e(t,4,0,t.context.$implicit.title),e(t,6,0,t.context.$implicit.text),e(t,8,0,t.context.$implicit.image)}),(function(e,t){e(t,0,0,t.component.selectedIndex!==t.context.index)}))}function Dh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"div",[["class","slide__nav-dot"]],[[2,"slide__nav-dot--active",null],[1,"title",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSelectSlideClick(e.context.index)&&l),l}),null,null))],null,(function(e,t){e(t,0,0,t.component.selectedIndex===t.context.index,t.context.$implicit.title)}))}function Nh(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,13,"div",[["class","welcome"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-icon",[["class","welcome__close"],["icon","times"],["size","lg"],["title","Close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseTour()&&l),l}),ce,ue)),i.xb(2,114688,null,0,re,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),i.yb(3,0,null,null,10,"div",[["class","slide"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Ah)),i.xb(5,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),(e()(),i.yb(6,0,null,null,7,"div",[["class","slide__nav"]],null,null,null,null,null)),(e()(),i.yb(7,0,null,null,1,"app-icon",[["class","slide__nav-arrow"],["icon","chevron-left"]],[[2,"slide__nav-arrow--disabled",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handlePrevClick()&&l),l}),ce,ue)),i.xb(8,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(9,0,null,null,2,"div",[["class","slide__nav-dots"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Dh)),i.xb(11,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),(e()(),i.yb(12,0,null,null,1,"app-icon",[["class","slide__nav-arrow"],["icon","chevron-right"]],[[2,"slide__nav-arrow--disabled",null]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleNextClick()&&l),l}),ce,ue)),i.xb(13,114688,null,0,re,[],{icon:[0,"icon"]},null)],(function(e,t){var n=t.component;e(t,2,0,"times","lg"),e(t,5,0,n.slides),e(t,8,0,"chevron-left"),e(t,11,0,n.slides),e(t,13,0,"chevron-right")}),(function(e,t){var n=t.component;e(t,7,0,n.isFirstSlide),e(t,12,0,n.isLastSlide)}))}function Rh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-welcome-tour-dialog",[],null,null,null,Nh,zh)),i.xb(1,245760,null,0,nd,[h.i,Zd.l,Zd.a],null,null)],(function(e,t){e(t,1,0)}),null)}var Bh=i.ub("app-welcome-tour-dialog",nd,Rh,{},{},[]),Hh=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),Vh=i.wb({encapsulation:2,styles:[[""]],data:{}});function $h(e){return i.Ub(2,[i.Jb(null,0)],null,null)}var Qh=function(e){return e.Default="default",e.Commafied="commafied",e.flat="flat",e}({}),Gh=function(){function e(){this.listType=Qh.Default}return e.prototype.ngOnInit=function(){},e}(),Wh=i.wb({encapsulation:2,styles:[['.list{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.list--default app-list-item{display:list-item;margin-left:16px;list-style-type:disc}.list--commafied{-webkit-box-align:center;align-items:center;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;flex-wrap:wrap;padding:0 4px 4px 0}.list--commafied app-list-item:not(:last-child):after{content:", ";float:right;padding-right:4px}.list--flat app-list-item:not(:last-child){margin-bottom:4px}.list__item{display:block}']],data:{}});function qh(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,3,"div",[["class","list"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Jb(null,0)],(function(e,t){e(t,2,0,"list","list--"+t.component.listType)}),null)}var Yh=function(){function e(e,t){this.store=e,this.formBuilder=t,this.gallerySearchMode=Dd,this.ngUnsubscribe=new $.a}return Object.defineProperty(e.prototype,"primaryCategoryControl",{get:function(){return this.queryForm.get("primaryCategory")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryCategoryControl",{get:function(){return this.queryForm.get("secondaryCategory")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathControl",{get:function(){return this.pathForm.get("path")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initForms(),this.initFormListeners(),this.store.dispatch(new bd),this.store.dispatch(new gd(this.primaryCategoryControl.value))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initForms=function(){this.queryForm=this.formBuilder.group({primaryCategory:["production"],secondaryCategory:["maleAdult"]}),this.pathForm=this.formBuilder.group({path:[]}),this.searchLoft(this.getQuery())},e.prototype.initFormListeners=function(){var e=this;this.primaryCategoryControl.valueChanges.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.handlePrimaryUpdate(t)})),Object(Md.a)(this.queryForm.valueChanges,this.pathForm.valueChanges).pipe(Object(cr.a)(300),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.searchLoft(e.getQuery())}))},e.prototype.toggleSearchMode=function(e){this.store.dispatch(new rl.SetSearchMode(e))},e.prototype.handlePrimaryUpdate=function(e){this.secondaryCategoryControl.setValue(""),this.store.dispatch(new gd(e))},e.prototype.searchLoft=function(e){this.store.dispatch(new rl.SearchLoft(e.primaryCategory,e.secondaryCategory,e.name))},e.prototype.getQuery=function(){var e={primaryCategory:"",secondaryCategory:"",name:""};switch(this.store.selectSnapshot($d.getSearchMode)){case Dd.Query:e.primaryCategory=this.primaryCategoryControl.value,e.secondaryCategory=this.secondaryCategoryControl.value;break;case Dd.Path:var t=decodeURIComponent(this.pathControl.value||""),n=t.split("/"),l=t.match(/([A-Za-z_-\s0-9]*\/)/gi);null!=l&&(e.primaryCategory=(l[0]||"").replace("/",""),e.secondaryCategory=(l[1]||"").replace("/",""),e.name=n.pop())}return e},Object(g.__decorate)([Object(h.e)(Pd.getPrimaryCategoryOptions("read")),Object(g.__metadata)("design:type",Q.a)],e.prototype,"primaryCategoryOptions$",void 0),Object(g.__decorate)([Object(h.e)(Pd.getSecondaryCategoryOptions),Object(g.__metadata)("design:type",Q.a)],e.prototype,"secondaryCategoryOptions$",void 0),Object(g.__decorate)([Object(h.e)($d.getSearchMode),Object(g.__metadata)("design:type",Q.a)],e.prototype,"searchMode$",void 0),e}(),Xh=i.wb({encapsulation:0,styles:[[".gallery-filters[_ngcontent-%COMP%]{display:-webkit-box;display:flex}"]],data:{}});function Jh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),i.xb(1,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(2,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function Zh(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),i.xb(1,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(2,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function em(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,8,"select",[["class","input mr-2 w-25"],["formControlName","secondaryCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==i.Kb(e,1).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,1).onTouched()&&l),l}),null,null)),i.xb(1,16384,null,0,ae.w,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.w]),i.xb(3,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(5,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.ob(16777216,null,null,2,null,Zh)),i.xb(7,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,3,0,"secondaryCategory"),e(t,7,0,i.Tb(t,7,0,i.Kb(t,8).transform(n.secondaryCategoryOptions$)))}),(function(e,t){e(t,0,0,i.Kb(t,5).ngClassUntouched,i.Kb(t,5).ngClassTouched,i.Kb(t,5).ngClassPristine,i.Kb(t,5).ngClassDirty,i.Kb(t,5).ngClassValid,i.Kb(t,5).ngClassInvalid,i.Kb(t,5).ngClassPending)}))}function tm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,19,"form",[["class","gallery-filters"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==i.Kb(e,2).onSubmit(n)&&l),"reset"===t&&(l=!1!==i.Kb(e,2).onReset()&&l),l}),null,null)),i.xb(1,16384,null,0,ae.C,[],null,null),i.xb(2,540672,null,0,ae.h,[[8,null],[8,null]],{form:[0,"form"]},null),i.Pb(2048,null,ae.c,null,[ae.h]),i.xb(4,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(5,0,null,null,8,"select",[["autofocus",""],["class","input mr-2 w-25"],["formControlName","primaryCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==i.Kb(e,6).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,6).onTouched()&&l),l}),null,null)),i.xb(6,16384,null,0,ae.w,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.w]),i.xb(8,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(10,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.ob(16777216,null,null,2,null,Jh)),i.xb(12,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,em)),i.xb(15,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(17,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.toggleSearchMode(i.gallerySearchMode.Path)&&l),l}),Qe,$e)),i.xb(18,114688,null,0,Ve,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["...or specify file path"]))],(function(e,t){var n,l=t.component;e(t,2,0,l.queryForm),e(t,8,0,"primaryCategory"),e(t,12,0,i.Tb(t,12,0,i.Kb(t,13).transform(l.primaryCategoryOptions$))),e(t,15,0,null==(n=i.Tb(t,15,0,i.Kb(t,16).transform(l.secondaryCategoryOptions$)))?null:n.length),e(t,18,0,"light")}),(function(e,t){e(t,0,0,i.Kb(t,4).ngClassUntouched,i.Kb(t,4).ngClassTouched,i.Kb(t,4).ngClassPristine,i.Kb(t,4).ngClassDirty,i.Kb(t,4).ngClassValid,i.Kb(t,4).ngClassInvalid,i.Kb(t,4).ngClassPending),e(t,5,0,i.Kb(t,10).ngClassUntouched,i.Kb(t,10).ngClassTouched,i.Kb(t,10).ngClassPristine,i.Kb(t,10).ngClassDirty,i.Kb(t,10).ngClassValid,i.Kb(t,10).ngClassInvalid,i.Kb(t,10).ngClassPending),e(t,17,0,i.Kb(t,18).disabled)}))}function nm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,13,"form",[["class","gallery-filters"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==i.Kb(e,2).onSubmit(n)&&l),"reset"===t&&(l=!1!==i.Kb(e,2).onReset()&&l),l}),null,null)),i.xb(1,16384,null,0,ae.C,[],null,null),i.xb(2,540672,null,0,ae.h,[[8,null],[8,null]],{form:[0,"form"]},null),i.Pb(2048,null,ae.c,null,[ae.h]),i.xb(4,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(5,0,null,null,5,"input",[["class","input mr-2 w-75"],["formControlName","path"],["placeholder","primary/secondary/name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,6)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,6).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,6)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,6)._compositionEnd(n.target.value)&&l),l}),null,null)),i.xb(6,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.d]),i.xb(8,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(10,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.yb(11,0,null,null,2,"button",[["app-button",""],["autofocus",""],["buttonTheme","light"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.toggleSearchMode(i.gallerySearchMode.Query)&&l),l}),Qe,$e)),i.xb(12,114688,null,0,Ve,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Cancel"]))],(function(e,t){e(t,2,0,t.component.pathForm),e(t,8,0,"path"),e(t,12,0,"light")}),(function(e,t){e(t,0,0,i.Kb(t,4).ngClassUntouched,i.Kb(t,4).ngClassTouched,i.Kb(t,4).ngClassPristine,i.Kb(t,4).ngClassDirty,i.Kb(t,4).ngClassValid,i.Kb(t,4).ngClassInvalid,i.Kb(t,4).ngClassPending),e(t,5,0,i.Kb(t,10).ngClassUntouched,i.Kb(t,10).ngClassTouched,i.Kb(t,10).ngClassPristine,i.Kb(t,10).ngClassDirty,i.Kb(t,10).ngClassValid,i.Kb(t,10).ngClassInvalid,i.Kb(t,10).ngClassPending),e(t,11,0,i.Kb(t,12).disabled)}))}function lm(e){return i.Ub(2,[(e()(),i.ob(16777216,null,null,2,null,tm)),i.xb(1,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,nm)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,1,0,i.Tb(t,1,0,i.Kb(t,2).transform(n.searchMode$))===n.gallerySearchMode.Query),e(t,4,0,i.Tb(t,4,0,i.Kb(t,5).transform(n.searchMode$))===n.gallerySearchMode.Path)}),null)}var im=n("ad02"),om=function(){function e(e,t,n){this.store=e,this.changeDetectorRef=t,this.formBuilder=n,this.ngUnsubscribe=new $.a,this.groupedOptions={}}return Object.defineProperty(e.prototype,"queryControl",{get:function(){return this.form.get("query")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoryControl",{get:function(){return this.form.get("category")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initForm(),this.initFormListeners(),this.populateDropdown()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initForm=function(){var e=this.store.selectSnapshot($d.getStudioCategoryId),t=this.store.selectSnapshot($d.getStudioQuery);this.form=this.formBuilder.group({category:[e],query:[t]})},e.prototype.initFormListeners=function(){var e=this;this.form.valueChanges.pipe(Object(Fa.a)((function(){e.category=e.store.selectSnapshot($d.getStudioOptions).find((function(t){return t.id===e.categoryControl.value})),e.changeDetectorRef.markForCheck()})),Object(c.a)((function(e){return JSON.stringify(e)})),Object(im.a)(),Object(c.a)((function(e){return JSON.parse(e)})),Object(cr.a)(300),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new rl.SearchStudio(e.category,e.queryControl.value))}))},e.prototype.populateDropdown=function(){var e=this,t=this.store.selectSnapshot(sp.getOrganization);this.store.dispatch(new rl.GetStudioOptions(t?t.id:null)),this.store.select($d.getStudioOptions).pipe(Object(W.a)((function(e){return e.length>0})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.updateOptions(t)}))},e.prototype.updateOptions=function(e){this.groupedOptions=Object(jt.groupBy)(e,(function(e){return e.type}));var t=this.store.selectSnapshot($d.getStudioCategoryId);this.category=e.find((function(e){return e.id===t})),this.categoryControl.setValue(this.category.id),this.changeDetectorRef.markForCheck()},Object(g.__decorate)([Object(h.e)($d.getStudioCategoryId),Object(g.__metadata)("design:type",Q.a)],e.prototype,"categoryId$",void 0),Object(g.__decorate)([Object(h.e)($d.getStudioQuery),Object(g.__metadata)("design:type",Q.a)],e.prototype,"query$",void 0),e}(),am=i.wb({encapsulation:0,styles:[[".gallery-filters[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.gallery-filters__category[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 0 auto;position:relative}.gallery-filters__category-select[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0;z-index:2}.gallery-filters__category-selection[_ngcontent-%COMP%]{background-color:#d7e0ea;border:1px solid #96a8c0;border-right:0;-webkit-box-flex:1;flex:1 1 auto;border-radius:4px 0 0 4px}.gallery-filters__query[_ngcontent-%COMP%]{border-radius:0 4px 4px 0}"]],data:{}});function rm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","gallery-filters__category-selection"],["type","button"]],[[8,"disabled",0]],null,null,Qe,$e)),i.xb(1,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),i.Sb(2,0,[""," "])),(e()(),i.yb(3,0,null,0,1,"app-icon",[["icon","caret-down"]],null,null,null,ce,ue)),i.xb(4,114688,null,0,re,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,"flat","light"),e(t,4,0,"caret-down")}),(function(e,t){var n=t.component;e(t,0,0,i.Kb(t,1).disabled),e(t,2,0,n.category.label)}))}function um(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i.Sb(-1,null,["\xa0\xa0"]))],null,null)}function cm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,"option",[],null,null,null,null,null)),i.xb(1,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(2,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.ob(16777216,null,null,1,null,um)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.Sb(5,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id),e(t,4,0,""!==t.context.$implicit.value)}),(function(e,t){e(t,5,0,t.context.$implicit.label)}))}function sm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),i.xb(1,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(2,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(3,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){e(t,3,0,t.context.$implicit.label)}))}function pm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i.Sb(-1,null,["\xa0\xa0"]))],null,null)}function dm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,"option",[],null,null,null,null,null)),i.xb(1,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(2,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.ob(16777216,null,null,1,null,pm)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.Sb(5,null,[" "," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id),e(t,4,0,""!==t.context.$implicit.value)}),(function(e,t){e(t,5,0,t.context.$implicit.label)}))}function bm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"option",[],null,null,null,null,null)),i.xb(1,147456,null,0,ae.r,[i.l,i.I,[2,ae.w]],{value:[0,"value"]},null),i.xb(2,147456,null,0,ae.B,[i.l,i.I,[8,null]],{value:[0,"value"]},null),(e()(),i.Sb(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){e(t,3,0,t.context.$implicit.label)}))}function gm(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,27,"form",[["class","gallery-filters"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==i.Kb(e,2).onSubmit(n)&&l),"reset"===t&&(l=!1!==i.Kb(e,2).onReset()&&l),l}),null,null)),i.xb(1,16384,null,0,ae.C,[],null,null),i.xb(2,540672,null,0,ae.h,[[8,null],[8,null]],{form:[0,"form"]},null),i.Pb(2048,null,ae.c,null,[ae.h]),i.xb(4,16384,null,0,ae.p,[[4,ae.c]],null,null),(e()(),i.yb(5,0,null,null,16,"div",[["class","gallery-filters__category"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,rm)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(8,0,null,null,13,"select",[["class","gallery-filters__category-select"],["formControlName","category"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==i.Kb(e,9).onChange(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,9).onTouched()&&l),l}),null,null)),i.xb(9,16384,null,0,ae.w,[i.I,i.l],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.w]),i.xb(11,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(13,16384,null,0,ae.o,[[4,ae.n]],null,null),(e()(),i.ob(16777216,null,null,1,null,cm)),i.xb(15,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),(e()(),i.ob(16777216,null,null,1,null,sm)),i.xb(17,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),(e()(),i.ob(16777216,null,null,1,null,dm)),i.xb(19,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),(e()(),i.ob(16777216,null,null,1,null,bm)),i.xb(21,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),(e()(),i.yb(22,0,null,null,5,"input",[["class","input gallery-filters__query"],["formControlName","query"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var l=!0;return"input"===t&&(l=!1!==i.Kb(e,23)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==i.Kb(e,23).onTouched()&&l),"compositionstart"===t&&(l=!1!==i.Kb(e,23)._compositionStart()&&l),"compositionend"===t&&(l=!1!==i.Kb(e,23)._compositionEnd(n.target.value)&&l),l}),null,null)),i.xb(23,16384,null,0,ae.d,[i.I,i.l,[2,ae.a]],null,null),i.Pb(1024,null,ae.m,(function(e){return[e]}),[ae.d]),i.xb(25,671744,null,0,ae.g,[[3,ae.c],[8,null],[8,null],[6,ae.m],[2,ae.A]],{name:[0,"name"]},null),i.Pb(2048,null,ae.n,null,[ae.g]),i.xb(27,16384,null,0,ae.o,[[4,ae.n]],null,null)],(function(e,t){var n=t.component;e(t,2,0,n.form),e(t,7,0,n.category),e(t,11,0,"category"),e(t,15,0,n.groupedOptions.category),e(t,17,0,n.groupedOptions.organization),e(t,19,0,n.groupedOptions.collection),e(t,21,0,n.groupedOptions.user),e(t,25,0,"query")}),(function(e,t){e(t,0,0,i.Kb(t,4).ngClassUntouched,i.Kb(t,4).ngClassTouched,i.Kb(t,4).ngClassPristine,i.Kb(t,4).ngClassDirty,i.Kb(t,4).ngClassValid,i.Kb(t,4).ngClassInvalid,i.Kb(t,4).ngClassPending),e(t,8,0,i.Kb(t,13).ngClassUntouched,i.Kb(t,13).ngClassTouched,i.Kb(t,13).ngClassPristine,i.Kb(t,13).ngClassDirty,i.Kb(t,13).ngClassValid,i.Kb(t,13).ngClassInvalid,i.Kb(t,13).ngClassPending),e(t,22,0,i.Kb(t,27).ngClassUntouched,i.Kb(t,27).ngClassTouched,i.Kb(t,27).ngClassPristine,i.Kb(t,27).ngClassDirty,i.Kb(t,27).ngClassValid,i.Kb(t,27).ngClassInvalid,i.Kb(t,27).ngClassPending)}))}var hm=function(){function e(e,t){this.templateRef=e,this.viewContainer=t}return e.prototype.ngOnInit=function(){this.update()},e.prototype.update=function(){"module"===r.exportType?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()},e}(),mm=function(){function e(e,t){this.templateRef=e,this.viewContainer=t}return e.prototype.ngOnInit=function(){this.update()},e.prototype.update=function(){"bookmark"===r.exportType?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()},e}(),fm=function(){function e(e){this.changeDetectorRef=e,this.sortOptions=[],this.sortChange=new i.o}return Object.defineProperty(e.prototype,"sort",{get:function(){return this._sort},set:function(e){this._sort=e,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleSort=function(e){this.sortChange.emit(e)},e}(),ym=i.wb({encapsulation:0,styles:[[""]],data:{}});function _m(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleSort(e.context.$implicit)&&l),l}),je.c,je.a)),i.xb(1,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(2,0,[" "," "]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null),e(t,2,0,t.context.$implicit.label)}))}function vm(e){return i.Ub(2,[(e()(),i.yb(0,16777216,null,null,5,"button",[["app-button",""],["aria-haspopup","true"],["buttonTheme","light"],["buttonType","flat"],["class","mat-menu-trigger"]],[[8,"disabled",0],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var l=!0;return"mousedown"===t&&(l=!1!==i.Kb(e,2)._handleMousedown(n)&&l),"keydown"===t&&(l=!1!==i.Kb(e,2)._handleKeydown(n)&&l),"click"===t&&(l=!1!==i.Kb(e,2)._handleClick(n)&&l),l}),Qe,$e)),i.xb(1,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),i.xb(2,1196032,null,0,ke.g,[We.a,i.l,i.T,ke.c,[2,ke.d],[8,null],[2,qe.b],be.e],{menu:[0,"menu"]},null),(e()(),i.Sb(3,0,[" "," "])),(e()(),i.yb(4,0,null,0,1,"app-icon",[["class","ml-1"],["icon","caret-down"]],null,null,null,ce,ue)),i.xb(5,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(6,0,null,null,8,"mat-menu",[],null,null,null,je.d,je.b)),i.Pb(6144,null,ke.d,null,[ke.h]),i.Pb(6144,null,ke.b,null,[ke.d]),i.xb(9,1294336,[["sortActions",4]],3,ke.h,[i.l,i.C,ke.a],null,null),i.Qb(603979776,1,{_allItems:1}),i.Qb(603979776,2,{items:1}),i.Qb(603979776,3,{lazyContent:0}),(e()(),i.ob(16777216,null,0,1,null,_m)),i.xb(14,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"flat","light"),e(t,2,0,i.Kb(t,9)),e(t,5,0,"caret-down"),e(t,9,0),e(t,14,0,n.sortOptions)}),(function(e,t){var n=t.component;e(t,0,0,i.Kb(t,1).disabled,i.Kb(t,2).menuOpen||null),e(t,3,0,n.sort.label)}))}var xm=function(e){return e.Inline="inline",e.Block="block",e}({}),Om=function(){function e(){this.render=xm.Inline}return e.prototype.ngOnInit=function(){},e}(),wm=i.wb({encapsulation:2,styles:[[".app-button-group{display:-webkit-inline-box;display:inline-flex;position:relative}.app-button-group--inline{display:-webkit-inline-box;display:inline-flex}.app-button-group--block{display:-webkit-box;display:flex}.app-button-group--expanded{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;-webkit-box-pack:center;justify-content:center}.app-button-group button[app-button]{position:relative;z-index:1;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1}.app-button-group button[app-button]:hover{z-index:2}.app-button-group button[app-button]:first-child .app-button,.app-button-group button[app-button]:first-child .app-button:after{border-top-right-radius:0;border-bottom-right-radius:0}.app-button-group button[app-button]:last-child .app-button,.app-button-group button[app-button]:last-child .app-button:after{border-top-left-radius:0;border-bottom-left-radius:0}.app-button-group button[app-button]:last-child .app-button{margin-left:1px}.app-button-group button[app-button]:last-child .app-button--outline{margin-left:-1px}.app-button-group button[app-button]:not(:first-child):not(:last-child) .app-button,.app-button-group button[app-button]:not(:first-child):not(:last-child) .app-button:after{border-radius:0}.app-button-group button[app-button]:not(:first-child):not(:last-child) .app-button{margin-left:1px}.app-button-group button[app-button]:not(:first-child):not(:last-child) .app-button--outline{margin-left:-1px}"]],data:{}});function Cm(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,4,"div",[["class","app-button-group"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Lb(3,1),i.Jb(null,0)],(function(e,t){var n=e(t,3,0,"app-button-group--"+t.component.render);e(t,2,0,"app-button-group",n)}),null)}var jm=function(){function e(e){this.store=e,this.galleryViewMode=Nd}return e.prototype.ngOnInit=function(){},e.prototype.handleViewModeClick=function(e){this.store.dispatch(new rl.SetViewMode(e))},Object(g.__decorate)([Object(h.e)($d.getViewMode),Object(g.__metadata)("design:type",Q.a)],e.prototype,"viewMode$",void 0),e}(),km=i.wb({encapsulation:0,styles:[[""]],data:{}});function Sm(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,11,"app-button-group",[],null,null,null,Cm,wm)),i.xb(1,114688,null,0,Om,[],null,null),(e()(),i.yb(2,0,null,0,4,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleViewModeClick(i.galleryViewMode.Cards)&&l),l}),Qe,$e)),i.xb(3,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],selected:[2,"selected"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(5,0,null,0,1,"app-icon",[["icon","th"]],null,null,null,ce,ue)),i.xb(6,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(7,0,null,0,4,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleViewModeClick(i.galleryViewMode.List)&&l),l}),Qe,$e)),i.xb(8,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"],selected:[2,"selected"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(10,0,null,0,1,"app-icon",[["icon","bars"]],null,null,null,ce,ue)),i.xb(11,114688,null,0,re,[],{icon:[0,"icon"]},null)],(function(e,t){var n=t.component;e(t,1,0),e(t,3,0,"flat","light",i.Tb(t,3,2,i.Kb(t,4).transform(n.viewMode$))===n.galleryViewMode.Cards),e(t,6,0,"th"),e(t,8,0,"flat","light",i.Tb(t,8,2,i.Kb(t,9).transform(n.viewMode$))===n.galleryViewMode.List),e(t,11,0,"bars")}),(function(e,t){e(t,2,0,i.Kb(t,3).disabled),e(t,7,0,i.Kb(t,8).disabled)}))}var Pm=function(){function e(e){this.store=e,this.galleryViewMode=Nd}return e.prototype.ngOnInit=function(){},e.prototype.handleSort=function(e){this.store.dispatch(new rl.SetSort(e))},e.prototype.toggleView=function(e){this.store.dispatch(new rl.SetViewMode(e))},Object(g.__decorate)([Object(h.e)($d.getViewMode),Object(g.__metadata)("design:type",Q.a)],e.prototype,"viewMode$",void 0),Object(g.__decorate)([Object(h.e)($d.getSort),Object(g.__metadata)("design:type",Q.a)],e.prototype,"sort$",void 0),Object(g.__decorate)([Object(h.e)($d.getSortOptions),Object(g.__metadata)("design:type",Q.a)],e.prototype,"sortOptions$",void 0),e}(),Im=i.wb({encapsulation:0,styles:[[""]],data:{}});function Mm(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,3,"app-sort",[["class","mr-4"]],null,[[null,"sortChange"]],(function(e,t,n){var l=!0;return"sortChange"===t&&(l=!1!==e.component.handleSort(n)&&l),l}),vm,ym)),i.xb(1,114688,null,0,fm,[i.i],{sort:[0,"sort"],sortOptions:[1,"sortOptions"]},{sortChange:"sortChange"}),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(4,0,null,null,1,"app-gallery-view-mode",[],null,null,null,Sm,km)),i.xb(5,114688,null,0,jm,[h.i],null,null)],(function(e,t){var n=t.component;e(t,1,0,i.Tb(t,1,0,i.Kb(t,2).transform(n.sort$)),i.Tb(t,1,1,i.Kb(t,3).transform(n.sortOptions$))),e(t,5,0)}),null)}var Tm=n("szML"),Km=n("52Qo"),zm=function(e){return e.Model="model",e.Tags="tags",e.CreatedBy="created-by",e.UpdatedBy="updated-by",e.Actions="actions",e}({}),Lm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Em=function(){function e(e){this.changeDetectorRef=e,this.selectLabel="Select",this._columns=[zm.Model,zm.Tags,zm.CreatedBy,zm.UpdatedBy,zm.Actions],this.showActions=!1,this.checkable=!1,this.checkedResults=[],this.checkedChange=new i.o,this.selectBookmark=new i.o}return Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},set:function(e){this._columns=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"results",{get:function(){return this._results},set:function(e){this._results=e,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleSelect=function(e){this.selectBookmark.emit(e)},e.prototype.handleCheckedChange=function(e){var t=e.checked?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Lm(arguments[t]));return e}(this.checkedResults,[e.source.value]):this.checkedResults.filter((function(t){return t!==e.source.value}));this.checkedChange.emit(t)},e.prototype.isChecked=function(e){return this.checkedResults.indexOf(e)>=0},e}(),Um=i.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}[_nghost-%COMP%]{display:block;height:100%;width:100%}.gallery[_ngcontent-%COMP%]{width:100%;height:100%}.gallery__table[_ngcontent-%COMP%]{width:100%}.gallery__row[_ngcontent-%COMP%]:nth-child(even){background:#f9fafd}.gallery__row[_ngcontent-%COMP%]:hover{background:#eaeff5;cursor:pointer}.gallery__row[_ngcontent-%COMP%]:hover   .gallery__actions[_ngcontent-%COMP%], .gallery__row[_ngcontent-%COMP%]:hover   .gallery__checkbox[_ngcontent-%COMP%]{visibility:visible}.gallery__row--checked[_ngcontent-%COMP%]:nth-child(even), .gallery__row--checked[_ngcontent-%COMP%]:nth-child(odd){background:#d7e0ea}.gallery__row--checked[_ngcontent-%COMP%]   .gallery__checkbox[_ngcontent-%COMP%]{visibility:visible}.gallery__cell[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em;padding:8px;vertical-align:middle}.gallery__cell--header[_ngcontent-%COMP%]{background:#f9fafd;box-shadow:0 1px 0 #d7e0ea;padding:8px;color:#96a8c0;text-align:left;font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.gallery__cell--meta[_ngcontent-%COMP%]{color:#f9fafd}.gallery__cell--tags[_ngcontent-%COMP%]{width:180px}.gallery__cell--author[_ngcontent-%COMP%]{color:#96a8c0;width:120px}.gallery__cell--updated[_ngcontent-%COMP%]{color:#96a8c0;width:160px}.gallery__cell--checkbox[_ngcontent-%COMP%]{width:32px}.gallery__cell--actions[_ngcontent-%COMP%]{width:80px}.gallery__model[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-flex:1;flex:1 1 auto}.gallery__image-container[_ngcontent-%COMP%]{background:url(/assets/images/logo-dark-transparent.svg) center center/75% no-repeat #f9fafd;border-radius:4px;border:1px solid #d7e0ea;-webkit-box-flex:0;flex:0 0 36px;height:36px;margin-right:8px}.gallery__image[_ngcontent-%COMP%]{border-radius:4px;width:100%;height:100%;background-size:cover}.gallery__label[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em;font-weight:500;word-break:break-word}.gallery__actions[_ngcontent-%COMP%]{visibility:hidden;white-space:nowrap}.gallery__checkbox[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;visibility:hidden}"]],data:{}});function Fm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"div",[["class","gallery__image"]],null,null,null,null,null)),i.Pb(512,null,te.C,te.D,[i.l,i.w,i.I]),i.xb(2,278528,null,0,te.p,[te.C],{ngStyle:[0,"ngStyle"]},null),i.Nb(3,{"background-image":0})],(function(e,t){var n=e(t,3,0,"url("+t.parent.context.$implicit.thumbnail_url+")");e(t,2,0,n)}),null)}function Am(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Dm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.Sb(1,null,[" "," on "]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.last_editor_first_name||t.parent.context.$implicit.last_editor)}))}function Nm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"div",[["appEventFence",""],["class","gallery__checkbox hide-sm"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,1).onClick(n,n.target)&&l),l}),null,null)),i.xb(1,16384,null,0,se,[],null,null),(e()(),i.yb(2,0,null,null,2,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==e.component.handleCheckedChange(n)&&l),l}),pe.b,pe.a)),i.Pb(5120,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(4,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],{value:[0,"value"],checked:[1,"checked"]},{change:"change"})],(function(e,t){e(t,4,0,t.parent.parent.context.$implicit.id,t.component.isChecked(t.parent.parent.context.$implicit.id))}),(function(e,t){e(t,2,0,i.Kb(t,4).id,null,i.Kb(t,4).indeterminate,i.Kb(t,4).checked,i.Kb(t,4).disabled,"before"==i.Kb(t,4).labelPosition,"NoopAnimations"===i.Kb(t,4)._animationMode)}))}function Rm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"td",[["appEventFence",""],["class","gallery__cell gallery__cell--checkbox hide-md"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,1).onClick(n,n.target)&&l),l}),null,null)),i.xb(1,16384,null,0,se,[],null,null),(e()(),i.ob(16777216,null,null,1,null,Nm)),i.xb(3,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,3,0,t.component.checkable)}),null)}function Bm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Hm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,"td",[["appEventFence",""],["class","gallery__cell gallery__cell--actions hide-md"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,1).onClick(n,n.target)&&l),l}),null,null)),i.xb(1,16384,null,0,se,[],null,null),(e()(),i.yb(2,0,null,null,3,"div",[["class","gallery__actions"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,2,null,Bm)),i.xb(4,540672,null,0,te.t,[i.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i.Nb(5,{$implicit:0})],(function(e,t){var n=t.component,l=e(t,5,0,t.parent.context.$implicit);e(t,4,0,l,n.galleryActionsTemplate)}),null)}function Vm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,26,"tr",[["class","gallery__row"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleSelect(e.context.$implicit)&&l),l}),null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"gallery__row--checked":0}),(e()(),i.yb(4,0,null,null,6,"td",[["class","gallery__cell gallery__cell--model"]],null,null,null,null,null)),(e()(),i.yb(5,0,null,null,5,"div",[["class","gallery__model"]],null,null,null,null,null)),(e()(),i.yb(6,0,null,null,2,"div",[["class","gallery__image-container"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Fm)),i.xb(8,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(9,0,null,null,1,"div",[["class","gallery__label"]],null,null,null,null,null)),(e()(),i.Sb(10,null,["",""])),(e()(),i.yb(11,0,null,null,4,"td",[["class","gallery__cell gallery__cell--tags hide-md"]],null,null,null,null,null)),(e()(),i.yb(12,0,null,null,3,"span",[["class","text-10 text-uppercase text-medium text-dim"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,2,null,Am)),i.xb(14,540672,null,0,te.t,[i.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i.Nb(15,{$implicit:0}),(e()(),i.yb(16,0,null,null,1,"td",[["class","gallery__cell gallery__cell--author hide-md"]],null,null,null,null,null)),(e()(),i.Sb(17,null,[" "," "])),(e()(),i.yb(18,0,null,null,4,"td",[["class","gallery__cell gallery__cell--updated hide-md"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Dm)),i.xb(20,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.Sb(21,null,[" "," "])),i.Ob(22,2),(e()(),i.ob(16777216,null,null,1,null,Rm)),i.xb(24,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Hm)),i.xb(26,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.isChecked(t.context.$implicit.id));e(t,2,0,"gallery__row",l),e(t,8,0,t.context.$implicit.thumbnail_url);var i=e(t,15,0,t.context.$implicit);e(t,14,0,i,n.galleryTagsTemplate),e(t,20,0,null==t.context.$implicit.editor?null:t.context.$implicit.editor.name),e(t,24,0,n.checkable),e(t,26,0,n.showActions)}),(function(e,t){e(t,10,0,t.context.$implicit.title),e(t,17,0,t.context.$implicit.author_first_name||t.context.$implicit.author);var n=i.Tb(t,21,0,e(t,22,0,i.Kb(t.parent,0),t.context.$implicit.update_date_time||t.context.$implicit.create_date_time,"shortDate"));e(t,21,0,n)}))}function $m(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"td",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null))],null,null)}function Qm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"th",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null))],null,null)}function Gm(e){return i.Ub(0,[i.Mb(0,te.e,[i.x]),(e()(),i.yb(1,0,null,null,20,"virtual-scroller",[["bufferAmount","20"],["class","gallery"]],[[2,"horizontal",null],[2,"vertical",null],[2,"selfScroll",null]],null,null,Tm.b,Tm.a)),i.xb(2,1032192,[["scroll",4]],2,Km.b,[i.l,i.I,i.C,i.i,i.E,[2,"virtual-scroller-default-options"]],{stripedTable:[0,"stripedTable"],bufferAmount:[1,"bufferAmount"],items:[2,"items"]},null),i.Qb(603979776,1,{headerElementRef:0}),i.Qb(603979776,2,{containerElementRef:0}),(e()(),i.yb(5,0,null,0,16,"table",[["class","gallery__table"]],null,null,null,null,null)),(e()(),i.yb(6,0,[[2,0],["container",1]],null,2,"tbody",[],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Vm)),i.xb(8,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),(e()(),i.yb(9,0,[[1,0],["header",1]],null,12,"thead",[],null,null,null,null,null)),(e()(),i.yb(10,0,null,null,1,"th",[["class","gallery__cell gallery__cell--header"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Model"])),(e()(),i.yb(12,0,null,null,1,"th",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Tags"])),(e()(),i.yb(14,0,null,null,1,"th",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Author"])),(e()(),i.yb(16,0,null,null,1,"th",[["class","gallery__cell gallery__cell--header hide-md"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Updated"])),(e()(),i.ob(16777216,null,null,1,null,$m)),i.xb(19,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Qm)),i.xb(21,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,!0,"20",n.results),e(t,8,0,i.Kb(t,2).viewPortItems),e(t,19,0,n.checkable),e(t,21,0,n.showActions)}),(function(e,t){e(t,1,0,i.Kb(t,2).horizontal,!i.Kb(t,2).horizontal,!i.Kb(t,2).parentScroll)}))}var Wm=function(){function e(e){this.changeDetectorRef=e,this.galleryColumns=zm,this.selectLabel="Select",this._columns=[zm.Model,zm.Tags,zm.CreatedBy,zm.UpdatedBy,zm.Actions],this.checkable=!1,this.checked=!1,this.showActions=!1,this.selectBookmark=new i.o,this.checkedChange=new i.o}return Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},set:function(e){this._columns=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},set:function(e){this._result=e,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.hasColumns=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.some((function(t){return e.hasColumn(t)}))},e.prototype.hasColumn=function(e){return this.columns.some((function(t){return t===e}))},e.prototype.handleSelect=function(e){this.selectBookmark.emit(e)},e.prototype.handleCheckedChange=function(e){this.checkedChange.emit({id:e.source.value,checked:e.checked})},e}(),qm=i.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}[_nghost-%COMP%]{padding:1px}[_nghost-%COMP%]:focus{outline:0}.gallery-card[_ngcontent-%COMP%]{background:#fff;border-radius:4px;box-shadow:0 -1px 1px 0 rgba(16,24,35,.15),0 1px 2px 0 rgba(16,24,35,.2);display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;width:100%;height:100%;position:relative;overflow:hidden}.gallery-card[_ngcontent-%COMP%]:hover{cursor:pointer}.gallery-card[_ngcontent-%COMP%]:hover   .gallery-card__hover[_ngcontent-%COMP%]{display:block;opacity:1}.gallery-card[_ngcontent-%COMP%]:hover   .gallery-card__actions[_ngcontent-%COMP%]{opacity:1}.gallery-card--checked[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #0060c4}.gallery-card__image-container[_ngcontent-%COMP%]{background:url(/assets/images/logo-dark-transparent.svg) center center/30% no-repeat #eaeff5;border-radius:4px 4px 0 0;position:relative;-webkit-box-flex:1;flex:1 1 auto;display:-webkit-box;display:flex}.gallery-card__image[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;position:relative;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;background-size:cover;background-position:top center}.gallery-card__body[_ngcontent-%COMP%]{color:#283853;background:#fff;padding:12px;word-break:break-word;-webkit-box-flex:0;flex:0 1 72px}.gallery-card__label[_ngcontent-%COMP%]{font-size:13px;letter-spacing:.325px;line-height:1.4em;font-weight:500}.gallery-card__hover[_ngcontent-%COMP%]{color:#fff;left:0;right:0;top:0;bottom:0;opacity:0;position:absolute;background:rgba(28,42,63,.9);-webkit-transition:opacity .25s;transition:opacity .25s;z-index:2}.gallery-card__action[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;border:1px solid #fff;border-radius:4px;position:absolute;left:30%;top:40%;right:30%;text-align:center;padding:10px 12px}.gallery-card__meta[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em;color:#d7e0ea;padding:12px;position:absolute;bottom:0}.gallery-card__header[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;padding:8px 8px 8px 16px;min-height:36px}.gallery-card__check[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto}.gallery-card__actions[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;float:right;text-align:right;margin:-8px -8px 0 0;-webkit-transition:opacity 250ms;transition:opacity 250ms}"]],data:{}});function Ym(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"div",[["class","gallery-card__image"]],null,null,null,null,null)),i.Pb(512,null,te.C,te.D,[i.l,i.w,i.I]),i.xb(2,278528,null,0,te.p,[te.C],{ngStyle:[0,"ngStyle"]},null),i.Nb(3,{"background-image":0})],(function(e,t){var n=e(t,3,0,"url("+t.component.result.thumbnail_url+")");e(t,2,0,n)}),null)}function Xm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),i.Sb(1,null,["Created by ",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.result.author_first_name||n.result.author)}))}function Jm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),i.Sb(1,null,["Updated by "," on ",""])),i.Ob(2,2)],null,(function(e,t){var n=t.component,l=n.result.last_editor_first_name||n.result.last_editor,o=i.Tb(t,1,1,e(t,2,0,i.Kb(t.parent,0),n.result.update_date_time||n.result.create_date_time,"shortDate"));e(t,1,0,l,o)}))}function Zm(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"div",[["class","gallery-card__check theme-ghost"]],[[2,"card__check--checked",null]],null,null,null,null)),(e()(),i.yb(1,0,null,null,2,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"]],(function(e,t,n){var l=!0;return"change"===t&&(l=!1!==e.component.handleCheckedChange(n)&&l),l}),pe.b,pe.a)),i.Pb(5120,null,ae.m,(function(e){return[e]}),[de.b]),i.xb(3,8568832,null,0,de.b,[i.l,i.i,be.e,i.C,[8,null],[2,de.a],[2,ge.a]],{value:[0,"value"],checked:[1,"checked"]},{change:"change"})],(function(e,t){var n=t.component;e(t,3,0,n.result.id,n.checked)}),(function(e,t){e(t,0,0,t.component.checked),e(t,1,0,i.Kb(t,3).id,null,i.Kb(t,3).indeterminate,i.Kb(t,3).checked,i.Kb(t,3).disabled,"before"==i.Kb(t,3).labelPosition,"NoopAnimations"===i.Kb(t,3)._animationMode)}))}function ef(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function tf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function nf(e){return i.Ub(2,[i.Mb(0,te.e,[i.x]),(e()(),i.yb(1,0,null,null,30,"div",[["class","gallery-card"]],null,[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleSelect(i.result)&&l),l}),null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(3,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(4,{"gallery-card--checked":0}),(e()(),i.yb(5,0,null,null,14,"div",[["class","gallery-card__image-container"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Ym)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(8,0,null,null,11,"div",[["class","gallery-card__hover hide-sm"]],null,null,null,null,null)),(e()(),i.yb(9,0,null,null,4,"div",[["class","gallery-card__meta"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Xm)),i.xb(11,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Jm)),i.xb(13,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(14,0,null,null,1,"div",[["class","gallery-card__action"]],null,null,null,null,null)),(e()(),i.Sb(15,null,[" "," "])),(e()(),i.yb(16,0,null,null,3,"div",[["appEventFence",""],["class","gallery-card__header"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,17).onClick(n,n.target)&&l),l}),null,null)),i.xb(17,16384,null,0,se,[],null,null),(e()(),i.ob(16777216,null,null,1,null,Zm)),i.xb(19,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(20,0,null,null,11,"div",[["class","gallery-card__body"]],null,null,null,null,null)),(e()(),i.yb(21,0,null,null,4,"div",[["appEventFence",""],["class","gallery-card__actions hide-sm"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,22).onClick(n,n.target)&&l),l}),null,null)),i.xb(22,16384,null,0,se,[],null,null),(e()(),i.ob(16777216,null,null,2,null,ef)),i.xb(24,540672,null,0,te.t,[i.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i.Nb(25,{$implicit:0}),(e()(),i.yb(26,0,null,null,1,"div",[["class","gallery-card__label"]],null,null,null,null,null)),(e()(),i.Sb(27,null,["",""])),(e()(),i.yb(28,0,null,null,3,"div",[["class","text-10 text-uppercase text-medium text-dim mt-2"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,2,null,tf)),i.xb(30,540672,null,0,te.t,[i.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i.Nb(31,{$implicit:0})],(function(e,t){var n=t.component,l=e(t,4,0,n.checked);e(t,3,0,"gallery-card",l),e(t,7,0,n.result.thumbnail_url),e(t,11,0,n.hasColumn(n.galleryColumns.CreatedBy)&&n.result.author),e(t,13,0,n.hasColumn(n.galleryColumns.UpdatedBy)&&n.result.last_editor),e(t,19,0,n.checkable);var i=e(t,25,0,n.result);e(t,24,0,i,n.galleryActionsTemplate);var o=e(t,31,0,n.result);e(t,30,0,o,n.galleryTagsTemplate)}),(function(e,t){var n=t.component;e(t,15,0,n.selectLabel),e(t,27,0,n.result.title)}))}var lf=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},of=function(){function e(){this.galleryColumns=zm,this.selectLabel="Select",this._columns=[zm.Model,zm.Tags,zm.CreatedBy,zm.UpdatedBy,zm.Actions],this.checkable=!1,this.checkedResults=[],this.showActions=!1,this.checkedChange=new i.o,this.selectBookmark=new i.o}return Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},set:function(e){this._columns=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"results",{get:function(){return this._results},set:function(e){this._results=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleSelect=function(e){this.selectBookmark.emit(e)},e.prototype.handleCheckedChange=function(e){var t=e.checked?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lf(arguments[t]));return e}(this.checkedResults,[e.id]):this.checkedResults.filter((function(t){return t!==e.id}));this.checkedChange.emit(t)},e.prototype.isChecked=function(e){return this.checkedResults.indexOf(e)>=0},e}(),af=i.wb({encapsulation:2,styles:[[":host{display:block;height:100%;width:100%}.gallery-cards{display:block;height:100%;width:100%}.gallery-cards__loading{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin-top:20vh}.gallery-cards__content{display:block;padding:1px;height:100%}.gallery-cards__content .scrollable-content{display:grid;padding:1px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));grid-auto-rows:364px;grid-auto-flow:row;-webkit-box-pack:center;justify-content:center}.gallery-cards__content .scrollable-content app-gallery-card{padding:16px}"]],data:{}});function rf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"app-gallery-card",[],null,[[null,"selectBookmark"],[null,"checkedChange"]],(function(e,t,n){var l=!0,i=e.component;return"selectBookmark"===t&&(l=!1!==i.handleSelect(n)&&l),"checkedChange"===t&&(l=!1!==i.handleCheckedChange(n)&&l),l}),nf,qm)),i.xb(1,114688,null,2,Wm,[i.i],{galleryActionsTemplate:[0,"galleryActionsTemplate"],galleryTagsTemplate:[1,"galleryTagsTemplate"],selectLabel:[2,"selectLabel"],columns:[3,"columns"],result:[4,"result"],checkable:[5,"checkable"],checked:[6,"checked"],showActions:[7,"showActions"]},{selectBookmark:"selectBookmark",checkedChange:"checkedChange"}),i.Qb(335544320,3,{galleryActionsTemplate:0}),i.Qb(335544320,4,{galleryTagsTemplate:0})],(function(e,t){var n=t.component;e(t,1,0,n.galleryActionsTemplate,n.galleryTagsTemplate,n.selectLabel,n.columns,t.context.$implicit,n.checkable,n.isChecked(t.context.$implicit.id),n.showActions)}),null)}function uf(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,6,"div",[["class","gallery-cards"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,5,"virtual-scroller",[["class","gallery-cards__content"]],[[2,"horizontal",null],[2,"vertical",null],[2,"selfScroll",null]],null,null,Tm.b,Tm.a)),i.xb(2,1032192,[["scroll",4]],2,Km.b,[i.l,i.I,i.C,i.i,i.E,[2,"virtual-scroller-default-options"]],{items:[0,"items"]},null),i.Qb(603979776,1,{headerElementRef:0}),i.Qb(603979776,2,{containerElementRef:0}),(e()(),i.ob(16777216,null,0,1,null,rf)),i.xb(6,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.results),e(t,6,0,i.Kb(t,2).viewPortItems)}),(function(e,t){e(t,1,0,i.Kb(t,2).horizontal,!i.Kb(t,2).horizontal,!i.Kb(t,2).parentScroll)}))}var cf=function(){function e(e){this.changeDetectorRef=e,this.galleryViewMode=Nd,this.loading=!1,this.viewMode=Nd.Cards,this.selectLabel="Select",this.checkable=!1,this.showActions=!1,this.checkedResults=[],this.selectBookmark=new i.o,this.checkedChange=new i.o}return Object.defineProperty(e.prototype,"results",{get:function(){return this._results},set:function(e){this._results=e,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){switch(r.exportType){case"bookmark":this.columns=[zm.Model,zm.Tags,zm.CreatedBy,zm.UpdatedBy,zm.Actions];break;case"module":this.columns=[zm.Model,zm.Actions]}},e.prototype.handleSelect=function(e){this.selectBookmark.emit(e)},e.prototype.handleCheckedChange=function(e){this.checkedChange.emit(e)},e}(),sf=i.wb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;height:100%;position:relative}.no-results[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:100%;width:100%;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:absolute;left:0;top:0}"]],data:{}});function pf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"app-gallery-list",[],null,[[null,"selectBookmark"],[null,"checkedChange"]],(function(e,t,n){var l=!0,i=e.component;return"selectBookmark"===t&&(l=!1!==i.handleSelect(n)&&l),"checkedChange"===t&&(l=!1!==i.handleCheckedChange(n)&&l),l}),Gm,Um)),i.xb(1,114688,null,2,Em,[i.i],{galleryActionsTemplate:[0,"galleryActionsTemplate"],galleryTagsTemplate:[1,"galleryTagsTemplate"],selectLabel:[2,"selectLabel"],columns:[3,"columns"],results:[4,"results"],showActions:[5,"showActions"],checkable:[6,"checkable"],checkedResults:[7,"checkedResults"]},{checkedChange:"checkedChange",selectBookmark:"selectBookmark"}),i.Qb(335544320,1,{galleryActionsTemplate:0}),i.Qb(335544320,2,{galleryTagsTemplate:0})],(function(e,t){var n=t.component;e(t,1,0,n.galleryActionsTemplate,n.galleryTagsTemplate,n.selectLabel,n.columns,n.results,n.showActions,n.checkable,n.checkedResults)}),null)}function df(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"app-gallery-cards",[],null,[[null,"selectBookmark"],[null,"checkedChange"]],(function(e,t,n){var l=!0,i=e.component;return"selectBookmark"===t&&(l=!1!==i.handleSelect(n)&&l),"checkedChange"===t&&(l=!1!==i.handleCheckedChange(n)&&l),l}),uf,af)),i.xb(1,114688,null,2,of,[],{galleryActionsTemplate:[0,"galleryActionsTemplate"],galleryTagsTemplate:[1,"galleryTagsTemplate"],selectLabel:[2,"selectLabel"],columns:[3,"columns"],results:[4,"results"],checkable:[5,"checkable"],checkedResults:[6,"checkedResults"],showActions:[7,"showActions"]},{checkedChange:"checkedChange",selectBookmark:"selectBookmark"}),i.Qb(335544320,3,{galleryActionsTemplate:0}),i.Qb(335544320,4,{galleryTagsTemplate:0})],(function(e,t){var n=t.component;e(t,1,0,n.galleryActionsTemplate,n.galleryTagsTemplate,n.selectLabel,n.columns,n.results,n.checkable,n.checkedResults,n.showActions)}),null)}function bf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-spinner",[["label","Loading..."],["size","large"]],null,null,null,Eb,zb)),i.xb(1,114688,null,0,Kb,[],{size:[0,"size"],label:[1,"label"]},null)],(function(e,t){e(t,1,0,"large","Loading...")}),null)}function gf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"div",[["class","no-results text-dim text-14 text-uppercase text-light"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["No Models Found"]))],null,null)}function hf(e){return i.Ub(2,[(e()(),i.ob(16777216,null,null,1,null,pf)),i.xb(1,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,df)),i.xb(3,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,bf)),i.xb(5,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,gf)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.viewMode===n.galleryViewMode.List&&!n.loading&&n.results),e(t,3,0,n.viewMode===n.galleryViewMode.Cards&&!n.loading&&n.results),e(t,5,0,n.loading),e(t,7,0,!n.loading&&n.results&&0===(null==n.results?null:n.results.length))}),null)}var mf=function(){function e(e){this.changeDetectorRef=e,this.viewMode=Nd.Cards,this.checkedResults=[],this.loading=!1,this.selectLabel="Select",this.checkable=!0,this.showActions=!0,this.selectBookmark=new i.o}return Object.defineProperty(e.prototype,"results",{get:function(){return this._results},set:function(e){this._results=e,this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleSelect=function(e){this.selectBookmark.emit(e)},e}(),ff=i.wb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;width:100%;height:100%}.gallery-container[_ngcontent-%COMP%]{height:100%;width:100%;display:grid;display:grid;grid-template-areas:'filters controls' 'body body';grid-template-columns:1fr auto;grid-template-rows:auto 1fr}.gallery-container__filters[_ngcontent-%COMP%]{grid-area:filters;padding:8px 8px 8px 0}.gallery-container__controls[_ngcontent-%COMP%]{grid-area:controls;padding:8px 0}.gallery-container__body[_ngcontent-%COMP%]{grid-area:body;padding:8px 0;overflow-y:hidden}"]],data:{}});function yf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-gallery-filters-loft",[],null,null,null,lm,Xh)),i.xb(1,245760,null,0,Yh,[h.i,ae.f],null,null)],(function(e,t){e(t,1,0)}),null)}function _f(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-gallery-filters-studio",[],null,null,null,gm,am)),i.xb(1,245760,null,0,om,[h.i,i.i,ae.f],null,null)],(function(e,t){e(t,1,0)}),null)}function vf(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,13,"div",[["class","gallery-container theme-light"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,4,"div",[["class","gallery-container__filters"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,yf)),i.xb(3,81920,null,0,hm,[i.Q,i.T],null,null),(e()(),i.ob(16777216,null,null,1,null,_f)),i.xb(5,81920,null,0,mm,[i.Q,i.T],null,null),(e()(),i.yb(6,0,null,null,2,"div",[["class","gallery-container__controls"]],null,null,null,null,null)),(e()(),i.yb(7,0,null,null,1,"app-gallery-controls",[],null,null,null,Mm,Im)),i.xb(8,114688,null,0,Pm,[h.i],null,null),(e()(),i.yb(9,0,null,null,4,"div",[["class","gallery-container__body"]],null,null,null,null,null)),(e()(),i.yb(10,0,null,null,3,"app-gallery-results",[],null,[[null,"selectBookmark"]],(function(e,t,n){var l=!0;return"selectBookmark"===t&&(l=!1!==e.component.handleSelect(n)&&l),l}),hf,sf)),i.xb(11,114688,null,2,cf,[i.i],{galleryActionsTemplate:[0,"galleryActionsTemplate"],galleryTagsTemplate:[1,"galleryTagsTemplate"],loading:[2,"loading"],viewMode:[3,"viewMode"],selectLabel:[4,"selectLabel"],results:[5,"results"],checkable:[6,"checkable"],showActions:[7,"showActions"],checkedResults:[8,"checkedResults"]},{selectBookmark:"selectBookmark"}),i.Qb(335544320,1,{galleryActionsTemplate:0}),i.Qb(335544320,2,{galleryTagsTemplate:0})],(function(e,t){var n=t.component;e(t,3,0),e(t,5,0),e(t,8,0),e(t,11,0,n.galleryActionsTemplate,n.galleryTagsTemplate,n.loading,n.viewMode,n.selectLabel,n.results,n.checkable,n.showActions,n.checkedResults)}),null)}var xf=i.wb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;height:calc(90vh - 48px);width:calc(90vw - 48px)}"]],data:{}});function Of(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"app-list-item",[],null,null,null,$h,Vh)),i.xb(1,114688,null,0,Hh,[],null,null),(e()(),i.yb(2,0,null,0,1,"app-icon",[["icon","lock"]],null,null,null,ce,ue)),i.xb(3,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.Sb(-1,0,[" Premium "]))],(function(e,t){e(t,1,0),e(t,3,0,"lock")}),null)}function wf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"app-list-item",[],null,null,null,$h,Vh)),i.xb(1,114688,null,0,Hh,[],null,null),(e()(),i.Sb(-1,0,[" Animated "]))],(function(e,t){e(t,1,0)}),null)}function Cf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"app-list-item",[],null,null,null,$h,Vh)),i.xb(1,114688,null,0,Hh,[],null,null),(e()(),i.Sb(-1,0,[" Tour "]))],(function(e,t){e(t,1,0)}),null)}function jf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,8,"app-list",[["listType","commafied"]],null,null,null,qh,Wh)),i.xb(1,114688,null,0,Gh,[],{listType:[0,"listType"]},null),(e()(),i.ob(16777216,null,0,2,null,Of)),i.xb(3,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,0,1,null,wf)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,0,1,null,Cf)),i.xb(8,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"commafied"),e(t,3,0,t.context.$implicit.premium&&!i.Tb(t,3,0,i.Kb(t,4).transform(n.isPremiumUser$))),e(t,6,0,t.context.$implicit.animated),e(t,8,0,t.context.$implicit.tour)}),null)}function kf(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,1,"div",[["class","import__header"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" Import Chapters\n"])),(e()(),i.yb(2,0,null,null,7,"app-gallery-container",[["class","import__content"],["selectLabel","Import"]],null,[[null,"selectBookmark"]],(function(e,t,n){var l=!0;return"selectBookmark"===t&&(l=!1!==e.component.handleSelect(n)&&l),l}),vf,ff)),i.xb(3,114688,null,2,mf,[i.i],{viewMode:[0,"viewMode"],loading:[1,"loading"],selectLabel:[2,"selectLabel"],checkable:[3,"checkable"],showActions:[4,"showActions"],results:[5,"results"]},{selectBookmark:"selectBookmark"}),i.Qb(335544320,1,{galleryActionsTemplate:0}),i.Qb(335544320,2,{galleryTagsTemplate:0}),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(0,[[2,2],["galleryTags",2]],null,0,null,jf))],(function(e,t){var n=t.component;e(t,3,0,i.Tb(t,3,0,i.Kb(t,6).transform(n.viewMode$)),i.Tb(t,3,1,i.Kb(t,7).transform(n.loading$)),"Import",!1,!1,i.Tb(t,3,5,i.Kb(t,8).transform(n.results$)))}),null)}function Sf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-import-model-dialog",[],null,null,null,kf,xf)),i.xb(1,245760,null,0,Qd,[h.i,Zd.l,i.i],null,null)],(function(e,t){e(t,1,0)}),null)}var Pf=i.ub("app-import-model-dialog",Qd,Sf,{},{},[]),If=function(){function e(e){this.popupRef=e,this.renderMethod="component"}return e.prototype.ngOnInit=function(){this.content=this.popupRef.content,"string"==typeof this.content?this.renderMethod="text":this.content instanceof i.Q&&(this.renderMethod="template",this.context={close:this.popupRef.close.bind(this.popupRef)})},e}(),Mf=function(){function e(e,t,n){var l=this;this.overlay=e,this.content=t,this.data=n,this.afterClosed=new $.a,this.afterClosed$=this.afterClosed.asObservable(),e.backdropClick().subscribe((function(){return l._close("backdropClick",n)}))}return e.prototype.close=function(e){this._close("close",e)},e.prototype._close=function(e,t){this.overlay.dispose(),this.afterClosed.next({type:e,data:t}),this.afterClosed.complete()},e}(),Tf=i.wb({encapsulation:2,styles:[[".popup{background:#fff;border-radius:4px;padding:8px;overflow-y:auto;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3)}"]],data:{}});function Kf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.content)}))}function zf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Lf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,zf)),i.xb(2,540672,null,0,te.t,[i.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.context,n.content)}),null)}function Ef(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Uf(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Ef)),i.xb(2,671744,null,0,te.k,[i.T],{ngComponentOutlet:[0,"ngComponentOutlet"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,2,0,t.component.content)}),null)}function Ff(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,8,"div",[["class","popup"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,7,null,null,null,null,null,null,null)),i.xb(2,16384,null,0,te.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),i.ob(16777216,null,null,1,null,Kf)),i.xb(4,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,Lf)),i.xb(6,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,Uf)),i.xb(8,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){e(t,2,0,t.component.renderMethod),e(t,4,0,"text"),e(t,6,0,"template"),e(t,8,0,"component")}),null)}function Af(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-popup",[],null,null,null,Ff,Tf)),i.xb(1,114688,null,0,If,[Mf],null,null)],(function(e,t){e(t,1,0)}),null)}var Df,Nf=i.ub("app-popup",If,Af,{},{},[]),Rf=n("JbCa"),Bf=n("Rney"),Hf=function(){function e(e,t,n){this.store=e,this.viewService=t,this.changeDetectorRef=n,this.defaultImage="/assets/images/view-chapter-thumbnail-placeholder.png",this.autoscroll=!0,this.ngUnsubscribe=new $.a,this.nextChapter=null}return e.prototype.ngOnInit=function(){this.initChaptersObserver()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.ngAfterViewInit=function(){this.initScrollObserver()},e.prototype.initChaptersObserver=function(){var e=this;Object(Id.b)([this.store.select(Zc.getStoryChapters),this.store.select(Zc.getSelectedChapterIndex)]).pipe(Object(Bf.a)(300),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2),l=n[0],i=n[1]+1;e.nextChapter=i>=l.length?null:l[i],e.changeDetectorRef.markForCheck()}))},e.prototype.initScrollObserver=function(){var e=this;this.selectedChapterId$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.scrollChapterIntoView(t)}))},e.prototype.handleChapterClick=function(e){this.viewService.selectChapter(e)},e.prototype.handleNextChapterClick=function(){this.viewService.nextChapter()},e.prototype.getChapterThumb=function(e){var t=this.store.selectSnapshot(Zc.getRegisteredThumbnails).get(e);return t?t.snapshot||t.urls.small:""},e.prototype.scrollChapterIntoView=function(e){var t=this.chapterList.nativeElement.querySelector("[data-chapter-id="+e+"]");t&&this.autoscroll&&"scrollBehavior"in document.documentElement.style&&t.scrollIntoView({behavior:"auto",block:"nearest"})},e.prototype.isViewed=function(e){return this.store.selectSnapshot(Zc.getChaptersViewed).some((function(t){return t===e}))},Object(g.__decorate)([Object(h.e)(Zc.getStoryChapters),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapters$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterId),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedChapterId$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterIndex),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedChapterIndex$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getRegisteredThumbnails),Object(g.__metadata)("design:type",Q.a)],e.prototype,"thumbnails$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getChaptersViewed),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chaptersViewed$",void 0),e}(),Vf=n("vubp"),$f=function(){return function(){}}(),Qf=function(){function e(e){this.http=e,this.wikiCache=new Map}return e.prototype.getWikiText=function(e,t){var n=this;if(void 0===t&&(t=!0),t&&this.wikiCache.has(e)){var l=this.wikiCache.get(e);return Object(S.a)(l)}return this.http.get("/search/wiki?name="+e).pipe(Object(c.a)((function(e){return e.description})),Object(P.a)((function(e){return 404===e.status?Object(S.a)(""):Object(hr.a)(e)})),Object(Fa.a)((function(t){return n.wikiCache.set(e,t)})))},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(u.c))},token:e,providedIn:"root"}),e}(),Gf=function(){return function(e,t,n,l){void 0===n&&(n="_color"),this.label=e,this.recipe=t,this.icon=n,this.group=l}}(),Wf=function(e){return e.Colors="Colors",e.Effects="Effects",e}({}),qf=function(e){return e.Colors="_color",e.Effects="adjust",e}({}),Yf=new Gf("Original",new Cu({tintColor:!1,saturation:!1,contrast:!1,brightness:!1,opacity:!1}),"times-circle",Wf.Colors),Xf=new Gf("Red",{tintColor:[1,0,0],saturation:!1,contrast:!1,brightness:!1,opacity:!1},qf.Colors,Wf.Colors),Jf=(new Gf("Yellow",new Cu({tintColor:[1,1,0],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),qf.Colors,Wf.Colors),new Gf("Green",new Cu({tintColor:[0,1,0],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),qf.Colors,Wf.Colors),new Gf("Cyan",new Cu({tintColor:[0,1,1],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),qf.Colors,Wf.Colors),new Gf("Blue",new Cu({tintColor:[0,0,1],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),qf.Colors,Wf.Colors),new Gf("Pink",new Cu({tintColor:[1,0,1],saturation:!1,contrast:!1,brightness:!1,opacity:!1}),qf.Colors,Wf.Colors),new Gf("Grayscale",new Cu({tintColor:!1,saturation:-100,contrast:!1,brightness:!1,opacity:!1}),qf.Effects,Wf.Effects),new Gf("Desaturated",new Cu({tintColor:!1,saturation:-50,contrast:!1,brightness:!1,opacity:!1}),qf.Effects,Wf.Effects),new Gf("Fade",new Cu({tintColor:[0,0,0],contrast:!1,brightness:55,saturation:-100,opacity:new Ou({edge:1,center:0,edgeBias:0,centerBias:1,power:1})}),qf.Effects,Wf.Effects));(Df||(Df={})).getColorRecipe=function(e,t){var n=e.scene.objects[t];if(n instanceof e.scene.Object){var l=n.getProperties();return{tintColor:Object(jt.get)(l,"tintColor")?l.tintColor:[1,1,1],brightness:l.brightness,saturation:l.saturation,contrast:l.contrast,opacity:l.opacity}}return null};var Zf,ey=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},ty=function(){function e(e,t,n){this.store=e,this.graphService=t,this.engineService=n,this.highlightDisabled=!1}return e.prototype.colorObject=function(e,t){var n=t.tintColor,l=t.saturation,i=t.brightness,o=t.contrast,a=t.opacity,r=Human.scene.objects[e];r instanceof Human.scene.Object&&(Object(jt.isNil)(n)||r.setTintColor(n),Object(jt.isNil)(l)||r.setSaturation(l),Object(jt.isNil)(i)||r.setBrightness(i),Object(jt.isNil)(o)||r.setContrast(o),Object(jt.isNil)(a)||r.setOpacity(a))},e.prototype.getColor=function(e){return Df.getColorRecipe(Human,e)},e.prototype.uncolorObject=function(e){var t=Human.scene.objects[e];t instanceof Human.scene.Object&&(t.clearColorModifiers(),t.clearOpacityModifiers())},e.prototype.unpaint=function(e){var t=this,n=this.store.selectSnapshot(Fc.getViewGraph);this.graphService.getLeafDescendants(n,e.id).forEach((function(e){t.engineService.getObjects(e).forEach((function(e){var t=Human.scene.objects[e];t instanceof Human.scene.Object&&(t.clearColorModProperties(),t.clearOpacityModProperties())}))}))},e.prototype.paint=function(e,t){var n=this,l=this.store.selectSnapshot(Fc.getViewGraph),i=Cu.toEngine(t);this.graphService.getLeafDescendants(l,e.id).forEach((function(e){n.engineService.getObjects(e).forEach((function(e){n.colorObject(e,i)}))}))},e.prototype.highlight=function(e,t){var n=this;if(!1===this.highlightDisabled||!1===t){var l=this.store.selectSnapshot(Fc.getViewGraph);this.graphService.getLeafDescendants(l,e.id).forEach((function(e){n.engineService.getObjects(e).forEach((function(e){var n=Human.scene.objects[e];n instanceof Human.scene.Object&&n.setHighlight(t)}))}))}},e.prototype.xRay=function(e,t){Human.scene.objects[e.id].setXRay(t)},e.prototype.paintAll=function(e,t){var n=this;e.forEach((function(e){n.paint(e,t)}))},e.prototype.unpaintAll=function(e){var t=this;e.forEach((function(e){t.unpaint(e)}))},e.prototype.highlightAll=function(e,t){var n=this;e.forEach((function(e){n.highlight(e,t)}))},e.prototype.inverseXRay=function(e,t){var n=e.map((function(e){return e.id})),l=this.graphService.getInverseSelection(t,n),i=this.graphService.getNodes(t,l);this.paintAll(i,Jf.recipe),this.paintAll(e,Yf.recipe)},e.prototype.disableHighlight=function(){this.highlightDisabled=!0},e.prototype.enableHighlight=function(){this.highlightDisabled=!1},e.prototype.setHighlightColor=function(e){Human.renderer.highlightColor=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ey(arguments[t]));return e}(e)},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(h.i),i.Yb(Zr),i.Yb(au))},token:e,providedIn:"root"}),e}(),ny=function(){return(ny=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ly=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},iy=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ly(arguments[t]));return e},oy={hit:null,selectedNode:null,labelEditNode:null,hoveredNode:null,checkedNodes:[],querying:!1},ay=function(){function e(e,t,n,l,i){this.store=e,this.graphService=t,this.engineService=n,this.wikiService=l,this.paintService=i}return e.getHit=function(e){return e.hit},e.getHoveredNode=function(e){return e.hoveredNode},e.getCheckedNodeIds=function(e){return e.checkedNodes.map((function(e){return e.id}))},e.getCheckedNodes=function(e){return e.checkedNodes},e.getSelectedNode=function(e){return e.selectedNode},e.getQuerying=function(e){return e.querying},e.getLabelEditNode=function(e){return e.labelEditNode},e.prototype.setLabelEditNode=function(e,t){e.patchState({labelEditNode:t.node})},e.prototype.selectNode=function(e,t){e.patchState({selectedNode:t.node})},e.prototype.hoverNode=function(e,t){e.patchState({hoveredNode:t.node,hit:ny({},t.hit||null)})},e.prototype.checkNode=function(e,t){var n=e.getState().checkedNodes;if(t.checked)n.some((function(e){return e.id===t.node.id}))||e.patchState({checkedNodes:iy(n,[t.node])});else{var l=n.filter((function(e){return e.id!==t.node.id}));e.patchState({checkedNodes:iy(l)})}},e.prototype.checkAllNodes=function(e,t){var n=this.store.selectSnapshot(Fc.getViewGraph),l=Object.values(n.roots),i=this.graphService.getAllLeafDescendants(n,l.map((function(e){return e.id}))),o=this.graphService.getNodes(n,i);e.patchState({checkedNodes:iy(o)})},e.prototype.checkInverseNodes=function(e,t){var n=this.store.selectSnapshot(Fc.getViewGraph),l=this.graphService.getAllLeafDescendants(n,t.nodes.map((function(e){return e.id}))),i=this.graphService.getInverseSelection(n,l),o=this.graphService.getNodes(n,i);e.patchState({checkedNodes:iy(o)})},e.prototype.setCheckedNodes=function(e,t){e.patchState({checkedNodes:iy(t.nodes)})},e.prototype.toggleVisibleNodes=function(e,t){var n=t.nodes.map((function(e){return e.id}));this.engineService.toggleNodes(n,t.visible)},e.prototype.togglePickableNodes=function(e,t){var n=this.store.selectSnapshot(Fc.getViewGraph),l=t.nodes.map((function(e){return e.id})),i=this.engineService.setNodesPickable(n,l,t.pickable);this.store.dispatch(new Oi(i))},e.prototype.toggleInversePickableNodes=function(e,t){var n=t.nodes.map((function(e){return e.id})),l=this.graphService.getInverseSelection(t.viewGraph,n),i=this.graphService.getNodes(t.viewGraph,l);this.store.dispatch(new ja(i,t.pickable))},e.prototype.expandNode=function(e,t){var n=this.store.selectSnapshot(Fc.getViewGraph);this.graphService.getAncestors(n,t.node.id,!0).forEach((function(e){n.nodes[e].boolState.expanded=!0})),this.store.dispatch(new pi(n))},e.prototype.collapseNode=function(e,t){var n=this.store.selectSnapshot(Fc.getViewGraph);n.nodes[t.node.id].boolState.expanded=!1,this.store.dispatch(new pi(n))},e.prototype.resetEngineNodes=function(e,t){e.setState(oy)},e.prototype.hideInverse=function(e,t){var n=t.nodes.map((function(e){return e.id})),l=this.graphService.getInverseSelection(t.viewGraph,n),i=this.graphService.getNodes(t.viewGraph,l);this.store.dispatch(new Ca(i,!1))},e.prototype.isolate=function(e,t){this.store.dispatch(new Pa(t.nodes,t.viewGraph)),this.store.dispatch(new Ca(t.nodes,!0,!1))},e.prototype.queryNodeInfo=function(e,t){var n=t.node;e.patchState({querying:!0}),this.wikiService.getWikiText(n.label).pipe(Object(L.a)((function(){return e.patchState({querying:!1})}))).subscribe((function(t){return e.dispatch(new Ka(n,t))}),(function(){return e.dispatch(new za(n))}))},e.prototype.queryNodeInfoSuccess=function(e,t){e.dispatch(new Ma(t.node,t.description))},e.prototype.setNodeInfo=function(e,t){var n=t.node,l=t.description,i=this.store.selectSnapshot(Fc.getViewGraph),o=i.nodes[n.id];if(o){o.description=l,this.store.dispatch(new pi(i));var a=e.getState().selectedNode;e.patchState({selectedNode:a})}},e.prototype.paintNodes=function(e,t){this.paintService.paintAll(t.nodes,t.recipe)},e.prototype.unpaintNodes=function(e,t){this.paintService.unpaintAll(t.nodes)},Object(g.__decorate)([Object(h.a)(Ua),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ua]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setLabelEditNode",null),Object(g.__decorate)([Object(h.a)(fa),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,fa]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"selectNode",null),Object(g.__decorate)([Object(h.a)(ma),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ma]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"hoverNode",null),Object(g.__decorate)([Object(h.a)(ya),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ya]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"checkNode",null),Object(g.__decorate)([Object(h.a)(_a),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,_a]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"checkAllNodes",null),Object(g.__decorate)([Object(h.a)(va),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,va]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"checkInverseNodes",null),Object(g.__decorate)([Object(h.a)(wa),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,wa]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setCheckedNodes",null),Object(g.__decorate)([Object(h.a)(Ca),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ca]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"toggleVisibleNodes",null),Object(g.__decorate)([Object(h.a)(ja),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ja]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"togglePickableNodes",null),Object(g.__decorate)([Object(h.a)(ka),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ka]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"toggleInversePickableNodes",null),Object(g.__decorate)([Object(h.a)(xa),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,xa]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"expandNode",null),Object(g.__decorate)([Object(h.a)(Oa),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Oa]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"collapseNode",null),Object(g.__decorate)([Object(h.a)(Sa),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Sa]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetEngineNodes",null),Object(g.__decorate)([Object(h.a)(Pa),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Pa]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"hideInverse",null),Object(g.__decorate)([Object(h.a)(Ia),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ia]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"isolate",null),Object(g.__decorate)([Object(h.a)(Ta),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ta]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"queryNodeInfo",null),Object(g.__decorate)([Object(h.a)(Ka),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ka]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"queryNodeInfoSuccess",null),Object(g.__decorate)([Object(h.a)(Ma),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ma]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setNodeInfo",null),Object(g.__decorate)([Object(h.a)(La),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,La]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"paintNodes",null),Object(g.__decorate)([Object(h.a)(Ea),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ea]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"unpaintNodes",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$f]),Object(g.__metadata)("design:returntype",void 0)],e,"getHit",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$f]),Object(g.__metadata)("design:returntype",void 0)],e,"getHoveredNode",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$f]),Object(g.__metadata)("design:returntype",void 0)],e,"getCheckedNodeIds",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$f]),Object(g.__metadata)("design:returntype",void 0)],e,"getCheckedNodes",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$f]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedNode",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$f]),Object(g.__metadata)("design:returntype",void 0)],e,"getQuerying",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[$f]),Object(g.__metadata)("design:returntype",void 0)],e,"getLabelEditNode",null),Object(g.__decorate)([Object(h.g)({name:"engineNodes",defaults:oy})],e)}(),ry=function(e){return e.Hide="hide",e.Show="show",e.Collapse="collapse",e}({}),uy=function(e){return e.None="none",e.Small="small",e.Full="full",e}({}),cy=function(){return function(e,t){void 0===e&&(e=ry.Hide),void 0===t&&(t=!0),this.status=e,this.enable=t}}(),sy=function(e){function t(t){void 0===t&&(t=!0);var n=e.call(this)||this;return n.isHyperLink=t,n}return Object(g.__extends)(t,e),t}(cy),py=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.isExpandedInitially=t,n}return Object(g.__extends)(t,e),t}(cy),dy=function(e){function t(t){void 0===t&&(t=uy.Small);var n=e.call(this)||this;return n.template=t,n}return Object(g.__extends)(t,e),t}(cy),by=n("qpAl"),gy=n.n(by),hy=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};!function(e){function t(t){if(i()){if(t||(t=document.body),e.isFullscreen())return;gy.a.prefixed("requestFullscreen",document.body)()}}function n(){i()&&gy.a.prefixed("exitFullscreen",document)()}function l(){return gy.a.fullscreen&&gy.a.prefixed("fullscreenEnabled",document)}function i(){return!!l()||(console.warn("Fullscreen is not enabled"),!1)}function o(){return gy.a.prefixed("fullscreenElement",document)}e.toggleFullscreen=function(e){null===o()?t(e):n()},e.requestFullscreen=t,e.exitFullscreen=n,e.canFullscreen=l,e.checkFullscreenSupport=i,e.getFullscreenElement=o,e.isFullscreen=function(){return null!=o()},e.onFullscreenChange=function(){var e="mozfullscreenchange webkitfullscreenchange MSFullscreenChange fullscreenchange".split(" ").map((function(e){return Object(Qg.a)(document.body,e)}));return Md.a.apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(hy(arguments[t]));return e}(e))}}(Zf||(Zf={}));var my=function(e){return e.Light="light",e.Dark="dark",e.Themed="themed",e}({}),fy=function(){function e(e,t){this.store=e,this.graphService=t,this.theme=my.Dark,this.ngUnsubscribe=new $.a}return e.prototype.ngOnInit=function(){var e=this;this.store.select(ay.getCheckedNodes).pipe(Object(W.a)((function(e){return 1===e.length})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){setTimeout((function(){e.scrollNodeIntoView(t)}))}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.scrollNodeIntoView=function(e){var t=this.graphService.sanitizeNodeID(e[0].id),n=document.querySelector("[data-id="+t+"]");n&&"scrollBehavior"in document.documentElement.style&&n.scrollIntoView({behavior:"smooth",block:"nearest"})},Object(g.__decorate)([Object(h.e)(Fc.getViewGraph),Object(g.__metadata)("design:type",Q.a)],e.prototype,"viewGraph$",void 0),e}(),yy=n("C9yA"),_y=function(e){return e[e.List=0]="List",e[e.Tree=1]="Tree",e}({}),vy=function(){function e(e,t,n,l,o,a){this.renderer=e,this.changeDetectorRef=t,this.elementRef=n,this.engineService=l,this.graphService=o,this.store=a,this._query="",this._displayMode=_y.List,this.displayModeChange=new i.o,this.theme=my.Dark,this.treeSearchDisplayMode=_y,this.searchResults=[],this.searchHeight=0,this.ngUnsubscribe=new $.a}return Object.defineProperty(e.prototype,"query",{get:function(){return this._query},set:function(e){this._query=e||"",this.handleQueryChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMode",{get:function(){return this._displayMode},set:function(e){null!=e&&(this._displayMode=e,this.handleQueryChange(),this.displayModeChange.emit(this.displayMode))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewGraph",{get:function(){return this._viewGraph},set:function(e){this._viewGraph=e,this.leafNodes=this.engineService.getLeaves(),this.buildPrunedViewGraph(this.displayMode),this.handleQueryChange(),this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.buildPrunedViewGraph=function(e){var t=this.store.selectSnapshot(Zc.getSelectedChapter),n=this.engineService.createViewGraph(t.showObjects,!0);this.prunedViewGraph=n},e.prototype.ngAfterViewInit=function(){var e=this;this.renderer.listen("window","resize",(function(t){e.resize()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleQueryChange=function(){var e=this.search(this._query,this.displayMode===_y.List?this.prunedViewGraph:this.viewGraph);this.displayMode===_y.Tree&&(this.searchGraph=this.getTree(e)),this.searchResults=e,this.resize()},e.prototype.getTree=function(e){var t=this,n={nodes:{},successors:{},predecessors:{},roots:{}};return e.forEach((function(e){t.graphService.addNode(n,e)})),e.forEach((function(e){var l=t.graphService.getAncestors(t.viewGraph,e.id,!1),i=e;l.every((function(e){var l=t.graphService.getNodes(n,[e]),o=null;0===l.length?0===(o=t.graphService.getNodes(t.viewGraph,[e])[0]).depth?t.graphService.addRootNode(n,o):t.graphService.addNode(n,o):o=l[0];var a=t.graphService.addEdge(n,o.id,i.id);return i=o,a}))})),n},e.prototype.resize=function(){var e=this;this.getSearchHeight().pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.searchHeight=t,e.changeDetectorRef.markForCheck()}))},e.prototype.getSearchHeight=function(){var e=this;return new Q.a((function(t){setTimeout((function(){var n=e.elementRef.nativeElement.offsetHeight;null!=n&&(t.next(n),t.complete())}))}))},e.prototype.search=function(e,t){var n=this;return void 0===t?[]:(e=e.toLowerCase(),Object.values(t.nodes).filter((function(e){return n.leafNodes.indexOf(e.id)>=0})).filter((function(t){return 0===e.length||Object(yy.remove)(t.label.toLowerCase()).indexOf(e)>=0})).sort((function(e,t){return e.label.localeCompare(t.label)})))},e.prototype.trackTreeNode=function(e,t){return t.id},e}(),xy=function(){return(xy=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Oy=function(){return function(){}}(),wy={audio:new cy,camera:new cy(ry.Show,!0),chapterList:new cy(ry.Show,!1),column:new cy,description:new cy,drawer:new py,fullscreen:new cy,help:new cy,labelInfo:new cy,labelList:new cy(ry.Show,!1),logo:new sy,media:new dy,menu:new cy,nodeInfo:new cy(ry.Hide,!1),pagination:new cy,presenter:new cy(ry.Hide,!1),reset:new cy,search:new cy,titleOnly:new cy,toolbar:new cy,tools:new cy,anatomyLabels:new cy},Cy={labelsBreakpoint:480,inputEnabled:!0,fullscreenActive:!1,presentationActive:!1,drawerCoversContent:!1,searchDisplayMode:_y.Tree,showNodeInfo:!1,showHelp:!1,loaderActive:!1,loaderType:er.Play,usePrintImage:!1,multiPickModeEnabled:!1,canHover:!1,canTouch:!1,canFullscreen:!1,layout:wy,initialLayout:wy},jy=function(){function e(){}return e.getLayout=function(e){return e.layout},e.getInitialLayout=function(e){return e.initialLayout},e.getLabelsBreakpoint=function(e){return e.labelsBreakpoint},e.getInputEnabled=function(e){return e.inputEnabled},e.getFullscreenActive=function(e){return e.fullscreenActive},e.getPresentationActive=function(e){return e.presentationActive},e.getDrawerCoversContent=function(e){return e.drawerCoversContent},e.getShowNodeInfo=function(e){return e.showNodeInfo},e.getShowHelp=function(e){return e.showHelp},e.getLoaderActive=function(e){return e.loaderActive},e.getLoaderType=function(e){return e.loaderType},e.getCanTouch=function(e){return e.canTouch},e.getCanHover=function(e){return e.canHover},e.getMultiPickModeEnabled=function(e){return e.multiPickModeEnabled},e.getSearchDisplayMode=function(e){return e.searchDisplayMode},e.getUsePrintImage=function(e){return e.usePrintImage},e.prototype.setLayout=function(e,t){var n=e.getState().layout;e.patchState({layout:xy({},n,t.layout)})},e.prototype.setInitialLayout=function(e,t){e.patchState({initialLayout:t.layout})},e.prototype.setInputEnabled=function(e,t){e.patchState({inputEnabled:t.enabled})},e.prototype.setCanHover=function(e,t){e.patchState({canHover:t.canHover})},e.prototype.setCanTouch=function(e,t){e.patchState({canTouch:t.canTouch})},e.prototype.setCanFullscreen=function(e,t){e.patchState({canFullscreen:t.canFullscreen})},e.prototype.setSearchDisplayMode=function(e,t){e.patchState({searchDisplayMode:t.mode})},e.prototype.toggleNodeInfo=function(e,t){e.patchState({showNodeInfo:t.show})},e.prototype.togglePresentation=function(e,t){e.patchState({presentationActive:t.active})},e.prototype.toggleHelp=function(e,t){e.patchState({showHelp:t.show})},e.prototype.toggleLoader=function(e,t){e.patchState({loaderActive:t.show})},e.prototype.setLoaderType=function(e,t){e.patchState({loaderType:t.loaderType})},e.prototype.setMultiPickModeEnabled=function(e,t){e.patchState({multiPickModeEnabled:t.enabled})},e.prototype.setLabelBreakpoint=function(e,t){e.patchState({labelsBreakpoint:t.labelsBreakpoint})},e.prototype.setUsePrintImage=function(e,t){e.patchState({usePrintImage:t.usePrintImage})},e.prototype.ngxsOnInit=function(e){Zf.onFullscreenChange().subscribe((function(t){e.patchState({fullscreenActive:Zf.isFullscreen()})}))},Object(g.__decorate)([Object(h.a)(l.SetLayout),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.SetLayout]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setLayout",null),Object(g.__decorate)([Object(h.a)(l.SetInitialLayout),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.SetInitialLayout]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setInitialLayout",null),Object(g.__decorate)([Object(h.a)(l.SetInputEnabled),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.SetInputEnabled]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setInputEnabled",null),Object(g.__decorate)([Object(h.a)(l.SetCanHover),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.SetCanHover]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setCanHover",null),Object(g.__decorate)([Object(h.a)(l.SetCanTouch),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.SetCanTouch]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setCanTouch",null),Object(g.__decorate)([Object(h.a)(l.SetCanFullscreen),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.SetCanFullscreen]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setCanFullscreen",null),Object(g.__decorate)([Object(h.a)(l.SetSearchDisplayMode),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.SetSearchDisplayMode]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setSearchDisplayMode",null),Object(g.__decorate)([Object(h.a)(l.ToggleNodeInfo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.ToggleNodeInfo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"toggleNodeInfo",null),Object(g.__decorate)([Object(h.a)(l.TogglePresentation),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.TogglePresentation]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"togglePresentation",null),Object(g.__decorate)([Object(h.a)(l.ToggleHelp),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.ToggleHelp]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"toggleHelp",null),Object(g.__decorate)([Object(h.a)(l.ToggleLoader),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.ToggleLoader]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"toggleLoader",null),Object(g.__decorate)([Object(h.a)(l.SetLoaderType),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.SetLoaderType]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setLoaderType",null),Object(g.__decorate)([Object(h.a)(l.SetMultiPickModeEnabled),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.SetMultiPickModeEnabled]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setMultiPickModeEnabled",null),Object(g.__decorate)([Object(h.a)(l.SetLabelBreakpoint),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.SetLabelBreakpoint]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setLabelBreakpoint",null),Object(g.__decorate)([Object(h.a)(l.SetUsePrintImage),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,l.SetUsePrintImage]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setUsePrintImage",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getLayout",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getInitialLayout",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getLabelsBreakpoint",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getInputEnabled",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getFullscreenActive",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getPresentationActive",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getDrawerCoversContent",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getShowNodeInfo",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getShowHelp",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getLoaderActive",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getLoaderType",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getCanTouch",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getCanHover",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getMultiPickModeEnabled",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getSearchDisplayMode",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Oy]),Object(g.__metadata)("design:returntype",void 0)],e,"getUsePrintImage",null),Object(g.__decorate)([Object(h.g)({name:"view",defaults:Cy})],e)}(),ky=function(e){return e[e.Content=0]="Content",e[e.Label=1]="Label",e[e.Tools=2]="Tools",e[e.Search=3]="Search",e[e.Help=4]="Help",e[e.NodeInfo=5]="NodeInfo",e[e.LabelInfo=6]="LabelInfo",e}({}),Sy=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Py=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Sy(arguments[t]));return e},Iy=Py(["ui-bd.class","ui-play-pause","ui-camera-mode","ui-center","ui-cross-section","ui-dissect","ui-fs","ui-tools-display","ui-tree","ui-zoom","ui-zoom-in","ui-zoom-out","ui-pan","ui-share","ui-keys","ui-slider"],["o","background.color-stops","background.gradient-type","dd","dn","image-display","imageDisplay","imageSrc","pre","referrer"]);function My(e){var t=e.id,n=e.s,l=e.m,i=e.be,o=e.b,a="";if(t)a=t;else if(i)a=i;else if(o){var r=parseInt(o,10);a=Number.isNaN(r)?"":function(e){for(var t,n,l=[],i=e;i>0;)i=(t=Sy((n=i,[Math.floor(n/62),n%62]),2))[0],l.unshift("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"[t[1]]);return l.join("")}(r)}else l&&(a=function(e,t){return void 0===t&&(t="male"),e.includes("/")?e:"production/"+t+"Adult/"+e}(l,"female"===n?"female":"male"));return a.replace(/\.json$/,"")}function Ty(e){return My(e).includes("/")?"module":"bookmark"}var Ky={type:function(e){return Ty(e)},id:function(e){return My(e)},background:function(e){return e.bgstd||e["background.colors"]||e.background}};function zy(e){return 3===e.length?{x:e[0],y:e[1],z:e[2]}:null}var Ly={camera:function(e){var t=e.split(",").map((function(e){return parseFloat(e)}));if(t.length%3==0&&!t.some((function(e){return Number.isNaN(e)}))){var n=t.slice(0,3),l=t.slice(3,6),i=t.slice(6,9);return{eye:zy(n),look:zy(l),up:zy(i)}}return null},background:function(e){var t=Ge.getColors(e);if(t){var n=Py(t[0][255],t[1][255]);return new Xa(n,"radial",[0,100])}return null}};function Ey(e){var t,n=function(e){var t=Object.keys(e),n=t.filter((function(e){return Iy.includes(e)}));if(n.length>0){var l=['The following URL parameters have been deprecated: "'+n.join('", "')+'"',"Please contact support@biodigital.com for more information."];console.warn(l.join("\n"))}return t.reduce((function(e,t){return Iy.includes(t)&&delete e[t],e}),e)}(e);return function(e){var t=function(e){if(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if(!isNaN(Number(t)))return Number(t)}return e};return Object.keys(e).reduce((function(n,l){var i=(Ly[l]||t)(e[l]);return"load-rotate"===l&&isNaN(Number(i))?n:(n[l]=i,n)}),{})}((t=n,Object.keys(Ky).filter((function(e){return void 0===t[e]})).reduce((function(e,n){var l=(0,Ky[n])(t);return void 0!==l&&(e[n]=l),e}),t)))}var Uy,Fy=function(e){return e.JumpTo="jumpTo",e.FlyTo="flyTo",e}({});!function(e){var t=function(){function e(e){this.breakpoint=e}return e.type="[View] Set Breakpoint",e}();e.SetBreakpoint=t}(Uy||(Uy={}));var Ay=function(e){return e[e.XSmall=0]="XSmall",e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Large=3]="Large",e[e.XLarge=4]="XLarge",e}({}),Dy=function(){return function(){}}(),Ny=function(){function e(e,t){this.breakpointObserver=e,this.store=t}return e.getBreakpoint=function(e){return e.breakpoint},e.prototype.setBreakpoint=function(e,t){e.patchState({breakpoint:t.breakpoint})},e.prototype.ngxsOnInit=function(e){var t=this.breakpointObserver.observe(["(max-width: 374px)"]),n=this.breakpointObserver.observe(["(max-width: 599px)"]),l=this.breakpointObserver.observe(["(max-width: 959px)"]),i=this.breakpointObserver.observe(["(max-width: 1439px)"]),o=this.breakpointObserver.observe(["(min-width: 1440px)"]);Object(Id.b)(t,n,l,i,o).pipe(Object(c.a)((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,5);return t[0].matches?Ay.XSmall:t[1].matches?Ay.Small:t[2].matches?Ay.Medium:t[3].matches?Ay.Large:t[4].matches?Ay.XLarge:null})),Object(im.a)(),Object(W.a)((function(e){return null!=e}))).subscribe((function(t){e.dispatch(new Uy.SetBreakpoint(t))}))},Object(g.__decorate)([Object(h.a)(Uy.SetBreakpoint),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Uy.SetBreakpoint]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setBreakpoint",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Dy]),Object(g.__metadata)("design:returntype",void 0)],e,"getBreakpoint",null),Object(g.__decorate)([Object(h.g)({name:"breakpoint",defaults:{breakpoint:null}})],e)}(),Ry=function(){return function(e,t){this.action=e,this.value=t,this.createdAt=(new Date).valueOf()}}(),By=function(e){return e[e.SetNodeVisible=0]="SetNodeVisible",e}({}),Hy=function(){return function(){}}(),Vy=function(){return(Vy=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},$y=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Qy=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($y(arguments[t]));return e},Gy={histories:[],current:-1,cache:{}},Wy=function(){function e(e,t,n){this.store=e,this.engineService=t,this.chapterService=n}return e.getHistories=function(e){return e.histories},e.getCurrent=function(e){return e.current},e.prototype.addHistory=function(e,t){var n=e.getState(),l=n.current,i=n.histories;(i=i.slice(0,l+1)).length>=100&&i.unshift(),i.push(t.history),l=i.length-1,e.patchState({histories:Qy(i),current:l})},e.prototype.redo=function(e,t){var n=Qy(e.getState().histories),l=e.getState().current+1,i=n[l];if(i){switch(i.action){case By.SetNodeVisible:this.toggleVisibleNodes(e,i)}e.patchState({current:l})}},e.prototype.undo=function(e,t){var n=Qy(e.getState().histories),l=e.getState().current-1;if(n.length&&!(l<0)){var i=n[l];switch(i.action){case By.SetNodeVisible:this.toggleVisibleNodes(e,i)}e.patchState({current:l})}},e.prototype.resetHistory=function(e,t){e.setState(Gy)},e.prototype.ClearHistory=function(e,t){e.patchState({histories:[],current:-1})},e.prototype.toggleVisibleNodes=function(e,t){var n=Object.values(t.value),l=n.filter((function(e){return e.boolState.shown})),i=n.filter((function(e){return!e.boolState.shown}));e.dispatch(new Ca(l,!0,!1)),e.dispatch(new Ca(i,!1,!1))},e.prototype.cacheChapterSynchronization=function(e,t){var n=this.getCacheKey(t.cacheId,t.chapterId),l=e.getState().cache;t.readOnly&&l[n]||(l[n]=Vy({},t.synchronization),e.patchState({cache:Vy({},l)}))},e.prototype.revertChapterSynchronization=function(e,t){var n=t.chapterId,l=this.getSynchronization(e,t.cacheId,n);if(l){var i=this.store.selectSnapshot(Zc.getStoryChapters).find((function(e){return e.id===n}));(i=Vy({},i)).synchronization=l,this.engineService.setGraphState(i.synchronization);var o=this.store.selectSnapshot(Zc.getStoryChapters).findIndex((function(e){return i.id===e.id}));this.store.dispatch(new Go(i)),this.chapterService.addChapterToEngine(i,o)}},e.prototype.removeChapterSynchronization=function(e,t){var n=this.getCacheKey(t.cacheId,t.chapterId),l=Vy({},e.getState().cache);delete l[n],e.patchState({cache:Vy({},l)})},e.prototype.copyChapterSynchronization=function(e,t){var n=this.getSynchronization(e,t.sourceCacheId,t.sourceChapterId);e.dispatch(new Ji(t.targetCacheId,t.targetChapterId,n))},e.prototype.getSynchronization=function(e,t,n){var l=this.getCacheKey(t,n);return e.getState().cache[l]},e.prototype.getCacheKey=function(e,t){return e+"_"+t},Object(g.__decorate)([Object(h.a)(Gi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Gi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"addHistory",null),Object(g.__decorate)([Object(h.a)(qi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,qi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"redo",null),Object(g.__decorate)([Object(h.a)(Wi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Wi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"undo",null),Object(g.__decorate)([Object(h.a)(Yi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Yi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetHistory",null),Object(g.__decorate)([Object(h.a)(Xi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Xi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"ClearHistory",null),Object(g.__decorate)([Object(h.a)(Ji),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ji]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"cacheChapterSynchronization",null),Object(g.__decorate)([Object(h.a)(Zi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Zi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"revertChapterSynchronization",null),Object(g.__decorate)([Object(h.a)(to),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,to]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"removeChapterSynchronization",null),Object(g.__decorate)([Object(h.a)(eo),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,eo]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"copyChapterSynchronization",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Hy]),Object(g.__metadata)("design:returntype",void 0)],e,"getHistories",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Hy]),Object(g.__metadata)("design:returntype",void 0)],e,"getCurrent",null),Object(g.__decorate)([Object(h.g)({name:"history",defaults:Gy})],e)}(),qy=function(){return(qy=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Yy=function(){function e(e,t){this.store=e,this.chapterService=t}return e.prototype.recordViewGraphHistory=function(){var e=this;this.store.select(Fc.getViewGraph).pipe(Object(Vf.a)(1),Object(W.a)((function(e){return Object.values(e.nodes).length>0})),Object(c.a)((function(e){var t=Object.values(e.nodes).reduce((function(e,t){return e[t.id]={id:t.id,boolState:{shown:t.boolState.shown}},e}),{});return JSON.stringify(t)})),Object(im.a)(),Object(Od.a)(1)).subscribe((function(t){var n=JSON.parse(t);e.store.dispatch(new Gi(new Ry(By.SetNodeVisible,n)))}))},e.prototype.resetChapter=function(){var e=this.store.selectSnapshot(Zc.getSelectedChapter);if(e){this.store.dispatch(new Zi("root",e.id)),this.store.dispatch(new eo("root",e.id,"cache",e.id));var t=this.store.selectSnapshot(Wy).cache;e=qy({},e,{synchronization:qy({},t["root_"+e.id])}),this.store.dispatch(new wa([])),this.store.dispatch(new Go(e)),this.chapterService.addChapterToEngine(e,0)}},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(h.i),i.Yb(Wu))},token:e,providedIn:"root"}),e}(),Xy=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Jy=function(){function e(e){this.store=e}return e.prototype.chapterHasTransition=function(e,t){var n=t?"transitions.pre":"transitions.post",l=Object(jt.get)(e,n);return!!l&&(t?l.onPrevious:l.onNext)},e.prototype.searchChapterTransitions=function(e,t,n){var l=this,i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Xy(arguments[t]));return e}(n),o=i.findIndex((function(t){return t.id===e})),a=i.findIndex((function(e){return e.id===t})),r=a<o;if(r&&(o=(i=i.reverse()).findIndex((function(t){return t.id===e})),a=i.findIndex((function(e){return e.id===t}))),o<0||a<0||o===a)return null;var u=i.slice(o,a).find((function(e){return l.chapterHasTransition(e,r)}));return u?r?u.transitions.pre:u.transitions.post:null},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(h.i))},token:e,providedIn:"root"}),e}(),Zy=function(){return(Zy=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},e_=function(e,t,n,l){return new(n||(n=Promise))((function(i,o){function a(e){try{u(l.next(e))}catch(t){o(t)}}function r(e){try{u(l.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,r)}u((l=l.apply(e,t||[])).next())}))},t_=function(e,t){var n,l,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,l&&(i=2&o[0]?l.return:o[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,o[1])).done)return i;switch(l=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,l=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(r){o=[6,r],l=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}},n_=function(){function e(e,t,n,l,i,o){this.store=e,this.actions=t,this.historyService=n,this.location=l,this.engineService=i,this.transitionService=o}return e.prototype.initStory=function(e,t,n){var l=this;this.store.dispatch(new So(e,t,!0));var i=this.store.select(Fc.getReady),o=this.store.select(Js.getIncomingStoryInfo);Object(Id.b)(i,o).pipe(Object(W.a)((function(e){var t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2);return t[0]&&!!t[1].id})),Object(Od.a)(1)).subscribe((function(){l.store.dispatch(new Vo),l.store.dispatch(new Oo(e,t,n))}))},e.prototype.nextChapter=function(){var e=this.store.selectSnapshot(Zc.getSelectedChapterIndex),t=this.store.selectSnapshot(Zc.getStoryChapters)[e+1];t&&this.selectChapter(t)},e.prototype.previousChapter=function(){var e=this.store.selectSnapshot(Zc.getSelectedChapterIndex),t=this.store.selectSnapshot(Zc.getStoryChapters)[e-1];t&&this.selectChapter(t)},e.prototype.selectChapter=function(e){return e_(this,void 0,void 0,(function(){var t,n,l,i;return t_(this,(function(o){switch(o.label){case 0:return t=this.store.selectSnapshot(Zc.getSelectedChapterId),n=e.id,l=this.store.selectSnapshot(Zc.getStoryChapters),(i=this.transitionService.searchChapterTransitions(t,n,l))?[4,this.chapterTransition(i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.store.dispatch([new Io(e.id),new Vo(e)]),[2]}}))}))},e.prototype.chapterTransition=function(e){var t=this;return new Promise((function(n){e.camera&&t.store.dispatch(new bc(e.camera,!0,e.duration)),e.fadeColor&&t.store.dispatch(new ci(e.fadeColor,e.duration)),setTimeout((function(){n(!0)}),1e3*e.duration)}))},e.prototype.hideSelectedStructures=function(){var e=this.store.selectSnapshot(ay.getCheckedNodes);this.store.dispatch(new Ca(e,!1))},e.prototype.selectTool=function(e){this.store.dispatch(new ji(e))},e.prototype.toggleColumn=function(e){var t=this.store.selectSnapshot(jy.getLayout);t.column.status=(e=null==e?!(t.column.status===ry.Show):e)?ry.Show:ry.Collapse,this.store.dispatch(new l.SetLayout(t))},e.prototype.togglePresentation=function(){this.store.selectSnapshot(jy.getPresentationActive)?this.stopPresentation():this.startPresentation()},e.prototype.startPresentation=function(){this.store.dispatch(new l.TogglePresentation(!0))},e.prototype.stopPresentation=function(){this.store.dispatch(new l.TogglePresentation(!1))},e.prototype.toggleHelp=function(e){e=null==e?!this.store.selectSnapshot(jy.getShowHelp):e,this.store.dispatch(new l.ToggleHelp(e))},e.prototype.toggleLoader=function(e){e=null==e?!this.store.selectSnapshot(jy.getLoaderActive):e,this.store.dispatch(new l.ToggleLoader(e))},e.prototype.toggleLabels=function(e){this.store.dispatch(new Ci(e))},e.prototype.toggleSearch=function(e){var t=this.store.selectSnapshot(Ny.getBreakpoint),n=this.store.selectSnapshot(jy.getLayout);n.search.status=(e=null==e?!(n.search.status===ry.Show):e)?ry.Show:ry.Hide,(t===Ay.Medium||t===Ay.Small||t>=Ay.Large&&e)&&this.toggleColumn(e),e&&(n.nodeInfo.status=ry.Hide),this.store.dispatch(new l.SetLayout(n))},e.prototype.toggleNodeInfo=function(e){this.toggleInfoLayout("nodeInfo",e)},e.prototype.toggleLabelInfo=function(e){this.toggleInfoLayout("labelInfo",e)},e.prototype.toggleInfoLayout=function(e,t){var n=this.store.selectSnapshot(jy.getLayout);(t=null==t?n[e].status===ry.Hide:t)?(n[e].status=ry.Show,["nodeInfo","labelInfo"].filter((function(t){return t!==e})).forEach((function(e){return n[e].status=ry.Hide}))):n[e].status=ry.Hide,this.store.dispatch(new l.SetLayout(n))},e.prototype.delegateNodeClick=function(e,t){if(this.clearSelectedLabel(),e||t.srcEvent.shiftKey)if(t.srcEvent.shiftKey||this.store.selectSnapshot(jy.getMultiPickModeEnabled))this.checkNode(e);else switch(this.store.selectSnapshot(Fc.getActiveTool)){case Kc.Hide:this.hideNode(e);break;case Kc.Select:this.selectNode(e);break;case Kc.Isolate:this.isolateNode(e);break;case Kc.Fade:this.fadeNode(e)}else this.clearAllSelected()},e.prototype.clearAllSelected=function(){this.clearSelectedLabel(),this.clearSelectedNodes()},e.prototype.clearSelectedLabel=function(){this.store.dispatch(new bo)},e.prototype.clearSelectedNodes=function(){this.store.dispatch(new wa([])),this.store.dispatch(new fa(null))},e.prototype.checkNode=function(e,t){void 0!==e&&(null==t&&(t=this.store.selectSnapshot(ay.getCheckedNodes).some((function(t){return t.id===e.id}))),this.store.dispatch(new ya(e,!t)),this.store.dispatch(new fa(e)))},e.prototype.fadeNode=function(e){this.store.dispatch(new La([e],Jf.recipe))},e.prototype.isolateNode=function(e){var t=this.store.selectSnapshot(Fc.getViewGraph);this.store.dispatch(new Ia([e],t))},e.prototype.selectNode=function(e){var t=this.store.selectSnapshot(ay.getCheckedNodes).some((function(t){return t.id===e.id}));this.store.dispatch(new wa(t?[]:[e])),this.store.dispatch(new fa(t?null:e)),this.store.dispatch(new xa(e)),this.store.dispatch(new Ta(e))},e.prototype.hideNode=function(e){this.store.dispatch(new Ca([e],!1)),this.store.dispatch(new wa([])),this.store.dispatch(new na([e],!1,!0)),this.historyService.recordViewGraphHistory()},e.prototype.selectLabel=function(e,t){void 0===t&&(t=!1);var n=e.objectId,l=e.states;this.store.dispatch(new bo(e)),t&&n&&0===l.length&&this.store.dispatch(new yi(n,!0))},e.prototype.initChapter=function(e){return e_(this,void 0,void 0,(function(){var t;return t_(this,(function(n){return t=this.engineService.createViewGraph({},!1),this.store.dispatch(new pi(t)),this.store.dispatch(new Ji("root",e.id,e.synchronization,!0)),this.store.dispatch(new eo("root",e.id,"cache",e.id)),this.store.dispatch(new bc(e.camera.location,e.camera.action===Fy.FlyTo)),[2]}))}))},e.prototype.initHistory=function(){var e=this;this.store.select(Fc.getViewGraph).pipe(Object(Od.a)(1),Object(Vf.a)(1)).subscribe((function(){e.resetHistory()}))},e.prototype.resetCamera=function(){var e=this.store.selectSnapshot(Zc.getSelectedChapter);e&&this.store.dispatch(new bc(e.camera.location))},e.prototype.resetHistory=function(){this.store.dispatch(new Xi),this.historyService.recordViewGraphHistory()},e.prototype.resetLayout=function(){var e=this.store.selectSnapshot(jy),t=e.layout;e.loaderActive?Object.keys(t).forEach((function(e){t[e].status=ry.Hide})):(Object.keys(t).forEach((function(e){t[e].status=ry.Show})),t.search.status=ry.Hide,t.tools.status=ry.Hide,t.nodeInfo.status=ry.Hide,t.labelInfo.status=ry.Hide,t.media.status=ry.Hide,t.menu.status=ry.Hide,t.drawer.status=ry.Hide,this.store.selectSnapshot(jy.getPresentationActive)&&(t.menu.status=ry.Hide,t.column.status=ry.Hide,t.drawer.status=ry.Hide)),this.store.dispatch(new l.SetLayout(t))},e.prototype.undo=function(){this.store.dispatch(new Wi)},e.prototype.toggleAnimation=function(){var e=!this.store.selectSnapshot(Fc.getAnimationPlaying);this.store.dispatch(new ki(e))},e.prototype.normalizeQueryParams=function(e){var t=Zy({},e);return{id:My(t),type:Ty(t),lang:e.lang}},e.prototype.sanitizeRouteId=function(e){return e=e.replace(/\.json$/,""),this.location.replaceState("view","?id="+e),e},e.prototype.openInNewTab=function(){var e=window.document.location.href;window.open(e)},e.prototype.getComputedTransform=function(e){var t=getComputedStyle(e).transform.replace("matrix3d","").replace("matrix","").replace("(","").replace(")","").split(",").map((function(e){return e.trim()})).map((function(e){return parseInt(e,10)})),n=16===t.length?t[12]:t[4],l=16===t.length?t[13]:t[5];return Number.isNaN(n)||Number.isNaN(l)?null:{x:n,y:l}},e.prototype.inferDrawerMode=function(e){var t=ky.Content;return e.nodeInfo.status===ry.Show?t=ky.NodeInfo:e.labelInfo.status===ry.Show&&(t=ky.LabelInfo),t},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(h.i),i.Yb(h.b),i.Yb(Yy),i.Yb(te.h),i.Yb(au),i.Yb(Jy))},token:e,providedIn:"root"}),e}(),l_=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-chapters{max-height:320px;overflow:auto}.view-chapters__header{border-top:var(--view-chapters-border);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:16px 0;margin-top:16px}.view-chapters__next{font-size:14px;letter-spacing:.35px;line-height:1.4em;font-style:italic;padding:8px;border-radius:4px;-webkit-box-flex:1;flex-grow:1}.view-chapters__next:hover{background:var(--view-chapters-bg--hover);color:var(--view-chapters-color--hover);cursor:pointer}.view-chapters__toggle{-webkit-box-pack:end;justify-content:flex-end;flex-shrink:1;text-align:right;margin-left:4px}.view-chapters__item{font-size:14px;letter-spacing:.35px;line-height:1.4em;outline:0;display:-webkit-box;display:flex;padding:8px;margin:4px;border-radius:2px;border-left:4px solid transparent;background-color:transparent;color:#131c2a;border-left:var(--view-chapters-border);background-color:var(--view-chapters-bg);color:var(--view-chapters-color);-webkit-transition:background-color 125ms,color 125ms,border 125ms;transition:background-color 125ms,color 125ms,border 125ms}.view-chapters__item:hover{cursor:pointer;background:var(--view-chapters-bg--hover)}.view-chapters__item--selected{border-left:4px solid #2d72dc;background-color:#f1f5fc;background:var(--view-chapters-bg--selected);border-left:var(--view-chapters-border--selected)}.view-chapters__index{display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 32px;-webkit-box-pack:center;justify-content:center}.view-chapters__thumb{background-color:#f9fafd;background-color:var(--view-chapters-thumb-bg);border-radius:4px;background-repeat:no-repeat;-webkit-box-flex:0;flex:0 0 56px;height:56px;width:56px;-webkit-transition:border-color .1s;transition:border-color .1s;background-size:cover}.view-chapters__title{word-wrap:break-word;overflow-wrap:break-word;display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 auto;padding-right:4px}"]],data:{}});function i_(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,10,"li",[["aria-role","button"],["class","view-chapters__item"],["tabindex","0"]],[[1,"aria-label",0],[1,"data-chapter-id",0]],[[null,"click"],[null,"keyup.enter"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleChapterClick(e.context.$implicit)&&l),"keyup.enter"===t&&(l=!1!==i.handleChapterClick(e.context.$implicit)&&l),l}),null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Mb(131072,te.b,[i.i]),i.Nb(4,{"view-chapters__item--viewed":0,"view-chapters__item--selected":1}),(e()(),i.yb(5,0,null,null,1,"div",[["class","view-chapters__index"]],null,null,null,null,null)),(e()(),i.Sb(6,null,["","."])),(e()(),i.yb(7,0,null,null,1,"div",[["class","view-chapters__title"]],null,null,null,null,null)),(e()(),i.Sb(8,null,["",""])),(e()(),i.yb(9,0,null,null,1,"div",[["class","view-chapters__thumb"]],null,null,null,null,null)),i.xb(10,1720320,null,0,Rf.a,[i.l,i.C,i.E,[2,"options"]],{lazyImage:[0,"lazyImage"],defaultImage:[1,"defaultImage"]},null)],(function(e,t){var n=t.component,l=e(t,4,0,n.isViewed(t.context.$implicit.id),t.context.$implicit.id===i.Tb(t,2,1,i.Kb(t,3).transform(n.selectedChapterId$)));e(t,2,0,"view-chapters__item",l),e(t,10,0,n.getChapterThumb(t.context.$implicit.id),n.defaultImage)}),(function(e,t){e(t,0,0,t.context.$implicit.info.displayName,t.context.$implicit.id),e(t,6,0,t.context.index+1),e(t,8,0,t.context.$implicit.info.displayName)}))}function o_(e){return i.Ub(2,[i.Qb(671088640,1,{chapterList:0}),(e()(),i.yb(1,0,[[1,0],["chapterList",1]],null,5,"nav",[["aria-label","Chapters"],["class","view-chapters"],["role","navigation"]],[[8,"hidden",0]],null,null,null,null)),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(3,0,null,null,3,"ol",[],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,2,null,i_)),i.xb(5,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,5,0,i.Tb(t,5,0,i.Kb(t,6).transform(n.chapters$)))}),(function(e,t){var n,l=t.component;e(t,1,0,1===(null==(n=i.Tb(t,1,0,i.Kb(t,2).transform(l.chapters$)))?null:n.length))}))}function a_(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-view-chapters",[],null,null,null,o_,l_)),i.xb(1,4440064,null,0,Hf,[h.i,n_,i.i],null,null)],(function(e,t){e(t,1,0)}),null)}var r_=i.ub("app-view-chapters",Hf,a_,{defaultImage:"defaultImage",autoscroll:"autoscroll"},{},[]),u_=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),c_=i.wb({encapsulation:2,styles:[[".message{background-color:#0060c4;color:#fff}@media print{.message{display:none}}"]],data:{}});function s_(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,1,"div",[["class","message p-4 text-12"]],null,null,null,null,null)),i.Jb(null,0)],null,null)}var p_=function(){return window.navigator.userAgent.includes("Trident")},d_=function(){function e(e){this.changeDetector=e,this.show=!1,this.message="For the full interactive 3D experience please try loading this content in Chrome or Firefox."}return e.prototype.ngOnInit=function(){if(p_()){var e=document.cookie.includes("show_ie_warning=seen_warning");this.show=!e,this.changeDetector.markForCheck()}},e.prototype.handleDismissClick=function(){this.show=!1,document.cookie="show_ie_warning=seen_warning"},e}(),b_=i.wb({encapsulation:0,styles:[[".warning[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.warning__text[_ngcontent-%COMP%]{text-align:center;-webkit-box-flex:1;flex:1}.warning__close[_ngcontent-%COMP%]{cursor:pointer;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;display:-webkit-box;display:flex;width:32px;height:32px}"]],data:{}});function g_(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,8,"app-warning-message",[],null,null,null,s_,c_)),i.xb(1,114688,null,0,u_,[],null,null),(e()(),i.yb(2,0,null,0,6,"div",[["class","warning"]],null,null,null,null,null)),(e()(),i.yb(3,0,null,null,1,"div",[["class","warning__text"]],null,null,null,null,null)),(e()(),i.Sb(4,null,[" "," "])),(e()(),i.yb(5,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),i.yb(6,0,null,null,2,"div",[["class","warning__close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleDismissClick()&&l),l}),null,null)),(e()(),i.yb(7,0,null,null,1,"app-icon",[["icon","times"],["size","lg"],["title","Close"]],null,null,null,ce,ue)),i.xb(8,114688,null,0,re,[],{icon:[0,"icon"],size:[1,"size"]},null)],(function(e,t){e(t,1,0),e(t,8,0,"times","lg")}),(function(e,t){e(t,4,0,t.component.message)}))}function h_(e){return i.Ub(2,[(e()(),i.ob(16777216,null,null,1,null,g_)),i.xb(1,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,!0===t.component.show)}),null)}var m_,f_=n("0GsU"),y_=function(e){return e.Column="column",e.ColumnToggle="column-toggle",e.Drawer="drawer",e.TitleOnly="title-only",e.Tools="tools",e.Toolbar="toolbar",e.Camera="camera",e.Media="media",e.Mediabar="mediabar",e.Reset="reset",e.Audio="audio",e.Menu="menu",e.Pagination="pagination",e.Fullscreen="fullscreen",e.Help="help",e.Description="description",e.NodeInfo="nodeInfo",e.Search="search",e.Presenter="presenter",e.Logo="logo",e.LabelList="labelList",e.ChapterList="chapterList",e.AnatomyLabels="anatomyLabels",e}({}),__=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},v_=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__(arguments[t]));return e},x_=Cy.layout,O_=function(){return function(){}}(),w_=function(e,t){return void 0===e?t:e};function C_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!!e.some((function(e){return!0===e}))||!e.some((function(e){return!1===e}))&&void 0}function j_(e,t,n){return Object.values(uy).indexOf(n)>=0?n:!1===e?uy.None:null!=t?t?uy.Full:uy.Small:null}!function(e){function t(e){var t;return(t={})[y_.Column]=e,t[y_.Drawer]=e,t[y_.Tools]=e,t[y_.Toolbar]=e,t[y_.Fullscreen]=e,t[y_.Help]=e,t[y_.Camera]=e,t[y_.Search]=e,t[y_.Presenter]=e,t[y_.Menu]=e,t[y_.Audio]=e,t[y_.Pagination]=e,t[y_.NodeInfo]=e,t[y_.Reset]=e,t[y_.LabelList]=e,t[y_.ChapterList]=e,t[y_.Media]=e?uy.Full:uy.None,t[y_.TitleOnly]=e,t.all=e,t.drawerExpandedInitially=null,t.logoIsHyperLink=null,t[y_.AnatomyLabels]=null,t[y_.Logo]=!0,t}function n(e,t){return null==t?e:Object(jt.uniq)(v_(Object.keys(e),Object.keys(t))).reduce((function(n,l){return n[l]=null!=e[l]?e[l]:t[l],n}),new O_)}e.convertAPIUIConfigToUIConfig=function(e){var l,i=null!=e.all?t(e.all):new O_;return n(((l={all:e.all})[y_.Help]=C_(e.help,e.help),l[y_.Tools]=C_(e.tools,e.tools),l[y_.Toolbar]=e.toolbar,l[y_.Fullscreen]=C_(e.fullscreen,e.fullscreen),l[y_.Search]=C_(e.objectTree,e.search),l[y_.Audio]=e.audio,l[y_.Media]=j_(e.playPause,C_(e.scrubber,e["scrubber.chapters"]),e.media),l[y_.Camera]=C_(e.nav,e.cameraMode,e.center,e.zoomIn,e.zoomOut,e.nav),l[y_.Pagination]=C_(e.tour,e["tour.chapters"]),l[y_.Reset]=e.reset,l[y_.Column]=C_(e.info,e.info),l[y_.Drawer]=C_(e.info,e.info),l[y_.TitleOnly]=C_(e.info,e.info),l[y_.LabelList]=e.labelList,l[y_.ChapterList]=e.chapterList,l[y_.NodeInfo]=e.anatomyDescriptions,l[y_.Menu]=e.menu,l[y_.Logo]=void 0,l[y_.Presenter]=void 0,l.logoIsHyperLink=void 0,l.drawerExpandedInitially=void 0,l[y_.AnatomyLabels]=C_(e.anatomyLabels,e.anatomyLabels),l),i)},e.convertUrlUIConfigToUIConfig=function(e){var l,i=null!=e["ui-all"]?t(e["ui-all"]):new O_;return n(((l={})[y_.NodeInfo]=e["ui-anatomy-descriptions"],l[y_.Tools]=e["ui-tools"],l[y_.Toolbar]=e["ui-toolbar"],l[y_.Media]=j_(null,C_(e["ui-scrubber"],e["ui-scrubber.chapters"],e["ui-scrubber.tour"]),e["ui-media-controls"]),l[y_.Reset]=e["ui-reset"],l[y_.Audio]=e["ui-audio"],l[y_.Fullscreen]=e["ui-fullscreen"],l[y_.Help]=e["ui-help"],l[y_.Camera]=e["ui-nav"],l[y_.Presenter]=e["ui-presenter"],l[y_.Menu]=e["ui-menu"],l[y_.Pagination]=e["ui-tour"],l[y_.Search]=C_(e["ui-search"],e["ui-object-tree"]),l[y_.Column]=C_(e["ui-info"],e["ui-panel"]),l[y_.Drawer]=C_(e["ui-info"],e["ui-panel"]),l[y_.Description]=C_(e["ui-info"]),l[y_.TitleOnly]=C_(e["ui-info"]),l[y_.Logo]=C_(e["ui-bd"],e["ui-logo"]),l.logoIsHyperLink=C_(e["ui-bd.link"],e["ui-logo.islink"]),l[y_.LabelList]=e["ui-label-list"],l[y_.ChapterList]=e["ui-chapter-list"],l.all=e["ui-all"],l.drawerExpandedInitially=e["ui-info-expand"],l[y_.AnatomyLabels]=C_(e["ui-anatomy-labels"]),l),i)},e.convertChapterToUIConfig=function(e){var t=e.ui;if(!t||!t.config)return null;var n=new O_;return n[y_.Column]=t.config.info,n[y_.Drawer]=t.config.info,n[y_.Fullscreen]=t.config.fullscreen,n[y_.Search]=t.config.objectTree,n[y_.Camera]=t.config.nav,n[y_.Media]=j_(t.config.playPause,t.config.scrubber,t.config.mediaControls),n},e.generateUIAllConfig=t,e.mergeUIConfigs=n,e.createLayoutFromConfig=function(e,t){var n=JSON.parse(JSON.stringify(e));return n.nodeInfo.enable=w_(t[y_.NodeInfo],x_.nodeInfo.enable),n.pagination.enable=w_(t[y_.Pagination],x_.pagination.enable),n.drawer.isExpandedInitially=w_(t.drawerExpandedInitially,x_.drawer.isExpandedInitially),n.tools.enable=w_(t[y_.Tools],x_.tools.enable),n.toolbar.enable=w_(t[y_.Toolbar],x_.toolbar.enable),n.media.enable=w_(t[y_.Media]!==uy.None,x_.media.enable),n.media.template=t[y_.Media],n.fullscreen.enable=w_(t[y_.Fullscreen],x_.fullscreen.enable),n.help.enable=w_(t[y_.Help],x_.help.enable),n.description.enable=w_(t[y_.Description],x_.description.enable),n.titleOnly.enable=w_(t[y_.TitleOnly],x_.titleOnly.enable),n.camera.enable=w_(t[y_.Camera],x_.camera.enable),n.search.enable=w_(t[y_.Search],x_.search.enable),n.presenter.enable=w_(t[y_.Presenter],x_.presenter.enable),n.menu.enable=w_(t[y_.Menu],x_.menu.enable),n.logo.enable=w_(t[y_.Logo],x_.logo.enable),n.logo.isHyperLink=w_(t.logoIsHyperLink,x_.logo.isHyperLink),n.labelList.enable=w_(t[y_.LabelList],x_.labelList.enable),n.chapterList.enable=w_(t[y_.ChapterList],x_.chapterList.enable),n.audio.enable=w_(t[y_.Audio],x_.audio.enable),n.reset.enable=w_(t[y_.Reset],x_.reset.enable),n.column.enable=w_(t[y_.Column],x_.column.enable),n.drawer.enable=w_(t[y_.Drawer],x_.drawer.enable),n.anatomyLabels.enable=w_(t[y_.AnatomyLabels],x_.anatomyLabels.enable),n},e.getScrollSetting=function(e){return e["disable-scroll"]?tr.DoNotCapture:e["disable-scroll.alert"]||e["disable-scroll.overlay"]?tr.DoNotCaptureShowMessage:tr.Capture},e.getUsePrintImage=function(e){return!0===e["ui-print-image"]},e.getLoader=function(e,t,n){var l=e["initial.play"]||e.initial||e["initial.button"]||e["initial.hand"]||e["initial.hand-hint"]||t;return{loaderType:function(){switch(!0){case e.initial:case e["initial.button"]:return er.Button;case e["initial.hand"]:case e["initial.hand-hint"]:return er.Hand;case e["initial.play"]:return er.Play;default:return n}}(),isLoaderActive:l}}}(m_||(m_={}));var k_=function(e){return e.Content="content",e.Engine="engine",e.Auth="auth",e}({}),S_=n("yLV6"),P_=function(){function e(e,t){this.storyLoadProgress=e,this.chunkLoadProgress=t}return e.type="[Engine Progress] set progress",e}(),I_={storyLoadProgress:0,chunkLoadProgress:0},M_=function(){function e(e){this.store=e}return e.getStoryLoadProgress=function(e){return e.storyLoadProgress},e.getChunkLoadProgress=function(e){return e.chunkLoadProgress},e.prototype.setProgress=function(e,t){e.patchState({storyLoadProgress:t.storyLoadProgress,chunkLoadProgress:t.chunkLoadProgress})},Object(g.__decorate)([Object(h.a)(P_),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,P_]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setProgress",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object]),Object(g.__metadata)("design:returntype",void 0)],e,"getStoryLoadProgress",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object]),Object(g.__metadata)("design:returntype",void 0)],e,"getChunkLoadProgress",null),Object(g.__decorate)([Object(h.g)({name:"engineProgress",defaults:I_})],e)}(),T_=function(e){return e.EventOn="apiEvents.on",e.EventOnce="apiEvents.once",e}({});function K_(e,t){return function(e){return e.getEvent(Za.ClientMessage).pipe(Object(W.a)((function(e){return(e.call===T_.EventOn||e.call===T_.EventOnce)&&"string"==typeof e.params})),Object(c.a)((function(e){return e.params})))}(e).pipe(Object(W.a)((function(e){return e===t})))}var z_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},L_=function(){function e(e,t,n,l,i,o,a,r,u,c,s){this.locationStrategy=e,this.router=t,this.store=n,this.actions=l,this.activatedRoute=i,this.widgetAPIHandler=o,this.errorService=a,this.engineService=r,this.cameraService=u,this.numberService=c,this.renderer=s,this.title="Biodigital Human",this.ngUnsubscribe=new $.a}return e.prototype.ngOnInit=function(){this.initErrorHandling(),this.initInteractions();var e=this.activatedRoute.snapshot.data.widgetUrlConfig;this.initWidgetBreakpoints(e),this.initWidgetSetup(e),this.initWidgetAuth(),this.initViewAnalytics(),this.initInteractionAnalytics(),this.initBackgroundFromWidget(e),this.initBackgroundFromChapter(),this.initCamera(e),this.initRotation(e),this.widgetAPIHandler.listen(),this.initChaptersReadyListener(),this.initDynamicLayout()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initWidgetSetup=function(e){var t=window!==window.top,n=t?BD_DOCUMENT_REFERRER:window.location.href;this.store.dispatch(new f(n,t,e));var i=this.store.selectSnapshot(jy.getLayout),o=m_.convertUrlUIConfigToUIConfig(e),a=m_.createLayoutFromConfig(i,o);this.store.dispatch(new l.SetLayout(a)),this.store.dispatch(new l.SetInitialLayout(a));var r=m_.getScrollSetting(e);this.store.dispatch(new ai(r));var u=m_.getLoader(e,this.store.selectSnapshot(jy.getLoaderActive),this.store.selectSnapshot(jy.getLoaderType)),c=u.loaderType,s=u.isLoaderActive,p=m_.getUsePrintImage(e);this.store.dispatch([new l.SetLoaderType(c),new l.ToggleLoader(s),new l.SetUsePrintImage(p)])},e.prototype.initWidgetAuth=function(){this.store.selectSnapshot(V.getEmbedded)&&this.store.dispatch(new x)},e.prototype.initViewAnalytics=function(){var e=this,t=["loaded","interactive","complete"].includes(document.readyState);(t?Object(S.a)(t):Object(Qg.a)(document,"DOMContentLoaded")).pipe(Object(Od.a)(1),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new y(D.View))}))},e.prototype.initInteractionAnalytics=function(){var e=this;this.interactionChance$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new y(D.ChanceInteraction))})),this.firstInteraction$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new y(D.FirstInteraction))}))},e.prototype.initErrorHandling=function(){var e=this;this.actions.pipe(Object(h.l)(Eo),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){return e.handleContentErrors()})),this.engineService.getEvent(Za.Error).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){return e.handleEngineErrors(t)})),this.actions.pipe(Object(h.l)(w),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){return e.handleAuthErrors(t)}))},e.prototype.initWidgetBreakpoints=function(e){var t=[e["ui-collapse-label"],e["annotation-collapse"]].find((function(e){return!Object(jt.isNil)(e)}));Object(jt.isNil)(t)||this.store.dispatch(new l.SetLabelBreakpoint(t))},e.prototype.initInteractions=function(){var e=this.getCanvasInteraction(),t=this.actions.pipe(Object(h.l)(fa,Ca,Pa,ja,ka,Ia));this.interactionReady$=this.store.select(Zc.getSelectedChapter).pipe(Object(W.a)((function(e){return e&&e.readyState.model})),Object(Od.a)(1));var n=this.engineService.getCanvas();this.interactionChance$=Object(vt.a)(this.interactionReady$,this.getIntersectionObserver(n,.75)).pipe(Object(Od.a)(1)),this.firstInteraction$=Object(Md.a)(e,t).pipe(Object(f_.a)(this.interactionReady$),Object(Od.a)(1))},e.prototype.initBackgroundFromWidget=function(e){var t=this,n=e.background;n&&(this.setWidgetTransparent(Xa.isTransparent(n)),this.actions.pipe(Object(h.k)(Qo),Object(Od.a)(1),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){t.store.dispatch(new qo(n))})))},e.prototype.initBackgroundFromChapter=function(){var e=this;this.store.select(Zc.getSelectedChapter).pipe(Object(W.a)((function(e){return null!=e})),Object(c.a)((function(e){return Xa.isTransparent(e.background)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.setWidgetTransparent(t)}))},e.prototype.initCamera=function(e){var t=this,n=e.camera;n&&this.actions.pipe(Object(h.l)(Mo),Object(Od.a)(1),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){t.store.dispatch(new bc(n,!1))}))},e.prototype.initRotation=function(e){var t=this,n=e["load-rotate"];if(n){var l=performance.now();Object(Qa.a)(0,Ga.animationFrame).pipe(Object(c.a)((function(){return n*(performance.now()-l)*.001})),Object(Fa.a)((function(){return l=performance.now()})),Object(G.a)(this.firstInteraction$),Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){t.cameraService.rotateCameraStatic(0,e)})),this.firstInteraction$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){var e=t.store.selectSnapshot(Zc.getSelectedChapter),n=Object(jt.get)(e,"camera.location");n&&t.store.dispatch(new bc(n,!0,2))}))}},e.prototype.initChaptersReadyListener=function(){var e=this;Object(Id.b)(K_(this.engineService,Za.TimelineChapterTransition),this.engineService.getEvent(Za.TimelineChaptersActivated)).pipe(Object(Od.a)(1),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=z_(t,2);e.engineService.fireEvent(Za.TimelineChaptersActivated,n[1])})),this.engineService.getEvent(Za.ClientsConnected).pipe(Object(Od.a)(1),Object(Vf.a)(0),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.engineService.fireEvent(Za.HumanLoaded,null)})),Object(Id.b)(K_(this.engineService,Za.SceneLoaded),this.store.select(Js.getStory)).pipe(Object(W.a)((function(e){var t=z_(e,2)[1];return!Object(jt.isNil)(t)})),Object(Od.a)(1),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=z_(t,2);e.engineService.fireEvent(Za.SceneLoaded,n[1])})),Object(Id.b)(K_(this.engineService,Za.HumanProgress),this.store.select(M_.getStoryLoadProgress),this.store.select(Zc.getStoryChapters),this.store.select(Zc.getChaptersLoaded)).pipe(Object(c.a)((function(t){var n=z_(t,4),l=n[2],i=n[3];return{percentage:e.numberService.roundNumber(100*n[1],2),chapters:l.map((function(e){var t=e.id;return{id:t,model:i.modelChapters.some((function(e){return e.id===t})),animation:i.animationChapters.some((function(e){return e.id===t}))}}))}})),Object(im.a)((function(e,t){return JSON.stringify(e)===JSON.stringify(t)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.engineService.fireEvent(Za.HumanProgress,t)})),this.store.select(Zc.getAllChaptersModelsReady).pipe(Object(W.a)((function(e){return e})),Object(G.a)(this.ngUnsubscribe)).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.engineService.fireEvent(Za.Started,null)}))},e.prototype.initDynamicLayout=function(){var e=this;Object(Id.b)(this.store.select(V.getWidgetApiUIConfig),this.store.select(V.getWidgetUrlConfig),this.store.select(Zc.getSelectedChapter)).pipe(Object(W.a)((function(e){var t=z_(e,3);return null!=t[2]&&null!=t[1]})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=z_(t,3),i=n[0],o=n[2],a=m_.convertUrlUIConfigToUIConfig(n[1]),r=m_.convertChapterToUIConfig(o),u=new O_;u=m_.mergeUIConfigs(u,i),u=m_.mergeUIConfigs(u,a),u=m_.mergeUIConfigs(u,r);var c=e.store.selectSnapshot(jy.getLayout),s=m_.createLayoutFromConfig(c,u);e.store.dispatch(new l.SetLayout(s))}))},e.prototype.handleContentErrors=function(){this.store.dispatch(new So(null,null)),this.redirectToErrorPage(k_.Content)},e.prototype.handleEngineErrors=function(e){var t={category:e.name,log:JSON.stringify({log:e.log,stack:e.stack,webglInfo:e.webglInfo}),message:e.message};this.errorService.logError(t).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe(),this.redirectToErrorPage(k_.Engine,e.name)},e.prototype.handleAuthErrors=function(e){this.redirectToErrorPage(k_.Auth,e.response.errorCode)},e.prototype.redirectToErrorPage=function(e,t){if(!(this.router.url||"").match("/error")){var n=this.locationStrategy.getBaseHref(),l=this.router.createUrlTree([n+"/error"],{queryParams:{errorType:e,errorCode:t,errorUrl:this.router.url}}),i=this.router.serializeUrl(l);window.location.href=i}},e.prototype.getCanvasInteraction=function(){var e,t=this;return new Q.a((function(n){var l=t.engineService.getCanvas();(e=new S_.Manager(l)).add([new S_.Tap({event:"singletap"}),new S_.Tap({event:"doubletap",taps:2}),new S_.Pan({event:"pan",direction:S_.DIRECTION_ALL,threshold:0})]);var i=(function(){return n.next()}).bind(t);e.on("panstart",i),e.on("singletap",i)})).pipe(Object(L.a)((function(){e&&(e.destroy(),e=null)})),Object(G.a)(this.ngUnsubscribe))},e.prototype.getIntersectionObserver=function(e,t){return new Q.a((function(n){var l=new IntersectionObserver((function(i){i[0].intersectionRatio>=t&&(n.next(e),n.complete(),l.unobserve(e))}),{root:null,threshold:t});l.observe(e)}))},e.prototype.setWidgetTransparent=function(e){e?this.renderer.setStyle(document.body,"background","none transparent"):this.renderer.removeStyle(document.body,"background")},e}(),E_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},U_=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(E_(arguments[t]));return e};function F_(e){var t=e.actionFn,n=e.aliases,l=e.mapFnIn,i=e.mapFnOut,o=function(e){var n=this,o=l?l(e):e,a=t(o);if(void 0!==a)if(a instanceof Q.a)a.subscribe((function(e){var t=i?i(e):e;n.setResult(t)}));else{var r=i?i(a):a;n.setResult(r)}};U_([e.procName],void 0===n?[]:n).forEach((function(e){return Human.rpc.define(e,o)}))}function A_(e){var t=e.captureCamera();return{position:t.lookAt.eye,target:t.lookAt.look,up:t.lookAt.up,zoom:t.zoom}}var D_,N_,R_=n("P6uZ");(N_=D_||(D_={})).selectedNodesAsDict=function(e){return e.selectSnapshot(ay.getCheckedNodeIds).reduce((function(e,t){return e[t]=!0,e}),{})},N_.isObjectSelected=function(e,t,n,l){var i,o;if(t[e])return!0;var a=Object.keys(t);try{for(var r=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(a),u=r.next();!u.done;u=r.next())if(l.getLeafDescendants(n,u.value).includes(e))return!0}catch(c){i={error:c}}finally{try{u&&!u.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return!1};var B_,H_,V_=n("IOcx");function $_(e,t){return e.dispatch(new bi(!1)),e.dispatch(new gi([])),t.fireEvent(Za.SceneXrayDisabled,void 0),!0}(B_||(B_={})).getCanvasPos=function(e,t,n,l,i){n&&V_.a.add(t,n,t);var o=e.renderer.getViewMat(),a=e.renderer.getProjMat(),r=V_.b.create();V_.a.transformMat4(r,t,o),r[3]=1,V_.b.transformMat4(r,r,a);var u=r[1],c=r[3];return[Math.round((1+r[0]/c)*l/2),Math.round((1-u/c)*i/2)]},function(e){e.isLegacyCaptureFormat=function(e){return void 0!==e.engineVersion},e.convertCaptureFormat=function(e){var t=Object.keys(e.objects).reduce((function(e,t){return e.push({objectId:t,selected:!1,hidden:!1}),e}),[]);return{storyId:e.timeline.rootName.replace(".json",""),camera:{lookAt:e.camera,zoom:void 0},labels:[],objects:t,background:[],activeChapterId:e.timeline.scrub?e.timeline.scrub.chapterId:void 0}}}(H_||(H_={}));var Q_=function(e){return e[e.Immediate=0]="Immediate",e[e.HumanReady=1]="HumanReady",e}({}),G_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},W_=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(G_(arguments[t]));return e},q_=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};function Y_(e){return e?{objectId:e.objectId,canvasPosition:{x:e.canvasPos[0],y:e.canvasPos[1]},mode:"query",position:e.worldPos?{x:e.worldPos[0],y:e.worldPos[1],z:e.worldPos[2]}:void 0}:null}function X_(e,t,n){var l=D_.selectedNodesAsDict(t),i=t.selectSnapshot(Fc.getViewGraph);return e.reduce((function(e,t){return e[t]=function(e){var t=Human.scene.objects[e],o=t.isLeaf()?D_.isObjectSelected(e,l,i,n):void 0;return{objectId:t.objectId,name:t.displayName,description:t.description||"",shown:t.shown,selected:o,children:t.objects.map((function(e){return e.objectId})),parent:t.parent?t.parent.objectId:null}}(t),e}),{})}function J_(e,t){return!!e.media&&Object.values(e.media).some((function(e){var n=e.data;return n&&n.streamType===t}))}function Z_(e,t){var n=t.includes("/")?a.Module:a.Bookmark;e.dispatch(new Oo(t,n))}function ev(e,t,n){var l=t.selectSnapshot(Fc.getViewGraph),i=Object.keys(e).filter((function(e){return void 0!==l.nodes[e]})).filter((function(t){return!0===e[t]})).map((function(e){return n.getNode(l,e)}));return t.dispatch(new wa(i)),!0}function tv(e,t,n){var l=n.getLeaves().map((function(e){return{objectId:e,recipe:t.getColor(e)}}));return e.dispatch(new gi(l)),e.dispatch(new bi(!0)),n.fireEvent(Za.SceneXrayEnabled,void 0),!0}function nv(e,t,n){Human.rpc.defineEvent(e,{events:t||[e],map:n||function(e){return e}})}var lv=function(){return(lv=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},iv=n("I65S"),ov=function(){return(ov=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},av=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},rv=function(){return(rv=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},uv=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},cv=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(uv(arguments[t]));return e};function sv(e){return e.selectSnapshot(Fp.getChapterLabels)}function pv(e,t){return function(e,t){return e.find((function(e){return t===e.id}))}(sv(e),t)}function dv(e,t){var n=function(e,t){return e.scene.markers.markers[t]}(e,t.id);return{annotationId:t.id,objectId:t.objectId||null,title:t.title,description:t.description,shown:t.shown,occludable:t.occludable,position:n?{x:n.pos[0],y:n.pos[1],z:n.pos[2]}:{x:t.pos[0],y:t.pos[1],z:t.pos[2]},canvasPosition:n?{x:n.canvasPos[0],y:n.canvasPos[1]}:{x:t.offset[0],y:t.offset[1]}}}function bv(e,t){var n=pv(e,t.annotationId);return n?rv({},n,t):null}function gv(e,t){return t&&e.dispatch(new po(t)),!0}function hv(e,t){return e.dispatch(new yo(t)),!0}function mv(e,t){return e.reduce((function(e,n){var l;return rv({},e,((l={})[""+n]=t,l))}),{})}function fv(e,t){return function(e,n){return Object.entries(e).filter((function(e){return uv(e,2)[1]===t})).reduce((function(e,t){var n,l=uv(t,2);return rv({},e,((n={})[""+l[0]]=l[1],n))}),{})}(e)}function yv(e,t){return Object.keys(fv(e,t))}function _v(e,t,n){return function(e,t){return e.filter((function(e){return t.includes(e.id)}))}(e,yv(t,n))}function vv(e,t,n){var l=yv(t,n).map((function(t){return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var l,i=t.map((function(t){return e.filter((function(e){return t===e.objectId}))})),o=[].concat.apply([],cv(i));return l=new Set(o),Array.from(l.values())}(e,t)})).map((function(e){return e.map((function(e){return e.id}))}));return mv([].concat.apply([],cv(l)),n)}var xv=function(){return(xv=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ov={};function wv(e,t){t.hasOwnProperty("data")&&(t[e]=t.data)}var Cv={hotspotSeedId:0,hotspotIdMap:new Map,getHotspotMap:function(e){var t=Cv.hotspotIdMap,n=Cv.createHotspotId;return e.selectSnapshot(Fp.getLabels).forEach((function(e){var l=e.id;void 0===t.get(l)&&n(l)})),t},createHotspotId:function(e){return Cv.hotspotSeedId++,Cv.hotspotIdMap.set(e,Cv.hotspotSeedId),Cv.hotspotSeedId},getHotspotIdByLabel:function(e,t,n){var l=Cv.createHotspotId,i=(0,Cv.getHotspotMap)(e).get(t);return n&&void 0===i?l(t):i},getLabelIdByHotspotId:function(e,t){var n=Cv.getHotspotMap(e),l=Array.from(n).find((function(e){return function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2)[1]===t}));return l?l[0]:null}};function jv(e,t){var n=e.selectSnapshot(Fp.getLabels);return void 0!==t?n.filter((function(e){return e.chapterId===t})):n}function kv(e,t){var n=jv(e),l=Cv.getLabelIdByHotspotId(e,t);return n.find((function(e){return e.id===l}))}function Sv(e){return e===zu.CirclePlus?ru.Plus:e===zu.CircleMinus?ru.Minus:ru.Default}function Pv(e,t){return Cv.getHotspotIdByLabel(e,t)}function Iv(e,t){return xv({},t,{id:Pv(e,t.id)})}function Mv(e,t,n){var l=t.selectSnapshot(Zc.getStoryChapters);return n.map((function(n){return function(e,t,n,l){var i,o=l.id,a=l.chapterId,r=l.title,u=l.objectId,c=n.findIndex((function(e){return a===e.id})),s=Cv.getHotspotIdByLabel(t,o,!0),p=function(e,t){return e.scene.markers.markers[t]}(e,o);return{id:s,title:r,objectId:u,position:p?Tv(p.pos):null,direction:p?Tv(p.dir):null,canvasPosition:p?(i=p.canvasPos,{x:i[0],y:i[1]}):null,chapterScope:c,type:l.pinType===ru.PlusMinus?zu.CirclePlus:zu.Circle,shown:l.shown,data:Ov[l.id]}}(e,t,l,n)}))}function Tv(e){return{x:e[0],y:e[1],z:e[2]}}function Kv(e){return[e.x,e.y,e.z]}function zv(e,t,n){return e.dispatch(new fo(t,n)),!0}function Lv(e,t){if("number"==typeof t){var n=kv(e,t);return n?[n]:[]}return jv(e)}var Ev=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Uv=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ev(arguments[t]));return e};var Fv=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Av=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Fv(arguments[t]));return e},Dv=function(){function e(e,t,n,l,i,o,a,r,u,c,s){this.store=e,this.actions=t,this.cameraService=n,this.engineService=l,this.animationService=i,this.imageService=o,this.paintService=a,this.labelsService=r,this.graphService=u,this.historyService=c,this.viewService=s,this.webGLInfo=SceneJS.WEBGL_INFO}return e.prototype.listen=function(){var e=this.initProcedures(),t=(this.initEvents(),this.getReadyProcedures(e));!function(e,t){var n=!1,l=[];e.clients.addClient((function(i){var o,a,r=[];function u(e){o?c(e):r.push(e)}function c(e){var t=JSON.stringify(e);o.postMessage(t,a)}function s(t){if(e.rpc.windowClientEnabled){var n=t.id,l=t.call,i=t.params;try{e.rpc.call(n,l,i),e.rpc.log(l),e.events.fire(Za.ClientMessage,t)}catch(o){e.log.error("Human.clients.windowClient","Error executing RPC call [callId: "+n+", procedure: "+l+"]: "+o)}}}e.events.on(Za.HumanLoaded,(function(){u({message:"status",status:"loaded"})})),e.events.on(Za.Started,(function(){u({message:"status",status:"ready"}),n=!0,function(){for(;l.length>0;)s(l.shift())}()})),e.events.on(Za.Error,(function(e){u({error:e})})),e.rpc.onResult((function(t,n){var l;u({results:(l={},l[t]=e.rpc.filterUnsafeProperties(n),l)})})),window.addEventListener("message",(function(p){var d={},b=p.data,g=p.origin,h=p.source;try{d=JSON.parse(b)}catch(m){return}"connect"!==d.action||o?d.call&&(!n&&t.includes(d.call)?l.push(d):s(d)):(e.log.info("Human.clients.windowClient","Client connected"),i.connected(),o=h,a=g,u({message:"connected"}),function(){for(;r.length>0;)c(r.shift())}())}))}))}(Human,t)},e.prototype.initEvents=function(){var e=[{eventName:Za.HumanLoaded},{eventName:Za.HumanReady,aliasEvents:[Za.HumanStarted]},{eventName:Za.HumanProgress,mapFn:function(e){return e}},{eventName:Za.Error,aliasEvents:[Za.HumanError],mapFn:function(e){return e}}];e.forEach((function(e){nv(e.eventName,e.aliasEvents,e.mapFn)}));var t,n,l,i=(t=this.store,n=this.graphService,l=this.animationService,[{eventName:Za.SceneLoaded,mapFn:function(e){return function(e,t,n,l){var i=t.displayName,o=t.description,a=Object.keys(Human.scene.objects),r=function(e,t){return e.map((function(e){return{chapterId:e.id,title:e.displayName,description:e.description,animated:t.isChapterAnimated(e),video:J_(e,"video"),audio:J_(e,"audio")}}))}(t.chapters,l);return{title:i,description:o,objects:X_(a,e,n),chapters:r}}(t,e,n,l)}},{eventName:Za.ScenePicked,aliasEvents:[Za.PickPicked],mapFn:Y_},{eventName:Za.SceneObjectsSelected,mapFn:function(e){return e.selectedObjectsUpdate}},{eventName:Za.SceneObjectsShown,mapFn:function(e){return e.enabledObjectsUpdate}},{eventName:Za.Debug_SceneReady,aliasEvents:[Za.Started]},{eventName:Za.SceneRestored,mapFn:function(){return!0}},{eventName:Za.SceneXrayEnabled,mapFn:function(){return!0}},{eventName:Za.SceneXrayDisabled,mapFn:function(){return!0}}]);i.forEach((function(e){nv(e.eventName,e.aliasEvents,e.mapFn)}));var o,a=(o=this.cameraService,[{eventName:Za.CameraUpdated,aliasEvents:[Za.CameraRested],mapFn:function(){return A_(o)}}]);a.forEach((function(e){nv(e.eventName,e.aliasEvents,e.mapFn)}));var r=[{eventName:Za.TimelineChapterTransition,aliasEvents:[Za.TimelineChaptersActivated],mapFn:function(e){return{previousChapter:e.oldChapterIndex,currentChapter:e.newChapterIndex,time:e.time}}},{eventName:Za.TimelinePlaying,mapFn:function(e){return e.time}},{eventName:Za.TimelineCompleted,mapFn:function(){return!0}}];r.forEach((function(e){nv(e.eventName,e.aliasEvents,e.mapFn)}));var u=[];u.forEach((function(e){nv(e.eventName,e.aliasEvents,e.mapFn)}));var c=[];c.forEach((function(e){nv(e.eventName,e.aliasEvents,e.mapFn)}));var s=function(e,t){return Uv(function(e,t){return[{eventName:Za.AnnotationsCreated,aliasEvents:[Za.LabelCreated],mapFn:function(t){return dv(e,t)}},{eventName:Za.AnnotationsDestroyed,aliasEvents:[Za.LabelDestroyed],mapFn:function(e){return{annotationId:e.id}}},{eventName:Za.AnnotationsShown,aliasEvents:[Za.LabelsShown]},{eventName:Za.AnnotationsHidden,aliasEvents:[Za.LabelsHidden]},{eventName:Za.AnnotationsPositionUpdated,aliasEvents:[Za.HotspotsPositionUpdated]}]}(e),function(e,t){return[{eventName:Za.HotspotsEntered,mapFn:function(e){return Iv(t,e)}},{eventName:Za.HotspotsLeft,mapFn:function(e){return Iv(t,e)}},{eventName:Za.HotspotsPicked,mapFn:function(e){return Iv(t,e)}},{eventName:Za.HotspotsDisplayUpdated,mapFn:function(e){return Iv(t,e)}},{eventName:Za.HotspotsPositionUpdated,mapFn:function(e){return function(e,t){var n=t.canvasPos,l=n.x,i=n.y;return{id:Pv(e,t.id),canvasPosition:{x:l,y:i,0:l,1:i}}}(t,e)}}]}(0,t))}(Human,this.store);return s.forEach((function(e){nv(e.eventName,e.aliasEvents,e.mapFn)})),Av(e,i,a,r,u,c,s)},e.prototype.initProcedures=function(){var e,t,n=(e=Human,t=this.webGLInfo,[{procName:Ja.HumanInfo,actionFn:function(){return{version:e.VERSION,webglInfo:t,apiFunctions:e.rpc.getProcedures().sort(),apiEvents:e.rpc.getEvents().sort()}}}]);n.forEach((function(e){F_(e)}));var i=function(e,t,n,i,o,a){return[{procName:Ja.focusObject,actionFn:function(l){return function(e,t,n,l){var i;e.select&&e.xray?tv(t,n,l):$_(t,l),e.select&&ev(((i={})[e.objectId]=!0,i),t,l),t.dispatch(new yi(e.objectId,!0,1))}(l,e,n,t),!0}},{procName:Ja.dissectSetEnabled,actionFn:function(t){return e.dispatch(new ji(t.enable?Kc.Hide:Kc.Select)),!0}},{procName:Ja.sceneSetClickMode,actionFn:function(t){return e.dispatch(new ji("select"===t?Kc.Select:"hide"===t?Kc.Hide:"fade"===t?Kc.Fade:Kc.Select)),!0}},{procName:Ja.pickSingleSetEnabled,actionFn:function(t){var n=function(){switch(t.enable){case void 0:return!e.selectSnapshot(jy.getMultiPickModeEnabled);case!0:return!1;case!1:return!0}}();return e.dispatch(new l.SetMultiPickModeEnabled(n)),!0}},{procName:Ja.pickMultiSetEnabled,actionFn:function(t){var n=function(){switch(t.enable){case void 0:return!e.selectSnapshot(jy.getMultiPickModeEnabled);default:return t.enable}}();return e.dispatch(new l.SetMultiPickModeEnabled(n)),!0}},{procName:Ja.getCanvasPos,actionFn:function(e){var n=t.getCanvas();return B_.getCanvasPos(Human,e.worldPos,e.offset,n.width,n.height)}},{procName:Ja.SceneCapture,actionFn:function(){return function(e,t,n){var l=n.captureCamera(),i=function(e,t){var n=D_.selectedNodesAsDict(e),l=e.selectSnapshot(Fc.getViewGraph);return Object.keys(Human.scene.objects).map((function(e){var i=function(){var t=Human.scene.objects[e].shown;switch(t){case void 0:return;default:return!t}}();return{objectId:e,selected:D_.isObjectSelected(e,n,l,t),hidden:i}}))}(e,t),o=e.selectSnapshot(Zc.getStoryChapters).map((function(e){return{chapterId:e.id,background:e.background||Nc}})),a=e.selectSnapshot(Js.getStoryId);return{camera:l,labels:e.selectSnapshot(Fp.getLabels),storyId:a,objects:i,background:o,activeChapterId:e.selectSnapshot(Zc.getSelectedChapterId)}}(e,o,i)}},{procName:Ja.SceneRestore,actionFn:function(n){var l=H_.isLegacyCaptureFormat(n);return function(e,t,n,l){return new Q.a((function(i){n.getEvent(Za.HumanStarted).pipe(Object(R_.a)()).subscribe((function(){(function(e,t,n,l){return void 0===l&&(l=!1),new Promise((function(i){var o=t.selectSnapshot(Fc.getViewGraph),a=function(e){return n.getNode(o,e.objectId)},r=e.objects.filter((function(e){return!0===e.selected})).map(a),u=l?Human.scene.getLeaves().filter((function(t){return void 0===e.objects.find((function(e){return e.objectId===t}))})).map((function(e){return a({objectId:e})})).filter((function(e){return e})):e.objects.filter((function(e){return!0===e.hidden})).map(a).filter((function(e){return e})),c=e.background.map((function(e){return new Wo(e.chapterId,e.background)})),s=e.activeChapterId?[new $o(e.activeChapterId)]:[],p=void 0!==e.camera.zoom?[new yc(e.camera.zoom)]:[];setTimeout((function(){t.dispatch(W_([new bc(e.camera.lookAt,!1),new lo(e.labels),new Ca(u,!1),new wa(r)],p,s,c)),i()}))}))})(e,t,n,l).then((function(){n.fireEvent(Za.SceneRestored,void 0),i.next(!0),i.complete()}))})),Z_(t,e.storyId)}))}(l?H_.convertCaptureFormat(n):n,e,t,l)}},{procName:Ja.SceneEnableXrayMode,actionFn:function(){return tv(e,n,t)}},{procName:Ja.SceneDisableXrayMode,actionFn:function(){return $_(e,t)}},{procName:Ja.SceneLoad,actionFn:function(t){return Z_(e,t),!0}},{procName:Ja.SceneReset,actionFn:function(){return a.resetChapter(),!0}},{procName:Ja.SceneInfo,actionFn:function(t){var n=t&&t.objectId?[t.objectId]:Object.keys(Human.scene.objects);return function(e,t,n,l){return{name:e,objects:X_(t,n,l)}}(e.selectSnapshot(Js.getStory).displayName,n,e,o)}},{procName:Ja.ScenePick,actionFn:function(e){return Y_(t.pickScene({x:e.x,y:e.y,rayPick:!0}))}},{procName:Ja.SceneSelectObjects,actionFn:function(n){return ev(n,e,t)}},{procName:Ja.SceneShowObjects,actionFn:function(e){return t.setNodesVisible(e),!0},readyState:Q_.HumanReady},{procName:Ja.IsolateObject,actionFn:function(e){var n,l,i,o,a={};try{for(var r=q_(Human.scene.getLeaves()),u=r.next();!u.done;u=r.next())a[u.value]=!1}catch(p){n={error:p}}finally{try{u&&!u.done&&(l=r.return)&&l.call(r)}finally{if(n)throw n.error}}e=e instanceof Array?e:[e];try{for(var c=q_(e),s=c.next();!s.done;s=c.next())a[s.value]=!0}catch(d){i={error:d}}finally{try{s&&!s.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return t.setNodesVisible(a),!0}},{procName:Ja.SceneTransformObject,actionFn:function(e){return t.transformObject(e.objectId,e),!0}},{procName:Ja.SceneColorObject,actionFn:function(e){return n.colorObject(e.objectId,{tintColor:e.tintColor,saturation:e.saturation,contrast:e.contrast,brightness:e.brightness,opacity:e.opacity}),!0}},{procName:Ja.SceneGetColor,actionFn:function(e){return n.getColor(e.objectId)}},{procName:Ja.SceneUncolorObject,actionFn:function(e){return n.uncolorObject(e.objectId),!0}},{procName:Ja.SceneDisableHighlight,actionFn:function(){return n.disableHighlight(),!0}},{procName:Ja.SceneEnableHighlight,actionFn:function(){return n.enableHighlight(),!0}},{procName:Ja.SceneSetHighlightColor,actionFn:function(e){return n.setHighlightColor(e),!0}}]}(this.store,this.engineService,this.paintService,this.cameraService,this.graphService,this.historyService);i.forEach((function(e){F_(e)}));var o,a,r=(o=this.store,a=this.cameraService,[{procName:Ja.CameraInfo,actionFn:function(){return A_(a)}},{procName:Ja.CameraOrbit,actionFn:function(e){return o.dispatch(new Cc(void 0===e.pitch?0:e.pitch,void 0===e.yaw?0:e.yaw)),!0}},{procName:Ja.CameraPan,actionFn:function(e){return o.dispatch(new xc(void 0===e.x?0:e.x,void 0===e.y?0:e.y,void 0===e.z?0:e.z)),!0}},{procName:Ja.CameraReset,actionFn:function(){return o.dispatch(new mc)}},{procName:Ja.CameraSet,actionFn:function(e){var t=e.animate||!1;if(e.objectId)return o.dispatch(new yi(e.objectId,t,e.animationDuration)),!0;var n=A_(a);return o.dispatch(new bc({eye:e.position||n.position,look:e.target||n.target,up:e.up||n.up},t)),!0}},{procName:Ja.CameraZoom,actionFn:function(e){return o.dispatch(new yc(e||0)),!0}},{procName:Ja.setCameraMode,actionFn:function(e){return o.dispatch(new jc("pan"===e?"pan":"rotate")),!0}}]);r.forEach((function(e){F_(e)}));var u=function(e,t,n,l){return[{procName:Ja.TimelineQuery,actionFn:function(){return{chapters:e.selectSnapshot(Zc.getStoryChapters).map((function(e){var t=e.info;return{description:t.description,displayName:t.displayName,annotations:e.labels.map((function(e){return{title:e.title,description:e.description}}))}}))}}},{procName:Ja.TimelineInfo,actionFn:function(){return function(e,t){var n=t.getTimeFrame(),l=e.selectSnapshot(Zc.getSelectedChapter),i=-1===Object(jt.get)(l,"ui.play.count",0);return{time:t.getTime(),startTime:n.firstTime,endTime:n.lastTime,chapters:e.selectSnapshot(Zc.getStoryChapters).map((function(e){return e.id})),playing:t.isPlaying(),loop:i}}(e,n)}},{procName:Ja.TimelinePlay,actionFn:function(l){var i=l.loop||!1;if(void 0===l.time&&void 0===l.chapterId){var o=e.selectSnapshot(Zc.getSelectedChapterId);return n.play({numChapters:1,loop:i,queue:!1,startChapterId:o}),!0}var a=Math.max(0,l.time),r=n.getTimeFrame().lastTime,u=Math.min(a,r-.001);return new Q.a((function(o){t.pipe(Object(h.k)($o),Object(Od.a)(1)).subscribe((function(){n.play(lv({},{numChapters:1,queue:!1,loop:i},void 0!==l.time?{startTime:u}:{startChapterId:l.chapterId})),o.next(!0),o.complete()}));var a=l.chapterId?l.chapterId:n.mapGlobalTimeToLocal(u,{tie:"later"}).branch.id;e.dispatch(new $o(a))}))}},{procName:Ja.TimelinePause,actionFn:function(){return n.pause(),!0}},{procName:Ja.TimelineSet,actionFn:function(l){if(void 0===l.time&&void 0===l.chapterId)return!0;if(void 0!==l.chapterId)return e.dispatch(new $o(l.chapterId)),!0;var i=Math.max(0,l.time),o=n.getTimeFrame().lastTime,a=Math.min(i,o);return new Q.a((function(l){t.pipe(Object(h.k)($o),Object(Od.a)(1)).subscribe((function(){n.scrub({time:a,which:0===a?"second":"first"}),l.next(!0),l.complete()}));var i=n.mapGlobalTimeToLocal(a,0===a?{tie:"later"}:{});e.dispatch(new $o(i.branch.id))}))}},{procName:Ja.TimelineNext,actionFn:function(){return l.nextChapter(),!0}},{procName:Ja.TimelinePrev,actionFn:function(){return l.previousChapter(),!0}}]}(this.store,this.actions,this.animationService,this.viewService);u.forEach((function(e){F_(e)}));var c=function(e){return[{procName:Ja.InputEnable,actionFn:function(){return e.dispatch(new j(!0)),!0}},{procName:Ja.InputDisable,actionFn:function(){return e.dispatch(new j(!1)),!0}}]}(this.store);c.forEach((function(e){F_(e)}));var s=function(e,t,n,i,o){return[{procName:Ja.UIGetBackground,actionFn:function(){var e,n;return{colors:[[(n=(e=t.selectSnapshot(Zc.getSelectedChapterBackground)).colors)[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]]],gradientType:e.gradientType,colorStops:e.colorStops}}},{procName:Ja.UISetBackground,mapFnIn:function(e){var t,n=e.colors,l=e.colorStops,i=e.gradientType;return{colors:n?(t=n,Ge.getColors(t).map((function(e){return e[255]}))):n,gradientType:i,colorStops:l}},actionFn:function(e){if(e){var n=t.selectSnapshot(Zc.getSelectedChapterBackground),l=n.colors,i=n.colorStops,o=n.gradientType,a=e.colors?[].concat.apply([],function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(av(arguments[t]));return e}(e.colors)):l,r=new Xa(a,e.gradientType||o,e.colorStops||i);t.dispatch(new Xo(r))}}},{procName:Ja.UIGetWordPosition,actionFn:function(t){var n=e.renderer.pick.pick(t.x,t.y,{rayPick:!0}).worldPos;return n?{x:n[0],y:n[1],z:n[2]}:null}},{procName:Ja.UISetLoadingExperience,actionFn:function(e){return Object(jt.isEmpty)(e)?t.dispatch(new l.ToggleLoader(!1)):t.dispatch([new l.SetLoaderType(e),new l.ToggleLoader(!0)]),!0}},{procName:Ja.UISetScrollCaptureMode,actionFn:function(e){return t.dispatch(new ai(e)),!0}},{procName:Ja.UIGetDisplay,actionFn:function(){var e=t.selectSnapshot(jy.getLayout);return{audio:e.audio.enable,fullscreen:e.fullscreen.enable,help:e.help.enable,nav:e.camera.enable,cameraMode:e.camera.enable,center:e.camera.enable,zoomIn:e.camera.enable,zoomOut:e.camera.enable,info:e.column.enable||e.drawer.enable,playPause:e.media.enable,scrubber:e.media.enable,"scrubber.chapters":e.media.enable,tools:e.tools.enable,"tools-display":e.tools.enable,tour:e.pagination.enable,"tour.chapters":e.pagination.enable,objectTree:e.search.enable,anatomyLabels:e.anatomyLabels.enable,share:!1,dissect:!1,xray:!1,annotations:!1}}},{procName:Ja.UISetDisplay,actionFn:function(e){var n=m_.convertAPIUIConfigToUIConfig(e);t.dispatch(new k(n))}},{procName:Ja.UIResetDisplay,actionFn:function(){var e=t.selectSnapshot(jy.getInitialLayout);t.dispatch(new l.SetLayout(e))}},{procName:Ja.UISnapshot,aliases:[Ja.SceneSnapshot],mapFnIn:function(e){var t=i.getCanvas();return ov({width:t.width,height:t.height,openInTab:!1},e)},actionFn:function(e){var l=e.width,i=e.height,a=e.openInTab,r=t.selectSnapshot(Zc.getSelectedChapterId);return t.dispatch(new sa(r,{width:l,height:i},!0,!0)).pipe(Object(Ot.a)((function(){return n.pipe(Object(h.l)(pa),Object(Od.a)(1))})),Object(Ot.a)((function(e){return o.blobToBase64(e.blob)})),Object(Fa.a)((function(e){a&&e&&function(e){var t=window.open("","_blank");if(t){var n=t.document.createElement("iframe");n.src=e,t.document.body.style.margin="0",n.style.border="none",n.style.height="100%",n.style.width="100%",t.document.body.appendChild(n)}}(e)})),Object(P.a)((function(){return Object(iv.of)(null)})))}}]}(Human,this.store,this.actions,this.engineService,this.imageService);s.forEach((function(e){F_(e)}));var p=function(e,t,n){return Uv(function(e,t,n){return[{procName:Ja.AnnotationsInfo,actionFn:function(){return sv(t)},mapFnOut:function(t){return function(e,t){return t.reduce((function(t,n){return t[n.id]=dv(e,n),t}),{})}(e,t)}},{procName:Ja.AnnotationsCreate,mapFnIn:function(l){return function(e,t,n,l){var i=t.selectSnapshot(Zc.getSelectedChapter),o={annotationId:l.annotationId,title:l.title,description:l.description,objectId:e.scene.objects[l.objectId]?l.objectId:void 0,pos:l.position,occludable:l.occludable,labelOffset:l.labelOffset,shown:l.shown,labelShown:l.shown};return o.objectId&&void 0===o.pos&&(o.pos=e.scene.objects[o.objectId].center),n.deserializeAnnotation(o,i,uu.Annotation)}(e,t,n,l)},actionFn:function(e){return function(e,t){return t.objectId||t.pos?(e.dispatch(new io(t)),t):null}(t,e)},mapFnOut:function(t){return t?dv(e,t):null}},{procName:Ja.AnnotationsUpdate,mapFnIn:function(e){return bv(t,e)},actionFn:function(e){return gv(t,e)}},{procName:Ja.AnnotationsSetTitle,mapFnIn:function(e){return bv(t,e)},actionFn:function(e){return gv(t,e)}},{procName:Ja.AnnotationsSetDescription,mapFnIn:function(e){return bv(t,e)},actionFn:function(e){return gv(t,e)}},{procName:Ja.AnnotationsDestroy,mapFnIn:function(e){return pv(t,e)},actionFn:function(e){return function(e,t){return t&&e.dispatch(new ro(t)),!0}(t,e)}},{procName:Ja.ShowAnnotations,aliases:[Ja.SetAnnotationsShown],actionFn:function(){return hv(t,!0)}},{procName:Ja.HideAnnotations,actionFn:function(){return hv(t,!1)}},{procName:Ja.AnnotationsSetLabelsShown,mapFnIn:function(e){return function(e,t){var n=t.replace,l=t.annotations||{},i=t.objects||{},o=sv(e),a=rv({},fv(l,!0),fv(l,!1),vv(o,i,!0),vv(o,i,!1));return n?rv({},mv(o.map((function(e){return e.id})),!1),a):a}(t,e)},actionFn:function(e){return function(e,t){var n=sv(e),l=_v(n,t,!1),i=_v(n,t,!0);e.dispatch(new fo(i,!0)),e.dispatch(new fo(l,!1))}(t,e)}}]}(e,t,n),function(e,t,n){return[{procName:Ja.HotspotsInfo,actionFn:function(n){var l="number"==typeof n?n:void 0;if(void 0!==l){var i=kv(t,l);return Mv(e,t,[i])[0]}var o=Lv(t,l);return Mv(e,t,o)}},{procName:Ja.HotspotsTypes,mapFnIn:function(){return Object.values(zu).map((function(e){return""+e}))},actionFn:function(e){return e}},{procName:Ja.HotspotsCreate,mapFnIn:function(e){return function(e,t,n){var l=n.title,i=n.objectId,o=n.position,a=n.direction,r=n.chapterScope,u=n.type,c=e.selectSnapshot(Zc.getStoryChapters),s=e.selectSnapshot(Zc.getSelectedChapter),p=e.selectSnapshot(Zc.getSelectedChapterIndex),d="number"==typeof r?r:p,b=c[d]||s,g=!1!==n.shown,h=g&&!!l,m={title:l,type:u||zu.CircleLabel,objectId:i,pos:o?Kv(o):null,dir:a?Kv(a):null,shown:g,symbol:"",className:""},f=t.deserializeHotspots({},b,d,m);return f.title=l,f.expandTag=!0,f.flyTo=!1,f.flyToTarget=null,f.occludable=!0,f.pinGlow=!1,f.pinType=ru.PlusMinus,f.shown=g,f.hideTag=!h,f.hideWire=!0,f.theme=uu.StudioNext,f.pinType=Sv(u),wv(f.id,n),f}(t,n,e)},actionFn:function(e){return function(e,t){return t.objectId||t.pos?(e.dispatch(new io(t)),t):null}(t,e)},mapFnOut:function(e){return e?Pv(t,e.id):null}},{procName:Ja.HotspotsUpdate,mapFnIn:function(e){return function(e,t){var n=kv(e,t.id);return n?function(e,t){var n=e.direction,l=e.position,i=e.type,o=xv({},t,{title:e.title,objectId:e.objectId,shown:e.shown,pos:l?Kv(l):null,dir:n?Kv(n):null,pinType:i?Sv(i):null});return wv(t.id,e),xv({},t,Object(jt.omitBy)(o,jt.isNil))}(t,n):null}(t,e)},actionFn:function(e){return e?function(e,t){return e.dispatch(new po(t)),t}(t,e):null}},{procName:Ja.HotspotsDestroy,mapFnIn:function(e){return kv(t,e)},actionFn:function(e){return e?function(e,t){return e.dispatch(new ro(t)),t}(t,e):null}},{procName:Ja.HotspotsShow,mapFnIn:function(e){return Lv(t,e)},actionFn:function(e){return zv(t,e,!0)}},{procName:Ja.HotspotsHide,mapFnIn:function(e){return Lv(t,e)},actionFn:function(e){return zv(t,e,!1)}}]}(e,t,n),[{procName:Ja.LabelsSetEnabled,aliases:[Ja.AnnotationsSetEnabled],actionFn:function(e){t.dispatch(new Ci(e.enable))}}])}(Human,this.store,this.labelsService);return p.forEach((function(e){F_(e)})),Av(n,i,r,u,c,s,p)},e.prototype.getReadyProcedures=function(e){return e.filter((function(e){return e.readyState===Q_.HumanReady})).map((function(e){return e.procName}))},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(h.i),i.Yb(h.b),i.Yb(Pt),i.Yb(au),i.Yb(Gc),i.Yb(Ft),i.Yb(ty),i.Yb(Au),i.Yb(Zr),i.Yb(Yy),i.Yb(n_))},token:e,providedIn:"root"}),e}(),Nv=i.wb({encapsulation:0,styles:[[".widget__messages[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:fixed;top:0;left:0;right:0;z-index:101}.widget-shell[_ngcontent-%COMP%]{pointer-events:none;position:fixed;top:0;bottom:0;left:0;right:0;z-index:99999;border:var(--widget-shell-border)}"]],data:{}});function Rv(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,"div",[["class","widget theme-light"]],null,null,null,null,null)),(e()(),i.yb(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i.xb(2,212992,null,0,p.q,[p.b,i.T,i.k,[8,null],i.i],null,null),(e()(),i.yb(3,0,null,null,2,"div",[["class","widget__messages pt-2 pr-2 pl-2"]],null,null,null,null,null)),(e()(),i.yb(4,0,null,null,1,"app-ie-warning",[["appShowIE11",""]],null,null,null,h_,b_)),i.xb(5,114688,null,0,d_,[i.i],null,null),(e()(),i.yb(6,0,null,null,0,"div",[["class","widget-shell"]],null,null,null,null,null))],(function(e,t){e(t,2,0),e(t,5,0)}),null)}function Bv(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-widget-master",[],null,null,null,Rv,Nv)),i.xb(1,245760,null,0,L_,[te.i,p.m,h.i,h.b,p.a,Dv,Da,au,Pt,St,i.I],null,null)],(function(e,t){e(t,1,0)}),null)}var Hv=i.ub("app-widget-master",L_,Bv,{},{},[]),Vv=function(){function e(){}return e.prototype.transform=function(e,t){return Object(jt.lowerCase)(e).split(" ").map((function(e){return Object(jt.upperFirst)(e)})).join(" ")},e}(),$v=function(){function e(){this.iconType="solid",this.iconPlacement="bottom",this.arrow="",this.color="",this.labelSize="medium",this.label=""}return e.prototype.ngOnInit=function(){},e}(),Qv=i.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}[_nghost-%COMP%]{white-space:nowrap}.button-icon[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.button-icon__label[_ngcontent-%COMP%]{color:#d7e0ea}.theme-light[_nghost-%COMP%]   .button-icon__label[_ngcontent-%COMP%], .theme-light   [_nghost-%COMP%]   .button-icon__label[_ngcontent-%COMP%]{color:#1c2a3f}.theme-dark[_nghost-%COMP%]   .button-icon__label[_ngcontent-%COMP%], .theme-dark   [_nghost-%COMP%]   .button-icon__label[_ngcontent-%COMP%]{color:#d7e0ea}.button-icon__label--light[_ngcontent-%COMP%]{color:#d7e0ea!important}.button-icon__label--dark[_ngcontent-%COMP%]{color:#1c2a3f!important}.button-icon--left[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center}.button-icon--left[_ngcontent-%COMP%]   .button-icon__label[_ngcontent-%COMP%]{padding-right:4px}.button-icon--left[_ngcontent-%COMP%]   .button-icon__label--small[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.button-icon--left[_ngcontent-%COMP%]   .button-icon__label--medium[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.button-icon--left[_ngcontent-%COMP%]   .button-icon__label--large[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.button-icon--left[_ngcontent-%COMP%]   .button-icon__icon[_ngcontent-%COMP%]{margin-right:8px}.button-icon--bottom[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.button-icon--bottom[_ngcontent-%COMP%]   .button-icon__label[_ngcontent-%COMP%]{margin-top:4px}.button-icon--bottom[_ngcontent-%COMP%]   .button-icon__label--small[_ngcontent-%COMP%]{font-size:6px;letter-spacing:.36px;line-height:1.25em;text-transform:uppercase}.button-icon--bottom[_ngcontent-%COMP%]   .button-icon__label--medium[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.button-icon--bottom[_ngcontent-%COMP%]   .button-icon__label--large[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.button-icon__arrow[_ngcontent-%COMP%]{display:inline-block;margin-left:4px}"]],data:{}});function Gv(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-icon",[["class","button-icon__arrow"],["icon","angle-down"],["size","sm"]],null,null,null,ce,ue)),i.xb(1,114688,null,0,re,[],{icon:[0,"icon"],size:[1,"size"]},null)],(function(e,t){e(t,1,0,"angle-down","sm")}),null)}function Wv(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-icon",[["class","button-icon__arrow"],["icon","angle-up"],["size","sm"]],null,null,null,ce,ue)),i.xb(1,114688,null,0,re,[],{icon:[0,"icon"],size:[1,"size"]},null)],(function(e,t){e(t,1,0,"angle-up","sm")}),null)}function qv(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,14,"div",[["class","button-icon"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),i.yb(3,0,null,null,6,"div",[["class","button-icon__icon"]],null,null,null,null,null)),(e()(),i.yb(4,0,null,null,1,"app-icon",[],null,null,null,ce,ue)),i.xb(5,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.ob(16777216,null,null,1,null,Gv)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Wv)),i.xb(9,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(10,0,null,null,4,"div",[["class","button-icon__label"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(12,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(13,{"button-icon__label--light":0,"button-icon__label--dark":1,"button-icon__label--small":2,"button-icon__label--medium":3,"button-icon__label--large":4}),(e()(),i.Sb(14,null,[" "," "]))],(function(e,t){var n=t.component;e(t,2,0,"button-icon","button-icon--"+n.iconPlacement),e(t,5,0,n.icon),e(t,7,0,"down"===n.arrow),e(t,9,0,"up"===n.arrow);var l=e(t,13,0,"light"===n.color,"dark"===n.color,"small"===n.labelSize,"medium"===n.labelSize,"large"===n.labelSize);e(t,12,0,"button-icon__label",l)}),(function(e,t){e(t,14,0,t.component.label)}))}var Yv=function(){function e(e,t,n){this.templateRef=e,this.viewContainer=t,this.router=n,this._appFlagApplicationMode="include"}return Object.defineProperty(e.prototype,"appFlagApplication",{get:function(){return this._appFlagApplication},set:function(e){this._appFlagApplication=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appFlagApplicationMode",{get:function(){return this._appFlagApplicationMode},set:function(e){this._appFlagApplicationMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"appFlagApplicationPage",{get:function(){return this._appFlagApplicationPage},set:function(e){this._appFlagApplicationPage=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.update()},e.prototype.update=function(){var e,t=!1,n=!1;if(""===this.appFlagApplication?t=!0:Array.isArray(this.appFlagApplication)?t=this.appFlagApplication.some((function(e){return e===r.application})):"string"==typeof this.appFlagApplication&&(t=this.appFlagApplication===r.application),null==this.appFlagApplicationPage)n=!0;else{var l=this.router.url;Array.isArray(this.appFlagApplicationPage)?n=this.appFlagApplicationPage.some((function(e){return l.indexOf(e)>=0})):"string"==typeof this.appFlagApplicationPage&&(n=l.indexOf(this.appFlagApplicationPage)>=0)}(e=t&&n)&&"include"===this.appFlagApplicationMode||!e&&"exclude"===this.appFlagApplicationMode?this.viewContainer.createEmbeddedView(this.templateRef):this.viewContainer.clear()},e}(),Xv=function(e){return e.View="view",e.Edit="edit",e.Manage="manage",e.Embed="embed",e.Delete="delete",e.CopyLink="copy-link",e.CopyBookmark="copy-bookmark",e.CopyTeamBookmark="copy-team-bookmark",e}({}),Jv=function(){function e(e,t,n,l,r,u,c,s,p){this.dialog=e,this.dialogService=t,this.store=n,this.actions=l,this.snackbar=r,this.clipboardService=u,this.bookmarksService=c,this.exploreService=s,this.changeDetectorRef=p,this.bookmarkActionsEnum=Xv,this.application=o,this.bookmarkSubject=new Se.a(null),this.bookmarkType=a.Module,this.bookmarkEmbedTypes=[a.Bookmark],this.theme="dark",this.bookmarkActions=[Xv.View,Xv.Edit,Xv.Manage,Xv.Embed,Xv.Delete,Xv.CopyLink],this.otherActions=[],this.otherClick=new i.o,this.ngUnsubscribe=new $.a}return Object.defineProperty(e.prototype,"bookmark",{get:function(){return this._bookmark},set:function(e){null!=e&&this.bookmarkSubject.next(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.bookmarkSubject.pipe(Object(W.a)((function(e){return null!=e})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e._bookmark=t,e.bookmarkId=t.id,e.bindApplicationEvents(),e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.bindApplicationEvents=function(){var e=this;this.actions.pipe(Object(h.l)(ml,Ol),Object(W.a)((function(t){return t.bookmarkId===e.bookmark.id})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.handleDeleteSuccess()})),this.actions.pipe(Object(h.l)(fl,wl),Object(W.a)((function(t){return t.bookmarkId===e.bookmark.id})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.handleDeleteFailure()})),this.actions.pipe(Object(h.l)(st),Object(W.a)((function(){return!e.store.selectSnapshot(Ha.getPublishing)})),Object(W.a)((function(t){return t.model.id===e.bookmark.id})),Object(Ot.a)((function(t){return e.copyToClipboard(t.url)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.snackbar.open(t?"Successfully copied link to clipboard.":"Unable to copy link to clipboard.")})),this.actions.pipe(Object(h.l)(pt),Object(W.a)((function(t){return t.model.id===e.bookmark.id})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.snackbar.open("Unable to generate URL.")})),this.actions.pipe(Object(h.l)(Rl),Object(W.a)((function(t){return t.sourceId===e.bookmark.id})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleCopySuccess(t)})),this.actions.pipe(Object(h.l)(Bl),Object(W.a)((function(t){return t.id===e.bookmark.id})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleCopyFailure(t.error)}))},e.prototype.handleDeleteSuccess=function(){this.snackbar.open("Successfully deleted 3D model")},e.prototype.handleDeleteFailure=function(){this.snackbar.open("There was an error deleting the 3D model")},e.prototype.handleManageClick=function(){this.dialogService.openManageDialog(this.bookmark)},e.prototype.handleMenuOpened=function(){var e=this;this.bookmarkSubject.value||(this.bookmarkType===a.Module?this.exploreService.getConditionModel(this.bookmarkId).subscribe((function(t){e.bookmarkSubject.next(t),e.bookmarkSubject.complete()})):this.bookmarksService.getBookmarkModel(this.bookmarkId).subscribe((function(t){e.bookmarkSubject.next(t),e.bookmarkSubject.complete()})))},e.prototype.handleDeleteClick=function(){this.delete()},e.prototype.handleCopySuccess=function(e){var t=e.collection,n=this.bookmark.title;this.snackbar.open(t?n+' was successfully added to the "'+t.collection_name+'" collection.':e.groupAccess?n+" was successfully added to Team Models.":n+" was successfully added to My Models")},e.prototype.handleCopyFailure=function(e){var t=this;switch(Object(jt.get)(e,"error.error.message")){case"Action forbidden.  Your account content limit has been reached":this.dialogService.openLimitDialog().afterClosed().subscribe((function(e){e&&t.dialogService.openUpgradeDialog()}));break;default:this.snackbar.open("There was an error adding to My Models")}},e.prototype.handleEmbedModel=function(){this.dialog.open(bb,{width:"90vw",height:"95vh",data:{bookmark:this.bookmark}})},e.prototype.handleCopyLinkClick=function(){this.copyLink()},e.prototype.handleCopyBookmarkClick=function(){this.copyBookmark()},e.prototype.handleAddTeamModelClick=function(){this.dialogService.openAddTeamModelDialog(this.bookmark)},e.prototype.handleOtherClick=function(e){this.otherClick.emit(e)},e.prototype.copyToClipboard=function(e){var t=this;return this.clipboardService.copyToClipboard(e).pipe(Object(Ot.a)((function(n){return n?Object(S.a)(n):t.dialogService.openClipboardDialog(e).afterClosed()})))},e.prototype.hasActions=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.some((function(t){return e.hasAction(t)}))},e.prototype.hasAction=function(e){var t=this.bookmarkActions.some((function(t){return t===e}));if(!t)return t;switch(e){case Xv.Delete:return this.bookmark&&this.bookmark.is_owner||this.bookmark.favorite;case Xv.Embed:return this.bookmarkEmbedTypes.includes(this.bookmarkType);case Xv.CopyBookmark:return this.bookmark&&!this.bookmark.is_owner&&!this.bookmark.favorite&&!this.bookmark.unavailable;default:return t}},e.prototype.delete=function(){var e=this;this.dialogService.openConfirmDialog({data:{titleText:"Delete 3D model",bodyText:"Are you sure you want to delete this 3D model?",confirmText:"Delete",confirmColor:"warn"}}).afterClosed().pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){t&&e.store.dispatch(e.bookmark.favorite?new xl(e.bookmark):new hl(e.bookmarkId))}))},e.prototype.copyLink=function(){var e=this.store.selectSnapshot(sp.getWidgetOptions)||new xt;this.store.dispatch(new ct(this.bookmark,e))},e.prototype.copyBookmark=function(){var e=this.store.selectSnapshot(Ra.getUserLocale).lang;this.store.dispatch(new Nl(this.bookmarkId,this.bookmarkType,e))},e}(),Zv=i.wb({encapsulation:0,styles:[[""]],data:{}});function ex(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-spinner",[],null,null,null,Eb,zb)),i.xb(2,114688,null,0,Kb,[],null,null)],(function(e,t){e(t,2,0)}),null)}function tx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==i.Kb(e,2).onClick()&&l),l}),je.c,je.a)),i.xb(1,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),i.xb(2,16384,null,0,p.n,[p.m,p.a,[8,null],i.I,i.l],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),i.Nb(3,{id:0}),i.Lb(4,1),(e()(),i.Sb(-1,0,[" View "]))],(function(e,t){var n=e(t,3,0,t.component.bookmarkId),l=e(t,4,0,"/view");e(t,2,0,n,l)}),(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function nx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i.Sb(-1,null,["Edit in Studio"]))],null,null)}function lx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i.Sb(-1,null,["Edit in Loft"]))],null,null)}function ix(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,8,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==i.Kb(e,2).onClick()&&l),l}),je.c,je.a)),i.xb(1,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),i.xb(2,16384,null,0,p.n,[p.m,p.a,[8,null],i.I,i.l],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),i.Nb(3,{id:0}),i.Lb(4,1),(e()(),i.ob(16777216,null,0,1,null,nx)),i.xb(6,81920,null,0,Yv,[i.Q,i.T,p.m],{appFlagApplication:[0,"appFlagApplication"]},null),(e()(),i.ob(16777216,null,0,1,null,lx)),i.xb(8,81920,null,0,Yv,[i.Q,i.T,p.m],{appFlagApplication:[0,"appFlagApplication"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.bookmarkId),i=e(t,4,0,"/edit");e(t,2,0,l,i),e(t,6,0,n.application.Studio),e(t,8,0,n.application.Loft)}),(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function ox(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(1,49152,null,0,hh.a,[],null,null)],null,(function(e,t){e(t,0,0,i.Kb(t,1).vertical?"vertical":"horizontal",i.Kb(t,1).vertical,!i.Kb(t,1).vertical,i.Kb(t,1).inset)}))}function ax(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleCopyLinkClick()&&l),l}),je.c,je.a)),i.xb(1,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,[" Copy URL "]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function rx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleEmbedModel()&&l),l}),je.c,je.a)),i.xb(1,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,[" Publish... "]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function ux(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(1,49152,null,0,hh.a,[],null,null)],null,(function(e,t){e(t,0,0,i.Kb(t,1).vertical?"vertical":"horizontal",i.Kb(t,1).vertical,!i.Kb(t,1).vertical,i.Kb(t,1).inset)}))}function cx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleManageClick()&&l),l}),je.c,je.a)),i.xb(1,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,[" Manage... "]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function sx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleDeleteClick()&&l),l}),je.c,je.a)),i.xb(1,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,[" Delete... "]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function px(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(1,49152,null,0,hh.a,[],null,null)],null,(function(e,t){e(t,0,0,i.Kb(t,1).vertical?"vertical":"horizontal",i.Kb(t,1).vertical,!i.Kb(t,1).vertical,i.Kb(t,1).inset)}))}function dx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleCopyBookmarkClick()&&l),l}),je.c,je.a)),i.xb(1,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,[" Add to My Models "]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function bx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleAddTeamModelClick()&&l),l}),je.c,je.a)),i.xb(1,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,[" Add to Team Models "]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function gx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,px)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,dx)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,bx)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.hasActions(n.bookmarkActionsEnum.CopyBookmark)),e(t,4,0,n.hasActions(n.bookmarkActionsEnum.CopyBookmark)),e(t,6,0,n.hasActions(n.bookmarkActionsEnum.CopyTeamBookmark))}),null)}function hx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,18,null,null,null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,tx)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,ix)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,ox)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,ax)),i.xb(8,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,rx)),i.xb(10,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,ux)),i.xb(12,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,cx)),i.xb(14,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,sx)),i.xb(16,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,gx)),i.xb(18,81920,null,0,mm,[i.Q,i.T],null,null),(e()(),i.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.hasActions(n.bookmarkActionsEnum.View)),e(t,4,0,n.hasActions(n.bookmarkActionsEnum.Edit)),e(t,6,0,n.hasActions(n.bookmarkActionsEnum.View,n.bookmarkActionsEnum.Edit)),e(t,8,0,n.hasActions(n.bookmarkActionsEnum.CopyLink)),e(t,10,0,n.hasActions(n.bookmarkActionsEnum.Embed)),e(t,12,0,n.hasActions(n.bookmarkActionsEnum.Manage,n.bookmarkActionsEnum.Delete)),e(t,14,0,n.hasActions(n.bookmarkActionsEnum.Manage)),e(t,16,0,n.hasActions(n.bookmarkActionsEnum.Delete)),e(t,18,0)}),null)}function mx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,16,null,null,null,null,null,null,null)),(e()(),i.yb(1,16777216,null,null,4,"button",[["app-button",""],["aria-haspopup","true"],["class","mat-menu-trigger"]],[[1,"aria-expanded",0],[8,"disabled",0]],[[null,"menuOpened"],[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var l=!0,o=e.component;return"mousedown"===t&&(l=!1!==i.Kb(e,2)._handleMousedown(n)&&l),"keydown"===t&&(l=!1!==i.Kb(e,2)._handleKeydown(n)&&l),"click"===t&&(l=!1!==i.Kb(e,2)._handleClick(n)&&l),"menuOpened"===t&&(l=!1!==o.handleMenuOpened()&&l),l}),Qe,$e)),i.xb(2,1196032,null,0,ke.g,[We.a,i.l,i.T,ke.c,[2,ke.d],[8,null],[2,qe.b],be.e],{menu:[0,"menu"]},{menuOpened:"menuOpened"}),i.xb(3,114688,null,0,Ve,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),i.yb(4,0,null,0,1,"app-icon",[["icon","ellipsis-v"]],null,null,null,ce,ue)),i.xb(5,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(6,0,null,null,10,"mat-menu",[],null,null,null,je.d,je.b)),i.Pb(6144,null,ke.d,null,[ke.h]),i.Pb(6144,null,ke.b,null,[ke.d]),i.xb(9,1294336,[["mainMenu",4]],3,ke.h,[i.l,i.C,ke.a],null,null),i.Qb(603979776,1,{_allItems:1}),i.Qb(603979776,2,{items:1}),i.Qb(603979776,3,{lazyContent:0}),(e()(),i.ob(16777216,null,0,1,null,ex)),i.xb(14,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,0,1,null,hx)),i.xb(16,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,i.Kb(t,9)),e(t,3,0,n.theme),e(t,5,0,"ellipsis-v"),e(t,9,0),e(t,14,0,!n.bookmark),e(t,16,0,n.bookmark)}),(function(e,t){e(t,1,0,i.Kb(t,2).menuOpen||null,i.Kb(t,3).disabled)}))}function fx(e){return i.Ub(2,[(e()(),i.ob(16777216,null,null,1,null,mx)),i.xb(1,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.bookmarkId)}),null)}var yx=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},_x=function(){function e(e,t,n,l,i){this.activatedRoute=e,this.store=t,this.changeDetectorRef=n,this.exploreService=l,this.storyService=i,this.ngUnsubscribe=new $.a,this.id="",this.type="",this.category="",this.isLoft=r.application===o.Loft}return e.prototype.ngOnInit=function(){var e=this;this.story$.pipe(Object(W.a)((function(e){return null!=e})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.id=e.activatedRoute.snapshot.queryParams.id,e.type=e.storyService.getStoryType(e.activatedRoute.snapshot.queryParams.id),e.category=e.exploreService.getStoryCategory(t),e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},Object.defineProperty(e.prototype,"bookmarkActions",{get:function(){var e=this.store.selectSnapshot(sp.getOrganization);return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(yx(arguments[t]));return e}([Xv.CopyLink,Xv.Embed,Xv.CopyBookmark],e?[Xv.CopyTeamBookmark]:[])},enumerable:!0,configurable:!0}),Object(g.__decorate)([Object(h.e)(Js.getStory),Object(g.__metadata)("design:type",Q.a)],e.prototype,"story$",void 0),e}(),vx=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-internal-header{padding:12px 12px 0;border-bottom:1px solid #eaeff5;border-bottom:var(--view-internal-header-border)}.view-internal-header__controls{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;padding-bottom:8px}.view-internal-header__logo{background:url(logo-color.e5306d37dd40b7ac98d4.svg) center center no-repeat rgba(215,224,234,.3);background-size:24px 24px;border-radius:4px;border:1px solid #eaeff5;border-bottom:var(--view-internal-header-border);width:36px;height:36px;-webkit-transition:background-color 250ms,background-image 250ms;transition:background-color 250ms,background-image 250ms;-webkit-box-flex:0;flex:0 0 36px}.view-internal-header__logo:hover{background-color:rgba(215,224,234,.6)}.view-internal-header__breadcrumb{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase;cursor:pointer;display:inline-block;margin:16px 0;color:#6a82a4;color:var(--view-internal-header-breadcrumb-color);text-decoration:none}.view-internal-header__breadcrumb:hover{text-decoration:underline}"]],data:{}});function xx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,"a",[["class","view-internal-header__breadcrumb"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),i.xb(1,671744,null,0,p.o,[p.m,p.a,te.i],{routerLink:[0,"routerLink"]},null),i.Lb(2,2),(e()(),i.yb(3,0,null,null,1,"app-icon",[["icon","caret-left"]],null,null,null,ce,ue)),i.xb(4,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.Sb(5,null,[" "," "])),i.Ob(6,1)],(function(e,t){var n=e(t,2,0,"/explore",t.component.category);e(t,1,0,n),e(t,4,0,"caret-left")}),(function(e,t){var n=t.component;e(t,0,0,i.Kb(t,1).target,i.Kb(t,1).href);var l=i.Tb(t,5,0,e(t,6,0,i.Kb(t.parent,0),n.category));e(t,5,0,l)}))}function Ox(e){return i.Ub(2,[i.Mb(0,Vv,[]),(e()(),i.yb(1,0,null,null,16,"div",[["class","view-internal-header"]],null,null,null,null,null)),(e()(),i.yb(2,0,null,null,13,"div",[["class","view-internal-header__controls"]],null,null,null,null,null)),(e()(),i.yb(3,16777216,null,null,2,"a",[["class","view-internal-header__logo"],["matTooltip","Back to Dashboard"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),"longpress"===t&&(l=!1!==i.Kb(e,5).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,5)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,5)._handleTouchend()&&l),l}),null,null)),i.xb(4,671744,null,0,p.o,[p.m,p.a,te.i],{routerLink:[0,"routerLink"]},null),i.xb(5,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),(e()(),i.yb(6,0,null,null,9,"div",[["class","panel__actions hide-sm"]],null,null,null,null,null)),(e()(),i.yb(7,0,null,null,6,"button",[["app-button",""],["buttonTheme","light"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,8).onClick()&&l),l}),Qe,$e)),i.xb(8,16384,null,0,p.n,[p.m,p.a,[8,null],i.I,i.l],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),i.Nb(9,{id:0}),i.Lb(10,1),i.xb(11,114688,null,0,Ve,[],{buttonTheme:[0,"buttonTheme"]},null),(e()(),i.yb(12,0,null,0,1,"app-button-icon",[["icon","pen"],["iconPlacement","left"]],null,null,null,qv,Qv)),i.xb(13,114688,null,0,$v,[],{icon:[0,"icon"],iconPlacement:[1,"iconPlacement"],label:[2,"label"]},null),(e()(),i.yb(14,0,null,null,1,"app-bookmark-actions",[["theme","light"]],null,null,null,fx,Zv)),i.xb(15,245760,null,0,Jv,[Zd.e,tb,h.i,h.b,nb.c,_p,op,tp,i.i],{bookmarkId:[0,"bookmarkId"],bookmarkType:[1,"bookmarkType"],theme:[2,"theme"],bookmarkActions:[3,"bookmarkActions"]},null),(e()(),i.ob(16777216,null,null,1,null,xx)),i.xb(17,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,"/"),e(t,5,0,"Back to Dashboard");var l=e(t,9,0,n.id),i=e(t,10,0,"/edit");e(t,8,0,l,i),e(t,11,0,"light"),e(t,13,0,"pen","left",n.isLoft?"Edit in Loft":"Edit in Studio"),e(t,15,0,n.id,n.type,"light",n.bookmarkActions),e(t,17,0,"module"===n.type&&n.category)}),(function(e,t){e(t,3,0,i.Kb(t,4).target,i.Kb(t,4).href),e(t,7,0,i.Kb(t,11).disabled)}))}var wx=function(){function e(){this.unpadded=!1}return e.prototype.ngOnInit=function(){},e.prototype.updateViewHeight=function(){var e=.01*window.innerHeight;this.viewColumn.nativeElement.style.setProperty("--vh",e+"px")},e}(),Cx=i.wb({encapsulation:0,styles:[[".view-column[_ngcontent-%COMP%]{pointer-events:initial;background:#fff;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#131c2a;background:var(--view-column-background);box-shadow:var(--view-column-toggle-shadow);color:var(--view-column-color);width:320px;height:100%;position:absolute;left:0;z-index:30}.view-column--unpadded[_ngcontent-%COMP%]   .view-column__body[_ngcontent-%COMP%]{padding:0}.view-column__inner[_ngcontent-%COMP%]{background:#fff;border-right:1px solid #eaeff5;background:var(--view-column-background);border-right:var(--view-column-border);display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%;width:320px;position:absolute;left:0;-webkit-transition:left .5s;transition:left .5s;z-index:10}.view-column__inner--out[_ngcontent-%COMP%]{left:-320px}.view-column__header[_ngcontent-%COMP%]{flex-shrink:1;background:var(--view-column-background)}.view-column__header[_ngcontent-%COMP%]:empty{display:none}.view-column__body[_ngcontent-%COMP%]{overflow-y:auto;-webkit-box-flex:1;flex-grow:1;height:100%;padding:16px 12px}"]],data:{}});function jx(e){return i.Ub(2,[i.Qb(671088640,1,{viewColumn:0}),(e()(),i.yb(1,0,[[1,0],["viewColumn",1]],null,8,"div",[["class","view-column"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(3,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(4,{"view-column--unpadded":0}),(e()(),i.yb(5,0,null,null,4,"div",[["class","view-column__inner"]],null,null,null,null,null)),(e()(),i.yb(6,0,null,null,1,"div",[["class","view-column__header"]],null,null,null,null,null)),i.Jb(null,0),(e()(),i.yb(8,0,null,null,1,"div",[["class","view-column__body"]],null,null,null,null,null)),i.Jb(null,1)],(function(e,t){var n=e(t,4,0,t.component.unpadded);e(t,3,0,"view-column",n)}),null)}var kx=function(){function e(){this.label="",this.showHeader=!0}return e.prototype.ngOnInit=function(){},e}(),Sx=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-panel{padding:0 0 32px;margin-bottom:16px;border-bottom:var(--view-panel-border)}.view-panel__label{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;color:var(--view-panel-color);font-weight:600;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;min-height:28px}.view-panel__header{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:justify;justify-content:space-between;margin-bottom:16px}"]],data:{}});function Px(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"div",[["class","view-panel__header"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"div",[["class","view-panel__label"]],null,null,null,null,null)),(e()(),i.Sb(2,null,[" "," "])),i.Jb(null,0)],null,(function(e,t){e(t,2,0,t.component.label)}))}function Ix(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,3,"div",[["class","view-panel"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Px)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Jb(null,1)],(function(e,t){e(t,2,0,t.component.showHeader)}),null)}var Mx=function(){function e(e){this.domSanitizer=e}return Object.defineProperty(e.prototype,"html",{set:function(e){this.safeHTML=this.domSanitizer.bypassSecurityTrustHtml(e||"")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e}(),Tx=i.wb({encapsulation:2,styles:[['.html a,.html a:visited{color:var(--view-description-link-color)}.html a:hover{text-decoration:none}.html p{padding-bottom:16px}.html ol,.html ul{margin:8px}.html ul{list-style-type:disc}.html ol{list-style-type:decimal}.html li{margin-left:8px}.html b,.html strong{font-weight:700}.html em,.html i{font-style:italic}.html sub{vertical-align:sub;font-size:.8em}.html sup{vertical-align:super;font-size:.8em}.html dt,.html mark{display:inline-block;width:16px;height:16px;border-radius:50%;overflow:hidden}.html dt{float:left;clear:left;margin:0 4px 0 0}.html dd:after{content:"";display:block;margin-bottom:12px}']],data:{}});function Kx(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,0,"div",[["class","html"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.safeHTML)}))}var zx=function(){function e(e){this.changeRef=e,this.playingChange=new i.o,this.readyChange=new i.o,this.mediaSupportCache={},this.source="",this.ngUnsubscribe=new $.a}return Object.defineProperty(e.prototype,"media",{get:function(){return this._media},set:function(e){e&&this.setMedia(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},set:function(e){e!==this.playing&&(this._playing=e,this.playingChange.emit(this.playing))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return this._ready},set:function(e){e!==this.ready&&(this._ready=e,this.readyChange.emit(this.ready))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initMediaEvents(),this.initMediaPlayback()},e.prototype.ngOnDestroy=function(){this.pause(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.play=function(){this.ready&&this._audioEl.play()},e.prototype.pause=function(){this.ready&&this._audioEl.pause()},e.prototype.reset=function(){this.pause(),this.time=0,this.playing=!1,this.ready=!1,this.error=!1,this.changeRef.markForCheck()},e.prototype.setMedia=function(e){this._media=e,this.source="/content/states/"+this.media.data.fullUrl,this.initMediaPlayback()},e.prototype.initMediaPlayback=function(){this.autoPlay=this.playing,this.reset()},e.prototype.initMediaEvents=function(){var e=this;this._audioEl=this.audioElRef.nativeElement,this.reset(),Object(Qg.a)(this._audioEl,"loadeddata").pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.ready=e._audioEl.readyState>0})),Object(Qg.a)(this._audioEl,"play").pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.playing=!0,e.changeRef.markForCheck()})),Object(Qg.a)(this._audioEl,"pause").pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.playing=!1,e.changeRef.markForCheck()})),Object(Qg.a)(this._audioEl,"timeupdate").pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.time=e._audioEl.currentTime})),Object(Qg.a)(this._audioEl,"canplay").pipe(Object(W.a)((function(){return!e.playing&&e.autoPlay})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.play()})),Object(Qg.a)(this._audioEl,"error").pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.error=!0}))},e}(),Lx=i.wb({encapsulation:0,styles:[[""]],data:{}});function Ex(e){return i.Ub(2,[i.Qb(402653184,1,{audioElRef:0}),(e()(),i.yb(1,0,[[1,0],["audioElRef",1]],null,0,"audio",[["type","audio/m4a"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,1,0,t.component.source)}))}var Ux,Fx=function(){function e(){this.selectable=!1,this.size="medium",this.buttonType="default",this.direction="column",this._selected=!1,this.disabled=!1,this.selectedChange=new i.o}return Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=e,this.selectedChange=new i.o},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.handleClick=function(){this.disabled||this.selectable&&(this.selected=!this.selected)},e}(),Ax=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}button[app-pin-button]{border-color:transparent;background:0 0;border-width:0;padding:0;outline:0;margin:0}button[app-pin-button]:not([disabled]):hover{cursor:pointer}.pin-button{display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;-webkit-box-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent}.pin-button:hover{cursor:pointer}.pin-button:hover:not(.pin-button--selected):not(.pin-button--disabled) .pin-button__pin{background:#d7e0ea;background:var(--pin-button-pin-background--hover)}.pin-button:active:hover .pin-button__pin{background:#d7e0ea;background:var(--pin-button-pin-background--active)}.pin-button--selected .pin-button__pin{background-color:#2d72dc;background-color:var(--pin-button-pin-background--selected);color:#fff;color:var(--pin-button-pin-color--selected)}.pin-button--selected .pin-button__label{color:#2d72dc;color:var(--pin-button-label-color--selected);font-weight:600}.pin-button--small .pin-button__pin{border-radius:14px;min-width:28px;height:28px}.pin-button--small .pin-button__label{margin-top:0}.pin-button--row{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.pin-button--row .pin-button__label{margin:0 0 0 4px}.pin-button--ghost:not(.pin-button--selected) .pin-button__pin{background:0 0}.pin-button--outline:not(.pin-button--selected) .pin-button__pin{background:0 0;border:var(--pin-button-pin-border)}.pin-button--disabled{opacity:.2}.pin-button--disabled:hover{cursor:auto}.pin-button--floating .pin-button__pin{background-color:#fff;background-color:var(--pin-button-pin-background--floating);box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);box-shadow:var(--pin-button-shadow)}.pin-button__pin{border-radius:18px;display:-webkit-box;display:flex;font-size:12px;float:left;min-width:36px;height:36px;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:relative;background-color:#eaeff5;color:#1c2a3f;background-color:var(--pin-button-pin-background);color:var(--pin-button-pin-color);-webkit-transition:background-color 125ms;transition:background-color 125ms}.pin-button__label{font-size:10px;letter-spacing:.25px;line-height:1.4em;color:#1c2a3f;color:var(--pin-button-label-color);padding:2px 0 4px}.pin-button__image{width:100%;height:100%;background-size:50%;background-repeat:no-repeat;background-position:center}"]],data:{}});function Dx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-icon",[],null,null,null,ce,ue)),i.xb(1,114688,null,0,re,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,t.component.icon)}),null)}function Nx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"span",[["class","pin-button__image"]],[[4,"backgroundImage",null]],null,null,null,null))],null,(function(e,t){e(t,0,0,"url("+t.component.src+")")}))}function Rx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"div",[["class","pin-button__label"]],null,null,null,null,null)),(e()(),i.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.label)}))}function Bx(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,11,"div",[["class","pin-button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleClick()&&l),l}),null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"pin-button--selected":0,"pin-button--disabled":1,"pin-button--small":2,"pin-button--ghost":3,"pin-button--outline":4,"pin-button--floating":5,"pin-button--row":6}),(e()(),i.yb(4,0,null,null,5,"div",[["class","pin-button__pin"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Dx)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Nx)),i.xb(8,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Jb(null,0),(e()(),i.ob(16777216,null,null,1,null,Rx)),i.xb(11,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.selected,n.disabled,"small"===n.size,"ghost"===n.buttonType,"outline"===n.buttonType,"floating"===n.buttonType,"row"===n.direction);e(t,2,0,"pin-button",l),e(t,6,0,n.icon),e(t,8,0,n.src),e(t,11,0,n.label)}),null)}!function(e){e.normalize=function(e){return(""+(e||"")).replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)})).replace(/(&.+;)/gi,(function(e,t){return String.fromCharCode(e.charCodeAt(0))}))}}(Ux||(Ux={}));var Hx=function(){function e(){}return e.prototype.transform=function(e,t){return Ux.normalize(""+(e||""))},e}(),Vx=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},$x=function(){function e(e,t){this.layoutService=e,this.changeDetectorRef=t,this._isPopulated=!1,this.isPopulatedChange=new i.o,this.viewLayout=y_,this.ngUnsubscribe=new $.a,this.chapterTitle="",this.chapterAudio=null}return Object.defineProperty(e.prototype,"isPopulated",{get:function(){return this._isPopulated},set:function(e){this._isPopulated=e,this.isPopulatedChange.emit(this.isPopulated)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initContentListener(),this.initLayoutListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.isEnabled=function(e){return this.layoutService.isLayoutEnabled(e)},e.prototype.initContentListener=function(){var e=this;Object(Id.b)(this.chapter$,this.selectedChapterAudio$).pipe(Object(W.a)((function(e){return null!=Vx(e,2)[0]})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Vx(t,2),l=n[1];e.chapterTitle=Ux.normalize(n[0].info.displayName),e.chapterAudio=l,e.isPopulated=!!e.chapterTitle||null!=e.chapterAudio}))},e.prototype.initLayoutListener=function(){var e=this;this.layout$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.changeDetectorRef.markForCheck()}))},e.prototype.handleAudioPlayClick=function(){this.audio.playing?this.audio.pause():this.audio.play()},Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapter),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapter$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterAudio),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedChapterAudio$",void 0),Object(g.__decorate)([Object(h.e)(jy.getLayout),Object(g.__metadata)("design:type",Q.a)],e.prototype,"layout$",void 0),e}(),Qx=function(){function e(e){this.store=e,this.layout=null,this.breakpoint=null}return e.prototype.getBase=function(){return{layout:this.store.selectSnapshot(jy.getLayout),breakpoint:this.store.selectSnapshot(Ny.getBreakpoint),loaderActive:this.store.selectSnapshot(jy.getLoaderActive)}},e.prototype.isDrawerVisible=function(){var e=this.getBase(),t=e.layout;return!e.loaderActive&&!(e.breakpoint>=Ay.Large)&&(r.application!==o.Viewer||t.drawer.enable||t.nodeInfo.status===ry.Show||t.labelInfo.status===ry.Show)},e.prototype.isColumnVisible=function(){var e=this.getBase(),t=e.layout;return!e.loaderActive&&!(e.breakpoint<Ay.Large)&&t.column.status!==ry.Collapse&&(r.application!==o.Viewer||t.column.enable&&this.doesContentShow())},e.prototype.isColumnToggleVisible=function(){var e=this.getBase();return!e.loaderActive&&!(e.breakpoint<Ay.Large)&&e.layout.column.enable&&this.doesContentShow()},e.prototype.isTitleOnlyVisible=function(){var e=this.getBase(),t=e.layout;return!e.loaderActive&&!(e.breakpoint<Ay.Large)&&!this.doesContentShow()&&t.titleOnly.enable},e.prototype.isToolsVisible=function(){return!this.getBase().loaderActive&&this.isLayoutVisible(y_.Tools)},e.prototype.isToolbarVisible=function(){var e=this.getBase();return!e.loaderActive&&e.layout.toolbar.enable},e.prototype.isLogoVisible=function(){return this.getBase().layout.logo.enable},e.prototype.isCameraVisible=function(){var e=this.getBase();return!e.loaderActive&&e.layout.camera.enable},e.prototype.isPaginationVisible=function(){var e=this.getBase();return!e.loaderActive&&e.layout.pagination.enable},e.prototype.isMenuVisible=function(){var e=this.getBase();return!e.loaderActive&&e.layout.menu.enable},e.prototype.isNodeInfoColumnVisible=function(){var e=this.getBase(),t=e.layout,n=e.breakpoint;return!e.loaderActive&&(!!(n>=Ay.Large&&this.isLayoutVisible(y_.NodeInfo))||(n<Ay.Large?!t.drawer.enable&&this.isLayoutVisible(y_.NodeInfo):void 0))},e.prototype.isNodeInfoVisible=function(e){var t=this.getBase(),n=t.breakpoint;return!t.loaderActive&&(n>=Ay.Large&&"column"===e?this.isLayoutVisible(y_.NodeInfo):n<Ay.Large&&"drawer"===e&&this.isLayoutVisible(y_.NodeInfo))},e.prototype.isSearchColumnVisible=function(){return!this.getBase().loaderActive&&this.isLayoutVisible(y_.Search)},e.prototype.isVisible=function(e){switch(e){case y_.Column:return this.isColumnVisible();case y_.ColumnToggle:return this.isColumnToggleVisible();case y_.Drawer:return this.isDrawerVisible();case y_.TitleOnly:return this.isTitleOnlyVisible();case y_.Tools:return this.isToolsVisible();case y_.Toolbar:return this.isToolbarVisible();case y_.Logo:return this.isLogoVisible();case y_.Camera:return this.isCameraVisible();case y_.Pagination:return this.isPaginationVisible();case y_.Menu:return this.isMenuVisible();case y_.Search:return this.isSearchColumnVisible();default:return this.isLayoutVisible(e)}},e.prototype.isLayoutVisible=function(e){var t=this.store.selectSnapshot(jy.getLayout),n=this.store.selectSnapshot(jy.getLoaderActive);return t[e]?!n&&t[e].enable&&t[e].status!==ry.Hide:(console.warn("Attempting to check visibility of a non-existent element: ${element}"),!1)},e.prototype.isLayoutEnabled=function(e){return this.store.selectSnapshot(jy.getLayout)[e].enable},e.prototype.doesContentShow=function(){var e=this.getBase().layout,t=this.store.selectSnapshot(Fp.getChapterLabels),n=this.store.selectSnapshot(Zc.getChapterCount),l=Object(jt.get)(this.store.selectSnapshot(Zc.getSelectedChapter),"info.description");return e.labelList.enable&&t.length>0||e.chapterList.enable&&n>1||null!=l&&Object(jt.trim)(l).length>0},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(h.i))},token:e,providedIn:"root"}),e}(),Gx=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-title{font-size:14px;letter-spacing:.35px;line-height:1.4em;word-wrap:break-word;overflow-wrap:break-word;font-weight:600;color:var(--view-title-color);text-align:left}.view-title--center{text-align:center}.view-title--large{font-size:18px;letter-spacing:.45px;line-height:1.4em}"]],data:{}});function Wx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"div",[["class","view-title__audio"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-view-audio",[],null,null,null,Ex,Lx)),i.xb(2,245760,[[1,4],["audio",4]],0,zx,[i.i],{media:[0,"media"]},null),(e()(),i.yb(3,0,null,null,1,"button",[["app-pin-button",""],["buttonType","ghost"],["direction","row"],["size","small"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleAudioPlayClick()&&l),l}),Bx,Ax)),i.xb(4,114688,null,0,Fx,[],{icon:[0,"icon"],label:[1,"label"],size:[2,"size"],buttonType:[3,"buttonType"],direction:[4,"direction"],selected:[5,"selected"]},null)],(function(e,t){e(t,2,0,t.component.chapterAudio),e(t,4,0,i.Kb(t,2).playing?"volume-mute":"volume",i.Kb(t,2).playing?"Pause Audio":"Play Audio","small","ghost","row",i.Kb(t,2).playing)}),null)}function qx(e){return i.Ub(2,[i.Mb(0,Hx,[]),i.Qb(671088640,1,{audio:0}),(e()(),i.yb(2,0,null,null,8,"header",[["class","view-title"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(4,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(5,{"view-title--center":0,"view-title--large":1}),(e()(),i.yb(6,0,null,null,2,"h1",[["id","view-chapter-title"]],null,null,null,null,null)),(e()(),i.Sb(7,null,["",""])),i.Ob(8,1),(e()(),i.ob(16777216,null,null,1,null,Wx)),i.xb(10,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,5,0,"center"===n.alignTitle,"large"===n.size);e(t,4,0,"view-title",l),e(t,10,0,n.chapterAudio&&n.isEnabled(n.viewLayout.Audio))}),(function(e,t){var n=t.component,l=i.Tb(t,7,0,e(t,8,0,i.Kb(t,0),n.chapterTitle));e(t,7,0,l)}))}var Yx=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Xx=function(){function e(e,t,n){this.viewService=e,this.layoutService=t,this.changeDetectorRef=n,this.viewLayout=y_,this.ngUnsubscribe=new $.a,this.storyTitle="",this.chapterTitle="",this.chapterDescription="",this.chapterAudio=null,this.layout="drawer",this._isPopulated=!1,this.isPopulatedChange=new i.o}return Object.defineProperty(e.prototype,"isPopulated",{get:function(){return this._isPopulated},set:function(e){this._isPopulated=e,this.isPopulatedChange.emit(this.isPopulated)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initContentListener(),this.initLayoutListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.isEnabled=function(e){return this.layoutService.isLayoutEnabled(e)},e.prototype.initContentListener=function(){var e=this;Object(Id.b)(this.story$,this.chapter$,this.selectedChapterAudio$).pipe(Object(W.a)((function(e){var t=Yx(e,3);return null!=t[0]&&null!=t[1]})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Yx(t,3),l=n[1],i=n[2];e.storyTitle=r.application!==o.Viewer?Ux.normalize(n[0].displayName):"",e.chapterTitle=Ux.normalize(l.info.displayName),e.chapterDescription=Object(jt.trim)(l.info.description),e.chapterAudio=i,e.isPopulated=null!=!!e.storyTitle||!!e.chapterTitle||!!e.chapterDescription||null!=e.chapterAudio}))},e.prototype.initLayoutListener=function(){var e=this;this.layout$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.changeDetectorRef.markForCheck()}))},e.prototype.handlePreviousChapterClick=function(){this.viewService.previousChapter()},e.prototype.handleNextChapterClick=function(){this.viewService.nextChapter()},e.prototype.handleAudioPlayClick=function(){this.audio.playing?this.audio.pause():this.audio.play()},Object(g.__decorate)([Object(h.e)(Js.getStory),Object(g.__metadata)("design:type",Q.a)],e.prototype,"story$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapter),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapter$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterIndex),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapterIndex$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getChapterCount),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapterCount$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterAudio),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedChapterAudio$",void 0),Object(g.__decorate)([Object(h.e)(jy.getLayout),Object(g.__metadata)("design:type",Q.a)],e.prototype,"layout$",void 0),e}(),Jx=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-description{color:var(--view-description-primary-color);display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:left;justify-content:left}.view-description--layout-column .view-description__chapter-title{font-size:18px;letter-spacing:.45px;line-height:1.4em}.view-description--layout-column .view-description__body{padding-top:12px}.view-description--layout-drawer .view-description__story-title{text-align:center}.view-description--layout-drawer .view-description__chapter-title{font-size:14px;letter-spacing:.35px;line-height:1.4em;text-align:center}.view-description--layout-drawer .view-description__story-title--large{font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-description__inner{-webkit-box-flex:1;flex:1}.view-description__story-title{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase;word-wrap:break-word;overflow-wrap:break-word;-webkit-box-flex:1;flex-grow:1;font-weight:600;color:var(--view-description-secondary-color)}.view-description__story-title--large{font-size:18px;letter-spacing:.45px;line-height:1.4em;text-transform:initial}.view-description__body{font-size:14px;letter-spacing:.35px;line-height:1.4em;word-wrap:break-word;overflow-wrap:break-word;padding-top:8px;color:var(--view-description-secondary-color)}"]],data:{}});function Zx(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"div",[["class","view-description__story-title"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"view-description__story-title--large":0}),(e()(),i.Sb(4,null,[" "," "]))],(function(e,t){var n=e(t,3,0,!t.component.chapterTitle);e(t,2,0,"view-description__story-title",n)}),(function(e,t){e(t,4,0,t.component.storyTitle)}))}function eO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[["class","view-description__body"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-view-html",[],null,null,null,Kx,Tx)),i.xb(2,114688,null,0,Mx,[$a.b],{html:[0,"html"]},null)],(function(e,t){e(t,2,0,t.component.chapterDescription)}),null)}function tO(e){return i.Ub(2,[i.Qb(671088640,1,{audio:0}),(e()(),i.yb(1,0,null,null,12,"div",[["class","view-description"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(3,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(4,{"view-description--layout-column":0,"view-description--layout-drawer":1}),(e()(),i.yb(5,0,null,null,8,"div",[["class","view-description__inner"]],null,null,null,null,null)),(e()(),i.yb(6,0,null,null,7,"article",[["aria-labelledby","view-chapter-title"],["aria-roledescription","Chapter Description"],["role","region"]],null,null,null,null,null)),(e()(),i.yb(7,0,null,null,4,"header",[["class","view-description__header"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Zx)),i.xb(9,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(10,0,null,null,1,"app-view-title",[],null,null,null,qx,Gx)),i.xb(11,245760,null,0,$x,[Qx,i.i],{size:[0,"size"],alignTitle:[1,"alignTitle"]},null),(e()(),i.ob(16777216,null,null,1,null,eO)),i.xb(13,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,4,0,"column"===n.layout,"drawer"===n.layout);e(t,3,0,"view-description",l),e(t,9,0,n.storyTitle&&n.storyTitle!=n.chapterTitle),e(t,11,0,"column"===n.layout?"large":"medium","column"===n.layout?"left":"center"),e(t,13,0,n.chapterDescription)}),null)}var nO=function(){function e(e){this.viewService=e}return e.prototype.ngOnInit=function(){},e.prototype.handleLabelClick=function(e){this.viewService.selectLabel(e,!0)},Object(g.__decorate)([Object(h.e)(Fp.getChapterLabels),Object(g.__metadata)("design:type",Q.a)],e.prototype,"labels$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getSelectedLabel),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedLabel$",void 0),e}(),lO=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-labels__item{outline:0;border-left:4px solid transparent;border-left:var(--view-labels-border);border-radius:2px;display:-webkit-box;display:flex;padding:12px 8px;margin-bottom:4px;cursor:pointer;-webkit-transition:background-color 125ms,color 125ms,border 125ms;transition:background-color 125ms,color 125ms,border 125ms}.view-labels__item:hover{background:#f1f5fc;background:var(--view-labels-bg--hover)}.view-labels__item--selected{background:#f1f5fc;border-left:4px solid #2d72dc;background:var(--view-labels-bg--selected);border-left:var(--view-labels-border--selected)}.view-labels__pre{-webkit-box-flex:0;flex:0 0 32px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.view-labels__pin{border:1px solid #131c2a;background-color:transparent;color:#131c2a;border:var(--view-labels-pin-border);background-color:var(--view-labels-pin-bg);color:var(--view-labels-pin-color);border-radius:50%;font-family:Helvetica,Arial,sans-serif;width:16px;height:16px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-transition:background-color .1s,border-color .1s,color .1s;transition:background-color .1s,border-color .1s,color .1s}.view-labels__title{font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-labels__description{color:#374a68;color:var(--view-labels-description-color);padding-top:4px;font-size:14px;letter-spacing:.35px;line-height:1.4em}"]],data:{}});function iO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"div",[["style","height: 18px"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["+"]))],null,null)}function oO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"div",[["class","view-labels__description"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit.description)}))}function aO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,12,"li",[["aria-role","button"],["class","view-labels__item"],["tabindex","0"]],[[1,"aria-label",0]],[[null,"click"],[null,"keyup.enter"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleLabelClick(e.context.$implicit)&&l),"keyup.enter"===t&&(l=!1!==i.handleLabelClick(e.context.$implicit)&&l),l}),null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Mb(131072,te.b,[i.i]),i.Nb(4,{"view-labels__item--selected":0}),(e()(),i.yb(5,0,null,null,3,"div",[["class","view-labels__pre"]],null,null,null,null,null)),(e()(),i.yb(6,0,null,null,2,"div",[["class","view-labels__pin"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,iO)),i.xb(8,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(9,0,null,null,3,"div",[["class","view-labels__body"]],null,null,null,null,null)),(e()(),i.yb(10,0,null,null,0,"div",[["class","view-labels__title"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,oO)),i.xb(12,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n,l=t.component,o=e(t,4,0,(null==(n=i.Tb(t,2,1,i.Kb(t,3).transform(l.selectedLabel$)))?null:n.id)===t.context.$implicit.id);e(t,2,0,"view-labels__item",o),e(t,8,0,"plusMinus"===t.context.$implicit.pinType),e(t,12,0,t.context.$implicit.description)}),(function(e,t){e(t,0,0,t.context.$implicit.title),e(t,10,0,t.context.$implicit.title)}))}function rO(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,4,"nav",[["aria-label","Labels"],["role","navigation"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,3,"ul",[["class","view-labels"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,2,null,aO)),i.xb(3,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,3,0,i.Tb(t,3,0,i.Kb(t,4).transform(n.labels$)))}),null)}var uO=function(){function e(e,t,n,l){this.store=e,this.viewService=t,this.layoutService=n,this.changeDetectorRef=l,this.ngUnsubscribe=new $.a,this.layout="column",this.viewLayout=y_}return e.prototype.ngOnInit=function(){var e=this;this.store.select(jy.getLayout).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.isVisible=function(e){return this.layoutService.isLayoutVisible(e)},e.prototype.isEnabled=function(e){return this.layoutService.isLayoutEnabled(e)},e.prototype.handlePrevClick=function(){this.selectLabel(-1)},e.prototype.handleNextClick=function(){this.selectLabel(1)},e.prototype.selectLabel=function(e){var t=this.store.selectSnapshot(Fp.getChapterLabels),n=t.length,l=this.store.selectSnapshot(Fp.getSelectedLabelId),i=t.findIndex((function(e){return e.id===l})),o=t[((-1!==i?i+e:0)%n+n)%n];o&&this.viewService.selectLabel(o,!0)},Object(g.__decorate)([Object(h.e)(Zc.getStoryChapters),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapters$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getChapterLabels),Object(g.__metadata)("design:type",Q.a)],e.prototype,"labels$",void 0),e}(),cO=i.wb({encapsulation:0,styles:[[".view-content-mode[_ngcontent-%COMP%]{padding-bottom:24px}"]],data:{}});function sO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"app-view-panel",[],[[8,"hidden",0]],null,null,Ix,Sx)),i.xb(1,114688,null,0,kx,[],{showHeader:[0,"showHeader"]},null),(e()(),i.yb(2,0,null,1,1,"app-view-description",[],null,[[null,"isPopulatedChange"]],(function(e,t,n){var l=!0;return"isPopulatedChange"===t&&(l=!1!==(e.component.isPopulated=n)&&l),l}),tO,Jx)),i.xb(3,245760,null,0,Xx,[n_,Qx,i.i],{layout:[0,"layout"],isPopulated:[1,"isPopulated"]},{isPopulatedChange:"isPopulatedChange"})],(function(e,t){var n=t.component;e(t,1,0,!1),e(t,3,0,n.layout,n.isPopulated)}),(function(e,t){e(t,0,0,!t.component.isPopulated)}))}function pO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,"div",[["actions",""],["class","flex"]],null,null,null,null,null)),(e()(),i.yb(1,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","chevron-left"],["matTooltip","Previous Label"],["size","small"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,2).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,2)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,2)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handlePrevClick()&&l),l}),Bx,Ax)),i.xb(2,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(3,114688,null,0,Fx,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),i.yb(4,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","chevron-right"],["matTooltip","Next Label"],["size","small"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,5).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,5)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,5)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleNextClick()&&l),l}),Bx,Ax)),i.xb(5,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(6,114688,null,0,Fx,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null)],(function(e,t){e(t,2,0,"Previous Label"),e(t,3,0,"chevron-left","small","ghost"),e(t,5,0,"Next Label"),e(t,6,0,"chevron-right","small","ghost")}),null)}function dO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,"app-view-panel",[["label","Labels"]],null,null,null,Ix,Sx)),i.xb(1,114688,null,0,kx,[],{label:[0,"label"]},null),(e()(),i.ob(16777216,null,0,2,null,pO)),i.xb(3,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(5,0,null,1,1,"app-view-labels",[],null,null,null,rO,lO)),i.xb(6,114688,null,0,nO,[n_],null,null)],(function(e,t){var n,l=t.component;e(t,1,0,"Labels"),e(t,3,0,(null==(n=i.Tb(t,3,0,i.Kb(t,4).transform(l.labels$)))?null:n.length)>1),e(t,6,0)}),null)}function bO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"app-view-panel",[["label","Chapters"]],null,null,null,Ix,Sx)),i.xb(1,114688,null,0,kx,[],{label:[0,"label"]},null),(e()(),i.yb(2,0,null,1,1,"app-view-chapters",[],null,null,null,o_,l_)),i.xb(3,4440064,null,0,Hf,[h.i,n_,i.i],{autoscroll:[0,"autoscroll"]},null)],(function(e,t){e(t,1,0,"Chapters"),e(t,3,0,!1)}),null)}function gO(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,8,"div",[["class","view-content-mode"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,sO)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,2,null,dO)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,bO)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n,l,o=t.component;e(t,2,0,o.isVisible(o.viewLayout.Description)),e(t,4,0,(null==(n=i.Tb(t,4,0,i.Kb(t,5).transform(o.labels$)))?null:n.length)&&o.isVisible(o.viewLayout.LabelList)),e(t,7,0,(null==(l=i.Tb(t,7,0,i.Kb(t,8).transform(o.chapters$)))?null:l.length)>1&&o.isVisible(o.viewLayout.ChapterList)&&"drawer"!=o.layout)}),null)}var hO=function(){function e(e){this.el=e}return e.prototype.ngAfterContentInit=function(){var e=this;setTimeout((function(){e.el.nativeElement.focus()}),0)},e}(),mO=function(){function e(){}return e.prototype.onClick=function(e,t){t.select()},e}(),fO=function(){function e(e,t){this.graphService=e,this.store=t,this.treeTheme=my,this.graphSubject=new Se.a(null),this.theme=my.Dark,this.nodes=[],this.ngUnsubscribe=new $.a}return Object.defineProperty(e.prototype,"graph",{get:function(){return this._graph},set:function(e){e&&(this._graph=e,this.graphSubject.next(e))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.graphSubject.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){t&&e.getNodes()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.getNodes=function(){var e=this.node?Ar.getSuccessors(this.graph,this.node.id):Ar.getRoots(this.graph);this.nodes=this.graphService.getNodes(this.graph,e)},e.prototype.countChildren=function(e){return Ar.getSuccessors(this.graph,e.id).length},e.prototype.hasChildren=function(e){return this.countChildren(e)>0},e.prototype.trackTreeNode=function(e,t){return t.id},e.prototype.handleExpandClick=function(e,t){this.store.dispatch(t?new Oa(e):new xa(e))},e}(),yO=function(){function e(e,t,n,l,i){this.store=e,this.graphService=t,this.changeDetectorRef=n,this.clipboardService=l,this.snackbar=i,this.application=o,this.shortId="",this.theme="dark"}return Object.defineProperty(e.prototype,"node",{get:function(){return this._node},set:function(e){this._node=e;var t=this.node.id.split("-");this.shortId=2===t.length?t[1]:t[0]},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.isChecked=function(e){return this.store.selectSnapshot(ay.getCheckedNodes).some((function(t){return t.id===e.id}))},e.prototype.checkNode=function(e,t){void 0===t&&(t=!this.isChecked(e)),this.store.dispatch(new ya(e,t))},e.prototype.checkInverse=function(e){this.store.dispatch(new va([e]))},e.prototype.setCheckedNodes=function(e,t){void 0===t&&(t=!this.isChecked(e)),this.store.dispatch(new wa(t?[e]:[]))},e.prototype.flyToNode=function(e){this.store.dispatch(new yi(e.id))},e.prototype.hideNode=function(e){this.store.dispatch(new Xl([e],!1))},e.prototype.hideInverse=function(e){var t=this.store.selectSnapshot(Fc.getViewGraph);this.store.dispatch(new Pa([e],t))},e.prototype.showNode=function(e){this.store.dispatch(new Xl([e],!0)),this.changeDetectorRef.markForCheck()},e.prototype.toggleVisible=function(e,t){this.store.dispatch(new Ca([e],t=void 0===t?!e.boolState.shown:t)),this.changeDetectorRef.markForCheck()},e.prototype.togglePickable=function(e,t){this.store.dispatch(new Jl([e],t)),this.changeDetectorRef.markForCheck()},e.prototype.toggleInversePickable=function(e,t){var n=this.store.selectSnapshot(Fc.getViewGraph);this.store.dispatch(new ka([e],n,t))},e.prototype.fadeInverseNodes=function(e){var t=this.store.selectSnapshot(Fc.getViewGraph),n=this.graphService.getInverseSelection(t,[e.id]),l=this.graphService.getNodes(t,n);this.store.dispatch(new La(l,Jf.recipe))},e.prototype.fadeNode=function(e){this.store.dispatch(new La([e],Jf.recipe))},e.prototype.editNodeLabel=function(e){this.store.dispatch(new Ua(e))},e.prototype.copy=function(e){var t=this;this.clipboardService.copyToClipboard(e).subscribe((function(){t.snackbar.open("Copied "+e+" to clipboard.")}))},e}(),_O=i.wb({encapsulation:0,styles:[[""]],data:{}});function vO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.yb(1,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,2)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,2)._handleMouseEnter()&&l),"mousedown"===t&&(l=!1!==i.Kb(e,3)._handleMousedown(n)&&l),"keydown"===t&&(l=!1!==i.Kb(e,3)._handleKeydown(n)&&l),"click"===t&&(l=!1!==i.Kb(e,3)._handleClick(n)&&l),l}),je.c,je.a)),i.xb(2,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),i.xb(3,1196032,null,0,ke.g,[We.a,i.l,i.T,ke.c,[2,ke.d],[6,ke.e],[2,qe.b],be.e],{menu:[0,"menu"]},null),(e()(),i.Sb(-1,0,["Select"])),(e()(),i.yb(5,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(6,49152,null,0,hh.a,[],null,null)],(function(e,t){e(t,3,0,i.Kb(t.parent,39))}),(function(e,t){e(t,1,0,i.Kb(t,2).role,i.Kb(t,2)._highlighted,i.Kb(t,2)._triggersSubmenu,i.Kb(t,2)._getTabIndex(),i.Kb(t,2).disabled.toString(),i.Kb(t,2).disabled||null,i.Kb(t,3).menuOpen||null),e(t,5,0,i.Kb(t,6).vertical?"vertical":"horizontal",i.Kb(t,6).vertical,!i.Kb(t,6).vertical,i.Kb(t,6).inset)}))}function xO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.toggleVisible(o.node,!0)&&l),l}),je.c,je.a)),i.xb(1,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Show"]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function OO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.toggleVisible(o.node,!1)&&l),l}),je.c,je.a)),i.xb(1,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Hide"]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function wO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(2,49152,null,0,hh.a,[],null,null),(e()(),i.yb(3,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,4)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,4)._handleMouseEnter()&&l),"mousedown"===t&&(l=!1!==i.Kb(e,5)._handleMousedown(n)&&l),"keydown"===t&&(l=!1!==i.Kb(e,5)._handleKeydown(n)&&l),"click"===t&&(l=!1!==i.Kb(e,5)._handleClick(n)&&l),l}),je.c,je.a)),i.xb(4,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),i.xb(5,1196032,null,0,ke.g,[We.a,i.l,i.T,ke.c,[2,ke.d],[6,ke.e],[2,qe.b],be.e],{menu:[0,"menu"]},null),(e()(),i.Sb(-1,0,["Pickable / Unpickable"])),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,5,0,i.Kb(t.parent,83))}),(function(e,t){e(t,1,0,i.Kb(t,2).vertical?"vertical":"horizontal",i.Kb(t,2).vertical,!i.Kb(t,2).vertical,i.Kb(t,2).inset),e(t,3,0,i.Kb(t,4).role,i.Kb(t,4)._highlighted,i.Kb(t,4)._triggersSubmenu,i.Kb(t,4)._getTabIndex(),i.Kb(t,4).disabled.toString(),i.Kb(t,4).disabled||null,i.Kb(t,5).menuOpen||null)}))}function CO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(2,49152,null,0,hh.a,[],null,null),(e()(),i.yb(3,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,4)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,4)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.editNodeLabel(o.node)&&l),l}),je.c,je.a)),i.xb(4,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Edit Object Name"]))],null,(function(e,t){e(t,1,0,i.Kb(t,2).vertical?"vertical":"horizontal",i.Kb(t,2).vertical,!i.Kb(t,2).vertical,i.Kb(t,2).inset),e(t,3,0,i.Kb(t,4).role,i.Kb(t,4)._highlighted,i.Kb(t,4)._triggersSubmenu,i.Kb(t,4)._getTabIndex(),i.Kb(t,4).disabled.toString(),i.Kb(t,4).disabled||null)}))}function jO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(2,49152,null,0,hh.a,[],null,null),(e()(),i.yb(3,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,4)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,4)._handleMouseEnter()&&l),"mousedown"===t&&(l=!1!==i.Kb(e,5)._handleMousedown(n)&&l),"keydown"===t&&(l=!1!==i.Kb(e,5)._handleKeydown(n)&&l),"click"===t&&(l=!1!==i.Kb(e,5)._handleClick(n)&&l),l}),je.c,je.a)),i.xb(4,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),i.xb(5,1196032,null,0,ke.g,[We.a,i.l,i.T,ke.c,[2,ke.d],[6,ke.e],[2,qe.b],be.e],{menu:[0,"menu"]},null),(e()(),i.Sb(-1,0,["Copy"])),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,5,0,i.Kb(t.parent,97))}),(function(e,t){e(t,1,0,i.Kb(t,2).vertical?"vertical":"horizontal",i.Kb(t,2).vertical,!i.Kb(t,2).vertical,i.Kb(t,2).inset),e(t,3,0,i.Kb(t,4).role,i.Kb(t,4)._highlighted,i.Kb(t,4)._triggersSubmenu,i.Kb(t,4)._getTabIndex(),i.Kb(t,4).disabled.toString(),i.Kb(t,4).disabled||null,i.Kb(t,5).menuOpen||null)}))}function kO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.toggleVisible(o.node,!0)&&l),l}),je.c,je.a)),i.xb(1,180224,[[10,4],[11,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Show This"]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function SO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.toggleVisible(o.node,!1)&&l),l}),je.c,je.a)),i.xb(1,180224,[[10,4],[11,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Hide This"]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function PO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.togglePickable(o.node,!1)&&l),l}),je.c,je.a)),i.xb(1,180224,[[13,4],[14,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Make Unpickable"]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function IO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.togglePickable(o.node,!0)&&l),l}),je.c,je.a)),i.xb(1,180224,[[13,4],[14,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Make Pickable"]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function MO(e){return i.Ub(2,[(e()(),i.yb(0,16777216,null,null,4,"button",[["app-button",""],["aria-haspopup","true"],["buttonSize","xsmall"],["class","mat-menu-trigger"]],[[1,"aria-expanded",0],[8,"disabled",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,t,n){var l=!0;return"mousedown"===t&&(l=!1!==i.Kb(e,1)._handleMousedown(n)&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"click"===t&&(l=!1!==i.Kb(e,1)._handleClick(n)&&l),l}),Qe,$e)),i.xb(1,1196032,null,0,ke.g,[We.a,i.l,i.T,ke.c,[2,ke.d],[8,null],[2,qe.b],be.e],{menu:[0,"menu"]},null),i.xb(2,114688,null,0,Ve,[],{buttonSize:[0,"buttonSize"],buttonTheme:[1,"buttonTheme"]},null),(e()(),i.yb(3,0,null,0,1,"app-icon",[["icon","ellipsis-v"]],null,null,null,ce,ue)),i.xb(4,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(5,0,null,null,32,"mat-menu",[],null,null,null,je.d,je.b)),i.Pb(6144,null,ke.d,null,[ke.h]),i.Pb(6144,null,ke.b,null,[ke.d]),i.xb(8,1294336,[["nodeActions",4]],3,ke.h,[i.l,i.C,ke.a],{overlapTrigger:[0,"overlapTrigger"]},null),i.Qb(603979776,1,{_allItems:1}),i.Qb(603979776,2,{items:1}),i.Qb(603979776,3,{lazyContent:0}),(e()(),i.ob(16777216,null,0,1,null,vO)),i.xb(13,81920,null,0,Yv,[i.Q,i.T,p.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"],appFlagApplicationPage:[2,"appFlagApplicationPage"]},null),(e()(),i.ob(16777216,null,0,1,null,xO)),i.xb(15,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,0,1,null,OO)),i.xb(17,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(18,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,19)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,19)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.hideInverse(o.node)&&l),l}),je.c,je.a)),i.xb(19,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Isolate"])),(e()(),i.yb(21,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(22,49152,null,0,hh.a,[],null,null),(e()(),i.yb(23,16777216,null,0,3,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,24)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,24)._handleMouseEnter()&&l),"mousedown"===t&&(l=!1!==i.Kb(e,25)._handleMousedown(n)&&l),"keydown"===t&&(l=!1!==i.Kb(e,25)._handleKeydown(n)&&l),"click"===t&&(l=!1!==i.Kb(e,25)._handleClick(n)&&l),l}),je.c,je.a)),i.xb(24,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),i.xb(25,1196032,null,0,ke.g,[We.a,i.l,i.T,ke.c,[2,ke.d],[6,ke.e],[2,qe.b],be.e],{menu:[0,"menu"]},null),(e()(),i.Sb(-1,0,["Fade"])),(e()(),i.ob(16777216,null,0,1,null,wO)),i.xb(28,81920,null,0,Yv,[i.Q,i.T,p.m],{appFlagApplication:[0,"appFlagApplication"]},null),(e()(),i.yb(29,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(30,49152,null,0,hh.a,[],null,null),(e()(),i.yb(31,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,32)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,32)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.flyToNode(o.node)&&l),l}),je.c,je.a)),i.xb(32,180224,[[1,4],[2,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Fly To"])),(e()(),i.ob(16777216,null,0,1,null,CO)),i.xb(35,81920,null,0,Yv,[i.Q,i.T,p.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"],appFlagApplicationPage:[2,"appFlagApplicationPage"]},null),(e()(),i.ob(16777216,null,0,1,null,jO)),i.xb(37,81920,null,0,Yv,[i.Q,i.T,p.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"],appFlagApplicationPage:[2,"appFlagApplicationPage"]},null),(e()(),i.yb(38,0,null,null,12,"mat-menu",[],null,null,null,je.d,je.b)),i.xb(39,1294336,[["selectActions",4]],3,ke.h,[i.l,i.C,ke.a],null,null),i.Qb(603979776,4,{_allItems:1}),i.Qb(603979776,5,{items:1}),i.Qb(603979776,6,{lazyContent:0}),i.Pb(2048,null,ke.d,null,[ke.h]),i.Pb(2048,null,ke.b,null,[ke.d]),(e()(),i.yb(45,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,46)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,46)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.checkNode(o.node,!0)&&l),l}),je.c,je.a)),i.xb(46,180224,[[4,4],[5,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Select This"])),(e()(),i.yb(48,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,49)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,49)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.checkInverse(o.node)&&l),l}),je.c,je.a)),i.xb(49,180224,[[4,4],[5,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Select Everything Else"])),(e()(),i.yb(51,0,null,null,12,"mat-menu",[],null,null,null,je.d,je.b)),i.xb(52,1294336,[["fadeActions",4]],3,ke.h,[i.l,i.C,ke.a],null,null),i.Qb(603979776,7,{_allItems:1}),i.Qb(603979776,8,{items:1}),i.Qb(603979776,9,{lazyContent:0}),i.Pb(2048,null,ke.d,null,[ke.h]),i.Pb(2048,null,ke.b,null,[ke.d]),(e()(),i.yb(58,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,59)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,59)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.fadeNode(o.node)&&l),l}),je.c,je.a)),i.xb(59,180224,[[7,4],[8,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Fade This"])),(e()(),i.yb(61,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,62)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,62)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.fadeInverseNodes(o.node)&&l),l}),je.c,je.a)),i.xb(62,180224,[[7,4],[8,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Fade Everything Else"])),(e()(),i.yb(64,0,null,null,15,"mat-menu",[],null,null,null,je.d,je.b)),i.Pb(6144,null,ke.d,null,[ke.h]),i.Pb(6144,null,ke.b,null,[ke.d]),i.xb(67,1294336,[["showHideActions",4]],3,ke.h,[i.l,i.C,ke.a],null,null),i.Qb(603979776,10,{_allItems:1}),i.Qb(603979776,11,{items:1}),i.Qb(603979776,12,{lazyContent:0}),(e()(),i.ob(16777216,null,0,1,null,kO)),i.xb(72,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,0,1,null,SO)),i.xb(74,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(75,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(76,49152,null,0,hh.a,[],null,null),(e()(),i.yb(77,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,78)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,78)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.hideInverse(o.node)&&l),l}),je.c,je.a)),i.xb(78,180224,[[10,4],[11,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Hide Everything Else"])),(e()(),i.yb(80,0,null,null,15,"mat-menu",[],null,null,null,je.d,je.b)),i.Pb(6144,null,ke.d,null,[ke.h]),i.Pb(6144,null,ke.b,null,[ke.d]),i.xb(83,1294336,[["pickableActions",4]],3,ke.h,[i.l,i.C,ke.a],null,null),i.Qb(603979776,13,{_allItems:1}),i.Qb(603979776,14,{items:1}),i.Qb(603979776,15,{lazyContent:0}),(e()(),i.ob(16777216,null,0,1,null,PO)),i.xb(88,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,0,1,null,IO)),i.xb(90,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(91,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(92,49152,null,0,hh.a,[],null,null),(e()(),i.yb(93,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,94)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,94)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.toggleInversePickable(o.node,!1)&&l),l}),je.c,je.a)),i.xb(94,180224,[[13,4],[14,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Make Everything Else Unpickable"])),(e()(),i.yb(96,0,null,null,17,"mat-menu",[],null,null,null,je.d,je.b)),i.xb(97,1294336,[["copyActions",4]],3,ke.h,[i.l,i.C,ke.a],null,null),i.Qb(603979776,16,{_allItems:1}),i.Qb(603979776,17,{items:1}),i.Qb(603979776,18,{lazyContent:0}),i.Pb(2048,null,ke.d,null,[ke.h]),i.Pb(2048,null,ke.b,null,[ke.d]),(e()(),i.yb(103,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,104)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,104)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.copy(o.shortId)&&l),l}),je.c,je.a)),i.xb(104,180224,[[16,4],[17,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Copy Short ID"])),(e()(),i.yb(106,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,107)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,107)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.copy(o.node.id)&&l),l}),je.c,je.a)),i.xb(107,180224,[[16,4],[17,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Copy Full ID"])),(e()(),i.yb(109,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(110,49152,null,0,hh.a,[],null,null),(e()(),i.yb(111,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,112)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,112)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.copy(o.node.label)&&l),l}),je.c,je.a)),i.xb(112,180224,[[16,4],[17,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,["Copy Display Name"]))],(function(e,t){var n=t.component;e(t,1,0,i.Kb(t,8)),e(t,2,0,"xsmall",n.theme),e(t,4,0,"ellipsis-v"),e(t,8,0,!0),e(t,13,0,n.application.All,"include","/edit"),e(t,15,0,!n.node.boolState.shown),e(t,17,0,n.node.boolState.shown),e(t,25,0,i.Kb(t,52)),e(t,28,0,n.application.Loft),e(t,35,0,n.application.Loft,"include","/edit"),e(t,37,0,n.application.Loft,"include","/edit"),e(t,39,0),e(t,52,0),e(t,67,0),e(t,72,0,!n.node.boolState.shown),e(t,74,0,n.node.boolState.shown),e(t,83,0),e(t,88,0,n.node.boolState.pickable),e(t,90,0,!n.node.boolState.pickable),e(t,97,0)}),(function(e,t){e(t,0,0,i.Kb(t,1).menuOpen||null,i.Kb(t,2).disabled),e(t,18,0,i.Kb(t,19).role,i.Kb(t,19)._highlighted,i.Kb(t,19)._triggersSubmenu,i.Kb(t,19)._getTabIndex(),i.Kb(t,19).disabled.toString(),i.Kb(t,19).disabled||null),e(t,21,0,i.Kb(t,22).vertical?"vertical":"horizontal",i.Kb(t,22).vertical,!i.Kb(t,22).vertical,i.Kb(t,22).inset),e(t,23,0,i.Kb(t,24).role,i.Kb(t,24)._highlighted,i.Kb(t,24)._triggersSubmenu,i.Kb(t,24)._getTabIndex(),i.Kb(t,24).disabled.toString(),i.Kb(t,24).disabled||null,i.Kb(t,25).menuOpen||null),e(t,29,0,i.Kb(t,30).vertical?"vertical":"horizontal",i.Kb(t,30).vertical,!i.Kb(t,30).vertical,i.Kb(t,30).inset),e(t,31,0,i.Kb(t,32).role,i.Kb(t,32)._highlighted,i.Kb(t,32)._triggersSubmenu,i.Kb(t,32)._getTabIndex(),i.Kb(t,32).disabled.toString(),i.Kb(t,32).disabled||null),e(t,45,0,i.Kb(t,46).role,i.Kb(t,46)._highlighted,i.Kb(t,46)._triggersSubmenu,i.Kb(t,46)._getTabIndex(),i.Kb(t,46).disabled.toString(),i.Kb(t,46).disabled||null),e(t,48,0,i.Kb(t,49).role,i.Kb(t,49)._highlighted,i.Kb(t,49)._triggersSubmenu,i.Kb(t,49)._getTabIndex(),i.Kb(t,49).disabled.toString(),i.Kb(t,49).disabled||null),e(t,58,0,i.Kb(t,59).role,i.Kb(t,59)._highlighted,i.Kb(t,59)._triggersSubmenu,i.Kb(t,59)._getTabIndex(),i.Kb(t,59).disabled.toString(),i.Kb(t,59).disabled||null),e(t,61,0,i.Kb(t,62).role,i.Kb(t,62)._highlighted,i.Kb(t,62)._triggersSubmenu,i.Kb(t,62)._getTabIndex(),i.Kb(t,62).disabled.toString(),i.Kb(t,62).disabled||null),e(t,75,0,i.Kb(t,76).vertical?"vertical":"horizontal",i.Kb(t,76).vertical,!i.Kb(t,76).vertical,i.Kb(t,76).inset),e(t,77,0,i.Kb(t,78).role,i.Kb(t,78)._highlighted,i.Kb(t,78)._triggersSubmenu,i.Kb(t,78)._getTabIndex(),i.Kb(t,78).disabled.toString(),i.Kb(t,78).disabled||null),e(t,91,0,i.Kb(t,92).vertical?"vertical":"horizontal",i.Kb(t,92).vertical,!i.Kb(t,92).vertical,i.Kb(t,92).inset),e(t,93,0,i.Kb(t,94).role,i.Kb(t,94)._highlighted,i.Kb(t,94)._triggersSubmenu,i.Kb(t,94)._getTabIndex(),i.Kb(t,94).disabled.toString(),i.Kb(t,94).disabled||null),e(t,103,0,i.Kb(t,104).role,i.Kb(t,104)._highlighted,i.Kb(t,104)._triggersSubmenu,i.Kb(t,104)._getTabIndex(),i.Kb(t,104).disabled.toString(),i.Kb(t,104).disabled||null),e(t,106,0,i.Kb(t,107).role,i.Kb(t,107)._highlighted,i.Kb(t,107)._triggersSubmenu,i.Kb(t,107)._getTabIndex(),i.Kb(t,107).disabled.toString(),i.Kb(t,107).disabled||null),e(t,109,0,i.Kb(t,110).vertical?"vertical":"horizontal",i.Kb(t,110).vertical,!i.Kb(t,110).vertical,i.Kb(t,110).inset),e(t,111,0,i.Kb(t,112).role,i.Kb(t,112)._highlighted,i.Kb(t,112)._triggersSubmenu,i.Kb(t,112)._getTabIndex(),i.Kb(t,112).disabled.toString(),i.Kb(t,112).disabled||null)}))}var TO=function(){return function(){}}(),KO=function(e){return e.Chapter="chapter",e.Label="label",e.Paint="paint",e.Position="position",e}({}),zO=function(){return function(){}}(),LO=function(){function e(e){this.colorRecipe=e}return e.type="[Edit Paint] Set Color Recipe",e}(),EO=function(){function e(e){this.brushMode=e}return e.type="[Edit Paint] Set Paint Brush Mode",e}(),UO=function(){function e(){}return e.type="[Edit Paint] Clear Color Recipe",e}(),FO=function(){function e(){}return e.type="[Edit Paint] Reset Paint",e}(),AO={colorRecipe:Xf.recipe,brushMode:function(e){return e[e.Modify=0]="Modify",e[e.Replace=1]="Replace",e}({}).Modify},DO=function(){function e(){}return e.getColorRecipe=function(e){return e.colorRecipe},e.getPaintBrushMode=function(e){return e.brushMode},e.prototype.setColorRecipe=function(e,t){e.patchState({colorRecipe:t.colorRecipe})},e.prototype.setBrushMode=function(e,t){e.patchState({brushMode:t.brushMode})},e.prototype.clearColorRecipe=function(e,t){e.patchState({colorRecipe:null})},e.prototype.resetPaint=function(e,t){e.setState(AO)},Object(g.__decorate)([Object(h.a)(LO),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,LO]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setColorRecipe",null),Object(g.__decorate)([Object(h.a)(EO),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,EO]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setBrushMode",null),Object(g.__decorate)([Object(h.a)(UO),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,UO]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"clearColorRecipe",null),Object(g.__decorate)([Object(h.a)(FO),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,FO]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetPaint",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[zO]),Object(g.__metadata)("design:returntype",void 0)],e,"getColorRecipe",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[zO]),Object(g.__metadata)("design:returntype",void 0)],e,"getPaintBrushMode",null),Object(g.__decorate)([Object(h.g)({name:"editPaint",defaults:AO})],e)}(),NO=function(){return function(e,t,n){this.label=e,this.width=t,this.height=n}}(),RO=new NO("Don't Resize",-1,-1),BO=(new NO("Common (Mobile)",360,640),new NO("Common (Minimum)",300,300),new NO("Common (Publish Default)",700,550),new NO("iPhone X",375,812),new NO("iPad (Portrait)",768,1024),new NO("iPad (Landscape)",1024,768),{view:KO.Chapter,showColumns:!0,showLeftColumn:!0,showRightColumn:!0,showHeader:!0,showFooter:!0,record:!0,layerOrderMode:!1,showTreeNodeIds:!1,canvasSize:RO,canvasSettings:{emulateDrawer:!0,emulateColumn:!0}}),HO=function(){function e(){}return e.getView=function(e){return e.view},e.getShowColumns=function(e){return e.showColumns},e.getShowLeftColumn=function(e){return e.showLeftColumn},e.getShowRightColumn=function(e){return e.showRightColumn},e.getShowHeader=function(e){return e.showHeader},e.getShowFooter=function(e){return e.showFooter},e.getRecord=function(e){return e.record},e.getLayerOrderMode=function(e){return e.layerOrderMode},e.getShowTreeNodeIds=function(e){return e.showTreeNodeIds},e.getCanvasSize=function(e){return e.canvasSize},e.getCanvasSettings=function(e){return e.canvasSettings},e.prototype.SetLayerOrderMode=function(e,t){e.patchState({layerOrderMode:t.layerOrderMode})},e.prototype.ShowTreeNodeIds=function(e,t){var n=null!=t.show?t.show:!e.getState().showTreeNodeIds;e.patchState({showTreeNodeIds:n})},e.prototype.setView=function(e,t){e.patchState({view:t.view})},e.prototype.nextView=function(e,t){var n=e.getState().view,l=Object.values(KO),i=l[l.indexOf(n)+1]||l[0];e.patchState({view:i})},e.prototype.previousView=function(e,t){var n=e.getState().view,l=Object.values(KO),i=l[l.indexOf(n)-1]||l[l.length-1];e.patchState({view:i})},e.prototype.showColumns=function(e,t){e.patchState({showColumns:t.show})},e.prototype.showColumn=function(e,t){switch(t.column){case"left":e.patchState({showLeftColumn:t.show});break;case"right":e.patchState({showRightColumn:t.show});break;case"header":e.patchState({showHeader:t.show});break;case"footer":e.patchState({showFooter:t.show})}},e.prototype.resetEditPage=function(e,t){e.setState(BO),e.dispatch(new FO)},e.prototype.setObjectVisibility=function(e,t){e.dispatch(new Ca(t.nodes,t.visible));var n=e.getState().record;e.dispatch(new na(t.nodes,t.visible,n))},e.prototype.setObjectPickable=function(e,t){e.dispatch(new ja(t.nodes,t.pickable));var n=e.getState().record;e.dispatch(new la(t.nodes,t.pickable,n))},e.prototype.setCanvasSize=function(e,t){e.patchState({canvasSize:t.size})},Object(g.__decorate)([Object(h.a)(Zl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Zl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"SetLayerOrderMode",null),Object(g.__decorate)([Object(h.a)(ei),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ei]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"ShowTreeNodeIds",null),Object(g.__decorate)([Object(h.a)($l),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,$l]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setView",null),Object(g.__decorate)([Object(h.a)(Ql),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ql]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"nextView",null),Object(g.__decorate)([Object(h.a)(Gl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ql]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"previousView",null),Object(g.__decorate)([Object(h.a)(Wl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Wl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"showColumns",null),Object(g.__decorate)([Object(h.a)(ql),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ql]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"showColumn",null),Object(g.__decorate)([Object(h.a)(Yl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Yl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetEditPage",null),Object(g.__decorate)([Object(h.a)(Xl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Xl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setObjectVisibility",null),Object(g.__decorate)([Object(h.a)(Jl),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Jl]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setObjectPickable",null),Object(g.__decorate)([Object(h.a)(ti),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ti]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setCanvasSize",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[TO]),Object(g.__metadata)("design:returntype",void 0)],e,"getView",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[TO]),Object(g.__metadata)("design:returntype",void 0)],e,"getShowColumns",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[TO]),Object(g.__metadata)("design:returntype",void 0)],e,"getShowLeftColumn",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[TO]),Object(g.__metadata)("design:returntype",void 0)],e,"getShowRightColumn",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[TO]),Object(g.__metadata)("design:returntype",void 0)],e,"getShowHeader",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[TO]),Object(g.__metadata)("design:returntype",void 0)],e,"getShowFooter",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[TO]),Object(g.__metadata)("design:returntype",void 0)],e,"getRecord",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[TO]),Object(g.__metadata)("design:returntype",void 0)],e,"getLayerOrderMode",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[TO]),Object(g.__metadata)("design:returntype",void 0)],e,"getShowTreeNodeIds",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[TO]),Object(g.__metadata)("design:returntype",void 0)],e,"getCanvasSize",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[TO]),Object(g.__metadata)("design:returntype",void 0)],e,"getCanvasSettings",null),Object(g.__decorate)([Object(h.g)({name:"edit",defaults:BO,children:[DO]})],e)}(),VO=function(){function e(e,t,n,l){this.store=e,this.graphService=t,this.router=n,this.changeDetection=l,this.treeTheme=my,this.isLoft="module"===r.exportType,this.nested=!0,this.theme=my.Dark,this.checked=!1,this.hasChildren=!1,this.editLabelMode=!1,this.sanitizedID="",this.parentId="",this.shortId="",this.ngUnsubscribe=new $.a}return Object.defineProperty(e.prototype,"node",{get:function(){return this._node},set:function(e){this._node=e,this.sanitizedID=this.graphService.sanitizeNodeID(this.node.id);var t=this.node.id.split("-");2===t.length?(this.parentId=t[0],this.shortId=t[1]):(this.shortId=t[0],this.parentId=""),this.shortId=this.shortId.replace(/_/g," "),this.checked=this.isChecked(this.node),this.hasChildren=Ar.getSuccessors(this.graph,this.node.id).length>0,this.changeDetection.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.checkedNodesIds$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.checked=t.some((function(t){return t===e.node.id})),e.changeDetection.markForCheck()})),this.labelEditNode$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.editLabelMode=t===e.node})),this.isEditMode=this.router.url.indexOf("/edit")>=0},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleExpandClick=function(e,t){this.store.dispatch(t?new xa(e):new Oa(e))},e.prototype.handleNodeClick=function(e,t){e.shiftKey?this.checkNode(t):(this.setCheckedNodes(t),this.isEditMode||this.store.dispatch(new yi(t.id)),this.handleExpandClick(t,!t.boolState.expanded))},e.prototype.toggleVisible=function(e,t){this.store.dispatch(new Ca([e],t=void 0===t?!e.boolState.shown:t)),this.changeDetection.markForCheck()},e.prototype.handleLayerOrder=function(e,t){var n=parseInt(e.target.value,10);this.setLayerOrder(t,n)},e.prototype.isChecked=function(e){return this.store.selectSnapshot(ay.getCheckedNodes).some((function(t){return t.id===e.id}))},e.prototype.checkNode=function(e,t){void 0===t&&(t=!this.isChecked(e)),this.store.dispatch(new ya(e,t))},e.prototype.setCheckedNodes=function(e,t){void 0===t&&(t=!this.isChecked(e)),this.store.dispatch(new wa(t?[e]:[]))},e.prototype.setLayerOrder=function(e,t){this.store.dispatch(new Pi([e],t)),this.changeDetection.markForCheck()},e.prototype.handleLabel=function(e){var t=e.target;e instanceof KeyboardEvent?("enter"===e.key.toLowerCase()&&(this.setLabel(t.value),this.setEditLabelMode(!1)),"escape"===e.key.toLowerCase()&&this.setEditLabelMode(!1)):e instanceof FocusEvent&&"blur"===e.type&&(this.setLabel(t.value),this.setEditLabelMode(!1))},e.prototype.setLabel=function(e){this.node.label=e,this.store.dispatch(new Ii(this.node.id,e))},e.prototype.setEditLabelMode=function(e){r.application===o.Loft&&this.isEditMode&&this.store.dispatch(new Ua(e?this.node:null))},Object(g.__decorate)([Object(h.e)(ay.getCheckedNodeIds),Object(g.__metadata)("design:type",Q.a)],e.prototype,"checkedNodesIds$",void 0),Object(g.__decorate)([Object(h.e)(HO.getLayerOrderMode),Object(g.__metadata)("design:type",Q.a)],e.prototype,"layerOrderMode$",void 0),Object(g.__decorate)([Object(h.e)(HO.getShowTreeNodeIds),Object(g.__metadata)("design:type",Q.a)],e.prototype,"showTreeNodeIds$",void 0),Object(g.__decorate)([Object(h.e)(ay.getLabelEditNode),Object(g.__metadata)("design:type",Q.a)],e.prototype,"labelEditNode$",void 0),e}(),$O=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}:host{display:block}.tree-node{margin:4px 0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;height:100%;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;min-width:200px;-webkit-transition:background-color .12s;transition:background-color .12s}.tree-node:hover{cursor:pointer}.tree-node:hover .tree-node__actions,.tree-node:hover .tree-node__visible{visibility:visible}.tree-node:hover .tree-node__label{color:#fff}.tree-node--themed{padding-right:12px}.tree-node--themed:hover{background-color:#f9fafd;background-color:var(--tree-node-bg--hover)}.tree-node--themed:hover .tree-node__label{color:#131c2a;color:var(--tree-node-color--hover)}.tree-node--themed .tree-node__label{color:#131c2a;color:var(--tree-node-color);font-size:13px;letter-spacing:.325px;line-height:1.4em}.tree-node--themed.tree-node--selected,.tree-node--themed.tree-node--selected:hover{background-color:#f1f5fc;background-color:var(--tree-node-bg--selected)}.tree-node--themed.tree-node--selected .tree-node__actions,.tree-node--themed.tree-node--selected .tree-node__label{color:#131c2a;color:var(--tree-node-color--selected)}.tree-node--themed.tree-node--selected .tree-node__actions,.tree-node--themed.tree-node--selected .tree-node__expand,.tree-node--themed.tree-node--selected .tree-node__visible{background-color:#f1f5fc;color:#131c2a;background-color:var(--tree-node-button-bg--selected);color:var(--tree-node-button-color--selected)}.tree-node--themed.tree-node--selected .tree-node__actions:hover,.tree-node--themed.tree-node--selected .tree-node__expand:hover,.tree-node--themed.tree-node--selected .tree-node__visible:hover{background-color:var(--tree-node-button-bg--hover);color:var(--tree-node-button-color--hover)}.tree-node--themed.tree-node--unpickable{border:1px dashed #d7e0ea}.tree-node--themed.tree-node--hidden .tree-node__label{color:#96a8c0;color:var(--tree-node-color--hidden)}.tree-node--themed .tree-node__actions,.tree-node--themed .tree-node__expand,.tree-node--themed .tree-node__visible{background-color:transparent;background-color:var(--tree-node-button-bg);color:#96a8c0;color:var(--tree-node-button-color);border-radius:4px}.tree-node--themed .tree-node__actions:hover,.tree-node--themed .tree-node__expand:hover,.tree-node--themed .tree-node__visible:hover{background-color:transparent;color:inherit;background-color:var(--tree-node-button-bg--hover);color:var(--tree-node-button-color--hover)}.tree-node--light:hover{background:rgba(234,239,245,.5)}.tree-node--light:hover .tree-node__label{color:#131c2a}.tree-node--light .tree-node__label{color:#283853;font-weight:400;font-size:14px;line-height:1.33em}.tree-node--light.tree-node--selected:hover{background:#2d72dc}.tree-node--light.tree-node--selected .tree-node__actions,.tree-node--light.tree-node--selected .tree-node__expand,.tree-node--light.tree-node--selected .tree-node__label,.tree-node--light.tree-node--selected .tree-node__visible{color:#fff}.tree-node--light.tree-node--selected .tree-node__actions:hover,.tree-node--light.tree-node--selected .tree-node__expand:hover,.tree-node--light.tree-node--selected .tree-node__visible:hover{color:#f9fafd}.tree-node--light.tree-node--unpickable{border:1px dashed #d7e0ea}.tree-node--light.tree-node--hidden .tree-node__label{color:#96a8c0;font-weight:300}.tree-node--light .tree-node__actions,.tree-node--light .tree-node__expand,.tree-node--light .tree-node__visible{color:#6a82a4;border-radius:4px}.tree-node--light .tree-node__actions:hover,.tree-node--light .tree-node__expand:hover,.tree-node--light .tree-node__visible:hover{background-color:#eaeff5;color:#131c2a}.tree-node.tree-node--hidden.tree-node--selected .tree-node__label{color:#96a8c0}.tree-node--selected{background-color:#2d72dc}.tree-node--selected .tree-node__label{color:#fff}.tree-node--unpickable{border:1px dashed #6a82a4}.tree-node--hidden .tree-node__actions,.tree-node--hidden .tree-node__expand,.tree-node--hidden .tree-node__label,.tree-node--hidden .tree-node__visible{color:#6a82a4}.tree-node--hidden .tree-node__visible{visibility:visible}.tree-node__label{font-size:12px;letter-spacing:.3px;letter-spacing:.5px;font-weight:400;line-height:1.3em;color:#d7e0ea;padding:8px 4px 8px 12px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-flex:1;flex:1 1 100%;min-height:28px}.tree-node__label--padded{padding-left:32px}.tree-node__expand i{-webkit-transition:-webkit-transform .12s;transition:-webkit-transform .12s;transition:transform .12s;transition:transform .12s,-webkit-transform .12s}.tree-node__expand--open app-icon{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.tree-node .tree-node__expand+.tree-node__label{margin-left:-8px}.tree-node__actions,.tree-node__expand,.tree-node__visible{border-radius:4px;color:#d7e0ea;display:-webkit-box;display:flex;-webkit-box-flex:0;flex:0 0 30px;height:30px;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.tree-node__actions:hover,.tree-node__expand:hover,.tree-node__visible:hover{background-color:#1c2a3f;color:#fff;cursor:pointer}.tree-node--selected .tree-node__actions:hover,.tree-node--selected .tree-node__expand:hover,.tree-node--selected .tree-node__visible:hover{background-color:#2d72dc}.tree-node__actions,.tree-node__visible{visibility:hidden}.tree-node__layer-order{font-size:10px;-webkit-box-flex:0;flex:0 0 56px;min-height:28px;height:28px;padding:4px;margin:2px;text-align:center}.tree-node .tree-node__eye,.tree-node .tree-node__eye-slash{display:none}.tree-node.tree-node--hidden .tree-node__eye-slash,.tree-node:hover .tree-node__eye-slash{display:inline}.tree-node.tree-node--hidden .tree-node__visible:hover .tree-node__eye-slash{display:none}.tree-node.tree-node--hidden .tree-node__visible:hover .tree-node__eye{display:inline}"]],data:{}});function QO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"div",[["appEventFence",""],["class","tree-node__expand"]],[[2,"tree-node__expand--open",null]],[[null,"click"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1).onClick(n,n.target)&&l),"click"===t&&(l=!1!==o.handleExpandClick(o.node,o.node.boolState.expanded)&&l),l}),null,null)),i.xb(1,16384,null,0,se,[],null,null),(e()(),i.yb(2,0,null,null,1,"app-icon",[["icon","caret-right"]],null,null,null,ce,ue)),i.xb(3,114688,null,0,re,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,3,0,"caret-right")}),(function(e,t){e(t,0,0,t.component.node.boolState.expanded)}))}function GO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"div",[["class","text-10 text-uppercase"],["style","opacity: 0.7;"]],null,null,null,null,null)),(e()(),i.Sb(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.shortId)}))}function WO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,9,"div",[["class","tree-node__label"]],null,[[null,"dblclick"]],(function(e,t,n){var l=!0;return"dblclick"===t&&(l=!1!==e.component.setEditLabelMode(!0)&&l),l}),null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"tree-node__label--padded":0}),(e()(),i.yb(4,0,null,null,5,"div",[["class","flex flex-column"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,2,null,GO)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(8,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),i.Sb(9,null,[" "," "]))],(function(e,t){var n=t.component,l=e(t,3,0,!n.hasChildren&&n.nested);e(t,2,0,"tree-node__label",l),e(t,6,0,i.Tb(t,6,0,i.Kb(t,7).transform(n.showTreeNodeIds$)))}),(function(e,t){e(t,9,0,t.component.node.label)}))}function qO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"input",[["appAutoFocus",""],["appEventFence",""],["class","input"],["type","text"]],[[8,"value",0]],[[null,"blur"],[null,"keyup"],[null,"click"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,2).onClick(n,n.target)&&l),"blur"===t&&(l=!1!==o.handleLabel(n)&&l),"keyup"===t&&(l=!1!==o.handleLabel(n)&&l),l}),null,null)),i.xb(1,1064960,null,0,hO,[i.l],null,null),i.xb(2,16384,null,0,se,[],null,null)],null,(function(e,t){e(t,0,0,t.component.node.label)}))}function YO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"input",[["appEventFence",""],["class","input input--small tree-node__layer-order"],["type","text"]],[[8,"value",0]],[[null,"change"],[null,"click"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1).onClick(n,n.target)&&l),"change"===t&&(l=!1!==o.handleLayerOrder(n,o.node)&&l),l}),null,null)),i.xb(1,16384,null,0,se,[],null,null)],null,(function(e,t){e(t,0,0,t.component.node.numState.layer)}))}function XO(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,21,"div",[["class","tree-node"],["tabindex","0"]],[[1,"data-id",0]],[[null,"keyup.enter"],[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"keyup.enter"===t&&(l=!1!==i.handleNodeClick(n,i.node)&&l),"click"===t&&(l=!1!==i.handleNodeClick(n,i.node)&&l),l}),null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"tree-node--light":0,"tree-node--themed":1,"tree-node--hidden":2,"tree-node--selected":3,"tree-node--unpickable":4}),(e()(),i.ob(16777216,null,null,1,null,QO)),i.xb(5,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,WO)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,qO)),i.xb(9,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,2,null,YO)),i.xb(11,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(13,0,null,null,5,"div",[["appEventFence",""],["class","tree-node__visible"]],null,[[null,"click"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,14).onClick(n,n.target)&&l),"click"===t&&(l=!1!==o.toggleVisible(o.node)&&l),l}),null,null)),i.xb(14,16384,null,0,se,[],null,null),(e()(),i.yb(15,0,null,null,1,"app-icon",[["class","tree-node__eye"],["icon","eye"],["size","xs"]],null,null,null,ce,ue)),i.xb(16,114688,null,0,re,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),i.yb(17,0,null,null,1,"app-icon",[["class","tree-node__eye-slash"],["icon","eye-slash"],["size","xs"]],null,null,null,ce,ue)),i.xb(18,114688,null,0,re,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),i.yb(19,0,null,null,2,"app-node-actions",[["appEventFence",""]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,21).onClick(n,n.target)&&l),l}),MO,_O)),i.xb(20,114688,null,0,yO,[h.i,Zr,i.i,_p,nb.c],{node:[0,"node"],theme:[1,"theme"]},null),i.xb(21,16384,null,0,se,[],null,null)],(function(e,t){var n=t.component,l=e(t,3,0,n.theme===n.treeTheme.Light,n.theme===n.treeTheme.Themed,!n.node.boolState.shown,n.checked,!n.node.boolState.pickable&&n.isLoft);e(t,2,0,"tree-node",l),e(t,5,0,n.nested&&n.hasChildren),e(t,7,0,!n.editLabelMode),e(t,9,0,n.editLabelMode),e(t,11,0,i.Tb(t,11,0,i.Kb(t,12).transform(n.layerOrderMode$))),e(t,16,0,"eye","xs"),e(t,18,0,"eye-slash","xs"),e(t,20,0,n.node,n.theme)}),(function(e,t){e(t,0,0,t.component.sanitizedID)}))}var JO=i.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.tree-group[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tree-group--themed[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:after{background:var(--tree-node-collapse-color)}.tree-group--themed[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover{background:0 0}.tree-group--themed[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover:after{background:var(--tree-node-collapse-color--hover)}.tree-group--light[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:after{background:#eaeff5}.tree-group--light[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover{background:0 0}.tree-group--light[_ngcontent-%COMP%]   .tree-group__collapse[_ngcontent-%COMP%]:hover:after{background:#d7e0ea}.tree-group__children[_ngcontent-%COMP%]{padding-left:20px;position:relative}.tree-group__collapse[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;width:20px;z-index:1}.tree-group__collapse[_ngcontent-%COMP%]:after{content:\" \";display:block;position:absolute;width:1px;left:10px;top:0;bottom:0;background:#1c2a3f}.tree-group__collapse[_ngcontent-%COMP%]:hover{cursor:pointer}.tree-group__collapse[_ngcontent-%COMP%]:hover:after{background:#283853}"]],data:{}});function ZO(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"div",[["class","tree-group__collapse"]],[[8,"title",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleExpandClick(e.parent.parent.context.$implicit,!0)&&l),l}),null,null))],null,(function(e,t){e(t,0,0,t.parent.parent.context.$implicit.label)}))}function ew(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"div",[["class","tree-group__children"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,ZO)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(3,0,null,null,1,"app-tree-group",[],null,[[null,"clickNode"]],(function(e,t,n){var l=!0;return"clickNode"===t&&(l=!1!==e.component.handleNodeClick(n)&&l),l}),nw,JO)),i.xb(4,245760,null,0,fO,[Zr,h.i],{graph:[0,"graph"],theme:[1,"theme"],node:[2,"node"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.hasChildren(t.parent.context.$implicit)),e(t,4,0,n.graph,n.theme,t.parent.context.$implicit)}),null)}function tw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,7,"div",[["class","tree-group"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"tree-group--light":0,"tree-group--themed":1}),(e()(),i.yb(4,0,null,null,1,"app-tree-nested-node",[],null,null,null,XO,$O)),i.xb(5,245760,null,0,VO,[h.i,Zr,p.m,i.i],{graph:[0,"graph"],node:[1,"node"],theme:[2,"theme"]},null),(e()(),i.ob(16777216,null,null,1,null,ew)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,n.theme===n.treeTheme.Light,n.theme===n.treeTheme.Themed);e(t,2,0,"tree-group",l),e(t,5,0,n.graph,t.context.$implicit,n.theme),e(t,7,0,t.context.$implicit.boolState.expanded)}),null)}function nw(e){return i.Ub(2,[(e()(),i.ob(16777216,null,null,1,null,tw)),i.xb(1,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.nodes,n.trackTreeNode)}),null)}var lw=i.wb({encapsulation:0,styles:[[""]],data:{}});function iw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"app-tree-group",[],null,null,null,nw,JO)),i.xb(1,245760,null,0,fO,[Zr,h.i],{graph:[0,"graph"],theme:[1,"theme"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,1,0,n.searchGraph?n.searchGraph:i.Tb(t,1,0,i.Kb(t,2).transform(n.viewGraph$)),n.theme)}),null)}var ow=n("Wucu"),aw=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.tree-search{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-flex:1;flex:1 1 auto;height:100%}.tree-search__tree{-webkit-box-flex:1;flex-grow:1;width:100%}.tree-search__empty{font-size:14px;letter-spacing:.35px;line-height:1.4em;padding:12px;font-style:italic;margin-top:12px}.tree-search cdk-virtual-scroll-viewport{-webkit-box-flex:1;flex:1 1 auto}.tree-search cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{padding-right:12px}"]],data:{}});function rw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"div",[["class","tree-search__empty"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" No results "]))],null,null)}function uw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[["class","pr-3 pv-3"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-tree",[["class","tree-search__tree"]],null,null,null,iw,lw)),i.xb(2,245760,null,0,fy,[h.i,Zr],{theme:[0,"theme"],searchGraph:[1,"searchGraph"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.theme,n.searchGraph)}),null)}function cw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-tree-nested-node",[["class","mr-3"],["style","height: 64px;"]],null,null,null,XO,$O)),i.xb(2,245760,null,0,VO,[h.i,Zr,p.m,i.i],{graph:[0,"graph"],node:[1,"node"],nested:[2,"nested"],theme:[3,"theme"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.prunedViewGraph,t.context.$implicit,!1,n.theme)}),null)}function sw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,"cdk-virtual-scroll-viewport",[["class","pv-3 cdk-virtual-scroll-viewport"]],[[4,"height","px"],[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,ow.b,ow.a)),i.Pb(6144,null,dh.b,null,[dh.d]),i.xb(2,540672,null,0,dh.a,[],{itemSize:[0,"itemSize"]},null),i.Pb(1024,null,dh.i,dh.k,[dh.a]),i.xb(4,245760,null,0,dh.d,[i.l,i.i,i.C,[2,dh.i],[2,qe.b],dh.f],null,null),(e()(),i.ob(16777216,null,0,1,null,cw)),i.xb(6,409600,null,0,dh.c,[i.T,i.Q,i.v,[1,dh.d],i.C],{cdkVirtualForOf:[0,"cdkVirtualForOf"],cdkVirtualForTrackBy:[1,"cdkVirtualForTrackBy"]},null)],(function(e,t){var n=t.component;e(t,2,0,64),e(t,4,0),e(t,6,0,n.searchResults,n.trackTreeNode)}),(function(e,t){e(t,0,0,t.component.searchHeight,"horizontal"===i.Kb(t,4).orientation,"horizontal"!==i.Kb(t,4).orientation)}))}function pw(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,6,"div",[["class","tree-search"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,rw)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,uw)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,sw)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,0===n.searchResults.length),e(t,4,0,n.displayMode===n.treeSearchDisplayMode.Tree),e(t,6,0,n.displayMode===n.treeSearchDisplayMode.List)}),null)}var dw=function(){function e(e,t){this.viewService=e,this.store=t,this.query="",this.treeTheme=my,this.treeSearchDisplayMode=_y}return e.prototype.ngOnInit=function(){},e.prototype.handleSearchKeyup=function(e,t){"Escape"===e.key&&(this.handleExitClick(),this.searchInput.nativeElement.blur()),this.query=t},e.prototype.handleExitClick=function(){this.query="",this.viewService.toggleSearch(!1)},e.prototype.toggleDisplayMode=function(){var e=this.store.selectSnapshot(jy.getSearchDisplayMode);this.setDisplayMode(e=e===_y.List?_y.Tree:_y.List)},e.prototype.setDisplayMode=function(e){this.store.dispatch(new l.SetSearchDisplayMode(e))},Object(g.__decorate)([Object(h.e)(Fc.getViewGraph),Object(g.__metadata)("design:type",Q.a)],e.prototype,"viewGraph$",void 0),Object(g.__decorate)([Object(h.e)(jy.getSearchDisplayMode),Object(g.__metadata)("design:type",Q.a)],e.prototype,"searchDisplayMode$",void 0),e}(),bw=i.wb({encapsulation:2,styles:[[".view-search{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%}@-webkit-keyframes appear{from{background-color:transparent}}@keyframes appear{from{background-color:transparent}}.view-search__header{background-color:#2d72dc;background-color:var(--view-search-header-bg);-webkit-box-flex:0;flex:0 0 auto;display:-webkit-box;display:flex;padding:12px 12px 16px;-webkit-animation:250ms ease-out appear;animation:250ms ease-out appear}.view-search__input-container{background-color:#fff;background-color:var(--view-search-input-bg);display:-webkit-box;display:flex;-webkit-box-flex:1;flex-grow:1;border-radius:4px}.view-search__input{color:#131c2a;color:var(--view-search-active-color);background:0 0;border:1px solid transparent;outline:0;-webkit-box-flex:1;flex:1 0 auto;padding:8px 12px;font-size:13px;font-family:'Inter UI',\"Font Awesome 5 Pro\"!important}.view-search__input::-ms-clear{display:none}.view-search__input::-webkit-input-placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__input::-moz-placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__input:-ms-input-placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__input::-ms-input-placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__input::placeholder{color:#96a8c0;color:var(--view-search-inactive-color)}.view-search__action{background:0 0;border:0;color:#96a8c0;color:var(--view-search-inactive-color);cursor:pointer;width:36px;height:36px;outline:0}.view-search__action:hover{color:#131c2a;color:var(--view-search-active-color)}.view-search__divider{border-right:1px solid #96a8c0;border-right:1px solid var(--view-search-divider-color);margin:8px 0}.view-search__body{-webkit-box-flex:1;flex:1 1 100%;overflow-y:scroll;padding-left:12px}.view-search__actions{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}@media not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none){.view-search__input{font-size:16px;padding:4px 8px;width:0}}}"]],data:{}});function gw(e){return i.Ub(2,[i.Qb(671088640,1,{searchInput:0}),(e()(),i.yb(1,0,null,null,21,"div",[["class","view-search"]],null,null,null,null,null)),(e()(),i.yb(2,0,null,null,15,"div",[["class","view-search__header"]],null,null,null,null,null)),(e()(),i.yb(3,0,null,null,14,"div",[["class","view-search__input-container"]],null,null,null,null,null)),(e()(),i.yb(4,0,[[1,0],["searchInput",1]],null,2,"input",[["appAutoFocus",""],["appSelectOnFocus",""],["aria-label","Search Anatomy"],["class","view-search__input"],["placeholder","Search Anatomy..."],["role","search"],["type","search"]],[[8,"value",0]],[[null,"keyup"],[null,"click"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,6).onClick(n,n.target)&&l),"keyup"===t&&(l=!1!==o.handleSearchKeyup(n,i.Kb(e,4).value)&&l),l}),null,null)),i.xb(5,1064960,null,0,hO,[i.l],null,null),i.xb(6,16384,null,0,mO,[],null,null),(e()(),i.yb(7,16777216,null,null,5,"button",[["class","view-search__action"],["type","button"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,8).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,8)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,8)._handleTouchend()&&l),"click"===t&&(l=!1!==o.toggleDisplayMode()&&l),l}),null,null)),i.xb(8,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(10,0,null,null,2,"app-icon",[["aria-hidden",""]],null,null,null,ce,ue)),i.xb(11,114688,null,0,re,[],{icon:[0,"icon"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(13,0,null,null,0,"div",[["class","view-search__divider"]],null,null,null,null,null)),(e()(),i.yb(14,16777216,null,null,3,"button",[["class","view-search__action"],["matTooltip","Close Search"],["type","button"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,15).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,15)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,15)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleExitClick()&&l),l}),null,null)),i.xb(15,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),(e()(),i.yb(16,0,null,null,1,"app-icon",[["icon","times"]],null,null,null,ce,ue)),i.xb(17,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(18,0,null,null,4,"div",[["class","view-search__body"]],null,null,null,null,null)),(e()(),i.yb(19,0,null,null,3,"app-tree-search",[],null,null,null,pw,aw)),i.xb(20,4440064,null,0,vy,[i.I,i.i,i.l,au,Zr,h.i],{query:[0,"query"],displayMode:[1,"displayMode"],viewGraph:[2,"viewGraph"],theme:[3,"theme"]},null),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,8,0,i.Tb(t,8,0,i.Kb(t,9).transform(n.searchDisplayMode$))===n.treeSearchDisplayMode.List?"Switch to Anatomy Tree":"Switch to Anatomy List"),e(t,11,0,i.Tb(t,11,0,i.Kb(t,12).transform(n.searchDisplayMode$))===n.treeSearchDisplayMode.List?"sitemap":"list"),e(t,15,0,"Close Search"),e(t,17,0,"times"),e(t,20,0,n.query,i.Tb(t,20,1,i.Kb(t,21).transform(n.searchDisplayMode$)),i.Tb(t,20,2,i.Kb(t,22).transform(n.viewGraph$)),n.treeTheme.Themed)}),(function(e,t){e(t,4,0,t.component.query)}))}var hw=function(){function e(e,t,n){this.store=e,this.actions=t,this.changeRef=n,this.layout="drawer",this.showClose=!0,this.isOpen=!1,this.ngUnsubscribe=new $.a}return e.prototype.ngOnInit=function(){this.initInfoListeners()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.handleHideClick=function(e){this.store.dispatch(new Ca([e],!1))},e.prototype.handleCloseClick=function(){var e=this.store.selectSnapshot(jy.getLayout);e.nodeInfo.status=ry.Hide,this.store.dispatch(new l.SetLayout(e))},e.prototype.initInfoListeners=function(){var e=this;this.actions.pipe(Object(h.k)(Ka,za,Ma),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.isOpen=!0,e.changeRef.markForCheck()}))},e.prototype.formatHTML=function(e){return e.trim().replace(new RegExp("\r?\n","g"),"<br><br>")},Object(g.__decorate)([Object(h.e)(ay.getSelectedNode),Object(g.__metadata)("design:type",Q.a)],e.prototype,"node$",void 0),Object(g.__decorate)([Object(h.e)(ay.getQuerying),Object(g.__metadata)("design:type",Q.a)],e.prototype,"querying$",void 0),e}(),mw=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-node-description{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.view-node-description--layout-drawer .view-node-description__body{margin-top:8px}.view-node-description--layout-column .view-node-description__body{margin-top:4px}.view-node-description__header{display:-webkit-box;display:flex}.view-node-description__title{font-size:18px;letter-spacing:.45px;line-height:1.4em;-webkit-box-flex:1;flex:1 1 auto;font-weight:600;align-self:center}.view-node-description--layout-drawer .view-node-description__title{font-size:14px;letter-spacing:.35px;line-height:1.4em}.view-node-description__body{font-size:14px;letter-spacing:.35px;line-height:1.4em;color:var(--view-description-secondary-color)}.view-node-description__attribution{color:var(--view-description-secondary-color);margin-top:16px;font-size:12px;letter-spacing:.3px;line-height:1.4em}.view-node-description__actions{cursor:pointer;outline:0;border:none;background:0 0;padding:4px 8px}"]],data:{}});function fw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"button",[["app-pin-button",""],["class","mr-1 mt-1"],["icon","arrow-left"],["size","small"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseClick()&&l),l}),Bx,Ax)),i.xb(1,114688,null,0,Fx,[],{icon:[0,"icon"],size:[1,"size"]},null)],(function(e,t){e(t,1,0,"arrow-left","small")}),null)}function yw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[["class","view-node-description__body"]],[[2,"text-italic",null],[8,"innerHTML",1]],null,null,null,null)),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i])],null,(function(e,t){var n,l,o=t.component;e(t,0,0,!(null!=(n=i.Tb(t,0,0,i.Kb(t,1).transform(o.node$)))&&n.description),o.formatHTML((null==(l=i.Tb(t,0,1,i.Kb(t,2).transform(o.node$)))?null:l.description)||"No description available"))}))}function _w(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"div",[["class","view-node-description__attribution"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" Source: "])),(e()(),i.yb(2,0,null,null,1,"span",[["class","text-italic"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Wikipedia"]))],null,null)}function vw(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,15,"div",[["class","view-node-description"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"view-node-description--layout-column":0,"view-node-description--layout-drawer":1}),(e()(),i.yb(4,0,null,null,5,"div",[["class","view-node-description__header"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,fw)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(7,0,null,null,2,"div",[["class","view-node-description__title"]],null,null,null,null,null)),(e()(),i.Sb(8,null,["",""])),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,yw)),i.xb(11,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,_w)),i.xb(14,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n,l=t.component,o=e(t,3,0,"column"===l.layout,"drawer"===l.layout);e(t,2,0,"view-node-description",o),e(t,6,0,l.showClose),e(t,11,0,!i.Tb(t,11,0,i.Kb(t,12).transform(l.querying$))),e(t,14,0,null==(n=i.Tb(t,14,0,i.Kb(t,15).transform(l.node$)))?null:n.description)}),(function(e,t){var n,l=t.component;e(t,8,0,null==(n=i.Tb(t,8,0,i.Kb(t,9).transform(l.node$)))?null:n.label)}))}var xw=function(){function e(e,t,n){this.viewService=e,this.layoutService=t,this.changeDetectorRef=n,this.ngUnsubscribe=new $.a,this.viewLayout=y_,this.application=o}return e.prototype.ngOnInit=function(){this.initLayoutObserver()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initLayoutObserver=function(){var e=this;Object(Id.b)(this.layout$,this.chapter$).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.changeDetectorRef.markForCheck()}))},e.prototype.isVisible=function(e){switch(e){case y_.Column:return this.layoutService.isColumnVisible();case y_.NodeInfo:return this.layoutService.isNodeInfoVisible("column");case y_.Search:return this.layoutService.isSearchColumnVisible()}},e.prototype.handleSearchClick=function(){this.viewService.toggleSearch(!0)},Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapter),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapter$",void 0),Object(g.__decorate)([Object(h.e)(jy.getLayout),Object(g.__metadata)("design:type",Q.a)],e.prototype,"layout$",void 0),e}(),Ow=i.wb({encapsulation:2,styles:[[".view-column-container{pointer-events:none;height:100%;width:320px;position:fixed;left:0;top:0;z-index:30}.view-column-container app-view-column{position:absolute;left:0;top:0;height:100%;z-index:40}"]],data:{animation:[{type:7,name:"slideInOut",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{transform:"translateX(-320px)"},offset:null},{type:4,styles:{type:6,styles:{transform:"*"},offset:null},timings:"300ms ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateX(-320px)"},offset:null},timings:"300ms ease-in-out"}],options:null}],options:{}}]}});function ww(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-view-internal-header",[],null,null,null,Ox,vx)),i.xb(1,245760,null,0,_x,[p.a,h.i,i.i,tp,tc],null,null)],(function(e,t){e(t,1,0)}),null)}function Cw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,7,"app-view-column",[["class","view-column-container__inner"]],[[24,"@slideInOut",0]],null,null,jx,Cx)),i.xb(1,114688,null,0,wx,[],null,null),(e()(),i.yb(2,0,null,0,2,null,null,null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,ww)),i.xb(4,81920,null,0,Yv,[i.Q,i.T,p.m],{appFlagApplication:[0,"appFlagApplication"],appFlagApplicationMode:[1,"appFlagApplicationMode"]},null),(e()(),i.yb(5,0,null,1,2,null,null,null,null,null,null,null)),(e()(),i.yb(6,0,null,null,1,"app-view-content-mode",[["layout","column"]],null,null,null,gO,cO)),i.xb(7,245760,null,0,uO,[h.i,n_,Qx,i.i],{layout:[0,"layout"]},null)],(function(e,t){var n=t.component;e(t,1,0),e(t,4,0,n.application.Viewer,"exclude"),e(t,7,0,"column")}),(function(e,t){e(t,0,0,void 0)}))}function jw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"app-view-column",[["class","view-column-container__inner"]],[[24,"@slideInOut",0]],null,null,jx,Cx)),i.xb(1,114688,null,0,wx,[],{unpadded:[0,"unpadded"]},null),(e()(),i.yb(2,0,null,1,1,"app-view-search",[],null,null,null,gw,bw)),i.xb(3,114688,null,0,dw,[n_,h.i],null,null)],(function(e,t){e(t,1,0,!0),e(t,3,0)}),(function(e,t){e(t,0,0,void 0)}))}function kw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"app-view-column",[["class","view-column-container__inner"]],[[24,"@slideInOut",0]],null,null,jx,Cx)),i.xb(1,114688,null,0,wx,[],null,null),(e()(),i.yb(2,0,null,1,1,"app-view-node-description",[["layout","column"]],null,null,null,vw,mw)),i.xb(3,245760,null,0,hw,[h.i,h.b,i.i],{layout:[0,"layout"]},null)],(function(e,t){e(t,1,0),e(t,3,0,"column")}),(function(e,t){e(t,0,0,void 0)}))}function Sw(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,6,"div",[["class","view-column-container"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Cw)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,jw)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,kw)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.isVisible(n.viewLayout.Column)),e(t,4,0,n.isVisible(n.viewLayout.Search)),e(t,6,0,n.isVisible(n.viewLayout.NodeInfo))}),null)}var Pw=function(){function e(){this.canExit=!1,this.padding="normal",this.orientation="horizontal",this.name="",this.exit=new i.o}return e.prototype.ngOnInit=function(){},e.prototype.handleExitClick=function(){this.exit.emit()},e}(),Iw=i.wb({encapsulation:2,styles:[[".pillbox{border-radius:32px;background-color:rgba(255,255,255,.8);box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#131c2a;background-color:var(--pillbox-bg);box-shadow:var(--pillbox-shadow);color:var(--pillbox-color);padding:6px 16px;display:-webkit-inline-box;display:inline-flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;overflow:hidden;-webkit-transition:padding 150ms;transition:padding 150ms}.pillbox--padding-dense{padding:4px}.pillbox--padding-none{padding:0}.pillbox--vertical{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.pillbox__divider{border-right:1px solid rgba(0,0,0,.1);border-right:var(--pillbox-border);height:18px;margin:0 8px}"]],data:{}});function Mw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,0,"div",[["class","pillbox__divider"]],null,null,null,null,null)),(e()(),i.yb(2,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","times"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,4).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,4)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,4)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleExitClick()&&l),l}),Bx,Ax)),i.xb(3,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),i.xb(4,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,3,0,"times","ghost"),e(t,4,0,"Close "+n.name)}),null)}function Tw(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,6,"div",[["class","pillbox"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"pillbox--padding-dense":0,"pillbox--padding-none":1,"pillbox--vertical":2}),i.Jb(null,0),(e()(),i.ob(16777216,null,null,1,null,Mw)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,l=e(t,3,0,"dense"===n.padding,"none"===n.padding,"vertical"===n.orientation);e(t,2,0,"pillbox",l),e(t,6,0,n.canExit)}),null)}var Kw=n("9Bt9"),zw=n("AJqF"),Lw=function(){return(Lw=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ew=function(){function e(e,t,n,l,i,o){this.engineService=e,this.animationService=t,this.renderer=n,this.viewService=l,this.changeDetectorRef=i,this.store=o,this.showHandle=!0,this.ngUnsubscribe=new $.a,this.trackWidth=0,this.dragPosition={x:16,y:0},this.dragMove=new $.a}return e.prototype.ngOnInit=function(){this.initChapterListener(),this.initTimelineListener(),this.initDragListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initChapterListener=function(){var e=this;this.selectedChapterId$.pipe(Object(W.a)((function(e){return null!=e})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.timerange=e.animationService.getChapterLocalTimerange(t)}))},e.prototype.initTimelineListener=function(){var e=this;this.engineService.getEvent(Za.TimelinePlaying).pipe(Object(zw.a)(20),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){return e.tick(t.time)})),this.engineService.getEvent(Za.TimelineScrubbed).pipe(Object(zw.a)(20),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.calcScrubbedPercent(t.time);e.setScrubberBar(n)}))},e.prototype.initDragListener=function(){var e=this;this.dragMove.pipe(Object(Bf.a)(20),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.calculateHandlePercent();e.scrubToPercent(n)}))},e.prototype.handleDragMoved=function(e){this.dragMove.next(e)},e.prototype.tick=function(e){if(this.timerange){var t=this.calcScrubbedPercent(e);this.setScrubberBar(t),0===this.trackWidth&&(this.trackWidth=this.track.nativeElement.offsetWidth),this.showHandle&&(this.dragPosition=Lw({},this.dragPosition,{x:16+this.trackWidth*(t/100)}),this.changeDetectorRef.markForCheck())}},e.prototype.calculateHandlePercent=function(){var e=this.scrubber.nativeElement.getBoundingClientRect(),t=e.left,n=e.right-t-32;return(this.handle.nativeElement.getBoundingClientRect().left-t)/n*100},e.prototype.scrubToPercent=function(e){var t=e/100*this.timerange.lastTime,n=0===e?"second":"first",l=this.store.selectSnapshot(Zc.getSelectedChapterId),i=this.animationService.mapLocalTimeToGlobal(l,t);this.animationService.scrub({time:i,which:n})},e.prototype.handlePlayClick=function(){this.viewService.toggleAnimation()},e.prototype.setScrubberBar=function(e){this.renderer.setStyle(this.bar.nativeElement,"width",e+"%")},e.prototype.calcScrubbedPercent=function(e){var t=this.timerange,n=t.firstTime,l=t.lastTime,i=this.animationService.mapGlobalTimeToLocal(e).time,o=Math.max(n,Math.min(i,l));return Math.round(o/l*100)},Object(g.__decorate)([Object(h.e)(Fc.getAnimationPlaying),Object(g.__metadata)("design:type",Q.a)],e.prototype,"animationPlaying$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterId),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedChapterId$",void 0),Object(g.__decorate)([Object(h.e)(jy.getCanTouch),Object(g.__metadata)("design:type",Q.a)],e.prototype,"canTouch$",void 0),e}(),Uw=i.wb({encapsulation:2,styles:[['.view-scrubber{position:relative;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;height:28px;width:100%}.view-scrubber:hover .view-scrubber__handle:after{opacity:1}.view-scrubber--draggable .view-scrubber__track{left:16px;right:16px}.view-scrubber__track{position:absolute;background:rgba(28,42,63,.5);background:var(--scrubber-track-bg);z-index:1;height:3px;left:0;right:0}.view-scrubber__bar{position:absolute;background:var(--scrubber-track-color);height:3px;z-index:2;width:0;left:0}.view-scrubber__handle{width:28px;height:28px;margin-left:-16px;left:0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:absolute;z-index:2}.view-scrubber__handle--hide{display:none}.view-scrubber__handle:after{opacity:0;-webkit-transition:opacity 250ms;transition:opacity 250ms;content:"";width:8px;height:8px;border-radius:4px;background:var(--scrubber-handle-color);box-shadow:var(--scrubber-handle-shadow)}.view-scrubber__handle:hover:after{opacity:1;background:var(--scrubber-handle-color--hover)}.view-scrubber__handle-touch:after{opacity:1}']],data:{}});function Fw(e){return i.Ub(2,[i.Qb(402653184,1,{scrubber:0}),i.Qb(402653184,2,{track:0}),i.Qb(402653184,3,{bar:0}),i.Qb(402653184,4,{handle:0}),(e()(),i.yb(4,0,[[1,0],["scrubber",1]],null,15,"div",[["class","view-scrubber"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(6,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(7,{"view-scrubber--draggable":0}),(e()(),i.yb(8,0,[[2,0],["track",1]],null,1,"div",[["class","view-scrubber__track"]],null,null,null,null,null)),(e()(),i.yb(9,0,[[3,0],["bar",1]],null,0,"div",[["class","view-scrubber__bar"]],null,null,null,null,null)),(e()(),i.yb(10,16777216,[[4,0],["handle",1]],null,9,"div",[["cdkDrag",""],["cdkDragBoundary",".view-scrubber"],["cdkDragLockAxis","x"],["class","view-scrubber__handle cdk-drag"]],[[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],[[null,"cdkDragMoved"]],(function(e,t,n){var l=!0;return"cdkDragMoved"===t&&(l=!1!==e.component.handleDragMoved(n)&&l),l}),null,null)),i.Pb(6144,null,Kw.g,null,[Kw.c]),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(13,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Mb(131072,te.b,[i.i]),i.Nb(15,{"view-scrubber__handle--hide":0,"view-scrubber__handle-touch":1}),i.xb(16,4866048,null,3,Kw.c,[i.l,[3,Kw.b],te.d,i.C,i.T,Kw.a,[2,qe.b],Kw.d,i.i],{lockAxis:[0,"lockAxis"],boundaryElement:[1,"boundaryElement"],freeDragPosition:[2,"freeDragPosition"]},{moved:"cdkDragMoved"}),i.Qb(603979776,5,{_handles:1}),i.Qb(603979776,6,{_previewTemplate:0}),i.Qb(603979776,7,{_placeholderTemplate:0})],(function(e,t){var n=t.component,l=e(t,7,0,n.showHandle);e(t,6,0,"view-scrubber",l);var o=e(t,15,0,!n.showHandle,i.Tb(t,13,1,i.Kb(t,14).transform(n.canTouch$)));e(t,13,0,"view-scrubber__handle",o),e(t,16,0,"x",".view-scrubber",n.dragPosition)}),(function(e,t){e(t,10,0,i.Kb(t,16).disabled,i.Kb(t,16)._dragRef.isDragging())}))}var Aw,Dw=function(){function e(e,t){this.el=e,this.renderer=t}return e.prototype.ngOnInit=function(){p_()&&this.renderer.setStyle(this.el.nativeElement,"display","none")},e}(),Nw=n("4c35"),Rw=function(e){return e.Above="above",e.Below="below",e.Left="left",e.Right="right",e}({}),Bw=((Aw={})[Rw.Above]={originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-12},Aw[Rw.Below]={originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:12},Aw[Rw.Left]={originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-12},Aw[Rw.Right]={originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:12},Aw),Hw=function(){function e(e,t){this.overlay=e,this.injector=t}return e.prototype.open=function(e){var t=e.content,n=e.data,l=this.overlay.create(this.getOverlayConfig({origin:e.origin,width:e.width,height:e.height})),i=new Mf(l,t,n),o=this.createInjector(i,this.injector);return l.attach(new Nw.c(If,null,o)),i},e.prototype.createInjector=function(e,t){var n=new WeakMap([[Mf,e]]);return new Nw.e(t,n)},e.prototype.getPositionStrategy=function(e,t){return this.overlay.position().flexibleConnectedTo(e).withPositions(this.getPositions(t))},e.prototype.getOverlayConfig=function(e){return new We.b({width:e.width,height:e.height,hasBackdrop:!0,backdropClass:"popup-scrim",positionStrategy:this.getOverlayPosition(e.origin),scrollStrategy:this.overlay.scrollStrategies.reposition()})},e.prototype.getOverlayPosition=function(e,t){return t=t||[Rw.Above,Rw.Below,Rw.Left,Rw.Right],this.overlay.position().flexibleConnectedTo(e).withPositions(this.getPositions(t)).withPush(!0)},e.prototype.getPositions=function(e){return e.map((function(e){return Bw[e]}))},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(We.a),i.Yb(i.q))},token:e,providedIn:"root"}),e}(),Vw=function(e){return e[e.Main=0]="Main",e[e.Media=1]="Media",e[e.Tools=2]="Tools",e[e.Empty=3]="Empty",e}({}),$w=function(e){return e[e.ViewToolbarMain=0]="ViewToolbarMain",e[e.ViewToolsPlay=1]="ViewToolsPlay",e[e.ViewToolsNewTab=2]="ViewToolsNewTab",e[e.ViewToolsFullscreen=3]="ViewToolsFullscreen",e[e.ViewToolsTools=4]="ViewToolsTools",e[e.ViewToolsSearch=5]="ViewToolsSearch",e[e.ViewToolsMediaBarToggle=6]="ViewToolsMediaBarToggle",e[e.ViewToolsPreviousChapter=7]="ViewToolsPreviousChapter",e[e.ViewToolsNextChapter=8]="ViewToolsNextChapter",e[e.ViewToolsChapterCount=9]="ViewToolsChapterCount",e[e.ViewToolsMore=10]="ViewToolsMore",e[e.EngineCameraBar=11]="EngineCameraBar",e}({}),Qw=function(){function e(e,t,n,l,o){this.viewService=e,this.layoutService=t,this.store=n,this.changeDetectorRef=l,this.popupService=o,this.viewToolsMode=Vw,this.viewLayout=y_,this.breakpointEnum=Ay,this.testSelectors=$w,this.canFullscreen=!0,this.isFullscreen=!1,this.toolEnum=Kc,this.mediaControlsEnum=uy,this.ngUnsubscribe=new $.a,this.animate=!0,this._mode=Vw.Main,this.collapsePagination=!1,this.modeChange=new i.o}return Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},set:function(e){this._mode=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.canFullscreen=Zf.canFullscreen(),this.initLayoutListener(),this.initBreakpointListener(),this.initChapterListener(),this.initFullscreenListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initLayoutListener=function(){var e=this;this.store.select(jy.getLayout).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.mediaTemplate=t.media.template,e.changeDetectorRef.markForCheck()}))},e.prototype.initBreakpointListener=function(){var e=this;this.store.select(Ny.getBreakpoint).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.breakpoint=t,e.changeDetectorRef.markForCheck()}))},e.prototype.initChapterListener=function(){var e=this;this.store.select(Zc.getSelectedChapterIndex).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.chaptersPopup&&e.chaptersPopup.close()}))},e.prototype.initFullscreenListener=function(){var e=this;this.fullscreen$=Zf.onFullscreenChange(),this.fullscreen$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.isFullscreen=Zf.isFullscreen(),e.changeDetectorRef.markForCheck()}))},e.prototype.handleSelectTool=function(e){this.viewService.selectTool(e)},e.prototype.handleUndoClick=function(){this.viewService.undo()},e.prototype.handleToggleLabelsClick=function(){this.viewService.toggleLabels()},e.prototype.handleFullscreenClick=function(){Zf.toggleFullscreen()},e.prototype.handleSearchClick=function(){this.viewService.toggleSearch()},e.prototype.handlePlayClick=function(){this.viewService.toggleAnimation()},e.prototype.handlePresentClick=function(){this.viewService.togglePresentation()},e.prototype.handleHelpClick=function(){this.viewService.toggleHelp()},e.prototype.handleNewTabClick=function(){this.viewService.openInNewTab()},e.prototype.handlePreviousClick=function(){this.viewService.previousChapter()},e.prototype.handleNextClick=function(){this.viewService.nextChapter()},e.prototype.handleChapterCountClick=function(){this.toggleChaptersPopup()},e.prototype.toggleChaptersPopup=function(){this.chaptersPopup=this.popupService.open({origin:this.chapterCount.nativeElement,content:Hf,width:"300px"}),console.log(this.chaptersPopup)},e.prototype.toggleToolbar=function(e){var t=this.store.selectSnapshot(jy.getLayout);t.media.status=ry.Hide,t.tools.status=ry.Hide,t.toolbar.status=ry.Hide,t[e].status=ry.Show,this.store.dispatch(new l.SetLayout(t))},e.prototype.isEnabled=function(e){return this.layoutService.isLayoutEnabled(e)},Object(g.__decorate)([Object(h.e)(Fc.getActiveTool),Object(g.__metadata)("design:type",Q.a)],e.prototype,"activeTool$",void 0),Object(g.__decorate)([Object(h.e)(jy.getPresentationActive),Object(g.__metadata)("design:type",Q.a)],e.prototype,"presentationActive$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getIsChapterAnimated),Object(g.__metadata)("design:type",Q.a)],e.prototype,"isChapterAnimated$",void 0),Object(g.__decorate)([Object(h.e)(Fc.getShowLabels),Object(g.__metadata)("design:type",Q.a)],e.prototype,"showLabels$",void 0),Object(g.__decorate)([Object(h.e)(Fc.getAnimationPlaying),Object(g.__metadata)("design:type",Q.a)],e.prototype,"animationPlaying$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getChapterLabels),Object(g.__metadata)("design:type",Q.a)],e.prototype,"labels$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterTitle),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapterTitle$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterIndex),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapterIndex$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getNextChapter),Object(g.__metadata)("design:type",Q.a)],e.prototype,"nextChapter$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getPreviousChapter),Object(g.__metadata)("design:type",Q.a)],e.prototype,"previousChapter$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getChapterCount),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapterCount$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterAudio),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedChapterAudio$",void 0),e}(),Gw=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-tools{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;overflow:hidden}@-webkit-keyframes viewToolsToggle{0%,100%{opacity:1}50%{opacity:0}}@keyframes viewToolsToggle{0%,100%{opacity:1}50%{opacity:0}}.view-tools--swap{-webkit-animation:.3s ease-in-out viewToolsToggle;animation:.3s ease-in-out viewToolsToggle}.view-tools--dense .view-tools__divider{margin:4px}.view-tools__inner{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.view-tools__group{border-right:var(--view-tools-border);padding:0 8px;display:-webkit-box;display:flex}.view-tools__group:empty{display:none}.view-tools__group:empty:first-of-type+.view-tools__group:not(:empty),.view-tools__group:first-of-type{padding-left:0}.view-tools__group:last-of-type{border-right:none;padding-right:0}.view-tools__item{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.view-tools__item:not(:last-child){margin-right:4px}.view-tools__divider{border-right:var(--view-tools-border);margin:4px 8px}.view-tools__count{font-size:12px;letter-spacing:.3px;line-height:1.4em;white-space:nowrap}"]],data:{}});function Ww(e){return i.Ub(0,[(e()(),i.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","pen"],["matTooltip","Open Explore Tools"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,1).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,1)._handleTouchend()&&l),"click"===t&&(l=!1!==o.toggleToolbar("tools")&&l),l}),Bx,Ax)),i.xb(1,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(2,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,1,0,"Open Explore Tools"),e(t,2,0,"pen","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsTools)}))}function qw(e){return i.Ub(0,[(e()(),i.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","search"],["matTooltip","Open Search"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,1).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,1)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleSearchClick()&&l),l}),Bx,Ax)),i.xb(1,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(2,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,1,0,"Open Search"),e(t,2,0,"search","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsSearch)}))}function Yw(e){return i.Ub(0,[(e()(),i.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","expand"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,1).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,1)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleFullscreenClick()&&l),l}),Bx,Ax)),i.xb(1,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(2,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,1,0,t.component.isFullscreen?"Exit Fullscreen":"Enter Fullscreen"),e(t,2,0,"expand","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsFullscreen)}))}function Xw(e){return i.Ub(0,[(e()(),i.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","external-link"],["matTooltip","Open in New Tab"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,1).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,1)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleNewTabClick()&&l),l}),Bx,Ax)),i.xb(1,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(2,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,1,0,"Open in New Tab"),e(t,2,0,"external-link","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsNewTab)}))}function Jw(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,8,"div",[["class","view-tools__group"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Ww)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,qw)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Yw)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Xw)),i.xb(8,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.isEnabled(n.viewLayout.Tools)),e(t,4,0,n.isEnabled(n.viewLayout.Search)),e(t,6,0,n.canFullscreen&&n.isEnabled(n.viewLayout.Fullscreen)),e(t,8,0,!n.canFullscreen&&n.isEnabled(n.viewLayout.Fullscreen))}),null)}function Zw(e){return i.Ub(0,[(e()(),i.yb(0,16777216,null,null,4,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["matTooltip","Open Media Bar"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,1).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,1)._handleTouchend()&&l),"click"===t&&(l=!1!==o.toggleToolbar("media")&&l),l}),Bx,Ax)),i.xb(1,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(2,114688,null,0,Fx,[],{buttonType:[0,"buttonType"]},null),(e()(),i.yb(3,0,null,0,1,"app-view-scrubber",[["style","width: 16px"]],null,null,null,Fw,Uw)),i.xb(4,245760,null,0,Ew,[au,Gc,i.I,n_,i.i,h.i],{showHandle:[0,"showHandle"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,1,0,"Open Media Bar"),e(t,2,0,"ghost"),e(t,4,0,!1)}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsMediaBarToggle)}))}function eC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,7,"div",[["class","view-tools__group"]],null,null,null,null,null)),(e()(),i.yb(1,16777216,null,null,4,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,2).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,2)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,2)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handlePlayClick()&&l),l}),Bx,Ax)),i.xb(2,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.Mb(131072,te.b,[i.i]),i.xb(4,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,1,null,Zw)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,i.Tb(t,2,0,i.Kb(t,3).transform(n.animationPlaying$))?"Pause Animation":"Play Animation"),e(t,4,0,i.Tb(t,4,0,i.Kb(t,5).transform(n.animationPlaying$))?"pause":"play","ghost"),e(t,7,0,n.mediaTemplate===n.mediaControlsEnum.Full)}),(function(e,t){e(t,1,0,t.component.testSelectors.ViewToolsPlay)}))}function tC(e){return i.Ub(0,[(e()(),i.yb(0,16777216,null,null,10,"button",[["app-pin-button",""],["buttonType","ghost"],["matTooltip","Toggle Chapter List"]],[[1,"data-test",0],[1,"visible",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,1).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,1)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleChapterCountClick()&&l),l}),Bx,Ax)),i.xb(1,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(2,114688,null,0,Fx,[],{buttonType:[0,"buttonType"]},null),(e()(),i.yb(3,0,null,0,3,"div",[["aria-hidden","true"],["class","ph-2 text-bold"],["style","white-space: nowrap;"]],null,null,null,null,null)),(e()(),i.Sb(4,null,[" "," / "," "])),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(7,0,null,0,3,"span",[["class","visually-hidden"]],null,null,null,null,null)),(e()(),i.Sb(8,null,[" Toggle Chapter List, Chapter "," of "," "])),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,1,0,"Toggle Chapter List"),e(t,2,0,"ghost")}),(function(e,t){var n=t.component;e(t,0,0,n.testSelectors.ViewToolsChapterCount,n.breakpoint!==n.breakpointEnum.Small),e(t,4,0,i.Tb(t,4,0,i.Kb(t,5).transform(n.chapterIndex$))+1,i.Tb(t,4,1,i.Kb(t,6).transform(n.chapterCount$))),e(t,8,0,i.Tb(t,8,0,i.Kb(t,9).transform(n.chapterIndex$))+1,i.Tb(t,8,1,i.Kb(t,10).transform(n.chapterCount$)))}))}function nC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,16,"div",[["class","view-tools__group"]],null,null,null,null,null)),(e()(),i.yb(1,16777216,null,null,5,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","arrow-left"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,2).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,2)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,2)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handlePreviousClick()&&l),l}),Bx,Ax)),i.xb(2,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.xb(5,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],disabled:[2,"disabled"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(7,0,[[1,0],["chapterCount",1]],null,2,"div",[["class","view-tools__item"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,tC)),i.xb(9,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(10,16777216,null,null,6,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","arrow-right"]],[[1,"data-test",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,11).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,11)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,11)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleNextClick()&&l),l}),Bx,Ax)),i.xb(11,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.xb(14,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],disabled:[2,"disabled"]},null),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component,l=null;e(t,2,0,i.Tb(t,2,0,i.Kb(t,3).transform(n.previousChapter$))?"Previous: "+(null==(l=i.Tb(t,2,0,i.Kb(t,4).transform(n.previousChapter$)))?null:l.info.displayName):""),e(t,5,0,"arrow-left","ghost",0===i.Tb(t,5,2,i.Kb(t,6).transform(n.chapterIndex$))),e(t,9,0,!n.collapsePagination);var o=null;e(t,11,0,i.Tb(t,11,0,i.Kb(t,12).transform(n.nextChapter$))?"Next: "+(null==(o=i.Tb(t,11,0,i.Kb(t,13).transform(n.nextChapter$)))?null:o.info.displayName):""),e(t,14,0,"arrow-right","ghost",i.Tb(t,14,2,i.Kb(t,15).transform(n.chapterIndex$))===i.Tb(t,14,2,i.Kb(t,16).transform(n.chapterCount$))-1)}),(function(e,t){var n=t.component;e(t,1,0,n.testSelectors.ViewToolsPreviousChapter),e(t,10,0,n.testSelectors.ViewToolsNextChapter)}))}function lC(e){return i.Ub(0,[(e()(),i.yb(0,16777216,null,null,3,"button",[["app-pin-button",""],["aria-haspopup","true"],["buttonType","ghost"],["class","view-tools__item mat-menu-trigger"],["icon","ellipsis-v"],["matTooltip","More Menu"]],[[1,"data-test",0],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"],[null,"longpress"],[null,"touchend"]],(function(e,t,n){var l=!0;return"mousedown"===t&&(l=!1!==i.Kb(e,1)._handleMousedown(n)&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"click"===t&&(l=!1!==i.Kb(e,1)._handleClick(n)&&l),"longpress"===t&&(l=!1!==i.Kb(e,2).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,2)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,2)._handleTouchend()&&l),l}),Bx,Ax)),i.xb(1,1196032,null,0,ke.g,[We.a,i.l,i.T,ke.c,[2,ke.d],[8,null],[2,qe.b],be.e],{menu:[0,"menu"]},null),i.xb(2,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(3,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,1,0,i.Kb(t.parent.parent,9)),e(t,2,0,"More Menu"),e(t,3,0,"ellipsis-v","ghost")}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolsMore,i.Kb(t,1).menuOpen||null)}))}function iC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,11,null,null,null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Jw)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,2,null,eC)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,nC)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(9,0,null,null,2,"div",[["class","view-tools__group"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,lC)),i.xb(11,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.breakpoint>=n.breakpointEnum.Medium),e(t,4,0,i.Tb(t,4,0,i.Kb(t,5).transform(n.isChapterAnimated$))&&n.isEnabled(n.viewLayout.Media)),e(t,7,0,i.Tb(t,7,0,i.Kb(t,8).transform(n.chapterCount$))>1&&n.isEnabled(n.viewLayout.Pagination)),e(t,11,0,n.isEnabled(n.viewLayout.Menu))}),null)}function oC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,19,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,13,"div",[["class","flex"],["role","radiogroup"]],null,null,null,null,null)),(e()(),i.yb(2,16777216,null,null,3,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","mouse-pointer"],["matTooltip","Select"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,3).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,3)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,3)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleSelectTool(o.toolEnum.Select)&&l),l}),Bx,Ax)),i.xb(3,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(4,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],selected:[2,"selected"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(6,16777216,null,null,3,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","eye-slash"],["matTooltip","Hide"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,7).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,7)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,7)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleSelectTool(o.toolEnum.Hide)&&l),l}),Bx,Ax)),i.xb(7,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(8,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],selected:[2,"selected"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(10,16777216,null,null,4,"button",[["app-pin-button",""],["appHideIE11",""],["buttonType","ghost"],["class","view-tools__item"],["icon","adjust"],["matTooltip","Fade"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,11).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,11)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,11)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleSelectTool(o.toolEnum.Fade)&&l),l}),Bx,Ax)),i.xb(11,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(12,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],selected:[2,"selected"]},null),i.Mb(131072,te.b,[i.i]),i.xb(14,81920,null,0,Dw,[i.l,i.I],null,null),(e()(),i.yb(15,0,null,null,0,"div",[["class","view-tools__divider"]],null,null,null,null,null)),(e()(),i.yb(16,16777216,null,null,3,"button",[["app-pin-button",""],["buttonType","ghost"],["class","view-tools__item"],["icon","undo"],["matTooltip","Undo"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,17).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,17)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,17)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleUndoClick()&&l),l}),Bx,Ax)),i.xb(17,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{message:[0,"message"]},null),i.xb(18,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"],disabled:[2,"disabled"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,3,0,"Select"),e(t,4,0,"mouse-pointer","ghost",i.Tb(t,4,2,i.Kb(t,5).transform(n.activeTool$))===n.toolEnum.Select),e(t,7,0,"Hide"),e(t,8,0,"eye-slash","ghost",i.Tb(t,8,2,i.Kb(t,9).transform(n.activeTool$))===n.toolEnum.Hide),e(t,11,0,"Fade"),e(t,12,0,"adjust","ghost",i.Tb(t,12,2,i.Kb(t,13).transform(n.activeTool$))===n.toolEnum.Fade),e(t,14,0),e(t,17,0,"Undo"),e(t,18,0,"undo","ghost",i.Tb(t,18,2,i.Kb(t,19).transform(n.activeTool$))!==n.toolEnum.Hide)}),null)}function aC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleHelpClick()&&l),l}),je.c,je.a)),i.xb(1,180224,[[2,4],[3,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.Sb(-1,0,[" Help "]))],null,(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function rC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i.Sb(-1,null,["Hide labels"]))],null,null)}function uC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i.Sb(-1,null,["Show labels"]))],null,null)}function cC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.toggleToolbar("tools")&&l),l}),je.c,je.a)),i.xb(1,180224,[[2,4],[3,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.yb(2,0,null,0,1,"app-icon",[["icon","pen"]],null,null,null,ce,ue)),i.xb(3,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(4,0,null,0,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Open Explore Tools"]))],(function(e,t){e(t,3,0,"pen")}),(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function sC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleSearchClick()&&l),l}),je.c,je.a)),i.xb(1,180224,[[2,4],[3,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.yb(2,0,null,0,1,"app-icon",[["icon","search"]],null,null,null,ce,ue)),i.xb(3,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(4,0,null,0,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Open Search"]))],(function(e,t){e(t,3,0,"search")}),(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function pC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Exit Fullscreen"]))],null,null)}function dC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Enter Fullscreen"]))],null,null)}function bC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,7,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleFullscreenClick()&&l),l}),je.c,je.a)),i.xb(1,180224,[[2,4],[3,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.yb(2,0,null,0,1,"app-icon",[["icon","expand"]],null,null,null,ce,ue)),i.xb(3,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.ob(16777216,null,0,1,null,pC)),i.xb(5,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,0,1,null,dC)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,3,0,"expand"),e(t,5,0,n.isFullscreen),e(t,7,0,!n.isFullscreen)}),(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function gC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,1)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,1)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleNewTabClick()&&l),l}),je.c,je.a)),i.xb(1,180224,[[2,4],[3,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],null,null),(e()(),i.yb(2,0,null,0,1,"app-icon",[["icon","external-link"]],null,null,null,ce,ue)),i.xb(3,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(4,0,null,0,1,"span",[["class","ml-2"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Open in New Tab"]))],(function(e,t){e(t,3,0,"external-link")}),(function(e,t){e(t,0,0,i.Kb(t,1).role,i.Kb(t,1)._highlighted,i.Kb(t,1)._triggersSubmenu,i.Kb(t,1)._getTabIndex(),i.Kb(t,1).disabled.toString(),i.Kb(t,1).disabled||null)}))}function hC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,gh.b,gh.a)),i.xb(2,49152,null,0,hh.a,[],null,null),(e()(),i.ob(16777216,null,null,1,null,cC)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,sC)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,bC)),i.xb(8,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,gC)),i.xb(10,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,4,0,n.isEnabled(n.viewLayout.Tools)),e(t,6,0,n.isEnabled(n.viewLayout.Search)),e(t,8,0,n.canFullscreen&&n.isEnabled(n.viewLayout.Fullscreen)),e(t,10,0,!n.canFullscreen&&n.isEnabled(n.viewLayout.Fullscreen))}),(function(e,t){e(t,1,0,i.Kb(t,2).vertical?"vertical":"horizontal",i.Kb(t,2).vertical,!i.Kb(t,2).vertical,i.Kb(t,2).inset)}))}function mC(e){return i.Ub(2,[i.Qb(671088640,1,{chapterCount:0}),(e()(),i.yb(1,0,null,null,4,"div",[["aria-label","Tools"],["class","view-tools"],["role","toolbar"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,iC)),i.xb(3,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,oC)),i.xb(5,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(6,0,null,null,19,"mat-menu",[],null,null,null,je.d,je.b)),i.Pb(6144,null,ke.d,null,[ke.h]),i.Pb(6144,null,ke.b,null,[ke.d]),i.xb(9,1294336,[["moreMenu",4]],3,ke.h,[i.l,i.C,ke.a],null,null),i.Qb(603979776,2,{_allItems:1}),i.Qb(603979776,3,{items:1}),i.Qb(603979776,4,{lazyContent:0}),(e()(),i.ob(16777216,null,0,1,null,aC)),i.xb(14,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(15,0,null,0,8,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==i.Kb(e,16)._checkDisabled(n)&&l),"mouseenter"===t&&(l=!1!==i.Kb(e,16)._handleMouseEnter()&&l),"click"===t&&(l=!1!==o.handleToggleLabelsClick()&&l),l}),je.c,je.a)),i.xb(16,180224,[[2,4],[3,4]],0,ke.e,[i.l,te.d,be.e,[2,ke.b]],{disabled:[0,"disabled"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,0,2,null,rC)),i.xb(19,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,0,2,null,uC)),i.xb(22,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,0,1,null,hC)),i.xb(25,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n,l=t.component;e(t,3,0,l.mode===l.viewToolsMode.Main),e(t,5,0,l.mode===l.viewToolsMode.Tools),e(t,9,0),e(t,14,0,l.isEnabled(l.viewLayout.Help)),e(t,16,0,!(null!=(n=i.Tb(t,16,0,i.Kb(t,17).transform(l.labels$)))&&n.length)),e(t,19,0,i.Tb(t,19,0,i.Kb(t,20).transform(l.showLabels$))),e(t,22,0,!i.Tb(t,22,0,i.Kb(t,23).transform(l.showLabels$))),e(t,25,0,l.breakpoint<=l.breakpointEnum.Small)}),(function(e,t){e(t,15,0,i.Kb(t,16).role,i.Kb(t,16)._highlighted,i.Kb(t,16)._triggersSubmenu,i.Kb(t,16)._getTabIndex(),i.Kb(t,16).disabled.toString(),i.Kb(t,16).disabled||null)}))}var fC=function(){function e(e,t){this.animationService=e,this.viewService=t,this.size="small",this.showPlayPause=!0,this.showScrubber=!0,this.showBar=!0,this.ngUnsubscribe=new $.a}return Object.defineProperty(e.prototype,"template",{get:function(){return this._template},set:function(e){this._template=e,this.updateLayoutProperties(this.template)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initChapterListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initChapterListener=function(){var e=this;this.selectedChapterId$.pipe(Object(W.a)((function(e){return null!=e})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.timerange=e.animationService.getChapterLocalTimerange(t)}))},e.prototype.updateLayoutProperties=function(e){this.showBar=e!==uy.None,this.showScrubber=e===uy.Full,this.showPlayPause=e!==uy.None},e.prototype.handlePlayClick=function(){this.viewService.toggleAnimation()},Object(g.__decorate)([Object(h.e)(Fc.getAnimationPlaying),Object(g.__metadata)("design:type",Q.a)],e.prototype,"animationPlaying$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterId),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedChapterId$",void 0),e}(),yC=i.wb({encapsulation:2,styles:[[".view-media-bar{display:-webkit-box;display:flex}.view-media-bar__scrubber{width:120px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}"]],data:{}});function _C(e){return i.Ub(0,[(e()(),i.yb(0,16777216,null,null,4,"button",[["app-pin-button",""],["buttonType","ghost"],["data-test","Play/Pause__small"],["matTooltipPosition","above"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,1).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,1)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handlePlayClick()&&l),l}),Bx,Ax)),i.xb(1,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{position:[0,"position"],message:[1,"message"]},null),i.Mb(131072,te.b,[i.i]),i.xb(3,114688,null,0,Fx,[],{icon:[0,"icon"],buttonType:[1,"buttonType"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,"above",i.Tb(t,1,1,i.Kb(t,2).transform(n.animationPlaying$))?"Pause":"Play"),e(t,3,0,i.Tb(t,3,0,i.Kb(t,4).transform(n.animationPlaying$))?"pause":"play","ghost")}),null)}function vC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-view-scrubber",[["class","view-media-bar__scrubber"],["data-test","Scrub__small"]],null,null,null,Fw,Uw)),i.xb(1,245760,null,0,Ew,[au,Gc,i.I,n_,i.i,h.i],null,null)],(function(e,t){e(t,1,0)}),null)}function xC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"div",[["class","view-media-bar"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,_C)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,vC)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.showPlayPause),e(t,4,0,n.showScrubber)}),null)}function OC(e){return i.Ub(2,[(e()(),i.ob(16777216,null,null,1,null,xC)),i.xb(1,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.showBar)}),null)}var wC=function(){function e(e,t,n){this.store=e,this.changeDetectorRef=t,this.layoutService=n,this.canExit=!0,this.mode=Vw.Main,this.lockMode=!1,this.position="center",this.ngUnsubscribe=new $.a,this.breakpoint=Ay,this.viewToolsMode=Vw,this.viewLayout=y_,this.testSelectors=$w,this.collapsePagination=!1}return e.prototype.ngOnInit=function(){this.initLayoutListener(),this.initBreakpointListener()},e.prototype.initLayoutListener=function(){var e=this;this.store.select(jy.getLayout).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.lockMode||(e.mode=Vw.Main,e.layoutService.isLayoutVisible(y_.Media)&&(e.mediaTemplate=t.media.template,e.mode=Vw.Media),e.layoutService.isToolsVisible()&&(e.mode=Vw.Tools),e.changeDetectorRef.markForCheck())}))},e.prototype.initBreakpointListener=function(){var e=this;this.store.select(Ny.getBreakpoint).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.collapsePagination=t<Ay.Small,e.changeDetectorRef.markForCheck()}))},e.prototype.handleExitClick=function(){var e=this.store.selectSnapshot(jy.getLayout);e.media.status=ry.Hide,e.tools.status=ry.Hide,this.store.dispatch(new l.SetLayout(e))},e}(),CC=i.wb({encapsulation:2,styles:[[".view-toolbar{position:absolute;display:inline-block;z-index:20;bottom:0;right:0}"]],data:{animation:[{type:7,name:"inOutAnimation",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(200px)"},offset:null},{type:4,styles:{type:6,styles:{opacity:1,transform:"*"},offset:null},timings:"300ms ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateY(200px)",opacity:0},offset:null},timings:"300ms ease-in-out"}],options:null}],options:{}}]}});function jC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,7,"div",[["class","view-toolbar"]],[[1,"data-test",0],[24,"@inOutAnimation",0]],null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),i.yb(3,0,null,null,4,"app-pillbox",[["name","Primary Toolbar"],["padding","dense"]],null,null,null,Tw,Iw)),i.xb(4,114688,null,0,Pw,[],{padding:[0,"padding"],name:[1,"name"]},null),(e()(),i.yb(5,0,null,0,2,"app-view-tools",[],null,[[null,"modeChange"]],(function(e,t,n){var l=!0;return"modeChange"===t&&(l=!1!==e.component.handleModeChange(n)&&l),l}),mC,Gw)),i.Pb(512,null,Hw,Hw,[We.a,i.t]),i.xb(7,245760,null,0,Qw,[n_,Qx,h.i,i.i,Hw],{mode:[0,"mode"],collapsePagination:[1,"collapsePagination"]},{modeChange:"modeChange"})],(function(e,t){var n=t.component;e(t,2,0,"view-toolbar","view-toolbar--"+n.position),e(t,4,0,"dense","Primary Toolbar"),e(t,7,0,n.viewToolsMode.Main,n.collapsePagination)}),(function(e,t){e(t,0,0,t.component.testSelectors.ViewToolbarMain,void 0)}))}function kC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,"div",[["class","view-toolbar"]],[[24,"@inOutAnimation",0]],null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),i.yb(3,0,null,null,3,"app-pillbox",[["name","Media Bar"],["padding","dense"]],null,[[null,"exit"]],(function(e,t,n){var l=!0;return"exit"===t&&(l=!1!==e.component.handleExitClick()&&l),l}),Tw,Iw)),i.xb(4,114688,null,0,Pw,[],{canExit:[0,"canExit"],padding:[1,"padding"],name:[2,"name"]},{exit:"exit"}),(e()(),i.yb(5,0,null,0,1,"app-view-media-bar",[],null,null,null,OC,yC)),i.xb(6,245760,null,0,fC,[Gc,n_],{template:[0,"template"]},null)],(function(e,t){var n=t.component;e(t,2,0,"view-toolbar","view-toolbar--"+n.position),e(t,4,0,n.canExit,"dense","Media Bar"),e(t,6,0,n.mediaTemplate)}),(function(e,t){e(t,0,0,void 0)}))}function SC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,7,"div",[["class","view-toolbar"]],[[24,"@inOutAnimation",0]],null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),i.yb(3,0,null,null,4,"app-pillbox",[["name","Explore Tools"],["padding","dense"]],null,[[null,"exit"]],(function(e,t,n){var l=!0;return"exit"===t&&(l=!1!==e.component.handleExitClick()&&l),l}),Tw,Iw)),i.xb(4,114688,null,0,Pw,[],{canExit:[0,"canExit"],padding:[1,"padding"],name:[2,"name"]},{exit:"exit"}),(e()(),i.yb(5,0,null,0,2,"app-view-tools",[],null,null,null,mC,Gw)),i.Pb(512,null,Hw,Hw,[We.a,i.t]),i.xb(7,245760,null,0,Qw,[n_,Qx,h.i,i.i,Hw],{mode:[0,"mode"]},null)],(function(e,t){var n=t.component;e(t,2,0,"view-toolbar","view-toolbar--"+n.position),e(t,4,0,n.canExit,"dense","Explore Tools"),e(t,7,0,n.viewToolsMode.Tools)}),(function(e,t){e(t,0,0,void 0)}))}function PC(e){return i.Ub(2,[i.Qb(671088640,1,{viewToolbar:0}),(e()(),i.yb(1,0,null,null,7,null,null,null,null,null,null,null)),i.xb(2,16384,null,0,te.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),i.ob(16777216,null,null,1,null,jC)),i.xb(4,16384,null,0,te.s,[i.T,i.Q,te.q],null,null),(e()(),i.ob(16777216,null,null,1,null,kC)),i.xb(6,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,SC)),i.xb(8,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.mode),e(t,6,0,n.viewToolsMode.Media),e(t,8,0,n.viewToolsMode.Tools)}),null)}var IC=function(){function e(e){this.changeDetectorRef=e,this.isLight=!0,this.breakpoint=Ay,this.ngUnsubscribe=new $.a}return e.prototype.ngOnInit=function(){var e=this;this.background$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.updateLogoColor(t)}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.updateLogoColor=function(e){if(e.colors){var t=e.colors.slice(0,3);this.isLight=Ge.isLight(t),this.changeDetectorRef.markForCheck()}},Object(g.__decorate)([Object(h.e)(jy.getLayout),Object(g.__metadata)("design:type",Q.a)],e.prototype,"layout$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterBackground),Object(g.__metadata)("design:type",Q.a)],e.prototype,"background$",void 0),Object(g.__decorate)([Object(h.e)(Ny.getBreakpoint),Object(g.__metadata)("design:type",Q.a)],e.prototype,"breakpoint$",void 0),e}(),MC=i.wb({encapsulation:2,styles:[[".view-logo--small-color{width:28px;height:28px;background:url(logo-color.e5306d37dd40b7ac98d4.svg) center center no-repeat}.view-logo--full-color{width:112px;height:36px;background:url(powered-by-biodigital-color.1af4a9f2cdc7d71b94c9.svg) center center no-repeat}.view-logo--small-white{width:28px;height:28px;background:url(logo-white.6874afd084344cc1654d.svg) center center no-repeat}.view-logo--full-white{width:112px;height:36px;background:url(powered-by-biodigital-white.30ab6344e33c0a48a1fa.svg) center center no-repeat}.view-logo:not([hidden]){display:-webkit-box;display:flex}.view-logo[href]:hover{cursor:pointer}"]],data:{}});function TC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,9,"a",[["class","view-logo"],["href","https://www.biodigital.com"],["target","_blank"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(3,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.Nb(8,{"view-logo--full-color":0,"view-logo--full-white":1,"view-logo--small-color":2,"view-logo--small-white":3}),(e()(),i.yb(9,0,null,null,1,"span",[["class","visually-hidden"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Powered by Biodigital"]))],(function(e,t){var n=t.component,l=e(t,8,0,n.isLight&&i.Tb(t,3,1,i.Kb(t,4).transform(n.breakpoint$))>n.breakpoint.Small,!n.isLight&&i.Tb(t,3,1,i.Kb(t,5).transform(n.breakpoint$))>n.breakpoint.Small,n.isLight&&i.Tb(t,3,1,i.Kb(t,6).transform(n.breakpoint$))<=n.breakpoint.Small,!n.isLight&&i.Tb(t,3,1,i.Kb(t,7).transform(n.breakpoint$))<=n.breakpoint.Small);e(t,3,0,"view-logo",l)}),null)}function KC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,9,"span",[["class","view-logo"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(3,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.Nb(8,{"view-logo--full-color":0,"view-logo--full-white":1,"view-logo--small-color":2,"view-logo--small-white":3}),(e()(),i.yb(9,0,null,null,1,"span",[["class","visually-hidden"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Powered by Biodigital"]))],(function(e,t){var n=t.component,l=e(t,8,0,n.isLight&&i.Tb(t,3,1,i.Kb(t,4).transform(n.breakpoint$))>n.breakpoint.Small,!n.isLight&&i.Tb(t,3,1,i.Kb(t,5).transform(n.breakpoint$))>n.breakpoint.Small,n.isLight&&i.Tb(t,3,1,i.Kb(t,6).transform(n.breakpoint$))<=n.breakpoint.Small,!n.isLight&&i.Tb(t,3,1,i.Kb(t,7).transform(n.breakpoint$))<=n.breakpoint.Small);e(t,3,0,"view-logo",l)}),null)}function zC(e){return i.Ub(2,[(e()(),i.ob(16777216,null,null,2,null,TC)),i.xb(1,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,KC)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n,l,o=t.component;e(t,1,0,null==(n=i.Tb(t,1,0,i.Kb(t,2).transform(o.layout$)))?null:n.logo.isHyperLink),e(t,4,0,!(null!=(l=i.Tb(t,4,0,i.Kb(t,5).transform(o.layout$)))&&l.logo.isHyperLink))}),null)}var LC=function(){function e(e,t){this.store=e,this.historyService=t,this.showNav=!0,this.showZoom=!0,this.showPan=!0,this.showResetPosition=!0,this.showResetScene=!0,this.viewLayout=y_,this.toolEnum=Kc,this.testSelectors=$w,this.expandNav=!1,this.breakpointEnum=Ay,this.padding="none",this.ngUnsubscribe=new $.a}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.setZoom=function(e){var t=""===e?0:8;this.store.dispatch(new fc(t="in"===e?-t:t))},e.prototype.returnToChapterCamera=function(){var e=this.store.selectSnapshot(Zc.getSelectedChapter);this.store.dispatch(new bc(e.camera.location))},e.prototype.resetChapter=function(){this.returnToChapterCamera(),this.historyService.resetChapter(),this.store.dispatch(new wa([])),this.store.dispatch(new uo)},e.prototype.centerCamera=function(){this.store.dispatch(new _i)},e.prototype.togglePan=function(){var e="pan"===this.store.selectSnapshot(Tc.getPanMode)?"rotate":"pan";this.store.dispatch(new jc(e))},e.prototype.toggleNav=function(){this.expandNav=!this.expandNav},Object(g.__decorate)([Object(h.e)(Tc.getPanMode),Object(g.__metadata)("design:type",Q.a)],e.prototype,"panMode$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterModified),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedChapterModified$",void 0),Object(g.__decorate)([Object(h.e)(Ny.getBreakpoint),Object(g.__metadata)("design:type",Q.a)],e.prototype,"breakpoint$",void 0),e}(),EC=i.wb({encapsulation:2,styles:[[":host{position:relative}.camera-bar{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.camera-bar button{margin-top:8px}.camera-bar__nav{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;overflow:hidden;height:0;-webkit-transition:height 150ms ease-in-out;transition:height 150ms ease-in-out;-webkit-box-pack:justify;justify-content:space-between}.camera-bar__nav--expand{height:148px;margin-bottom:4px}"]],data:{animation:[{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:2,steps:[{type:6,styles:{height:"0"},offset:null},{type:4,styles:{type:6,styles:{height:"*"},offset:null},timings:"125ms ease-in-out"}],options:null}],options:null},{type:1,expr:":leave",animation:[{type:2,steps:[{type:4,styles:{type:6,styles:{height:"0"},offset:null},timings:"125ms 125ms ease-in-out"}],options:null}],options:null}],options:{}}]}});function UC(e){return i.Ub(0,[(e()(),i.yb(0,16777216,null,null,4,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","arrows-alt"],["matTooltipPosition","left"],["size","medium"]],[[1,"tabindex",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,1).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,1)._handleTouchend()&&l),"click"===t&&(l=!1!==o.togglePan()&&l),l}),Bx,Ax)),i.xb(1,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{position:[0,"position"],message:[1,"message"]},null),i.Mb(131072,te.b,[i.i]),i.xb(3,114688,null,0,Fx,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"],selected:[3,"selected"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,"left","pan"===i.Tb(t,1,1,i.Kb(t,2).transform(n.panMode$))?"Switch to Rotate Mode":"Switch to Pan Mode"),e(t,3,0,"arrows-alt","medium","ghost","pan"===i.Tb(t,3,3,i.Kb(t,4).transform(n.panMode$)))}),(function(e,t){e(t,0,0,t.component.expandNav?0:-1)}))}function FC(e){return i.Ub(0,[(e()(),i.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","plus"],["matTooltip","Zoom In"],["matTooltipPosition","left"],["size","medium"]],[[1,"tabindex",0]],[[null,"touchstart"],[null,"mousedown"],[null,"touchend"],[null,"mouseup"],[null,"mouseleave"],[null,"longpress"],[null,"keydown"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,1).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,1)._handleTouchend()&&l),"touchstart"===t&&(l=!1!==o.setZoom("in")&&l),"mousedown"===t&&(l=!1!==o.setZoom("in")&&l),"touchend"===t&&(l=!1!==o.setZoom("")&&l),"mouseup"===t&&(l=!1!==o.setZoom("")&&l),"mouseleave"===t&&(l=!1!==o.setZoom("")&&l),l}),Bx,Ax)),i.xb(1,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{position:[0,"position"],message:[1,"message"]},null),i.xb(2,114688,null,0,Fx,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,1,0,"left","Zoom In"),e(t,2,0,"plus","medium","ghost")}),(function(e,t){e(t,0,0,t.component.expandNav?0:-1)}))}function AC(e){return i.Ub(0,[(e()(),i.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","minus"],["matTooltip","Zoom Out"],["matTooltipPosition","left"],["size","medium"]],[[1,"tabindex",0]],[[null,"touchstart"],[null,"mousedown"],[null,"touchend"],[null,"mouseup"],[null,"mouseleave"],[null,"longpress"],[null,"keydown"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,1).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,1)._handleTouchend()&&l),"touchstart"===t&&(l=!1!==o.setZoom("out")&&l),"mousedown"===t&&(l=!1!==o.setZoom("out")&&l),"touchend"===t&&(l=!1!==o.setZoom("")&&l),"mouseup"===t&&(l=!1!==o.setZoom("")&&l),"mouseleave"===t&&(l=!1!==o.setZoom("")&&l),l}),Bx,Ax)),i.xb(1,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{position:[0,"position"],message:[1,"message"]},null),i.xb(2,114688,null,0,Fx,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,1,0,"left","Zoom Out"),e(t,2,0,"minus","medium","ghost")}),(function(e,t){e(t,0,0,t.component.expandNav?0:-1)}))}function DC(e){return i.Ub(0,[(e()(),i.yb(0,16777216,null,null,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","dot-circle"],["matTooltip","Recenter 3D model"],["matTooltipPosition","left"],["size","medium"]],[[1,"tabindex",0]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,1).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,1)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,1)._handleTouchend()&&l),"click"===t&&(l=!1!==o.returnToChapterCamera()&&l),l}),Bx,Ax)),i.xb(1,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{position:[0,"position"],message:[1,"message"]},null),i.xb(2,114688,null,0,Fx,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,1,0,"left","Recenter 3D model"),e(t,2,0,"dot-circle","medium","ghost")}),(function(e,t){e(t,0,0,t.component.expandNav?0:-1)}))}function NC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,16,"app-pillbox",[["orientation","vertical"],["padding","dense"]],[[1,"data-test",0]],null,null,Tw,Iw)),i.xb(1,114688,null,0,Pw,[],{padding:[0,"padding"],orientation:[1,"orientation"]},null),(e()(),i.yb(2,0,null,0,11,"div",[["class","camera-bar__nav"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(4,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(5,{"camera-bar__nav--expand":0}),(e()(),i.ob(16777216,null,null,1,null,UC)),i.xb(7,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,FC)),i.xb(9,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,AC)),i.xb(11,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,DC)),i.xb(13,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(14,16777216,null,0,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","location-arrow"],["matTooltipPosition","left"],["size","medium"],["tabindex","0"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,15).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,15)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,15)._handleTouchend()&&l),"click"===t&&(l=!1!==o.toggleNav()&&l),l}),Bx,Ax)),i.xb(15,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{position:[0,"position"],message:[1,"message"]},null),i.xb(16,114688,null,0,Fx,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"],selected:[3,"selected"]},null)],(function(e,t){var n=t.component;e(t,1,0,"dense","vertical");var l=e(t,5,0,n.expandNav);e(t,4,0,"camera-bar__nav",l),e(t,7,0,n.showPan),e(t,9,0,n.showZoom),e(t,11,0,n.showZoom),e(t,13,0,n.showResetPosition),e(t,15,0,"left",n.expandNav?"Close 3D controls":"3D controls"),e(t,16,0,"location-arrow","medium","ghost",n.expandNav)}),(function(e,t){e(t,0,0,t.component.testSelectors.EngineCameraBar)}))}function RC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,4,"app-pillbox",[["padding","dense"],["style","margin-top: 8px"]],[[24,"@show",0]],null,null,Tw,Iw)),i.xb(2,114688,null,0,Pw,[],{padding:[0,"padding"]},null),(e()(),i.yb(3,16777216,null,0,2,"button",[["app-pin-button",""],["buttonType","ghost"],["icon","sync-alt"],["matTooltip","Reset"],["matTooltipPosition","left"],["size","medium"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,4).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,4)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,4)._handleTouchend()&&l),"click"===t&&(l=!1!==o.resetChapter()&&l),l}),Bx,Ax)),i.xb(4,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{position:[0,"position"],message:[1,"message"]},null),i.xb(5,114688,null,0,Fx,[],{icon:[0,"icon"],size:[1,"size"],buttonType:[2,"buttonType"]},null)],(function(e,t){e(t,2,0,"dense"),e(t,4,0,"left","Reset"),e(t,5,0,"sync-alt","medium","ghost")}),(function(e,t){e(t,1,0,void 0)}))}function BC(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,5,"div",[["class","camera-bar"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,NC)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,2,null,RC)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,2,0,n.showNav),e(t,4,0,n.showResetScene&&i.Tb(t,4,0,i.Kb(t,5).transform(n.selectedChapterModified$)))}),null)}var HC,VC=n("ihYY");(HC||(HC={})).slideTransition=Object(VC.g)([Object(VC.m)({transform:"translateY({{ from }}%)",opacity:0}),Object(VC.e)("{{ duration }}ms ease-out",Object(VC.m)({transform:"translateY({{ to }})",opacity:1}))]);var $C=function(){function e(e){this.viewService=e,this.layout="drawer"}return e.prototype.ngOnInit=function(){},e.prototype.handleCloseClick=function(){this.viewService.clearSelectedLabel()},Object(g.__decorate)([Object(h.e)(Fp.getSelectedLabel),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedLabel$",void 0),e}(),QC=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-label-description{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.view-label-description__header{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start}.view-label-description .view-label-description__title{font-size:14px;letter-spacing:.35px;line-height:1.4em;font-weight:700;align-self:center}.view-label-description .view-label-description__body{margin-top:8px;font-size:12px;letter-spacing:.3px;line-height:1.4em}"]],data:{animation:[{type:7,name:"refresh",definitions:[{type:1,expr:":enter",animation:[{type:10,animation:HC.slideTransition,options:{params:{duration:300,from:50,to:0}}}],options:null}],options:{}}]}});function GC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[["class","view-label-description__body"]],null,null,null,null,null)),(e()(),i.Sb(1,null,[" "," "])),i.Mb(131072,te.b,[i.i])],null,(function(e,t){var n,l=t.component;e(t,1,0,null==(n=i.Tb(t,1,0,i.Kb(t,2).transform(l.selectedLabel$)))?null:n.description)}))}function WC(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,12,"div",[["class","view-label-description"]],[[24,"@refresh",0]],null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"view-label-description--layout-column":0,"view-label-description--layout-drawer":1}),(e()(),i.yb(4,0,null,null,5,"div",[["class","view-label-description__header"]],null,null,null,null,null)),(e()(),i.yb(5,0,null,null,1,"button",[["app-pin-button",""],["class","mr-1"],["icon","arrow-left"],["size","small"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseClick()&&l),l}),Bx,Ax)),i.xb(6,114688,null,0,Fx,[],{icon:[0,"icon"],size:[1,"size"]},null),(e()(),i.yb(7,0,null,null,2,"div",[["class","view-label-description__title"]],null,null,null,null,null)),(e()(),i.Sb(8,null,[" "," "])),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,GC)),i.xb(11,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n,l=t.component,o=e(t,3,0,"column"===l.layout,"drawer"===l.layout);e(t,2,0,"view-label-description",o),e(t,6,0,"arrow-left","small"),e(t,11,0,null==(n=i.Tb(t,11,0,i.Kb(t,12).transform(l.selectedLabel$)))?null:n.description)}),(function(e,t){var n,l=t.component;e(t,0,0,void 0),e(t,8,0,null==(n=i.Tb(t,8,0,i.Kb(t,9).transform(l.selectedLabel$)))?null:n.title)}))}var qC=function(){function e(e,t,n,l){this.renderer=e,this.changeDetectorRef=t,this.viewService=n,this.store=l,this.enablePagination=!0,this._expandable=!0,this.offsetYChange=new i.o,this.breakpoints={minimumDrawer:{velocity:1/0,point:0},halfDrawer:{velocity:1,point:0}},this.ngUnsubscribe=new $.a,this.viewMode=ky,this.viewToolsMode=Vw,this.mode=ky.Content,this.open=!1}return Object.defineProperty(e.prototype,"expandable",{get:function(){return this._expandable},set:function(e){this._expandable=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initWindowSizeObserver(),this.initLayoutObserver()},e.prototype.ngAfterViewInit=function(){this.refresh(this.store.selectSnapshot(jy.getLayout).drawer.isExpandedInitially)},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initWindowSizeObserver=function(){var e=this;this.renderer.listen("window","resize",(function(){e.refresh(!1)}))},e.prototype.initLayoutObserver=function(){var e=this;this.layout$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.updateMode(t)}))},e.prototype.updateViewHeight=function(){var e=.01*window.innerHeight;this.viewDrawer.nativeElement.style.setProperty("--vh",e+"px")},e.prototype.updateStops=function(){var e=window.innerHeight;this.breakpoints.minimumDrawer.point=-64,this.breakpoints.halfDrawer.point=Math.floor(-.4*e)},e.prototype.updateMode=function(e){this.mode=this.viewService.inferDrawerMode(e),this.changeDetectorRef.markForCheck()},e.prototype.resetDrawerPosition=function(e){var t=this;setTimeout((function(){t.slideDrawerToPoint(e?t.breakpoints.halfDrawer.point:t.breakpoints.minimumDrawer.point)}))},e.prototype.refresh=function(e){var t=this;setTimeout((function(){t.updateViewHeight(),t.updateStops(),t.resetDrawerPosition(e)}))},e.prototype.handleClick=function(){!this.open&&this.expandable&&this.toggleDrawer(!0)},e.prototype.handleToggleClick=function(){this.toggleDrawer()},e.prototype.toggleDrawer=function(e){null==e&&(e=!this.open),this.slideDrawerToPoint((e?this.breakpoints.halfDrawer:this.breakpoints.minimumDrawer).point),this.open=e},e.prototype.slideDrawerToPoint=function(e){this.renderer.setStyle(this.viewDrawer.nativeElement,"transform","translate3d(0, "+e+"px, 0)"),this.offsetYChange.emit(e)},e.prototype.getDrawerY=function(){if(this.viewDrawer){var e=this.viewService.getComputedTransform(this.viewDrawer.nativeElement);return e?e.y:null}return null},Object(g.__decorate)([Object(h.e)(jy.getLayout),Object(g.__metadata)("design:type",Q.a)],e.prototype,"layout$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterIndex),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapterIndex$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getChapterCount),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapterCount$",void 0),e}(),YC=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-drawer{border-top:rgba(234,239,245,.8);box-shadow:0 -1px 0 0 rgba(28,42,63,.16);background:rgba(255,255,255,.8);color:#131c2a;border-top:var(--view-drawer-border);box-shadow:var(--view-drawer-shadow);background:var(--view-drawer-background);color:var(--view-drawer-color);left:0;min-height:100vh;right:0;position:absolute;z-index:20;top:100vh;top:calc(var(--vh,1vh) * 100);-webkit-transform:translate3d(0,-64px,0);transform:translate3d(0,-64px,0);-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}.view-drawer--animate{-webkit-transition:background-color 1s ease-in-out;transition:background-color 1s ease-in-out}.view-drawer--active{background-color:#fff;border:1px solid #eaeff5;background-color:var(--view-drawer-background--active);border:var(--view-drawer-border--active)}.view-drawer--closed{background-color:#fff;border:1px solid #eaeff5;background-color:var(--view-drawer-background--closed);border:var(--view-drawer-border--closed);-webkit-transition:background-color 150ms;transition:background-color 150ms}.view-drawer--scrollable{min-height:0}.view-drawer--scrollable .view-drawer__outer{border-top:4px solid transparent;height:40vh;height:calc(var(--vh,1vh) * 40);padding-bottom:48px;overflow-y:scroll}.view-drawer--scrollable .view-drawer__inner{padding-top:12px}.view-drawer--fixed{height:64px;overflow:hidden}.view-drawer--fixed .view-drawer__inner{height:64px;padding:0 16px}.view-drawer--fixed .view-drawer__content{-webkit-box-pack:center;justify-content:center;padding-top:0}.view-drawer__toggle{position:absolute;left:0;top:0;right:0;height:36px;margin:0 0 0 48px;padding:0 48px 0 0;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;z-index:10}.view-drawer__toggle:hover{cursor:pointer}.view-drawer__drag-handle{color:var(--view-drawer-button-color);-webkit-box-pack:center;justify-content:center;-webkit-box-align:start;align-items:flex-start;width:100%;display:-webkit-box;display:flex;position:absolute;top:0;pointer-events:none}.view-drawer__inner{position:relative;padding:12px 16px 0}.view-drawer__content{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1 1 100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;max-width:600px;min-height:64px;margin:0 auto}"]],data:{}});function XC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-icon",[["icon","angle-up"]],null,null,null,ce,ue)),i.xb(1,114688,null,0,re,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,"angle-up")}),null)}function JC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-icon",[["icon","angle-down"]],null,null,null,ce,ue)),i.xb(1,114688,null,0,re,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,1,0,"angle-down")}),null)}function ZC(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[["class","view-drawer__content"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-view-node-description",[["layout","drawer"]],null,null,null,vw,mw)),i.xb(2,245760,null,0,hw,[h.i,h.b,i.i],{layout:[0,"layout"]},null)],(function(e,t){e(t,2,0,"drawer")}),null)}function ej(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[["class","view-drawer__content"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-view-label-description",[["layout","drawer"]],null,null,null,WC,QC)),i.xb(2,114688,null,0,$C,[n_],{layout:[0,"layout"]},null)],(function(e,t){e(t,2,0,"drawer")}),null)}function tj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-view-content-mode",[["layout","drawer"]],null,null,null,gO,cO)),i.xb(1,245760,null,0,uO,[h.i,n_,Qx,i.i],{layout:[0,"layout"]},null)],(function(e,t){e(t,1,0,"drawer")}),null)}function nj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-view-title",[["alignTitle","center"]],null,null,null,qx,Gx)),i.xb(1,245760,null,0,$x,[Qx,i.i],{alignTitle:[0,"alignTitle"]},null)],(function(e,t){e(t,1,0,"center")}),null)}function lj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,4,"div",[["class","view-drawer__content"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,tj)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,nj)),i.xb(4,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.expandable),e(t,4,0,!n.expandable)}),null)}function ij(e){return i.Ub(2,[i.Qb(671088640,1,{viewDrawer:0}),(e()(),i.yb(1,0,[[1,0],["viewDrawer",1]],null,18,"div",[["class","view-drawer"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(3,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(4,{"view-drawer--closed":0,"view-drawer--active":1,"view-drawer--scrollable":2,"view-drawer--fixed":3}),(e()(),i.yb(5,16777216,null,null,5,"div",[["class","view-drawer__toggle"],["matTooltipPosition","above"],["role","button"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,t,n){var l=!0,o=e.component;return"longpress"===t&&(l=!1!==i.Kb(e,6).show()&&l),"keydown"===t&&(l=!1!==i.Kb(e,6)._handleKeydown(n)&&l),"touchend"===t&&(l=!1!==i.Kb(e,6)._handleTouchend()&&l),"click"===t&&(l=!1!==o.handleToggleClick()&&l),l}),null,null)),i.xb(6,212992,null,0,ph.d,[We.a,i.l,dh.f,i.T,i.C,bh.a,be.c,be.e,ph.b,[2,qe.b],[2,ph.a],[2,$a.f]],{position:[0,"position"],message:[1,"message"]},null),(e()(),i.ob(16777216,null,null,1,null,XC)),i.xb(8,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,JC)),i.xb(10,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(11,0,null,null,8,"div",[["class","view-drawer__outer"]],null,null,null,null,null)),(e()(),i.yb(12,0,null,null,7,"div",[["class","view-drawer__inner"]],null,null,null,null,null)),i.xb(13,16384,null,0,te.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),i.ob(16777216,null,null,1,null,ZC)),i.xb(15,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,ej)),i.xb(17,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,lj)),i.xb(19,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component,l=e(t,4,0,!n.open,n.open,n.open,!n.expandable);e(t,3,0,"view-drawer",l),e(t,6,0,"above",n.open?"Collapse Description":"Expand Description"),e(t,8,0,!n.open),e(t,10,0,n.open),e(t,13,0,n.mode),e(t,15,0,n.viewMode.NodeInfo),e(t,17,0,n.viewMode.LabelInfo),e(t,19,0,n.viewMode.Content)}),null)}var oj=function(){function e(e,t){this.renderer=e,this.viewService=t,this.activeTab="basics"}return e.prototype.ngOnInit=function(){this.initWindowSizeObserver()},e.prototype.ngAfterViewInit=function(){this.updateViewHeight()},e.prototype.initWindowSizeObserver=function(){var e=this;this.renderer.listen("window","resize",(function(){e.updateViewHeight()}))},e.prototype.updateViewHeight=function(){var e=.01*window.innerHeight;this.viewHelp.nativeElement.style.setProperty("--vh",e+"px")},e.prototype.handleCloseClick=function(){this.viewService.toggleHelp(!1)},e.prototype.handleTabClick=function(e){this.activeTab=e},Object(g.__decorate)([Object(h.e)(jy.getCanTouch),Object(g.__metadata)("design:type",Q.a)],e.prototype,"canTouch$",void 0),e}(),aj=i.wb({encapsulation:2,styles:[[".text-8{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header{font-weight:700}.text--code{font-family:'Courier New',Courier,monospace}.text-uppercase{text-transform:uppercase}.text-xlight{font-weight:200}.text-light{font-weight:300}.text-medium{font-weight:500}.text-semibold{font-weight:600}.text-bold{font-weight:700}.text-underline{text-decoration:underline}.text-italic{font-style:italic}.text-bright{color:#fff}.text-dim{color:#96a8c0}.text-error{color:#b31212}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link{color:inherit}.text-success{color:#38de38}.text-danger{color:#de3838}.text-info{color:#0060c4}.view-help{background-color:rgba(16,24,35,.9);color:#fff;background-color:var(--view-help-bg);color:var(--view-help-color);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:fixed;top:0;left:0;right:0;z-index:10000;height:100vh;height:calc(var(--vh,1vh) * 100);max-height:100vh}.view-help__inner{width:100%;max-width:1140px;height:99vh;height:calc(var(--vh,1vh) * 99);overflow:scroll;padding:32px;position:relative}.view-help__close{width:40px;height:40px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:fixed;right:8px;top:8px}.view-help__close:hover{cursor:pointer}.view-help__header{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;border-bottom:1px solid rgba(255,255,255,.3);border-bottom:var(--view-help-border);font-weight:600;padding-bottom:12px;margin-top:32px}.view-help__label{font-size:12px;letter-spacing:.3px;line-height:1.4em;font-weight:600;margin-bottom:12px}.view-help__group{display:-webkit-box;display:flex;justify-content:space-around;flex-wrap:wrap}.view-help__item{font-size:12px;letter-spacing:.3px;line-height:1.4em;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column;text-align:center;padding:20px;-webkit-box-flex:0;flex:0 1 180px}.view-help__image{margin-bottom:16px;width:160px;height:100px;background-position:center center;background-repeat:no-repeat}.view-help__icon{font-size:24px;margin-bottom:16px}.view-help__tabs{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.view-help__tab{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase;border-bottom:2px solid transparent;padding:12px;text-align:center}.view-help__tab:after{content:'';display:block;border-bottom:3px solid #2d72dc;border-bottom:var(--view-help-tab-border);margin-top:4px;width:0;-webkit-transition:250ms;transition:250ms ease}.view-help__tab:hover{cursor:pointer}.view-help__tab--active:after{width:100%}"]],data:{}});function rj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,20,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(2,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.yb(3,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Rotate the model"])),(e()(),i.Sb(-1,null,[" Click and drag to rotate and view from other angles "])),(e()(),i.yb(6,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(7,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.yb(8,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Pan the model"])),(e()(),i.Sb(-1,null,[" Use the W, A, S, D keys to move side to side or up and down "])),(e()(),i.yb(11,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(12,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.yb(13,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Zoom in and out"])),(e()(),i.Sb(-1,null,[" Use your scroll wheel or trackpad to zoom in and out "])),(e()(),i.yb(16,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(17,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.yb(18,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Explore the anatomy"])),(e()(),i.Sb(-1,null,[" Click on an anatomical structure or label to learn more "]))],null,(function(e,t){e(t,2,0,"url(assets/images/widget/help-rotate.svg)"),e(t,7,0,"url(assets/images/widget/help-pan.svg)"),e(t,12,0,"url(assets/images/widget/help-zoom.svg)"),e(t,17,0,"url(assets/images/widget/help-learn.svg)")}))}function uj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,20,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(2,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.yb(3,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Rotate the model"])),(e()(),i.Sb(-1,null,[" Use one finger to rotate "])),(e()(),i.yb(6,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(7,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.yb(8,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Pan the model"])),(e()(),i.Sb(-1,null,[" Use two fingers to move up and down or side to side "])),(e()(),i.yb(11,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(12,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.yb(13,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Zoom in and out"])),(e()(),i.Sb(-1,null,[" Pinch or expand to zoom in and out "])),(e()(),i.yb(16,0,null,null,4,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(17,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.yb(18,0,null,null,1,"div",[["class","view-help__label"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Explore the anatomy"])),(e()(),i.Sb(-1,null,[" Tap a label to learn more and get a closer look "]))],null,(function(e,t){e(t,2,0,"url(assets/images/widget/help-rotate.svg)"),e(t,7,0,"url(assets/images/widget/help-pan.svg)"),e(t,12,0,"url(assets/images/widget/help-zoom.svg)"),e(t,17,0,"url(assets/images/widget/help-learn.svg)")}))}function cj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.ob(16777216,null,null,2,null,rj)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,uj)),i.xb(5,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,!i.Tb(t,2,0,i.Kb(t,3).transform(n.canTouch$))),e(t,5,0,i.Tb(t,5,0,i.Kb(t,6).transform(n.canTouch$)))}),null)}function sj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"div",[["class","view-help__header"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" Mouse "]))],null,null)}function pj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,15,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(2,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Hold left button to rotate "])),(e()(),i.yb(4,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(5,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Hold right button to pan "])),(e()(),i.yb(7,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(8,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Single-click left button to select a structure "])),(e()(),i.yb(10,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(11,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Double-click left button to auto-focus on a structure "])),(e()(),i.yb(13,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(14,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Long-click to fly to a structure "]))],null,(function(e,t){e(t,2,0,"url(assets/images/widget/help-mouse-hold-left.svg)"),e(t,5,0,"url(assets/images/widget/help-mouse-hold-right.svg)"),e(t,8,0,"url(assets/images/widget/help-mouse-single-click-left.svg)"),e(t,11,0,"url(assets/images/widget/help-mouse-double-click-left.svg)"),e(t,14,0,"url(assets/images/widget/help-mouse-long-press-left.svg)")}))}function dj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"div",[["class","view-help__header"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" Keyboard "]))],null,null)}function bj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,12,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(2,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Rotate with arrows "])),(e()(),i.yb(4,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(5,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Pan up (W), left (A), down (S), right(D) "])),(e()(),i.yb(7,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(8,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Zoom out (-, C) and zoom in (+, E) "])),(e()(),i.yb(10,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(11,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Hold with any previous key to slow down motion "]))],null,(function(e,t){e(t,2,0,"url(assets/images/widget/help-keyboard-rotate.svg)"),e(t,5,0,"url(assets/images/widget/help-keyboard-pan.svg)"),e(t,8,0,"url(assets/images/widget/help-keyboard-zoom.svg)"),e(t,11,0,"url(assets/images/widget/help-keyboard-slow-motion.svg)")}))}function gj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Scroll up and down to zoom "]))],null,(function(e,t){e(t,1,0,"url(assets/images/widget/help-trackpad-scroll.svg)")}))}function hj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,46,null,null,null,null,null,null,null)),(e()(),i.ob(16777216,null,null,2,null,sj)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,pj)),i.xb(5,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,dj)),i.xb(8,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,bj)),i.xb(11,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(13,0,null,null,1,"div",[["class","view-help__header"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" Trackpad "])),(e()(),i.yb(15,0,null,null,12,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),i.yb(16,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(17,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Single-tap to auto-focus a structure "])),(e()(),i.yb(19,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(20,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Double-tap to select a structure "])),(e()(),i.yb(22,0,null,null,2,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(23,0,null,null,0,"div",[["class","view-help__image"]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),i.Sb(-1,null,[" Long-press to fly to a structure "])),(e()(),i.ob(16777216,null,null,2,null,gj)),i.xb(26,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(28,0,null,null,1,"div",[["class","view-help__header"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" In-App "])),(e()(),i.yb(30,0,null,null,16,"div",[["class","view-help__group"]],null,null,null,null,null)),(e()(),i.yb(31,0,null,null,3,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(32,0,null,null,1,"app-icon",[["class","view-help__icon"],["icon","plus"]],null,null,null,ce,ue)),i.xb(33,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.Sb(-1,null,[" Zoom in "])),(e()(),i.yb(35,0,null,null,3,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(36,0,null,null,1,"app-icon",[["class","view-help__icon"],["icon","minus"]],null,null,null,ce,ue)),i.xb(37,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.Sb(-1,null,[" Zoom out "])),(e()(),i.yb(39,0,null,null,3,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(40,0,null,null,1,"app-icon",[["class","view-help__icon"],["icon","dot-circle"]],null,null,null,ce,ue)),i.xb(41,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.Sb(-1,null,[" Recenter 3D model "])),(e()(),i.yb(43,0,null,null,3,"div",[["class","view-help__item"]],null,null,null,null,null)),(e()(),i.yb(44,0,null,null,1,"app-icon",[["class","view-help__icon"],["icon","arrows"]],null,null,null,ce,ue)),i.xb(45,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.Sb(-1,null,[" Pan "]))],(function(e,t){var n=t.component;e(t,2,0,!i.Tb(t,2,0,i.Kb(t,3).transform(n.canTouch$))),e(t,5,0,!i.Tb(t,5,0,i.Kb(t,6).transform(n.canTouch$))),e(t,8,0,!i.Tb(t,8,0,i.Kb(t,9).transform(n.canTouch$))),e(t,11,0,!i.Tb(t,11,0,i.Kb(t,12).transform(n.canTouch$))),e(t,26,0,!i.Tb(t,26,0,i.Kb(t,27).transform(n.canTouch$))),e(t,33,0,"plus"),e(t,37,0,"minus"),e(t,41,0,"dot-circle"),e(t,45,0,"arrows")}),(function(e,t){e(t,17,0,"url(assets/images/widget/help-trackpad-single-tap.svg)"),e(t,20,0,"url(assets/images/widget/help-trackpad-double-tap.svg)"),e(t,23,0,"url(assets/images/widget/help-trackpad-long-press.svg)")}))}function mj(e){return i.Ub(2,[i.Qb(402653184,1,{viewHelp:0}),(e()(),i.yb(1,0,[[1,0],["viewHelp",1]],null,20,"div",[["class","view-help"]],null,null,null,null,null)),(e()(),i.yb(2,0,null,null,19,"div",[["class","view-help__inner"]],null,null,null,null,null)),i.xb(3,16384,null,0,te.q,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),i.yb(4,0,null,null,2,"div",[["class","view-help__close"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleCloseClick()&&l),l}),null,null)),(e()(),i.yb(5,0,null,null,1,"app-icon",[["icon","times"]],null,null,null,ce,ue)),i.xb(6,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(7,0,null,null,10,"div",[["class","view-help__tabs"]],null,null,null,null,null)),(e()(),i.yb(8,0,null,null,4,"div",[["class","view-help__tab"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleTabClick("basics")&&l),l}),null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(10,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(11,{"view-help__tab--active":0}),(e()(),i.Sb(-1,null,[" Navigation Basics "])),(e()(),i.yb(13,0,null,null,4,"div",[["class","view-help__tab"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleTabClick("all")&&l),l}),null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(15,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(16,{"view-help__tab--active":0}),(e()(),i.Sb(-1,null,[" All Controls "])),(e()(),i.ob(16777216,null,null,1,null,cj)),i.xb(19,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i.ob(16777216,null,null,1,null,hj)),i.xb(21,278528,null,0,te.r,[i.T,i.Q,te.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.activeTab),e(t,6,0,"times");var l=e(t,11,0,"basics"===n.activeTab);e(t,10,0,"view-help__tab",l);var i=e(t,16,0,"all"===n.activeTab);e(t,15,0,"view-help__tab",i),e(t,19,0,"basics"),e(t,21,0,"all")}),null)}var fj=function(){function e(e,t,n){this.renderer=e,this.viewService=t,this.actions=n,this.ngUnsubscribe=new $.a,this._percent=0}return Object.defineProperty(e.prototype,"percent",{get:function(){return this._percent},set:function(e){null!=e&&(this._percent=e,this.setProgress(this.percent))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initSizeObserver()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.ngAfterViewInit=function(){this.updateDimensions(),this.initCircle()},e.prototype.initSizeObserver=function(){var e=this;Object(Qg.a)(window,"resize").pipe(Object(cr.a)(10),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.updateDimensions()}))},e.prototype.calculateRadius=function(){return this.getCircleWidth()/2},e.prototype.getCircleWidth=function(){return this.circleRef.nativeElement.offsetWidth},e.prototype.getRadius=function(){return this.progressCircleRef.nativeElement.r.baseVal.value},e.prototype.getCircumference=function(){return 2*this.getRadius()*Math.PI},e.prototype.getOffset=function(e){void 0===e&&(e=100);var t=this.getCircumference();return t-e/100*t},e.prototype.setProgress=function(e){e>=100&&(e=100);var t=this.getCircumference(),n=this.getOffset(e);this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray",t+" "+t),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",""+n)},e.prototype.initCircle=function(){},e.prototype.updateDimensions=function(){var e=this.calculateRadius();this.renderer.setAttribute(this.progressContainerRef.nativeElement,"width",""+2*e),this.renderer.setAttribute(this.progressContainerRef.nativeElement,"height",""+2*e),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"r",""+(e-6)),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"cx",""+e),this.renderer.setAttribute(this.progressCircleRef.nativeElement,"cy",""+e);var t=this.getCircumference();this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDasharray",t+" "+t),this.renderer.setStyle(this.progressCircleRef.nativeElement,"strokeDashoffset",""+t)},e}(),yj=i.wb({encapsulation:0,styles:[[".play-loader[_ngcontent-%COMP%]{--buttonSize:35vw;background:var(--view-loader-scrim-bg);display:-webkit-box;display:flex;position:fixed;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;-webkit-transition:background-color 250ms,opacity 250ms;transition:background-color 250ms,opacity 250ms;z-index:10000}.play-loader[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:var(--view-loader-scrim-bg--hover)}.play-loader[_ngcontent-%COMP%]:hover   .play-loader__circle[_ngcontent-%COMP%]{background:var(--view-loader-button-bg--hover);color:var(--view-loader-circle-color--hover);-webkit-transform:scale(1.1);transform:scale(1.1)}.play-loader[_ngcontent-%COMP%]:hover   .play-loader__icon[_ngcontent-%COMP%]{color:var(--view-loader-icon-color--hover);-webkit-transform:scale(1.2);transform:scale(1.2)}.play-loader[_ngcontent-%COMP%]:hover   .play-loader__label[_ngcontent-%COMP%]{color:var(--view-loader-label-color--hover)}.play-loader[_ngcontent-%COMP%]:hover   .play-loader__ring[_ngcontent-%COMP%]{stroke:var(--view-loader-progress-color--hover)}.play-loader__circle[_ngcontent-%COMP%]{width:var(--buttonSize);height:var(--buttonSize);border-radius:50%;background-color:var(--view-loader-button-bg);color:var(--view-loader-circle-color);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:relative;-webkit-transition:background-color 250ms,color 250ms,-webkit-transform 250ms;transition:background-color 250ms,color 250ms,-webkit-transform 250ms;transition:background-color 250ms,color 250ms,transform 250ms;transition:background-color 250ms,color 250ms,transform 250ms,-webkit-transform 250ms}.play-loader__icon[_ngcontent-%COMP%]{font-size:calc(var(--buttonSize)/ 2);color:var(--view-loader-icon-color);-webkit-transition:color 250ms,-webkit-transform 250ms;transition:color 250ms,-webkit-transform 250ms;transition:color 250ms,transform 250ms;transition:color 250ms,transform 250ms,-webkit-transform 250ms;margin-right:-10%}.play-loader__label[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;z-index:2;font-weight:600}.play-loader__ring[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:3;stroke-width:4;stroke:var(--view-loader-progress-color);fill:transparent;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.play-loader__ring-inner[_ngcontent-%COMP%]{-webkit-transition:stroke-dashoffset .3s;transition:stroke-dashoffset .3s}@media (min-width:600px){.play-loader__circle[_ngcontent-%COMP%]{width:160px;height:160px}.play-loader__icon[_ngcontent-%COMP%]{font-size:80px}}"]],data:{}});function _j(e){return i.Ub(2,[i.Qb(402653184,1,{circleRef:0}),i.Qb(402653184,2,{progressCircleRef:0}),i.Qb(402653184,3,{progressContainerRef:0}),(e()(),i.yb(3,0,null,null,7,"div",[["class","play-loader"]],null,null,null,null,null)),(e()(),i.yb(4,0,[[1,0],["circle",1]],null,6,"div",[["class","play-loader__circle"]],null,null,null,null,null)),(e()(),i.yb(5,0,[[3,0],["progressContainer",1]],null,1,":svg:svg",[["class","play-loader__ring"]],null,null,null,null,null)),(e()(),i.yb(6,0,[[2,0],["progressCircle",1]],null,0,":svg:circle",[["class","play-loader__ring-inner"]],null,null,null,null,null)),(e()(),i.yb(7,0,null,null,1,"app-icon",[["class","play-loader__icon"],["icon","play"]],null,null,null,ce,ue)),i.xb(8,114688,null,0,re,[],{icon:[0,"icon"]},null),(e()(),i.yb(9,0,null,null,1,"div",[["class","play-loader__label"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["3D"]))],(function(e,t){e(t,8,0,"play")}),null)}var vj=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),xj=i.wb({encapsulation:0,styles:[[".m-1[_ngcontent-%COMP%]{margin:4px!important}.mv-1[_ngcontent-%COMP%]{margin-top:4px!important;margin-bottom:4px!important}.mh-1[_ngcontent-%COMP%]{margin-left:4px!important;margin-right:4px!important}.mt-1[_ngcontent-%COMP%]{margin-top:4px!important}.mr-1[_ngcontent-%COMP%]{margin-right:4px!important}.mb-1[_ngcontent-%COMP%]{margin-bottom:4px!important}.ml-1[_ngcontent-%COMP%]{margin-left:4px!important}.p-1[_ngcontent-%COMP%]{padding:4px!important}.pv-1[_ngcontent-%COMP%]{padding-top:4px!important;padding-bottom:4px!important}.ph-1[_ngcontent-%COMP%]{padding-left:4px!important;padding-right:4px!important}.pt-1[_ngcontent-%COMP%]{padding-top:4px!important}.pr-1[_ngcontent-%COMP%]{padding-right:4px!important}.pb-1[_ngcontent-%COMP%]{padding-bottom:4px!important}.pl-1[_ngcontent-%COMP%]{padding-left:4px!important}.m-2[_ngcontent-%COMP%]{margin:8px!important}.mv-2[_ngcontent-%COMP%]{margin-top:8px!important;margin-bottom:8px!important}.mh-2[_ngcontent-%COMP%]{margin-left:8px!important;margin-right:8px!important}.mt-2[_ngcontent-%COMP%]{margin-top:8px!important}.mr-2[_ngcontent-%COMP%]{margin-right:8px!important}.mb-2[_ngcontent-%COMP%]{margin-bottom:8px!important}.ml-2[_ngcontent-%COMP%]{margin-left:8px!important}.p-2[_ngcontent-%COMP%]{padding:8px!important}.pv-2[_ngcontent-%COMP%]{padding-top:8px!important;padding-bottom:8px!important}.ph-2[_ngcontent-%COMP%]{padding-left:8px!important;padding-right:8px!important}.pt-2[_ngcontent-%COMP%]{padding-top:8px!important}.pr-2[_ngcontent-%COMP%]{padding-right:8px!important}.pb-2[_ngcontent-%COMP%]{padding-bottom:8px!important}.pl-2[_ngcontent-%COMP%]{padding-left:8px!important}.m-3[_ngcontent-%COMP%]{margin:12px!important}.mv-3[_ngcontent-%COMP%]{margin-top:12px!important;margin-bottom:12px!important}.mh-3[_ngcontent-%COMP%]{margin-left:12px!important;margin-right:12px!important}.mt-3[_ngcontent-%COMP%]{margin-top:12px!important}.mr-3[_ngcontent-%COMP%]{margin-right:12px!important}.mb-3[_ngcontent-%COMP%]{margin-bottom:12px!important}.ml-3[_ngcontent-%COMP%]{margin-left:12px!important}.p-3[_ngcontent-%COMP%]{padding:12px!important}.pv-3[_ngcontent-%COMP%]{padding-top:12px!important;padding-bottom:12px!important}.ph-3[_ngcontent-%COMP%]{padding-left:12px!important;padding-right:12px!important}.pt-3[_ngcontent-%COMP%]{padding-top:12px!important}.pr-3[_ngcontent-%COMP%]{padding-right:12px!important}.pb-3[_ngcontent-%COMP%]{padding-bottom:12px!important}.pl-3[_ngcontent-%COMP%]{padding-left:12px!important}.m-4[_ngcontent-%COMP%]{margin:16px!important}.mv-4[_ngcontent-%COMP%]{margin-top:16px!important;margin-bottom:16px!important}.mh-4[_ngcontent-%COMP%]{margin-left:16px!important;margin-right:16px!important}.mt-4[_ngcontent-%COMP%]{margin-top:16px!important}.mr-4[_ngcontent-%COMP%]{margin-right:16px!important}.mb-4[_ngcontent-%COMP%]{margin-bottom:16px!important}.ml-4[_ngcontent-%COMP%]{margin-left:16px!important}.p-4[_ngcontent-%COMP%]{padding:16px!important}.pv-4[_ngcontent-%COMP%]{padding-top:16px!important;padding-bottom:16px!important}.ph-4[_ngcontent-%COMP%]{padding-left:16px!important;padding-right:16px!important}.pt-4[_ngcontent-%COMP%]{padding-top:16px!important}.pr-4[_ngcontent-%COMP%]{padding-right:16px!important}.pb-4[_ngcontent-%COMP%]{padding-bottom:16px!important}.pl-4[_ngcontent-%COMP%]{padding-left:16px!important}.m-5[_ngcontent-%COMP%]{margin:20px!important}.mv-5[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:20px!important}.mh-5[_ngcontent-%COMP%]{margin-left:20px!important;margin-right:20px!important}.mt-5[_ngcontent-%COMP%]{margin-top:20px!important}.mr-5[_ngcontent-%COMP%]{margin-right:20px!important}.mb-5[_ngcontent-%COMP%]{margin-bottom:20px!important}.ml-5[_ngcontent-%COMP%]{margin-left:20px!important}.p-5[_ngcontent-%COMP%]{padding:20px!important}.pv-5[_ngcontent-%COMP%]{padding-top:20px!important;padding-bottom:20px!important}.ph-5[_ngcontent-%COMP%]{padding-left:20px!important;padding-right:20px!important}.pt-5[_ngcontent-%COMP%]{padding-top:20px!important}.pr-5[_ngcontent-%COMP%]{padding-right:20px!important}.pb-5[_ngcontent-%COMP%]{padding-bottom:20px!important}.pl-5[_ngcontent-%COMP%]{padding-left:20px!important}.m-6[_ngcontent-%COMP%]{margin:24px!important}.mv-6[_ngcontent-%COMP%]{margin-top:24px!important;margin-bottom:24px!important}.mh-6[_ngcontent-%COMP%]{margin-left:24px!important;margin-right:24px!important}.mt-6[_ngcontent-%COMP%]{margin-top:24px!important}.mr-6[_ngcontent-%COMP%]{margin-right:24px!important}.mb-6[_ngcontent-%COMP%]{margin-bottom:24px!important}.ml-6[_ngcontent-%COMP%]{margin-left:24px!important}.p-6[_ngcontent-%COMP%]{padding:24px!important}.pv-6[_ngcontent-%COMP%]{padding-top:24px!important;padding-bottom:24px!important}.ph-6[_ngcontent-%COMP%]{padding-left:24px!important;padding-right:24px!important}.pt-6[_ngcontent-%COMP%]{padding-top:24px!important}.pr-6[_ngcontent-%COMP%]{padding-right:24px!important}.pb-6[_ngcontent-%COMP%]{padding-bottom:24px!important}.pl-6[_ngcontent-%COMP%]{padding-left:24px!important}.m-7[_ngcontent-%COMP%]{margin:28px!important}.mv-7[_ngcontent-%COMP%]{margin-top:28px!important;margin-bottom:28px!important}.mh-7[_ngcontent-%COMP%]{margin-left:28px!important;margin-right:28px!important}.mt-7[_ngcontent-%COMP%]{margin-top:28px!important}.mr-7[_ngcontent-%COMP%]{margin-right:28px!important}.mb-7[_ngcontent-%COMP%]{margin-bottom:28px!important}.ml-7[_ngcontent-%COMP%]{margin-left:28px!important}.p-7[_ngcontent-%COMP%]{padding:28px!important}.pv-7[_ngcontent-%COMP%]{padding-top:28px!important;padding-bottom:28px!important}.ph-7[_ngcontent-%COMP%]{padding-left:28px!important;padding-right:28px!important}.pt-7[_ngcontent-%COMP%]{padding-top:28px!important}.pr-7[_ngcontent-%COMP%]{padding-right:28px!important}.pb-7[_ngcontent-%COMP%]{padding-bottom:28px!important}.pl-7[_ngcontent-%COMP%]{padding-left:28px!important}.m-8[_ngcontent-%COMP%]{margin:32px!important}.mv-8[_ngcontent-%COMP%]{margin-top:32px!important;margin-bottom:32px!important}.mh-8[_ngcontent-%COMP%]{margin-left:32px!important;margin-right:32px!important}.mt-8[_ngcontent-%COMP%]{margin-top:32px!important}.mr-8[_ngcontent-%COMP%]{margin-right:32px!important}.mb-8[_ngcontent-%COMP%]{margin-bottom:32px!important}.ml-8[_ngcontent-%COMP%]{margin-left:32px!important}.p-8[_ngcontent-%COMP%]{padding:32px!important}.pv-8[_ngcontent-%COMP%]{padding-top:32px!important;padding-bottom:32px!important}.ph-8[_ngcontent-%COMP%]{padding-left:32px!important;padding-right:32px!important}.pt-8[_ngcontent-%COMP%]{padding-top:32px!important}.pr-8[_ngcontent-%COMP%]{padding-right:32px!important}.pb-8[_ngcontent-%COMP%]{padding-bottom:32px!important}.pl-8[_ngcontent-%COMP%]{padding-left:32px!important}.m-9[_ngcontent-%COMP%]{margin:36px!important}.mv-9[_ngcontent-%COMP%]{margin-top:36px!important;margin-bottom:36px!important}.mh-9[_ngcontent-%COMP%]{margin-left:36px!important;margin-right:36px!important}.mt-9[_ngcontent-%COMP%]{margin-top:36px!important}.mr-9[_ngcontent-%COMP%]{margin-right:36px!important}.mb-9[_ngcontent-%COMP%]{margin-bottom:36px!important}.ml-9[_ngcontent-%COMP%]{margin-left:36px!important}.p-9[_ngcontent-%COMP%]{padding:36px!important}.pv-9[_ngcontent-%COMP%]{padding-top:36px!important;padding-bottom:36px!important}.ph-9[_ngcontent-%COMP%]{padding-left:36px!important;padding-right:36px!important}.pt-9[_ngcontent-%COMP%]{padding-top:36px!important}.pr-9[_ngcontent-%COMP%]{padding-right:36px!important}.pb-9[_ngcontent-%COMP%]{padding-bottom:36px!important}.pl-9[_ngcontent-%COMP%]{padding-left:36px!important}.m-10[_ngcontent-%COMP%]{margin:40px!important}.mv-10[_ngcontent-%COMP%]{margin-top:40px!important;margin-bottom:40px!important}.mh-10[_ngcontent-%COMP%]{margin-left:40px!important;margin-right:40px!important}.mt-10[_ngcontent-%COMP%]{margin-top:40px!important}.mr-10[_ngcontent-%COMP%]{margin-right:40px!important}.mb-10[_ngcontent-%COMP%]{margin-bottom:40px!important}.ml-10[_ngcontent-%COMP%]{margin-left:40px!important}.p-10[_ngcontent-%COMP%]{padding:40px!important}.pv-10[_ngcontent-%COMP%]{padding-top:40px!important;padding-bottom:40px!important}.ph-10[_ngcontent-%COMP%]{padding-left:40px!important;padding-right:40px!important}.pt-10[_ngcontent-%COMP%]{padding-top:40px!important}.pr-10[_ngcontent-%COMP%]{padding-right:40px!important}.pb-10[_ngcontent-%COMP%]{padding-bottom:40px!important}.pl-10[_ngcontent-%COMP%]{padding-left:40px!important}.text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.button-loader[_ngcontent-%COMP%]{background:var(--view-loader-scrim-bg);display:-webkit-box;display:flex;position:fixed;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;-webkit-transition:background-color 250ms,opacity 250ms;transition:background-color 250ms,opacity 250ms;z-index:10000}.button-loader[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:var(--view-loader-scrim-bg--hover)}@media print{.button-loader[_ngcontent-%COMP%]{display:none}}.button-loader[_ngcontent-%COMP%]:hover   .button-loader__button[_ngcontent-%COMP%]{background-color:var(--view-loader-icon-color--hover);-webkit-transform:scale(1.1);transform:scale(1.1)}.button-loader[_ngcontent-%COMP%]:hover   .button-loader__3d-arrow[_ngcontent-%COMP%]{-webkit-transform:scale(1.2);transform:scale(1.2)}.button-loader__button[_ngcontent-%COMP%]{display:-webkit-box;display:flex;padding:12px 28px;border-radius:32px;-webkit-box-align:center;align-items:center;-webkit-transition:background-color 250ms,-webkit-transform 250ms;transition:background-color 250ms,-webkit-transform 250ms;transition:transform 250ms,background-color 250ms;transition:transform 250ms,background-color 250ms,-webkit-transform 250ms;background-color:var(--view-loader-button-bg)}.button-loader__3d-arrow[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform 250ms;transition:-webkit-transform 250ms;transition:transform 250ms;transition:transform 250ms,-webkit-transform 250ms;margin-right:4px}.button-loader__label[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;color:#fff;font-weight:600;margin-left:4px}"]],data:{}});function Oj(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,4,"div",[["class","button-loader"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,3,"div",[["class","button-loader__button"]],null,null,null,null,null)),(e()(),i.yb(2,0,null,null,0,"img",[["class","button-loader__3d-arrow"],["src","assets/images/widget/loading_experience/interact-in-3d-arrow.svg"]],null,null,null,null,null)),(e()(),i.yb(3,0,null,null,1,"div",[["class","button-loader__label"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Interact in 3D"]))],null,null)}var wj=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),Cj=i.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.hand-loader[_ngcontent-%COMP%]{background:var(--view-loader-scrim-bg);display:-webkit-box;display:flex;position:fixed;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;-webkit-transition:background-color 250ms,opacity 250ms;transition:background-color 250ms,opacity 250ms;z-index:10000}.hand-loader[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer;background:var(--view-loader-scrim-bg--hover)}@-webkit-keyframes handKeyframes{0%,100%,60%{-webkit-transform:scale(1.2);transform:scale(1.2)}25%,40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes handKeyframes{0%,100%,60%{-webkit-transform:scale(1.2);transform:scale(1.2)}25%,40%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes circleKeyframes{0%{-webkit-transform:scale(0);transform:scale(0)}20%{-webkit-transform:scale(0);transform:scale(0);opacity:1}100%{-webkit-transform:scale(1);transform:scale(1);opacity:0}}@keyframes circleKeyframes{0%{-webkit-transform:scale(0);transform:scale(0)}20%{-webkit-transform:scale(0);transform:scale(0);opacity:1}100%{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.hand-loader__container[_ngcontent-%COMP%]{position:relative;width:200px;height:200px}.hand-loader__circle[_ngcontent-%COMP%]{background-color:#fff;position:absolute;left:50%;margin-left:-40.5px;margin-top:-1.5px;width:70px;height:70px;border-radius:50%;-webkit-animation:2s infinite circleKeyframes;animation:2s infinite circleKeyframes}.hand-loader__3d-hand[_ngcontent-%COMP%]{-webkit-animation:2s ease-in-out infinite handKeyframes;animation:2s ease-in-out infinite handKeyframes;position:absolute;height:96px;width:86px;left:50%;margin-left:-43px;margin-top:27px}.hand-loader__label[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em;font-weight:600;color:#fff;text-shadow:0 1px 5px #000;bottom:40px;position:absolute;text-align:center;width:100%}"]],data:{}});function jj(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,5,"div",[["class","hand-loader"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,4,"div",[["class","hand-loader__container"]],null,null,null,null,null)),(e()(),i.yb(2,0,null,null,0,"div",[["class","hand-loader__circle"]],null,null,null,null,null)),(e()(),i.yb(3,0,null,null,0,"img",[["class","hand-loader__3d-hand"],["src","assets/images/widget/loading_experience/interact-in-3d-hand.svg"]],null,null,null,null,null)),(e()(),i.yb(4,0,null,null,1,"div",[["class","hand-loader__label"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,["Interact in 3D"]))],null,null)}var kj=function(){function e(e,t,n){this.renderer=e,this.viewService=t,this.actions=n,this.ngUnsubscribe=new $.a}return e.prototype.initLoaderListener=function(){var e=this;this.actions.pipe(Object(h.l)(l.ToggleLoader),Object(W.a)((function(e){return e.show})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.renderer.removeClass(e.viewLoaderRef.nativeElement,"view-loader--disappear")}))},e.prototype.handleClick=function(){var e=this;this.renderer.addClass(this.viewLoaderRef.nativeElement,"view-loader--disappear"),setTimeout((function(){e.viewService.toggleLoader(!1)}),250)},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e}(),Sj=i.wb({encapsulation:2,styles:[[""]],data:{}});function Pj(e){return i.Ub(2,[i.Qb(402653184,1,{viewLoaderRef:0}),(e()(),i.yb(1,0,[[1,0],["viewLoader",1]],null,1,"div",[["class","view-loader"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleClick()&&l),l}),null,null)),i.Jb(null,0)],null,null)}var Ij=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Mj=function(){function e(e,t){this.store=e,this.changeDetectorRef=t,this.ngUnsubscribe=new $.a,this.visible=!1}return e.prototype.beforePrint=function(e){this.visible=!0,this.changeDetectorRef.markForCheck()},e.prototype.afterPrint=function(e){this.visible=!1,this.changeDetectorRef.markForCheck()},e.prototype.ngOnInit=function(){this.initImageUrlListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initImageUrlListener=function(){var e=this;Object(Id.b)(this.storyChapters$,this.store.select(Zc.getRegisteredThumbnails)).pipe(Object(W.a)((function(e){var t=Ij(e,2);return t[0].length>0&&t[1].size>0})),Object(c.a)((function(e){var t=Ij(e,2);return t[1].get(t[0][0].id).urls.large})),Object(im.a)(),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.imageUrl=t,e.changeDetectorRef.markForCheck()}))},Object(g.__decorate)([Object(h.e)(Zc.getStoryChapters),Object(g.__metadata)("design:type",Q.a)],e.prototype,"storyChapters$",void 0),e}(),Tj=i.wb({encapsulation:0,styles:[[".view-print[_ngcontent-%COMP%]{background-color:#fff;display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:10000;justify-content:space-around;margin:auto;margin-top:0!important}@media print{.view-print[_ngcontent-%COMP%]{display:-webkit-box;display:flex}}.view-print__scrim[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:absolute;z-index:-1;top:0;right:0;bottom:0;left:0}.view-print__image[_ngcontent-%COMP%]{display:block;-webkit-box-flex:1;flex:1 1 auto;-o-object-fit:contain;object-fit:contain;margin:0 auto;z-index:1}"]],data:{}});function Kj(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,2,"div",[["class","view-print"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,0,"img",[["class","view-print__scrim"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII="]],null,null,null,null,null)),(e()(),i.yb(2,0,null,null,0,"img",[["class","view-print__image"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,2,0,t.component.imageUrl)}))}var zj=function(){function e(e,t,n){this.viewService=e,this.layoutService=t,this.changeDetectorRef=n,this.ngUnsubscribe=new $.a,this.isIn=!1}return e.prototype.ngOnInit=function(){var e=this;Object(Id.b)(this.chapter$,this.layout$).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2);e.isIn=n[1].column.status===ry.Collapse,e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.isVisible=function(){return this.layoutService.isVisible(y_.ColumnToggle)},e.prototype.handleToggleClick=function(){this.viewService.toggleColumn(),this.viewService.toggleSearch(!1),this.viewService.toggleNodeInfo(!1),this.viewService.toggleLabelInfo(!1),this.changeDetectorRef.markForCheck()},Object(g.__decorate)([Object(h.e)(jy.getLayout),Object(g.__metadata)("design:type",Q.a)],e.prototype,"layout$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapter),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapter$",void 0),e}(),Lj=i.wb({encapsulation:2,styles:[[".view-column-toggle{background:#fff;color:#131c2a;box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);background:var(--view-column-toggle-background);box-shadow:var(--view-column-toggle-shadow);color:var(--view-column-toggle-color);border-radius:0 4px 4px 0;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;width:24px;height:36px}.view-column-toggle:hover{background-color:#131c2a;background-color:var(--view-column-toggle-background--hover);cursor:pointer}"]],data:{animation:[{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0,transform:"translateX(-32px)"},offset:null},{type:4,styles:{type:6,styles:{opacity:1,transform:"*"},offset:null},timings:"300ms ease-in-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateX(-32px)",opacity:0},offset:null},timings:"300ms ease-in-out"}],options:null}],options:{}}]}});function Ej(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[["class","view-column-toggle"]],[[24,"@show",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleToggleClick()&&l),l}),null,null)),(e()(),i.yb(1,0,null,null,1,"app-icon",[],null,null,null,ce,ue)),i.xb(2,114688,null,0,re,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,2,0,t.component.isIn?"caret-right":"caret-left")}),(function(e,t){e(t,0,0,void 0)}))}function Uj(e){return i.Ub(2,[(e()(),i.ob(16777216,null,null,1,null,Ej)),i.xb(1,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.isVisible())}),null)}var Fj=n("imBb"),Aj=n("7sSR"),Dj=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Nj=function(){function e(e,t,n,l,i,o,a,r,u,c,s){this.activatedRoute=e,this.renderer=t,this.store=n,this.viewService=l,this.historyService=i,this.breakpointObserver=o,this.changeDetectorRef=a,this.actions=r,this.layoutService=u,this.engineService=c,this.title=s,this.breakpoint=Ay,this.viewLayoutStatus=ry,this.viewMode=ky,this.viewLayout=y_,this.columnLayoutStatus=ry.Hide,this.drawerExpandable=!0,this.drawerOpen=!1,this.drawerY=0,this.loadProgress=0,this.viewToolsMode=Vw,this.testSelectors=$w,this.ngUnsubscribe=new $.a}return e.prototype.ngOnInit=function(){this.resetScene();var e=this.viewService.normalizeQueryParams(this.activatedRoute.snapshot.queryParams);this.viewService.initStory(e.id,e.type,e.lang)},e.prototype.ngAfterViewInit=function(){this.store.dispatch(new vo({tag:!0,pin:!1})),this.store.dispatch(new Si(!0)),this.checkCapabilities(),this.initStoryReady(),this.initSizeObservers(),this.initLayoutObserver(),this.initBreakpointObservers(),this.initKeyboardObserver(),this.initLoadProgressObserver(),this.initLoaderObserver(),this.initResponsiveLabels(),this.initNodeObserver(),this.initChapterObserver(),this.initChaptersObserver(),this.initChapterChangeObserver(),this.positionRelativeElements(this.drawerY)},e.prototype.ngOnDestroy=function(){this.store.dispatch(new oi(!1)),this.store.dispatch(new Sa),this.store.dispatch(new P_(0,0)),Zf.isFullscreen()&&Zf.exitFullscreen(),this.unbindKeyboard(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.checkCapabilities=function(){var e=this,t=this.renderer.listen("window","mouseover",(function(){t(),e.store.dispatch(new l.SetCanHover(!0))})),n="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;this.store.dispatch(new l.SetCanTouch(n)),this.store.dispatch(new l.SetCanFullscreen(Zf.canFullscreen()))},e.prototype.initBreakpointObservers=function(){var e=this;this.breakpoint$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.handleResize()}))},e.prototype.initResponsiveLabels=function(){var e=this,t=Object(Qg.a)(window,"resize").pipe(Object(cr.a)(100)),n=this.store.select(jy.getLabelsBreakpoint),l=this.store.select(Fp.getSelectedLabel),i=this.store.select(Fp.getLabelsCollapsed);l.pipe(Object(W.a)((function(){return e.store.selectSnapshot(Fp.getLabelsCollapsed)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.toggleLabelInfo(!!t)})),i.pipe(Object(W.a)((function(){return!!e.store.selectSnapshot(Fp.getSelectedLabel)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.toggleLabelInfo(t)})),Object(Id.b)(t,n).pipe(Object(W.a)((function(e){var t=Dj(e,2)[1];return!Object(jt.isNil)(t)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.checkLabelsCollapsed()})),this.checkLabelsCollapsed()},e.prototype.initSizeObservers=function(){var e=this,t=Aj({strategy:"scroll"});Object(Qg.a)(window,"resize").pipe(Object(cr.a)(10),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.updateViewHeight()})),new Q.a((function(n){t.listenTo(e.engineContainer.nativeElement,(function(){n.next()}))})).pipe(Object(cr.a)(10)).subscribe((function(){e.resizeEngineContainer()}))},e.prototype.initLayoutObserver=function(){var e=this;this.layout$.pipe(Object(W.a)((function(e){return null!=e})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.refreshLayout()}))},e.prototype.initKeyboardObserver=function(){var e=this;this.inputEnabled$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){t?e.bindKeyboard():e.unbindKeyboard()}))},e.prototype.initNodeObserver=function(){var e=this;this.actions.pipe(Object(h.l)(fi),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.delegateNodeClick(t.node,t.event)})),this.actions.pipe(Object(h.l)(fa),Object(W.a)((function(){return e.store.selectSnapshot(Fc.getActiveTool)===Kc.Select})),Object(c.a)((function(e){return e.node})),Object(Pe.a)(),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=Dj(t,2),l=n[0],i=n[1];e.store.selectSnapshot(jy.getLayout).nodeInfo.status===ry.Show&&(null==i||i.id!==l?e.viewService.toggleNodeInfo(!1):i&&e.store.dispatch(new Ta(i)))}))},e.prototype.initChaptersObserver=function(){var e=this;this.store.select(Zc.getStoryChapters).pipe(Object(W.a)((function(e){return e.length>0})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.checkDrawerSizing(t)}))},e.prototype.initChapterObserver=function(){var e=this;this.store.select(Zc.getSelectedChapterId).pipe(Object(W.a)((function(e){return null!=e})),Object(c.a)((function(){return e.store.selectSnapshot(Zc.getSelectedChapter)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.initHistory(),e.viewService.initChapter(t),e.refreshLayout()}))},e.prototype.initChapterChangeObserver=function(){var e=this;this.store.select(Zc.getSelectedChapterModified).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.refreshLayout()}))},e.prototype.initLoadProgressObserver=function(){var e=this;this.loadProgress$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.loadProgress=100*t,e.changeDetectorRef.markForCheck()}))},e.prototype.initLoaderObserver=function(){var e=this;this.loaderActive$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.viewService.resetLayout(),t?(e.historyService.resetChapter(),e.viewService.resetCamera(),e.viewService.toggleLabels(!1)):e.viewService.toggleLabels(!0)}))},e.prototype.initStoryReady=function(){var e=this;this.actions.pipe(Object(h.l)(Lo),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new ba)})),this.actions.pipe(Object(h.l)(Ca,Pa,Ia,La),Object(cr.a)(300),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){var t=e.store.selectSnapshot(Zc.getSelectedChapterId);e.store.dispatch(new da(t,!0))})),this.actions.pipe(Object(h.l)(Zi),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){var t=e.store.selectSnapshot(Zc.getSelectedChapterId);e.store.dispatch(new da(t,!1))}))},e.prototype.handleColumnToggle=function(){this.viewService.toggleColumn(),this.changeDetectorRef.markForCheck()},e.prototype.handleDrawerOffsetChange=function(e){this.drawerY=e,this.drawerOpen=-64!==e,this.positionRelativeElements(this.drawerY)},e.prototype.handleExitClick=function(){this.viewService.toggleLoader(!0)},e.prototype.checkLabelsCollapsed=function(){var e=this.store.selectSnapshot(Ny.getBreakpoint),t=this.store.selectSnapshot(jy.getLabelsBreakpoint),n=this.isLabelBreaking(t);this.store.dispatch(new _o(n,e>=Ay.Large?no.Toggle:no.None))},e.prototype.isLabelBreaking=function(e){return window.innerWidth<e},e.prototype.bindKeyboard=function(){var e=this;Fj.bind("1",(function(){return e.viewService.selectTool(Kc.Select)})),Fj.bind("2",(function(){return e.viewService.selectTool(Kc.Hide)})),Fj.bind("3",(function(){return e.viewService.selectTool(Kc.Fade)})),Fj.bind("meta+,",(function(t){t.preventDefault(),e.viewService.toggleColumn(),e.changeDetectorRef.markForCheck()})),Fj.bind("meta+enter",(function(t){t.preventDefault(),e.viewService.togglePresentation()})),Fj.bind([".","pagedown"],(function(){return e.viewService.nextChapter()})),Fj.bind([",","pageup"],(function(){return e.viewService.previousChapter()})),Fj.bind(["del","backspace"],(function(t){t.preventDefault(),e.viewService.hideSelectedStructures()})),Fj.bind("/",(function(){return e.viewService.toggleSearch()})),Fj.bind("?",(function(){return e.viewService.toggleHelp()})),Fj.bind("space",(function(t){t.preventDefault(),e.viewService.toggleAnimation()}))},e.prototype.unbindKeyboard=function(){Fj.reset()},e.prototype.resizeEngineContainer=function(){var e=this.engineContainer.nativeElement,t=new uc(e.offsetLeft,e.offsetTop,e.offsetWidth,e.offsetHeight,cc.Shown);this.store.dispatch(new Ki(t))},e.prototype.updateViewHeight=function(){var e=.01*window.innerHeight;this.view.nativeElement.style.setProperty("--vh",e+"px")},e.prototype.handleResize=function(){this.viewService.resetLayout()},e.prototype.resetScene=function(){var e=this;this.store.dispatch(new oi(!0)),this.store.dispatch(new ui(!1)),this.engineService.getEvent(Za.AssetsLoadProgress).pipe(Object(Od.a)(1),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new ui(!0))}))},e.prototype.refreshLayout=function(){var e=this,t=this.store.selectSnapshot(jy.getLayout);this.columnLayoutStatus=t.column.status,this.updateViewHeight(),this.resizeEngineContainer(),t.tools.status!==ry.Show&&this.viewService.selectTool(Kc.Select),this.store.dispatch(new mo(!1!==t.anatomyLabels.enable,!1!==t.nodeInfo.enable,!0)),setTimeout((function(){e.drawer?(e.viewService.inferDrawerMode(t),e.positionRelativeElements(e.drawerY)):e.positionRelativeElements()}))},e.prototype.positionRelativeElements=function(e){void 0===e&&(e=0);var t=this.store.selectSnapshot(Ny.getBreakpoint),n=(this.store.selectSnapshot(jy.getDrawerCoversContent),this.isVisible(y_.Drawer)),l=this.isVisible(y_.Camera),i=this.store.selectSnapshot(Zc.getSelectedChapterModified);null!=this.viewCameraBar&&l&&this.renderer.setStyle(this.viewCameraBar.nativeElement,"transform","translate3d(-4px, 0, 0)"),this.renderer.setStyle(this.viewToolbar.nativeElement,"transform","translate3d("+(l||i?-60:-8)+"px, 0, 0)"),this.renderer.setStyle(this.viewSceneBase.nativeElement,"transform","translate3d(0, "+(t>Ay.Medium?-8:n?-8+(e+64):-8)+"px, 0)")},e.prototype.checkDrawerSizing=function(e){var t=e.some((function(e){return Object(jt.trim)(e.info.description).length>0}));this.drawerExpandable=t},e.prototype.isVisible=function(e){return this.layoutService.isVisible(e)},e.prototype.isEnabled=function(e){return this.layoutService.isLayoutEnabled(e)},Object(g.__decorate)([Object(h.e)(jy.getLayout),Object(g.__metadata)("design:type",Q.a)],e.prototype,"layout$",void 0),Object(g.__decorate)([Object(h.e)(jy.getInputEnabled),Object(g.__metadata)("design:type",Q.a)],e.prototype,"inputEnabled$",void 0),Object(g.__decorate)([Object(h.e)(jy.getFullscreenActive),Object(g.__metadata)("design:type",Q.a)],e.prototype,"fullscreenActive$",void 0),Object(g.__decorate)([Object(h.e)(jy.getDrawerCoversContent),Object(g.__metadata)("design:type",Q.a)],e.prototype,"drawerCoversContent$",void 0),Object(g.__decorate)([Object(h.e)(jy.getShowHelp),Object(g.__metadata)("design:type",Q.a)],e.prototype,"showHelp$",void 0),Object(g.__decorate)([Object(h.e)(jy.getLoaderActive),Object(g.__metadata)("design:type",Q.a)],e.prototype,"loaderActive$",void 0),Object(g.__decorate)([Object(h.e)(jy.getLoaderType),Object(g.__metadata)("design:type",Q.a)],e.prototype,"loaderType$",void 0),Object(g.__decorate)([Object(h.e)(jy.getUsePrintImage),Object(g.__metadata)("design:type",Q.a)],e.prototype,"usePrintImage$",void 0),Object(g.__decorate)([Object(h.e)(M_.getStoryLoadProgress),Object(g.__metadata)("design:type",Q.a)],e.prototype,"loadProgress$",void 0),Object(g.__decorate)([Object(h.e)(Ny.getBreakpoint),Object(g.__metadata)("design:type",Q.a)],e.prototype,"breakpoint$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapter),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapter$",void 0),e}(),Rj=n("vGXY"),Bj=i.wb({encapsulation:2,styles:[[".view-page{border:var(--view-page-border);width:100vw;height:100vh;height:calc(var(--vh,1vh) * 100);max-height:100vh;overflow:hidden;-webkit-transition:padding-left 250ms;transition:padding-left 250ms}.view-page--column-in{padding-left:320px}.view-page--column-out{padding-left:0}.view-page--drawer-push{padding-bottom:64px}.view-page__column{height:100%}.view-page__column-toggle{position:absolute;top:12px;left:0;z-index:10}.view-page__engine{width:100%;height:100%;position:relative}.view-page__menu{position:absolute;right:8px;bottom:0;z-index:30}.view-page__camera-bar{position:absolute;bottom:0;right:0;z-index:20;width:52px}.view-page__logo{display:inline-block;position:absolute;left:8px;bottom:0;z-index:10}.view-page__media-bar{position:absolute;left:50%;margin-left:-100px;width:200px;bottom:0;z-index:10;-webkit-box-pack:center;justify-content:center}.view-page__media-bar:not([hidden]){display:-webkit-box;display:flex}.view-page__title-only{position:fixed;top:8px;left:8px;max-width:304px;z-index:10;padding:12px;border-radius:4px;background:rgba(255,255,255,.8);box-shadow:1px -1px 2px 0 rgba(28,42,63,.1),0 1px 2px 0 rgba(28,42,63,.3);color:#131c2a;background-color:var(--view-title-background);box-shadow:var(--view-title-shadow)}.view-page__scene-base{position:absolute;left:0;bottom:0;right:0;z-index:10;-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}.view-page__toolbar{position:absolute;display:inline-block;z-index:20;bottom:0;right:0;-webkit-transition:-webkit-transform 250ms;transition:-webkit-transform 250ms;transition:transform 250ms;transition:transform 250ms,-webkit-transform 250ms}.view-block-input{position:fixed;top:0;bottom:0;left:0;right:0;z-index:10000}"]],data:{animation:[{type:7,name:"inOutAnimation",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(200px)"},offset:null},{type:4,styles:{type:6,styles:{opacity:1,transform:"*"},offset:null},timings:"500ms ease-out"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{transform:"translateY(200px)",opacity:0},offset:null},timings:"300ms"}],options:null}],options:{}}]}});function Hj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-view-column-container",[],null,null,null,Sw,Ow)),i.xb(1,245760,null,0,xw,[n_,Qx,i.i],null,null)],(function(e,t){e(t,1,0)}),null)}function Vj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[["class","view-page__title-only"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-view-title",[["layout","column"]],null,null,null,qx,Gx)),i.xb(2,245760,null,0,$x,[Qx,i.i],null,null)],(function(e,t){e(t,2,0)}),null)}function $j(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-view-toolbar",[["position","right"]],null,null,null,PC,CC)),i.xb(1,114688,null,0,wC,[h.i,i.i,Qx],{position:[0,"position"]},null)],(function(e,t){e(t,1,0,"right")}),null)}function Qj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[["class","view-page__logo"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-view-logo",[],null,null,null,zC,MC)),i.xb(2,245760,null,0,IC,[i.i],null,null)],(function(e,t){e(t,2,0)}),null)}function Gj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-engine-camera-bar",[],null,null,null,BC,EC)),i.xb(1,245760,null,0,LC,[h.i,Yy],{showNav:[0,"showNav"],showResetScene:[1,"showResetScene"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.isVisible(n.viewLayout.Camera),n.isVisible(n.viewLayout.Reset))}),null)}function Wj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-view-drawer",[],null,[[null,"atMinimumChange"],[null,"offsetYChange"]],(function(e,t,n){var l=!0,i=e.component;return"atMinimumChange"===t&&(l=!1!==i.handleDrawerMinimumChange(n)&&l),"offsetYChange"===t&&(l=!1!==i.handleDrawerOffsetChange(n)&&l),l}),ij,YC)),i.xb(2,4440064,[[8,4],["drawer",4]],0,qC,[i.I,i.i,n_,h.i],{enablePagination:[0,"enablePagination"],expandable:[1,"expandable"]},{offsetYChange:"offsetYChange"})],(function(e,t){e(t,2,0,!1,t.component.drawerExpandable)}),null)}function qj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"div",[["class","view-block-input"]],null,null,null,null,null))],null,null)}function Yj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-view-help",[],null,null,null,mj,aj)),i.xb(1,4308992,null,0,oj,[i.I,n_],null,null)],(function(e,t){e(t,1,0)}),null)}function Xj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-play-loader",[],null,null,null,_j,yj)),i.xb(1,4440064,null,0,fj,[i.I,n_,h.b],{percent:[0,"percent"]},null)],(function(e,t){e(t,1,0,t.component.loadProgress)}),null)}function Jj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-button-loader",[],null,null,null,Oj,xj)),i.xb(1,114688,null,0,vj,[],null,null)],(function(e,t){e(t,1,0)}),null)}function Zj(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-hand-loader",[],null,null,null,jj,Cj)),i.xb(1,114688,null,0,wj,[],null,null)],(function(e,t){e(t,1,0)}),null)}function ek(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,10,"app-view-loader",[],null,null,null,Pj,Sj)),i.xb(1,180224,null,0,kj,[i.I,n_,h.b],null,null),(e()(),i.ob(16777216,null,0,2,null,Xj)),i.xb(3,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,0,2,null,Jj)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,0,2,null,Zj)),i.xb(9,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,3,0,"play"===i.Tb(t,3,0,i.Kb(t,4).transform(n.loaderType$))),e(t,6,0,"button"===i.Tb(t,6,0,i.Kb(t,7).transform(n.loaderType$))),e(t,9,0,"hand"===i.Tb(t,9,0,i.Kb(t,10).transform(n.loaderType$)))}),null)}function tk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-view-print",[],null,[["window","beforeprint"],["window","afterprint"]],(function(e,t,n){var l=!0;return"window:beforeprint"===t&&(l=!1!==i.Kb(e,1).beforePrint()&&l),"window:afterprint"===t&&(l=!1!==i.Kb(e,1).afterPrint()&&l),l}),Kj,Tj)),i.xb(1,245760,null,0,Mj,[h.i,i.i],null,null)],(function(e,t){e(t,1,0)}),null)}function nk(e){return i.Ub(2,[i.Qb(402653184,1,{engineContainer:0}),i.Qb(402653184,2,{viewContainer:0}),i.Qb(402653184,3,{view:0}),i.Qb(671088640,4,{viewCameraBar:0}),i.Qb(671088640,5,{viewLogo:0}),i.Qb(402653184,6,{viewSceneBase:0}),i.Qb(671088640,7,{viewToolbar:0}),i.Qb(671088640,8,{drawer:0}),(e()(),i.yb(8,0,[[2,0],["viewContainer",1]],null,26,"div",[],null,null,null,null,null)),(e()(),i.yb(9,0,[[3,0],["view",1]],null,25,"div",[["class","view-page"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(11,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(12,{"view-page--column-in":0,"view-page--column-out":1,"view-page--drawer-push":2}),(e()(),i.ob(16777216,null,null,2,null,Hj)),i.xb(14,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,Vj)),i.xb(17,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(19,0,[[1,0],["engineContainer",1]],null,15,"div",[["class","view-page__engine"]],null,null,null,null,null)),(e()(),i.yb(20,0,null,null,2,"div",[["class","view-page__column-toggle"]],null,null,null,null,null)),(e()(),i.yb(21,0,null,null,1,"app-view-column-toggle",[],null,null,null,Uj,Lj)),i.xb(22,245760,null,0,zj,[n_,Qx,i.i],null,null),(e()(),i.yb(23,0,[[6,0],["viewSceneBase",1]],null,9,"div",[["class","view-page__scene-base"]],null,null,null,null,null)),(e()(),i.yb(24,0,[[7,0],["viewToolbar",1]],null,2,"div",[["class","view-page__toolbar"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,$j)),i.xb(26,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,1,null,Qj)),i.xb(28,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(29,0,[[4,0],["viewCameraBar",1]],null,3,"div",[["class","view-page__camera-bar"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,2,null,Gj)),i.xb(31,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,1,null,Wj)),i.xb(34,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,null,2,null,qj)),i.xb(36,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,Yj)),i.xb(39,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,ek)),i.xb(42,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,2,null,tk)),i.xb(45,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component,l=e(t,12,0,n.isVisible(n.viewLayout.Column),!n.isVisible(n.viewLayout.Column),n.isVisible(n.viewLayout.Drawer));e(t,11,0,"view-page",l),e(t,14,0,!i.Tb(t,14,0,i.Kb(t,15).transform(n.loaderActive$)));var o=null;e(t,17,0,n.isVisible(n.viewLayout.TitleOnly)&&(null==(o=i.Tb(t,17,0,i.Kb(t,18).transform(n.chapter$)))?null:o.info.displayName)),e(t,22,0),e(t,26,0,n.isVisible(n.viewLayout.Toolbar)),e(t,28,0,n.isVisible(n.viewLayout.Logo)),e(t,31,0,!i.Tb(t,31,0,i.Kb(t,32).transform(n.loaderActive$))),e(t,34,0,n.isVisible(n.viewLayout.Drawer)),e(t,36,0,!i.Tb(t,36,0,i.Kb(t,37).transform(n.inputEnabled$))),e(t,39,0,i.Tb(t,39,0,i.Kb(t,40).transform(n.showHelp$))),e(t,42,0,i.Tb(t,42,0,i.Kb(t,43).transform(n.loaderActive$))),e(t,45,0,i.Tb(t,45,0,i.Kb(t,46).transform(n.usePrintImage$)))}),null)}function lk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-view-page",[],null,null,null,nk,Bj)),i.xb(1,4440064,null,0,Nj,[p.a,i.I,h.i,n_,Yy,Rj.a,i.i,h.b,Qx,au,$a.h],null,null)],(function(e,t){e(t,1,0)}),null)}var ik,ok,ak=i.ub("app-view-page",Nj,lk,{},{},[]),rk={title:"We're unable to find the model you're looking for.",description:'Please check your URL or visit the <a href="/" target="_blank">BioDigital Human</a> to see what\'s available in our 3D model library.'},uk={title:"Your BioDigital Human embed requires proper authentication.",description:""},ck=((ik={})[I.InvalidUAID]={title:"Authentication Issues",description:"Your Human Widget has invalid user credentials.",url:"https://support.biodigital.com"},ik),sk={title:"WebGL Error",description:"It appears your browser isn't supporting WebGL, the HTML standard used to view 3D graphics."},pk=((ok={})[function(e){return e[e.Error=1]="Error",e[e.ModernizerNoWebGL=2]="ModernizerNoWebGL",e[e.WebGLNotSupported=3]="WebGLNotSupported",e[e.ShaderCompilationFailure=4]="ShaderCompilationFailure",e[e.ShaderLinkFailure=5]="ShaderLinkFailure",e[e.OutOfVRAM=6]="OutOfVRAM",e[e.WebGLContentLost=7]="WebGLContentLost",e}({}).WebGLNotSupported]={title:"WebGL Unsupported",description:"It appears your browser isn't supporting WebGL, the HTML standard used to view 3D graphics."},ok),dk={title:"We're unable to find the page you're looking for.",description:'Please check your URL or return to our <a href="/">homepage</a>.'},bk=function(){function e(e,t){this.route=e,this.snackBar=t,this.errorTypeEnum=k_,this.supportURL="https://support.biodigital.com",this.errorType=k_.Content}return Object.defineProperty(e.prototype,"widgetError",{get:function(){var e;switch(this.errorType){case k_.Auth:e=ck[this.errorCode]||uk;break;case k_.Engine:e=pk[this.errorCode]||sk;break;case k_.Content:e=rk;break;default:e=dk}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return Object(jt.get)(this.widgetError,"title",dk.title)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return Object(jt.get)(this.widgetError,"description",dk.description)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return Object(jt.get)(this.widgetError,"url",dk.url)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initErrorHandling()},e.prototype.initErrorHandling=function(){var e=this.route.snapshot.queryParams,t=e.errorCode;this.errorType=e.errorType,this.errorCode=t},e.prototype.handleActionClick=function(e){window.open(e)||this.snackBar.open("Unable to open link in new window, please check your pop-up settings.")},e}(),gk=i.wb({encapsulation:2,styles:[[".error{margin:120px auto;width:640px;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;color:#283853}.error__description a,.error__description a:visited{color:#283853}.error__actions{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.error__action-button{margin-right:12px!important}.error__logo{margin-top:80px;width:240px}@media (max-width:800px),(max-height:480px){.error{margin:80px;width:auto}}@media (max-width:480px),(max-height:360px){.error{margin:40px;width:auto}.error__logo{margin-top:40px;width:160px}}@media (max-width:360px){.error{margin:16px;width:auto}}@media (max-width:300px){.error{margin:8px;width:auto}.error__actions{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.error__action-button{margin-bottom:8px!important}.error__logo{margin-top:16px;width:80%}}"]],data:{}});function hk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","error__action-button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleActionClick(i.url)&&l),l}),Qe,$e)),i.xb(2,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Read More"])),(e()(),i.yb(4,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","flat"],["class","error__action-button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleActionClick(i.supportURL)&&l),l}),Qe,$e)),i.xb(5,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Contact Us"]))],(function(e,t){e(t,2,0,"outline","light"),e(t,5,0,"flat","light")}),(function(e,t){e(t,1,0,i.Kb(t,2).disabled),e(t,4,0,i.Kb(t,5).disabled)}))}function mk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"button",[["app-button",""],["buttonTheme","light"],["buttonType","outline"],["class","error__action-button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.handleActionClick(i.supportURL)&&l),l}),Qe,$e)),i.xb(1,114688,null,0,Ve,[],{buttonType:[0,"buttonType"],buttonTheme:[1,"buttonTheme"]},null),(e()(),i.Sb(-1,0,["Contact Us"]))],(function(e,t){e(t,1,0,"outline","light")}),(function(e,t){e(t,0,0,i.Kb(t,1).disabled)}))}function fk(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,8,"div",[["class","error"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"div",[["class","error__title text-24 text-bold"]],null,null,null,null,null)),(e()(),i.Sb(2,null,[" "," "])),(e()(),i.yb(3,0,null,null,0,"div",[["class","error__description text-16 mt-8"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),i.yb(4,0,null,null,3,"div",[["class","error__actions mt-8"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,hk)),i.xb(6,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),i.ob(0,[["defaultActions",2]],null,0,null,mk)),(e()(),i.yb(8,0,null,null,0,"img",[["class","error__logo mt-16"],["src","assets/images/biodigital-logo.svg"]],null,null,null,null,null))],(function(e,t){e(t,6,0,t.component.url,i.Kb(t,7))}),(function(e,t){var n=t.component;e(t,2,0,n.title),e(t,3,0,n.description)}))}function yk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-widget-error",[],null,null,null,fk,gk)),i.xb(1,114688,null,0,bk,[p.a,nb.c],null,null)],(function(e,t){e(t,1,0)}),null)}var _k=i.ub("app-widget-error",bk,yk,{},{},[]),vk=function(){function e(e,t,n){this.engineService=e,this.cameraService=t,this.changeDetectionRef=n}return e.prototype.ngOnInit=function(){this.initCameraListener()},e.prototype.initCameraListener=function(){var e=this;this.engineService.getEvent(Za.CameraUpdated).pipe(Object(Bf.a)(50)).subscribe((function(t){e.camera={x:t.eye.x.toFixed(0),y:t.eye.y.toFixed(0),z:t.eye.z.toFixed(0),dist:t.dist.toFixed(0)},e.changeDetectionRef.markForCheck()}))},e}(),xk=i.wb({encapsulation:0,styles:[[".engine-camera-position[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;color:#fff;font-size:10px;text-shadow:0 0 2px rgba(0,0,0,.8);z-index:10}"]],data:{}});function Ok(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"div",[["class","engine-camera-position"]],null,null,null,null,null)),(e()(),i.Sb(1,null,[" X:"," Y:"," Z:"," Dist:","\n"]))],null,(function(e,t){var n=t.component;e(t,1,0,null==n.camera?null:n.camera.x,null==n.camera?null:n.camera.y,null==n.camera?null:n.camera.z,null==n.camera?null:n.camera.dist)}))}var wk=function(){return(wk=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ck=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},jk=function(){function e(e,t,n,l,i,o,a){this.renderer=e,this.labelsService=t,this.engineService=n,this.cameraService=l,this.store=i,this.actions=o,this.changeDetection=a,this.labelPinType=ru,this.collapsed=!1,this.collapsedMode=no.None,this.theme="classic",this.pinDraggable=!0,this.tagDraggable=!0,this.emitEvents=!0,this.enginePosition=null,this.isSelected=!1,this.isBackgroundDark=!1,this.descriptionCollapsed=!1,this.tagCollapsed=!1,this.scale=1,this.pinDragging=!1,this.screenshotMode=!1,this.hammerManagers=[],this.displayUpdated$=new $.a,this.positionUpdated$=new $.a,this.ngUnsubscribe=new $.a,this.isIE11=p_()}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){var t=0===Object.keys(e).length,n=null==this.label||0===Object.keys(this.label).length;t&&!n?(this._label=e,this.destroyLabel()):t||(this._label=e,this.initLabel(this.label))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this.collapsedMode===no.Toggle?this.collapsed&&!this.isSelected:this.collapsed},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initListeners()},e.prototype.ngAfterViewInit=function(){this.bindTagEvents(),this.bindPinEvents(),this.bindHoverEvents()},e.prototype.ngOnDestroy=function(){this.destroyLabel(),this.emitDisplayUpdated({id:this.label.id,inView:!1,shown:!1,objectShown:this.objectShown}),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.destroyLabel=function(){this.hammerManagers.forEach((function(e){return e.destroy})),this.hammerManagers=[],this.deleteMarker(this.marker)},e.prototype.initListeners=function(){var e=this;this.selectedLabel$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){return e.handleLabelSelected(t)})),this.enginePosition$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.enginePosition=t})),this.engineService.getEvent(Za.SceneMarkersUpdated).pipe(Object(W.a)((function(){return null!=e.label&&null!=e.enginePosition})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.setCanvasPos()})),this.displayUpdated$.pipe(Object(im.a)((function(e,t){return Object(jt.isEqual)(e,t)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.emitEngineEvent(Za.HotspotsDisplayUpdated,t)})),this.positionUpdated$.pipe(Object(im.a)((function(e,t){return Object(jt.isEqual)(e,t)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.emitEngineEvent(Za.HotspotsPositionUpdated,t)})),this.background$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=t.colors.slice(0,3),l=t.colors.slice(4,7);e.isBackgroundDark=!Ge.isLight(n,l),e.changeDetection.markForCheck()})),this.actions.pipe(Object(h.l)(sa),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.screenshotMode=!0,e.changeDetection.detectChanges()})),this.actions.pipe(Object(h.k)(pa),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.screenshotMode=!1,e.changeDetection.markForCheck()}))},e.prototype.bindTagEvents=function(){var e=this,t=new S_(this.tagRef.nativeElement,{domEvents:!0});t.get("pan").set({direction:S_.DIRECTION_ALL,threshold:3}),t.on("pan",(function(t){e.tagDraggable&&(t.srcEvent.stopPropagation(),e.cachedTagOffset||(e.cachedTagOffset=e.label.offset),e.label.offset=[e.cachedTagOffset[0]+t.deltaX,e.cachedTagOffset[1]+t.deltaY],t.isFinal&&(e.cachedTagOffset=null,e.store.dispatch(new po(e.label))))})),t.on("tap",(function(t){t.srcEvent.preventDefault(),t.srcEvent.stopPropagation(),"BUTTON"===t.target.parentNode.nodeName?e.toggleDescription():e.selectLabel()})),this.hammerManagers.push(t)},e.prototype.bindPinEvents=function(){var e=this,t=new S_(this.pinRef.nativeElement);t.get("pan").set({direction:S_.DIRECTION_ALL,threshold:4}),t.on("pan",(function(t){if(e.pinDraggable){t.srcEvent.stopPropagation(),e.pinDragging=!0;var n=t.changedPointers[0],l=n.layerX,i=n.layerY;if(l-=16,i-=16,e.marker&&e.deleteMarker(e.marker),e.renderer.setStyle(e.labelContainerRef.nativeElement,"transform","translate("+l+"px, "+i+"px)"),t.isFinal){e.pinDragging=!1;var o=wk({},e.label),a=Human.renderer.pick.pick({canvasPos:[l,i],rayPick:!0});a.objectId&&(o.dir=e.cameraService.getDirection(a),o.objectId=a.objectId,o.barycentric=[a.barycentric[0],a.barycentric[1],a.barycentric[2]],o.pos=[a.worldPos[0],a.worldPos[1],a.worldPos[2]],o.primitiveIndex=a.primitiveIndex),e.store.dispatch(new po(o))}}})),t.on("tap",(function(t){t.srcEvent.preventDefault(),t.srcEvent.stopImmediatePropagation(),e.selectLabel()})),this.hammerManagers.push(t)},e.prototype.bindHoverEvents=function(){var e=this,t=this.labelRef.nativeElement;this.renderer.listen(t,"mouseenter",(function(){e.emitEngineEvent(Za.HotspotsEntered,{id:e.label.id})})),this.renderer.listen(t,"mouseleave",(function(){e.emitEngineEvent(Za.HotspotsLeft,{id:e.label.id})}))},e.prototype.initLabel=function(e){this.initMarker(e),this.ensureObjectId(e),this.initObjectSubscription(e),this.descriptionCollapsed=e.collapseDescription,this.tagCollapsed=e.hideTag},e.prototype.initMarker=function(e){this.marker&&this.deleteMarker(this.marker),this.marker=Human.scene.markers.create({id:e.id,pos:e.pos,dir:e.dir,objectId:e.objectId,primitiveIndex:e.primitiveIndex,barycentric:e.barycentric,renderableIndex:e.renderableIndex||0})},e.prototype.checkLabelDisplay=function(){return{id:this.label.id,shown:this.label.shown,inView:this.isOnCanvas(),objectShown:!0}},e.prototype.ensureObjectId=function(e){if(!e.objectId){var t=Human.renderer.pick.pick({canvasPos:[this.marker.canvasPos[0],this.marker.canvasPos[1]],rayPick:!0});t.objectId&&(e.objectId=t.objectId,e.states.forEach((function(e){e.errands.forEach((function(e){e.type===Mu.flyToObject&&(e.value=t.objectId)}))})),this.store.dispatch(new po(e)))}},e.prototype.initObjectSubscription=function(e){var t=this;this.object$&&this.object$.unsubscribe(),e.objectId&&(this.object$=this.store.select(Fc.getViewGraphNode).pipe(Object(c.a)((function(t){return t(e.objectId)})),Object(W.a)((function(e){return!!e})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(e){t.objectShown=e.boolState.shown})))},e.prototype.deleteMarker=function(e){Human.scene.markers.delete(e.id),this.marker=null},e.prototype.toggleDescription=function(e){this.descriptionCollapsed=e=void 0===e?!this.descriptionCollapsed:e},e.prototype.handleLabelSelected=function(e){var t=this;this.isSelected=e&&e.id===this.label.id;var n=Object(jt.get)(e,"states[1].errands"),l=this.store.selectSnapshot(Tc.getLockCamera);this.isSelected&&n&&!l&&n.forEach((function(e){switch(e.type){case Mu.flyToObject:t.flyToObject(e.value);break;case Mu.flyToCamera:t.flyToPosition(e.value)}t.store.dispatch(new kc(!0))})),this.tagCollapsed=!(this.label.title||this.label.description)||(this.label.expandTag&&this.label.hideTag?!this.isSelected:this.label.hideTag),this.descriptionCollapsed=this.label.showDescription&&this.label.collapseDescription?!this.isSelected:this.label.collapseDescription},e.prototype.flyToObject=function(e){this.store.dispatch(new yi(e))},e.prototype.flyToPosition=function(e){this.store.dispatch(new bc(e))},e.prototype.setCanvasPos=function(){if(!this.pinDragging&&this.marker){this.depth=-this.marker.viewPos[2];var e=this.isOccluded(),t=this.isOnCanvas(),n=void 0===this.objectShown?t:t&&this.objectShown;n!==this.shown&&(this.shown=n,this.setDisplay(n)),this.setOpacity(e),this.setElementPosition(),this.setElementScale(),this.setTagPosition(),this.setWirePosition();var l=this.marker.canvasPos;this.positionUpdated$.next({id:this.label.id,canvasPos:{x:l[0],y:l[1]},occluded:e})}},e.prototype.selectLabel=function(){var e=this.store.selectSnapshot(Fp.getSelectedLabel);this.store.dispatch(new bo(e&&e.id===this.label.id?null:this.label)),this.emitEngineEvent(Za.HotspotsPicked,{id:this.label.id})},e.prototype.isOccluded=function(){return!this.isSelected&&this.label.occludable&&(Math.abs(this.marker.viewAngle)>100||this.marker.occluded||this.depth<0)},e.prototype.isOnCanvas=function(){var e=this.labelsService.getLabelContainer().nativeElement,t=e.offsetWidth,n=e.offsetHeight,l=Ck(this.marker.canvasPos,2),i=l[0],o=l[1];return i>0&&o>0&&i<t&&o<n},e.prototype.setDisplay=function(e){this.renderer.setStyle(this.labelRef.nativeElement,"visibility",e?"visible":"hidden"),this.emitDisplayUpdated({id:this.label.id,inView:this.isOnCanvas(),shown:e,objectShown:this.objectShown})},e.prototype.setOpacity=function(e){var t=1;e?(this.marker.viewAngle>=80&&(t=Math.max(1-(this.marker.viewAngle-80)/20*1,0)),this.renderer.setStyle(this.labelContainerRef.nativeElement,"opacity",t)):this.renderer.setStyle(this.labelContainerRef.nativeElement,"opacity",1)},e.prototype.setElementPosition=function(){var e=this.marker.canvasPos;this.renderer.setStyle(this.labelContainerRef.nativeElement,"transform","translate("+e[0]+"px, "+e[1]+"px)")},e.prototype.setElementScale=function(){var e=this.store.selectSnapshot(Fc.getEnginePosition).width;this.scale=e>1440?e/1440:1;var t=32*this.scale-32;this.renderer.setStyle(this.labelRef.nativeElement,"transform-origin","top left"),this.renderer.setStyle(this.labelRef.nativeElement,"transform","translate(-"+t/2+"px, -"+t/2+"px) scale("+this.scale+", "+this.scale+")")},e.prototype.setTagPosition=function(){var e=this.label.offset,t=this.tagRef.nativeElement.offsetWidth;switch(this.label.offset[0]>0?"left":"right"){case"left":this.renderer.setStyle(this.tagRef.nativeElement,"transform","translate("+(16+e[0])+"px, "+e[1]+"px)");break;case"right":this.renderer.setStyle(this.tagRef.nativeElement,"transform","translate("+(16+e[0]-t)+"px, "+e[1]+"px)")}},e.prototype.setWirePosition=function(){var e=Ck(this.label.offset,2),t=e[0],n=e[1];switch(this.label.theme){case uu.Annotation:case uu.Classic:n+=this.titleRef.nativeElement.offsetHeight-16-2}var l=Math.sqrt(t*t+n*n);this.renderer.setStyle(this.wireRef.nativeElement,"width",l+"px"),this.renderer.setStyle(this.wireRef.nativeElement,"transform","rotate("+Math.atan2(n,t)+"rad)")},e.prototype.emitDisplayUpdated=function(e){"context-label"!==this.label.id&&null!=e.inView&&null!=e.shown&&this.displayUpdated$.next(e)},e.prototype.emitEngineEvent=function(e,t){this.emitEvents&&this.engineService.fireEvent(e,t)},Object(g.__decorate)([Object(h.e)(Fc.getEnginePosition),Object(g.__metadata)("design:type",Q.a)],e.prototype,"enginePosition$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getSelectedLabel),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedLabel$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterBackground),Object(g.__metadata)("design:type",Q.a)],e.prototype,"background$",void 0),e}(),kk=i.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}@-webkit-keyframes fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}100%{opacity:1;display:block}}@keyframes fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}100%{opacity:1;display:block}}@-webkit-keyframes fadeOut{0%{display:block;opacity:1}99%{opacity:0}100%{opacity:0;display:none}}@keyframes fadeOut{0%{display:block;opacity:1}99%{opacity:0}100%{opacity:0;display:none}}@-webkit-keyframes glow{0%,100%{box-shadow:0 0 0 rgba(255,255,255,.5)}50%{box-shadow:0 0 8px 2px rgba(255,255,255,.5)}}@keyframes glow{0%,100%{box-shadow:0 0 0 rgba(255,255,255,.5)}50%{box-shadow:0 0 8px 2px rgba(255,255,255,.5)}}@-webkit-keyframes classic-glow{0%,10%,100%,90%{-webkit-transform:scale(.5,.5);transform:scale(.5,.5)}50%{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes classic-glow{0%,10%,100%,90%{-webkit-transform:scale(.5,.5);transform:scale(.5,.5)}50%{-webkit-transform:scale(1,1);transform:scale(1,1)}}.label-container[_ngcontent-%COMP%], [_nghost-%COMP%]{display:block;position:absolute;z-index:10;width:160px;pointer-events:all;pointer-events:none}.label-container[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]:hover{z-index:11}.label-container[_ngcontent-%COMP%]{left:-16px;top:-16px}.label[_ngcontent-%COMP%]{display:block;overflow:visible;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;height:32px}.label--screenshot-mode[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:after, .label--screenshot-mode[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before, .label--screenshot-mode[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{box-shadow:none!important}.label--screenshot-mode[_ngcontent-%COMP%]   .label__more[_ngcontent-%COMP%]{display:none!important}.label__pin-type[_ngcontent-%COMP%]{display:none;position:absolute;z-index:2}.label__glow[_ngcontent-%COMP%]{display:none;position:absolute;width:32px;height:32px;border-radius:50%;z-index:0;top:0;left:0}.label--selected[_ngcontent-%COMP%]   .label__more[_ngcontent-%COMP%]{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.label__more[_ngcontent-%COMP%]{color:#374a68;display:none;-webkit-box-flex:0;flex:0 0 16px;height:16px;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out,-webkit-transform 150ms ease-in-out}.label__pin[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;width:32px;height:32px;border-radius:50%;position:absolute;pointer-events:all;-webkit-transition:background-color .12s;transition:background-color .12s;z-index:10}.label__pin[_ngcontent-%COMP%]:hover{cursor:pointer}.label__pin--draggable[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}.label__pin--draggable[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:grabbing}.label__wire[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;height:0;-webkit-transform-origin:0 100%;transform-origin:0 100%;pointer-events:none;z-index:1}.label__wire--collapse[_ngcontent-%COMP%]{display:none}.label__tag[_ngcontent-%COMP%]{display:inline-block;left:16px;top:0;z-index:10;max-width:160px;pointer-events:all}.label__tag[_ngcontent-%COMP%]:hover{cursor:pointer}.label__tag--draggable[_ngcontent-%COMP%]:hover{cursor:-webkit-grab;cursor:grab}.label__tag--draggable[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:grabbing}.label__tag--collapse[_ngcontent-%COMP%]{display:none}.label__header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.label__title[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:140%;overflow-x:hidden;align-self:center}.label__body[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.label__body--collapse[_ngcontent-%COMP%]{display:none}.label__icon[_ngcontent-%COMP%]{margin:0 -4px 0 4px}.label__actions[_ngcontent-%COMP%]{padding-left:4px}.label--studio.label--glow[_ngcontent-%COMP%]   .label__glow[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.3);display:block;-webkit-animation:4s infinite classic-glow;animation:4s infinite classic-glow}.label--studio.label.label--selected[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{background-color:#fff;border-color:#2d72dc;box-shadow:0 0 0 1px rgba(45,114,220,.7)}.label--studio.label.label--selected[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-color:#2d72dc}.label--studio.label.label--selected[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{background-color:#fff;border-color:#2d72dc;box-shadow:0 0 0 1px rgba(45,114,220,.7)}.label--studio.label.label--selected[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{font-weight:600}.label--studio.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{content:' ';border:2px solid transparent;border-radius:50%;box-shadow:0 0 16px rgba(16,24,35,.5);box-sizing:border-box;display:block;position:absolute;height:18px;width:18px;top:7px;left:7px}.label--studio.label[_ngcontent-%COMP%]   .label__pin--circle[_ngcontent-%COMP%]   .label__pin-type--circle[_ngcontent-%COMP%], .label--studio.label[_ngcontent-%COMP%]   .label__pin--minus[_ngcontent-%COMP%]   .label__pin-type--minus[_ngcontent-%COMP%], .label--studio.label[_ngcontent-%COMP%]   .label__pin--plus[_ngcontent-%COMP%]   .label__pin-type--plus[_ngcontent-%COMP%]{display:block}.label--studio.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-top:1px solid rgba(16,24,35,.5)}.label--studio.label[_ngcontent-%COMP%]   .label__wire--collapse[_ngcontent-%COMP%]{display:none}.label--studio.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{background:rgba(255,255,255,.55);border:1px solid rgba(16,24,35,.5);box-shadow:0 0 24px rgba(16,24,35,.1);padding:4px 8px;border-radius:4px}.label--studio.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.8)}.label--studio.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{color:#101823;-webkit-box-flex:1;flex:1 1 auto;overflow-x:visible}.label--studio.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{color:#374a68;overflow-x:hidden;padding-top:4px}.label--studio.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.label--studio.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:italic}.label--studio.label[_ngcontent-%COMP%]   .label__more[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.label--annotation.label.label--selected[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{background-color:rgba(255,255,255,.25)}.label--annotation.label.label--selected[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:after{border-color:#2d72dc;background-color:#fff}.label--annotation.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]{border:1px solid transparent;border-radius:50%;position:absolute;z-index:2;cursor:pointer}.label--annotation.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{content:' ';background-color:rgba(0,0,0,.25);border-radius:50%;display:block;width:22px;height:22px;position:absolute;z-index:1;top:4px;left:4px}.label--annotation.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:after{content:' ';display:block;width:10px;height:10px;background-color:rgba(0,0,0,.75);border:2px solid #ccc;border-radius:50%;position:absolute;z-index:2;top:8px;left:8px}.label--annotation.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-top:1px solid #666}.label--annotation.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{text-shadow:0 0 2px rgba(255,255,255,.5);min-width:10px;color:#eee}.label--annotation.label[_ngcontent-%COMP%]   .label__header[_ngcontent-%COMP%]{border-bottom:1px solid #666}.label--annotation.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{font-weight:600;min-height:18px;width:100%;padding-bottom:4px;margin-bottom:-2px;color:#000}.label--annotation.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{padding-top:4px;color:#333}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]{text-shadow:0 0 2px rgba(0,0,0,.6)}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-color:#eee}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{text-shadow:none}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{color:#fff}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__header[_ngcontent-%COMP%]{border-color:#eee}.label--annotation.label.label--invert.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{color:#eee}.label--classic.label--glow[_ngcontent-%COMP%]   .label__glow[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.2);display:block;-webkit-animation:4s infinite classic-glow;animation:4s infinite classic-glow}.label--classic.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]{border:1px solid transparent;border-radius:50%;position:absolute;z-index:2;cursor:pointer}.label--classic.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:before{content:' ';background-color:rgba(0,0,0,.25);border-radius:50%;display:block;width:32px;height:32px;z-index:1;box-sizing:border-box}.label--classic.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%]:after{content:' ';display:block;width:18px;height:18px;background-color:rgba(0,0,0,.75);border:1px solid #ccc;border-radius:50%;position:absolute;z-index:2;box-sizing:border-box;top:6px;left:6px}.label--classic.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{border-top:1px solid #666}.label--classic.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{min-width:10px;color:#eee}.label--classic.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{border-bottom:1px solid #666;min-height:18px;width:100%;padding-bottom:4px;color:#000}.label--classic.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{padding-top:4px;color:#333}.label--context.label[_ngcontent-%COMP%]{pointer-events:none}.label--context.label--glow[_ngcontent-%COMP%]   .label__glow[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.3);display:block;-webkit-animation:4s infinite classic-glow;animation:4s infinite classic-glow}.label--context.label[_ngcontent-%COMP%]   .label__pin[_ngcontent-%COMP%], .label--context.label[_ngcontent-%COMP%]   .label__wire[_ngcontent-%COMP%]{display:none}.label--context.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]{background:rgba(255,255,255,.7);border:1px solid rgba(16,24,35,.5);box-shadow:0 0 24px rgba(16,24,35,.1);padding:4px 8px;border-radius:4px}.label--context.label[_ngcontent-%COMP%]   .label__tag[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.8);cursor:-webkit-grab;cursor:grab}.label--context.label[_ngcontent-%COMP%]   .label__title[_ngcontent-%COMP%]{font-weight:600;color:#101823;overflow-x:hidden}.label--context.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]{margin-top:8px;border-top:1px solid #eaeff5;color:#101823;overflow-x:hidden;padding-top:8px}.label--context.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}.label--context.label[_ngcontent-%COMP%]   .label__body[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:italic}"]],data:{}});function Sk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[["class","label__more"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-icon",[["icon","caret-right"]],null,null,null,ce,ue)),i.xb(2,114688,null,0,re,[],{icon:[0,"icon"]},null)],(function(e,t){e(t,2,0,"caret-right")}),null)}function Pk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"div",[["class","label__body"]],[[8,"innerHTML",1]],null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(2,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(3,{"label__body--collapse":0})],(function(e,t){var n=t.component,l=e(t,3,0,n.isCollapsed||n.descriptionCollapsed);e(t,2,0,"label__body",l)}),(function(e,t){e(t,0,0,t.component.label.description)}))}function Ik(e){return i.Ub(2,[i.Qb(402653184,1,{labelContainerRef:0}),i.Qb(402653184,2,{labelRef:0}),i.Qb(402653184,3,{wireRef:0}),i.Qb(402653184,4,{tagRef:0}),i.Qb(402653184,5,{pinRef:0}),i.Qb(402653184,6,{titleRef:0}),(e()(),i.yb(6,0,[[1,0],["labelContainerEl",1]],null,33,"div",[["class","label-container"]],null,null,null,null,null)),(e()(),i.yb(7,0,[[2,0],["labelEl",1]],null,32,"div",[["class","label"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(9,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Mb(131072,te.b,[i.i]),i.Nb(11,{"label--selected":0,"label--glow":1,"label--annotation":2,"label--classic":3,"label--invert":4,"label--studio":5,"label--context":6,"label--screenshot-mode":7}),(e()(),i.yb(12,0,[[5,0],["pin",1]],null,9,"div",[["class","label__pin"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(14,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.Nb(17,{"label__pin--circle":0,"label__pin--plus":1,"label__pin--minus":2,"label__pin--draggable":3}),(e()(),i.yb(18,0,null,null,0,"img",[["class","label__pin-type label__pin-type--circle"],["src","/assets/images/labels/circle.svg"]],null,null,null,null,null)),(e()(),i.yb(19,0,null,null,0,"img",[["class","label__pin-type label__pin-type--plus"],["src","/assets/images/labels/circle-plus.svg"]],null,null,null,null,null)),(e()(),i.yb(20,0,null,null,0,"img",[["class","label__pin-type label__pin-type--minus"],["src","/assets/images/labels/circle-minus.svg"]],null,null,null,null,null)),(e()(),i.yb(21,0,null,null,0,"div",[["class","label__glow"]],null,null,null,null,null)),(e()(),i.yb(22,0,[[3,0],["wire",1]],null,3,"div",[["class","label__wire"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(24,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(25,{"label__wire--collapse":0}),(e()(),i.yb(26,0,[[4,0],["tag",1]],null,13,"div",[["class","label__tag"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(28,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(29,{"label__tag--collapse":0,"label__tag--draggable":1}),(e()(),i.yb(30,0,null,null,6,"div",[["class","label__header"]],null,null,null,null,null)),(e()(),i.yb(31,0,[[6,0],["title",1]],null,0,"div",[["class","label__title"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Sk)),i.xb(33,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(34,0,null,null,2,"div",[["appEventFence",""],["class","label__actions"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==i.Kb(e,35).onClick(n,n.target)&&l),l}),null,null)),i.xb(35,16384,null,0,se,[],null,null),i.Jb(null,0),(e()(),i.ob(16777216,null,null,1,null,Pk)),i.xb(38,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Jb(null,1)],(function(e,t){var n,l=t.component,o=e(t,11,0,(null==(n=i.Tb(t,9,1,i.Kb(t,10).transform(l.selectedLabel$)))?null:n.id)===l.label.id,l.label.pinGlow,"annotation"===l.label.theme,"classic"===l.label.theme,l.isBackgroundDark,"studioNext"===l.label.theme,"context"===l.label.theme,l.screenshotMode);e(t,9,0,"label",o);var a=null,r=e(t,17,0,l.label.pinType==l.labelPinType.Default,l.label.pinType===l.labelPinType.Plus||l.label.pinType===l.labelPinType.PlusMinus&&(null==(a=i.Tb(t,14,1,i.Kb(t,15).transform(l.selectedLabel$)))?null:a.id)!==l.label.id,l.label.pinType===l.labelPinType.Minus||l.label.pinType===l.labelPinType.PlusMinus&&(null==(a=i.Tb(t,14,1,i.Kb(t,16).transform(l.selectedLabel$)))?null:a.id)===l.label.id,l.pinDraggable);e(t,14,0,"label__pin",r);var u=e(t,25,0,l.isCollapsed||l.tagCollapsed||l.label.hideWire);e(t,24,0,"label__wire",u);var c=e(t,29,0,l.isCollapsed||l.tagCollapsed,l.tagDraggable);e(t,28,0,"label__tag",c),e(t,33,0,l.label.description&&l.label.collapseDescription),e(t,38,0,l.label.description)}),(function(e,t){e(t,31,0,t.component.label.title)}))}var Mk=function(){function e(e,t,n,l,i){this.store=e,this.actions=t,this.engineService=n,this.viewService=l,this.changeDetectorRef=i,this.ngUnsubscribe=new $.a}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label=e,this.setLabelNode()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initInfoListeners()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.setLabelNode=function(){var e=Object(jt.get)(this.label,"objectId");if(e){var t=this.store.selectSnapshot(Fc.getViewGraph);this.node=this.engineService.getNode(t,e)}else this.node=null;this.changeDetectorRef.markForCheck()},e.prototype.initInfoListeners=function(){var e=this;this.actions.pipe(Object(h.k)(Ma),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.setLabelNode()}))},e.prototype.handleReadMoreClick=function(){this.node&&this.viewService.toggleNodeInfo(!0)},Object(g.__decorate)([Object(h.e)(ay.getSelectedNode),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedNode$",void 0),Object(g.__decorate)([Object(h.e)(ay.getQuerying),Object(g.__metadata)("design:type",Q.a)],e.prototype,"querying$",void 0),e}(),Tk=i.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.context-label__actions[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center}.context-label__action[_ngcontent-%COMP%]{cursor:pointer}.context-label__action--selected[_ngcontent-%COMP%]{color:#0060c4}.context-label__more[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;cursor:pointer;display:block;line-height:24px;overflow:hidden}.context-label__more[_ngcontent-%COMP%]:hover{text-decoration:underline}"]],data:{animation:[{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:2,steps:[{type:6,styles:{height:"0"},offset:null},{type:4,styles:{type:6,styles:{height:"*"},offset:null},timings:"125ms ease-in-out"}],options:null}],options:null}],options:{}}]}});function Kk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-node-actions",[["theme","light"]],null,null,null,MO,_O)),i.xb(1,114688,null,0,yO,[h.i,Zr,i.i,_p,nb.c],{node:[0,"node"],theme:[1,"theme"]},null)],(function(e,t){e(t,1,0,t.component.node,"light")}),null)}function zk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,3,"div",[["class","context-label__actions"],["label-actions",""]],null,null,null,null,null)),i.Jb(null,0),(e()(),i.ob(16777216,null,null,1,null,Kk)),i.xb(3,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,3,0,t.component.enableActions)}),null)}function Lk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"a",[["class","context-label__more"]],[[24,"@show",0]],[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.handleReadMoreClick()&&l),l}),null,null)),(e()(),i.Sb(-1,null,["Read More..."]))],null,(function(e,t){e(t,0,0,void 0)}))}function Ek(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i.ob(16777216,null,null,1,null,Lk)),i.xb(2,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(0,null,null,0))],(function(e,t){e(t,2,0,t.component.node.description)}),null)}function Uk(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,5,"app-label",[["class","context-label"]],null,null,null,Ik,kk)),i.xb(1,4440064,null,0,jk,[i.I,Au,au,Pt,h.i,h.b,i.i],{label:[0,"label"],emitEvents:[1,"emitEvents"]},null),(e()(),i.ob(16777216,null,0,1,null,zk)),i.xb(3,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.ob(16777216,null,1,1,null,Ek)),i.xb(5,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.label,!1),e(t,3,0,n.node),e(t,5,0,n.enableInfo)}),null)}var Fk=function(){function e(e,t,n,l,i,o,a){this.store=e,this.action$=t,this.engineService=n,this.cameraService=l,this.changeDetector=i,this.labelsService=o,this.elRef=a,this.interactive=!1,this.ngUnsubscribe=new $.a}return e.prototype.ngOnInit=function(){this.bindEngineEvents(),this.bindApplicationEvents(),this.labelsService.setLabelContainer(this.elRef)},e.prototype.ngOnDestroy=function(){this.labelsService.setLabelContainer(null),this.changeDetector.detach(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.bindApplicationEvents=function(){var e=this;this.action$.pipe(Object(h.l)(fi),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleClickNode(t)})),this.labels$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.changeDetector.markForCheck()})),this.selectedLabel$.pipe(Object(W.a)((function(e){return null==e})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){var t=e.store.selectSnapshot(Tc.getZoomed),n=e.store.selectSnapshot(Tc.getLockCamera);t&&!n&&e.resetCamera()})),this.selectedChapter$.pipe(Object(W.a)((function(e){return null!=e})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.interactive=t.readyState.model}))},e.prototype.bindEngineEvents=function(){var e=this;this.action$.pipe(Object(h.l)(Ci,yo),Object(c.a)((function(e){return e instanceof Ci?e.show:e.shown})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.engineService.fireEvent(t?Za.LabelsShown:Za.LabelsHidden,null)})),this.action$.pipe(Object(h.l)(io),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.engineService.fireEvent(Za.LabelCreated,t.label)})),this.action$.pipe(Object(h.l)(ro),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.engineService.fireEvent(Za.LabelDestroyed,t.label)}))},e.prototype.handleClickNode=function(e){var t=this,n=this.store.selectSnapshot(Fc.getActiveTool);null!=e.node?n===Kc.Label?this.addLabel(e.hit,e.node):setTimeout((function(){t.toggleContextLabel(e.hit,e.node)})):(this.store.dispatch(new bo(null)),this.store.dispatch(new uo))},e.prototype.addLabel=function(e,t){var n=this.cameraService.getDirection(e),l=this.getLabelDefaults(e.objectId),i=l.hideWire?20:32;l.title=t.label,l.offset=[i,0],l.objectId=e.objectId,l.barycentric=[e.barycentric[0],e.barycentric[1],e.barycentric[2]],l.pos=[e.worldPos[0],e.worldPos[1],e.worldPos[2]],l.primitiveIndex=e.primitiveIndex,l.renderableIndex=e.renderableIndex||0,l.dir=n,l.chapterId=this.store.selectSnapshot(Zc.getSelectedChapter).id,l.occludable=!0,l.shown=!0,this.store.dispatch(new io(l)),this.store.dispatch(new bo(l))},e.prototype.toggleContextLabel=function(e,t){if(this.store.selectSnapshot(ay.getCheckedNodeIds).some((function(e){return e===t.id}))){var n=this.cameraService.getDirection(e),l=this.labelsService.makeDefaultStudioLabel();l.theme=uu.Context,l.title=t.label,l.offset=[4,0],l.objectId=e.objectId,l.barycentric=[e.barycentric[0],e.barycentric[1],e.barycentric[2]],l.pos=[e.worldPos[0],e.worldPos[1],e.worldPos[2]],l.primitiveIndex=e.primitiveIndex,l.dir=n,l.occludable=!1,this.store.dispatch(new oo(l))}else this.store.dispatch(new uo)},e.prototype.getLabelDefaults=function(e){var t=this.store.selectSnapshot(Fp.getSelectedLabel);if(null==t){var n=this.store.selectSnapshot(Fp.getChapterLabels);n&&0!==n.length||(n=this.store.selectSnapshot(Fp.getLabels)),n.length&&(t=Object(jt.cloneDeep)(n[n.length-1]))}if(null!=t){var l;switch((l=this.labelsService.makeDefaultStudioLabel()).hideWire=t.hideWire,l.pinGlow=t.pinGlow,l.pinType=t.pinType,l.theme=t.theme,l.states[0].errands[0]=new Lu,Object(jt.get)(t,"states[1].errands[0].type")){case Mu.flyToObject:case Mu.flyToCamera:l.states[1].errands[0]=new Tu(e)}return l}return(l=this.labelsService.makeDefaultStudioLabel()).states[0].errands[0]=new Lu,l.states[1].errands[0]=new Tu(e),l},e.prototype.trackLabel=function(e,t){return""+t.id+t.shown},e.prototype.resetCamera=function(){var e=this.store.selectSnapshot(Zc.getSelectedChapter);Object(jt.get)(e,"camera.location")&&this.store.dispatch(new bc(e.camera.location))},Object(g.__decorate)([Object(h.e)(jy.getLayout),Object(g.__metadata)("design:type",Q.a)],e.prototype,"layout$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getChapterLabels),Object(g.__metadata)("design:type",Q.a)],e.prototype,"labels$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapter),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedChapter$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getSelectedLabel),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedLabel$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getLabelsCollapsed),Object(g.__metadata)("design:type",Q.a)],e.prototype,"labelsCollapsed$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getLabelsCollapsedMode),Object(g.__metadata)("design:type",Q.a)],e.prototype,"labelsCollapsedMode$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getContextLabel),Object(g.__metadata)("design:type",Q.a)],e.prototype,"contextLabel$",void 0),Object(g.__decorate)([Object(h.e)(Fc.getShowLabels),Object(g.__metadata)("design:type",Q.a)],e.prototype,"showLabels$",void 0),Object(g.__decorate)([Object(h.e)(Tc.getZoomed),Object(g.__metadata)("design:type",Q.a)],e.prototype,"zoomed$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getEnableContextLabel),Object(g.__metadata)("design:type",Q.a)],e.prototype,"enableContextLabel$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getEnableContextLabelInfo),Object(g.__metadata)("design:type",Q.a)],e.prototype,"enableContextLabelInfo$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getEnableContextLabelActions),Object(g.__metadata)("design:type",Q.a)],e.prototype,"enableContextLabelActions$",void 0),Object(g.__decorate)([Object(h.e)(Fp.getLabelsDraggable),Object(g.__metadata)("design:type",Q.a)],e.prototype,"draggable$",void 0),e}(),Ak=i.wb({encapsulation:0,styles:[["[_nghost-%COMP%]{width:100%;height:100%;display:block;position:relative}.labels[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:2;pointer-events:none}.labels__label--hidden[_ngcontent-%COMP%]{display:none}"]],data:{}});function Dk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,5,"app-label",[["class","labels__label"]],[[2,"labels__label--hidden",null]],null,null,Ik,kk)),i.xb(2,4440064,null,0,jk,[i.I,Au,au,Pt,h.i,h.b,i.i],{label:[0,"label"],collapsed:[1,"collapsed"],collapsedMode:[2,"collapsedMode"],pinDraggable:[3,"pinDraggable"],tagDraggable:[4,"tagDraggable"]},null),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i])],(function(e,t){var n,l,o=t.component;e(t,2,0,t.context.$implicit,i.Tb(t,2,1,i.Kb(t,3).transform(o.labelsCollapsed$)),i.Tb(t,2,2,i.Kb(t,4).transform(o.labelsCollapsedMode$)),null==(n=i.Tb(t,2,3,i.Kb(t,5).transform(o.draggable$)))?null:n.pin,null==(l=i.Tb(t,2,4,i.Kb(t,6).transform(o.draggable$)))?null:l.tag)}),(function(e,t){e(t,1,0,!t.context.$implicit.shown)}))}function Nk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,5,"app-context-label",[],null,null,null,Uk,Tk)),i.xb(1,245760,null,0,Mk,[h.i,h.b,au,n_,i.i],{label:[0,"label"],enableInfo:[1,"enableInfo"],enableActions:[2,"enableActions"]},null),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component,l=null;e(t,1,0,i.Tb(t,1,0,i.Kb(t,2).transform(n.contextLabel$)),i.Tb(t,1,1,i.Kb(t,3).transform(n.enableContextLabelInfo$))&&(null==(l=i.Tb(t,1,1,i.Kb(t,4).transform(n.layout$)))?null:l.nodeInfo.enable),i.Tb(t,1,2,i.Kb(t,5).transform(n.enableContextLabelActions$)))}),null)}function Rk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,7,"div",[["class","labels"]],null,null,null,null,null)),(e()(),i.ob(16777216,null,null,2,null,Dk)),i.xb(2,278528,null,0,te.l,[i.T,i.Q,i.v],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.ob(16777216,null,null,3,null,Nk)),i.xb(5,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i]),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,2,0,i.Tb(t,2,0,i.Kb(t,3).transform(n.labels$)),n.trackLabel),e(t,5,0,i.Tb(t,5,0,i.Kb(t,6).transform(n.enableContextLabel$))&&i.Tb(t,5,0,i.Kb(t,7).transform(n.contextLabel$)))}),null)}function Bk(e){return i.Ub(2,[(e()(),i.ob(16777216,null,null,2,null,Rk)),i.xb(1,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),i.Mb(131072,te.b,[i.i])],(function(e,t){var n=t.component;e(t,1,0,n.interactive&&i.Tb(t,1,0,i.Kb(t,2).transform(n.showLabels$)))}),null)}var Hk=function(){function e(e,t){this.router=e,this.changeDetector=t,this.total=100,this._value=0,this.percentWidth=0,this.ngUnsubscribe=new $.a}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.percentWidth=this.value/this.total*100,this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.router.events.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){t instanceof p.e&&(e.value=0)}))},e.prototype.ngOnDestroy=function(){this.changeDetector.detach(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e}(),Vk=i.wb({encapsulation:0,styles:[["@-webkit-keyframes progressSuccess{0%{width:100%!important;background:#38de38}50%{opacity:1;background:#38de38}100%{opacity:0}}@keyframes progressSuccess{0%{width:100%!important;background:#38de38}50%{opacity:1;background:#38de38}100%{opacity:0}}.progress[_ngcontent-%COMP%]{border-radius:0 1px 1px 0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;height:4px;width:100%}.progress__bar[_ngcontent-%COMP%]{background:#de3838;height:100%;width:0}.progress__bar--complete[_ngcontent-%COMP%]{-webkit-animation:2s linear forwards progressSuccess;animation:2s linear forwards progressSuccess}"]],data:{}});function $k(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,7,"div",[["class","progress"]],null,null,null,null,null)),(e()(),i.yb(1,0,null,null,6,"div",[["class","progress__bar"]],null,null,null,null,null)),i.Pb(512,null,te.A,te.B,[i.v,i.w,i.l,i.I]),i.xb(3,278528,null,0,te.j,[te.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Nb(4,{"progress__bar--complete":0}),i.Pb(512,null,te.C,te.D,[i.l,i.w,i.I]),i.xb(6,278528,null,0,te.p,[te.C],{ngStyle:[0,"ngStyle"]},null),i.Nb(7,{width:0})],(function(e,t){var n=t.component,l=e(t,4,0,100===n.percentWidth);e(t,3,0,"progress__bar",l);var i=e(t,7,0,n.percentWidth+"%");e(t,6,0,i)}),null)}var Qk=function(){function e(e,t){this.store=e,this.changeDetecton=t,this.ngUnsubscribe=new $.a,this.storyLoadProgress=0}return e.prototype.ngOnInit=function(){var e=this;this.store.select(M_.getStoryLoadProgress).pipe(Object(G.a)(this.ngUnsubscribe),Object(Bf.a)(50)).subscribe((function(t){e.storyLoadProgress=t,e.changeDetecton.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e}(),Gk=i.wb({encapsulation:0,styles:[[".engine-progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:2}"]],data:{}});function Wk(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,1,"app-progress",[["class","engine-progress"]],null,null,null,$k,Vk)),i.xb(1,245760,null,0,Hk,[p.m,i.i],{total:[0,"total"],value:[1,"value"]},null)],(function(e,t){e(t,1,0,1,t.component.storyLoadProgress)}),null)}var qk=function(){function e(e,t){this.actions=e,this.changeDetectorRef=t,this.ngUnsubscribe=new $.a,this.show=!1}return e.prototype.ngOnInit=function(){var e=this;this.actions.pipe(Object(h.l)(ri),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.show=!0,e.changeDetectorRef.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.onShowDone=function(){this.show=!1},e}(),Yk=i.wb({encapsulation:0,styles:[[".text-8[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.2px;line-height:1.4em}.text-8.text-uppercase[_ngcontent-%COMP%]{font-size:8px;letter-spacing:.48px;line-height:1.25em;text-transform:uppercase}.text-9[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.225px;line-height:1.4em}.text-9.text-uppercase[_ngcontent-%COMP%]{font-size:9px;letter-spacing:.54px;line-height:1.25em;text-transform:uppercase}.text-10[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.25px;line-height:1.4em}.text-10.text-uppercase[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.6px;line-height:1.25em;text-transform:uppercase}.text-11[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.275px;line-height:1.4em}.text-11.text-uppercase[_ngcontent-%COMP%]{font-size:11px;letter-spacing:.66px;line-height:1.25em;text-transform:uppercase}.text-12[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;line-height:1.4em}.text-12.text-uppercase[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.72px;line-height:1.25em;text-transform:uppercase}.text-14[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.35px;line-height:1.4em}.text-14.text-uppercase[_ngcontent-%COMP%]{font-size:14px;letter-spacing:.84px;line-height:1.25em;text-transform:uppercase}.text-16[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.4px;line-height:1.4em}.text-16.text-uppercase[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.96px;line-height:1.25em;text-transform:uppercase}.text-18[_ngcontent-%COMP%]{font-size:18px;letter-spacing:.45px;line-height:1.4em}.text-18.text-uppercase[_ngcontent-%COMP%]{font-size:18px;letter-spacing:1.08px;line-height:1.25em;text-transform:uppercase}.text-20[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.5px;line-height:1.4em}.text-20.text-uppercase[_ngcontent-%COMP%]{font-size:20px;letter-spacing:1.2px;line-height:1.25em;text-transform:uppercase}.text-22[_ngcontent-%COMP%]{font-size:22px;letter-spacing:.55px;line-height:1.4em}.text-22.text-uppercase[_ngcontent-%COMP%]{font-size:22px;letter-spacing:1.32px;line-height:1.25em;text-transform:uppercase}.text-24[_ngcontent-%COMP%]{font-size:24px;letter-spacing:.6px;line-height:1.4em}.text-24.text-uppercase[_ngcontent-%COMP%]{font-size:24px;letter-spacing:1.44px;line-height:1.25em;text-transform:uppercase}.text-header[_ngcontent-%COMP%]{font-weight:700}.text--code[_ngcontent-%COMP%]{font-family:'Courier New',Courier,monospace}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.text-xlight[_ngcontent-%COMP%]{font-weight:200}.text-light[_ngcontent-%COMP%]{font-weight:300}.text-medium[_ngcontent-%COMP%]{font-weight:500}.text-semibold[_ngcontent-%COMP%]{font-weight:600}.text-bold[_ngcontent-%COMP%]{font-weight:700}.text-underline[_ngcontent-%COMP%]{text-decoration:underline}.text-italic[_ngcontent-%COMP%]{font-style:italic}.text-bright[_ngcontent-%COMP%]{color:#fff}.text-dim[_ngcontent-%COMP%]{color:#96a8c0}.text-error[_ngcontent-%COMP%]{color:#b31212}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.text-link[_ngcontent-%COMP%]{color:inherit}.text-success[_ngcontent-%COMP%]{color:#38de38}.text-danger[_ngcontent-%COMP%]{color:#de3838}.text-info[_ngcontent-%COMP%]{color:#0060c4}.engine-scroll[_ngcontent-%COMP%]{display:-webkit-box;display:flex;position:absolute;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0;z-index:10000;opacity:0;pointer-events:none}.engine-scroll__label[_ngcontent-%COMP%]{background:rgba(16,24,35,.5);font-size:16px;letter-spacing:.4px;line-height:1.4em;color:#fff;font-weight:600;padding:24px 32px;border-radius:40px}"]],data:{animation:[{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:2,steps:[{type:6,styles:{opacity:"*"},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"500ms ease-in-out"},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"500ms 2000ms ease-in-out"}],options:null}],options:null}],options:{}}]}});function Xk(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,"div",[["class","engine-scroll"]],[[24,"@show",0]],[[null,"@show.done"]],(function(e,t,n){var l=!0;return"@show.done"===t&&(l=!1!==e.component.onShowDone(n)&&l),l}),null,null)),(e()(),i.yb(1,0,null,null,1,"div",[["class","engine-scroll__label"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" Use control + scroll to zoom "]))],null,(function(e,t){e(t,0,0,void 0)}))}function Jk(e){return i.Ub(2,[(e()(),i.ob(16777216,null,null,1,null,Xk)),i.xb(1,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.show)}),null)}Object(VC.g)([Object(VC.m)({opacity:"0",backgroundColor:"*"}),Object(VC.k)([Object(VC.e)("{{ duration }}ms {{ easing }}",Object(VC.m)({opacity:1,backgroundColor:"{{ backgroundColor }}"})),Object(VC.e)("250ms 500ms ease-in",Object(VC.m)({opacity:0}))])],{params:{duration:2e3,backgroundColor:"#ffffff",easing:"ease-out"}});var Zk=function(){function e(e,t,n){this.actions=e,this.changeDetectorRef=t,this.store=n,this.color="#FFFFFF",this.duration=2e3,this.isVisible=!1,this.ngUnsubscribe=new $.a}return e.prototype.ngOnInit=function(){this.initFadeListener()},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initFadeListener=function(){var e=this;this.actions.pipe(Object(h.l)(ci),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.fadeIn(t.color,t.duration)}))},e.prototype.handleFadeComplete=function(){this.store.dispatch(new si),this.isVisible=!1,this.changeDetectorRef.markForCheck()},e.prototype.fadeIn=function(e,t){this.isVisible=!0,this.color=e,this.duration=1e3*t,this.changeDetectorRef.markForCheck()},e}(),eS=i.wb({encapsulation:2,styles:[[".engine-fade{pointer-events:none;display:block;position:absolute;left:0;right:0;top:0;bottom:0;z-index:10000}"]],data:{animation:[{type:7,name:"fade",definitions:[{type:1,expr:"* => true",animation:{type:10,animation:{type:8,animation:[{type:6,styles:{opacity:"0",backgroundColor:"*"},offset:null},{type:2,steps:[{type:4,styles:{type:6,styles:{opacity:1,backgroundColor:"{{ backgroundColor }}"},offset:null},timings:"{{ duration }}ms {{ easing }}"},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"250ms 500ms ease-in"}],options:null}],options:{params:{duration:2e3,backgroundColor:"#ffffff",easing:"ease-out"}}},options:null},options:null}],options:{}}]}});function tS(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,2,"div",[["class","engine-fade"]],[[24,"@fade",0]],[[null,"@fade.done"]],(function(e,t,n){var l=!0;return"@fade.done"===t&&(l=!1!==e.component.handleFadeComplete()&&l),l}),null,null)),i.Nb(1,{backgroundColor:0,duration:1}),i.Nb(2,{value:0,params:1})],null,(function(e,t){var n=t.component,l=e(t,2,0,n.isVisible,e(t,1,0,n.color,n.duration));e(t,0,0,l)}))}var nS=n("b7Yd"),lS=n("+gEr"),iS=function(){return(iS=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},oS=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},aS=function(e){return e[e.Pan=.4]="Pan",e[e.PanSlow=.04]="PanSlow",e[e.Zoom=5]="Zoom",e[e.ZoomSlow=1]="ZoomSlow",e[e.Rotate=.3]="Rotate",e[e.RotateSlow=.03]="RotateSlow",e}({}),rS=function(e){return e[e.Rotate=6]="Rotate",e[e.Pan=1.75]="Pan",e[e.Zoom=2]="Zoom",e}({}),uS=function(e){return e[e.Zoom=-12]="Zoom",e[e.Pan=2.5]="Pan",e[e.Rotate=1.5]="Rotate",e[e.Pinch=1.5]="Pinch",e}({}),cS=function(e){return e.Hide="engine--cursor-hide",e.Label="engine--cursor-label",e.Paint="engine--cursor-paint",e.Crosshair="engine--cursor-crosshair",e.Default="",e}({}),sS=function(e){return e[e.None=0]="None",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.LeftAndRight=4]="LeftAndRight",e}({}),pS=function(){function e(e,t,n,l,i,a,r,u,c){this.actions=e,this.animationService=t,this.cameraService=n,this.changeDetecton=l,this.engineEventsService=i,this.paintService=a,this.renderer=r,this.store=u,this.graphService=c,this.flyCamera=!0,this.chapterActivating=!1,this.visible=!1,this.application=o,this.cursorClass=cS.Default,this.mouseDelta=null,this.ngUnsubscribe=new $.a,this.hoveredNode=null,this.display=!1,this.engineVisible=!0,this.ctrlPressed=!1,this.scrollType=null,this.scrollTimeout=null,this.zoomVelocity=0,this.inputEnabled=!0}return Object.defineProperty(e.prototype,"isTransparentBackground",{get:function(){return!!this.background&&Xa.isTransparent(this.background)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBackgroundCheckered",{get:function(){return r.application!==o.Viewer&&this.isTransparentBackground},enumerable:!0,configurable:!0}),e.prototype.wheel=function(e){var t=this.store.selectSnapshot(Fc.getScrollMode),n=this.ctrlPressed;t!==tr.DoNotCaptureShowMessage||n||this.store.dispatch(new ri(!0)),(t===tr.Capture||n)&&(e.preventDefault(),this.handleWheel(e))},e.prototype.contextmenu=function(e){this.handleContextMenu(e)},e.prototype.mouseout=function(){this.handleMouseOut()},e.prototype.convertToLeafStateMap=function(e,t){var n={};return Object.entries(t).forEach((function(t){var l=oS(t,2),i=l[0],o=l[1];n[i]={},n[i][e]=o})),n},e.prototype.ngOnInit=function(){var e=this;this.bindEngineEvents(),this.bindApplicationEvents(),this.bindUserEvents(),this.bindKeyEvents(),this.bindHumanInteractions(),this.renderer.listen(window,"keydown",(function(t){"Control"===t.key&&(e.ctrlPressed=!0)})),this.renderer.listen(window,"keyup",(function(t){"Control"===t.key&&(e.ctrlPressed=!1)})),Human.properties.set({assetDomain:r.assetDomain}),Human.workers.setPath("/assets/engine/studio/workers"),Human.init.init()},e.prototype.ngOnDestroy=function(){this.changeDetecton.detach(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.initEventListeners=function(){},e.prototype.bindEngineEvents=function(){var e=this;this.engineEventsService.getEvent(Za.Loaded).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.store.dispatch(new ii(!0))})),this.engineEventsService.getEvent(Za.TimelineChaptersActivateStart).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.chapterActivating=!0})),this.engineEventsService.getEvent(Za.TimelineChaptersActivateFinish).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.chapterActivating=!1;var n=Human.timeline.activeRoot._nowBranch,l={id:n.id,init:!0,camera:n.initializedCamera,annotations:n.initializedAnnotations,graph:n.initializedGraph,properties:n.initializedProperties,particles:n.initializedParticles,clips:n.initializedClippingPlanes,postprocessing:n.initializedPostprocess,transparency:n.initializedTransparencyMode};e.store.dispatch(new hi(t.chapterId)),e.store.dispatch(new mi(l))})),this.engineEventsService.getEvent(Za.Tick).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(){e.visible&&(e.inputEnabled&&e.handleMouseInputEngineTick(),e.handleCameraTick())})),this.engineEventsService.getEvent(Za.SceneObjectsShown).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){if(!e.chapterActivating){var n=e.convertToLeafStateMap("shown",t.enabledObjectsUpdate);e.store.dispatch(new vi(n))}})),this.engineEventsService.getEvent(Za.SceneObjectRenderable).pipe(Object(nS.a)(1e3),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){if(t.length){var n={};t.forEach((function(e){n[e.objectId]={renderable:!0}})),e.store.dispatch(new xi(n))}})),this.engineEventsService.getEvent(Za.AssetsLoadProgress).pipe(Object(G.a)(this.ngUnsubscribe),Object(lS.b)((function(){return Object(Qa.a)(250)}))).subscribe((function(t){var n=e.store.selectSnapshot(Js.getLoadChunks).length,l=e.store.selectSnapshot(Js.getLoadChunksRemaining).length,i=t.receivedAssets/t.requestedAssets,o=1/n;e.store.dispatch(new P_(i*o+(n-l)*o,i))})),this.actions.pipe(Object(h.k)(Mo),Object(G.a)(this.ngUnsubscribe)).subscribe((function(){0===e.store.selectSnapshot(Js.getLoadChunksRemaining).length&&e.store.dispatch(new P_(1,1))}))},e.prototype.highlightXrayMode=function(e){var t=this,n=this.store.selectSnapshot(Fc.getViewGraph),l=this.graphService.getInverseSelection(n,e.map((function(e){return e.id})));this.graphService.getNodes(n,l).forEach((function(e){return t.paintService.paint(e,Jf.recipe)})),this.store.dispatch(new Ea(e))},e.prototype.highlightDefaultMode=function(e,t){this.paintService.highlightAll(t,!1),this.paintService.highlightAll(e,!0)},e.prototype.bindApplicationEvents=function(){var e=this;this.enginePosition$.pipe(Object(W.a)((function(e){return null!=e})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.repositionEngine(t)})),this.checkedNodes$.pipe(Object(G.a)(this.ngUnsubscribe),Object(Pe.a)()).subscribe((function(t){var n=oS(t,2),l=n[0],i=n[1];e.store.selectSnapshot(Fc.getXrayModeEnabled)?e.highlightXrayMode(i):e.highlightDefaultMode(i,l);var o=e.calculateSelectedObjectsUpdate(l||[],i||[]);Object(jt.isEmpty)(o)||e.engineEventsService.fireEvent(Za.SceneObjectsSelected,{selectedObjectsUpdate:o})})),this.store.select(Fc.getXrayModeEnabled).pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=e.store.selectSnapshot(ay.getCheckedNodes);!1===t?(e.store.selectSnapshot(Fc.getXrayCachedColorRecipes).forEach((function(t){return e.paintService.colorObject(t.objectId,t.recipe)})),e.highlightDefaultMode(n,[])):(e.paintService.highlightAll(n,!1),e.highlightXrayMode(n))})),this.actions.pipe(Object(h.l)(bc),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){t.animate?e.flyToPoint(t.camera,t.animationDuration):e.jumpToPoint(t.camera)})),this.actions.pipe(Object(h.l)(xc),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.cameraService.panCameraStatic(t.x,t.y,t.z)})),this.actions.pipe(Object(h.l)(Cc),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.cameraService.rotateCameraStatic(t.x,t.y)})),this.actions.pipe(Object(h.l)(yc),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.cameraService.setHumanZoomFactor(t.value)})),this.actions.pipe(Object(h.l)(yi),Object(W.a)((function(e){return!!e.objectId})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){t.animate?e.flyToObject(t.objectId,t.animationDuration):e.jumpToObject(t.objectId)})),this.selectedChapter$.pipe(Object(W.a)((function(e){return null!=e})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){$_(e.store,e.engineEventsService),e.background=e.store.selectSnapshot(Zc.getSelectedChapterBackground),Human.timeline.scrub({chapterId:t.id})})),this.background$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.background=t})),this.activeTool$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){switch(Object.values(cS).forEach((function(t){t&&e.renderer.removeClass(e.engineElement.nativeElement,t)})),t){case Kc.Hide:e.renderer.addClass(e.engineElement.nativeElement,cS.Hide);break;case Kc.Label:e.renderer.addClass(e.engineElement.nativeElement,cS.Label);break;case Kc.Paint:e.renderer.addClass(e.engineElement.nativeElement,cS.Paint);break;case Kc.Isolate:case Kc.Fade:e.renderer.addClass(e.engineElement.nativeElement,cS.Crosshair)}})),this.selectedChapter$.pipe(Object(W.a)((function(e){return null!=e&&e.readyState.animation})),Object(im.a)((function(e,t){return JSON.stringify(e)===JSON.stringify(t)})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){if(e.store.selectSnapshot(Fc.getEnableAutoplay)){var n=Object(jt.get)(t,"ui.play.autoplay",!0);e.store.dispatch(new ki(n))}})),Object(Id.b)(this.selectedChapter$,this.animationPlaying$).pipe(Object(W.a)((function(e){var t=oS(e,2)[0];return null!=t&&t.readyState.animation})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=oS(t,2),l=n[0];if(n[1]){var i=Object(jt.get)(l,"ui.play.count",0);e.animationService.play({startChapterId:l.id,loop:-1===i,numChapters:1,queue:!1})}else e.animationService.pause()})),this.engineDisplay$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.display=t,e.changeDetecton.markForCheck()})),this.engineVisible$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.engineVisible=t,e.changeDetecton.markForCheck()}))},e.prototype.bindUserEvents=function(){var e=this;this.mouseMove$=Object(Qg.a)(this.engineElement.nativeElement,"mousemove"),this.mouseMove$.pipe(Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleMousePan(t)})),this.mouseMove$.pipe(Object(cr.a)(10),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){e.handleMouseHover(t)}))},e.prototype.bindKeyEvents=function(){var e=this,t=["w","a","s","d","e","c","=","-","+","_","arrowleft","arrowright","arrowup","arrowdown","shiftKey"].reduce((function(e,t){return e[t]=!1,e}),{}),n=new Se.a(t);this.renderer.listen(window,"keydown",(function(e){var t;if(!(e.repeat||e.metaKey||e.ctrlKey)){var l=e.target.nodeName.toLowerCase();["input","textarea","select","option"].indexOf(l)>=0||n.next(iS({},n.value,((t={})[e.key.toLowerCase()]=!0,t.shiftKey=e.shiftKey,t)))}})),this.renderer.listen(window,"keyup",(function(e){var t;e.key&&n.next(iS({},n.value,((t={})[e.key.toLowerCase()]=!1,t.shiftKey=e.shiftKey,t)))})),n.pipe(Object(W.a)((function(){return e.inputEnabled})),Object(G.a)(this.ngUnsubscribe)).subscribe((function(t){var n=new Pc,l=t.shiftKey?aS.ZoomSlow:aS.Zoom,i=t.shiftKey?aS.PanSlow:aS.Pan,o=t.shiftKey?aS.RotateSlow:aS.Rotate;n.zoom+=t.c||t["-"]||t._?l:0,n.zoom-=t.e||t["="]||t["+"]?l:0,n.panX-=t.d?i:0,n.panX+=t.a?i:0,n.panY+=t.w?i:0,n.panY-=t.s?i:0,n.rotateX-=t.arrowright?o:0,n.rotateX+=t.arrowleft?o:0,n.rotateY+=t.arrowup?o:0,n.rotateY-=t.arrowdown?o:0,e.store.dispatch(new hc(n))}))},e.prototype.repositionEngine=function(e){this.renderer.setStyle(this.engineElement.nativeElement,"left",e.left+"px"),this.renderer.setStyle(this.engineElement.nativeElement,"top",e.top+"px"),this.renderer.setStyle(this.engineElement.nativeElement,"width",e.width+"px"),this.renderer.setStyle(this.engineElement.nativeElement,"height",e.height+"px"),this.renderer.setStyle(this.engineElement.nativeElement,"zIndex",""+e.visibility),this.renderer.setStyle(this.engineElement.nativeElement,"visibility",e.visibility===cc.Shown?"visible":"hidden"),this.visible=e.visibility===cc.Shown,Human.renderer.resize()},e.prototype.bindHumanInteractions=function(){var e=this,t=new S_.Manager(this.engineCanvasElement.nativeElement);t.add(new S_.Tap({event:"doubletap",taps:2})),t.add(new S_.Tap({event:"singletap"})),t.add(new S_.Pan({event:"pan",pointers:0})),t.add(new S_.Pinch),t.add(new S_.Press({time:500})),t.on("singletap",(function(t){e.handleTap(t)})),t.on("doubletap",(function(t){e.handleDoubleTap(t)})),t.on("press",(function(t){e.handlePress(t)})),t.on("pan",(function(t){t.preventDefault(),e.handlePan(t)}));var n=0,l="";t.on("pinchstart",(function(e){n=e.scale,l=""})),t.on("pinchmove",(function(t){var i=Math.abs(t.deltaX)>15||Math.abs(t.deltaY)>15,o=t.scale>1.1||t.scale<.9;l?("pan"===l&&o&&!i&&(l="pinch"),"pinch"===l&&i&&!o&&(l="pan")):l=i?"pan":"pinch";var a=t.scale-n;switch(n=t.scale,l){case"pan":e.cameraService.setCameraPan(t.velocityX,t.velocityY*uS.Pinch);break;case"pinch":Human.renderer.camera.zoom(a*uS.Zoom);break;default:e.cameraService.setCameraPan(t.velocityX,t.velocityY*uS.Pinch),Human.renderer.camera.zoom(a*uS.Zoom)}}))},e.prototype.handleMouseHover=function(e){if(e.buttons===sS.None){var t=Human.renderer.pick.pick(e.offsetX,e.offsetY);if(t.objectId){var n=this.store.selectSnapshot(Fc.getViewGraph),l=this.engineEventsService.getNode(n,t.objectId),i=this.store.selectSnapshot(ay.getHoveredNode);i&&i.id===l.id||this.store.dispatch(new ma(l,t))}else null!=this.store.selectSnapshot(ay.getHoveredNode)&&this.store.dispatch(new ma(null))}},e.prototype.handleMousePan=function(e){if(2===e.buttons||4===e.buttons){var t=e.movementX,n=e.movementY;this.cameraService.setCameraPan(t/=20,n/=20)}},e.prototype.handleMouseOut=function(){this.store.dispatch(new ma(null))},e.prototype.handleWheel=function(e){var t=this,n=0;switch(e.deltaMode){case 0:null===this.scrollType&&(this.scrollType=Math.abs(e.deltaY)<10?"trackpad":"wheel"),n="trackpad"===this.scrollType?e.deltaY:10*Math.sign(e.deltaY);break;default:this.scrollType="wheel",n=10*Math.sign(e.deltaY)}clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){t.scrollType=null}),500),Math.abs(n)>40&&(n=40*Math.sign(n)),"trackpad"===this.scrollType?this.cameraService.setCameraZoom(n):this.zoomWithVelocity(n)},e.prototype.zoomWithVelocity=function(e){var t=this;this.cameraService.setCameraZoom(e),requestAnimationFrame((function(){e*=.85,Math.abs(e)>1&&t.zoomWithVelocity(e)}))},e.prototype.handleContextMenu=function(e){e.preventDefault();var t=this.getHit(e.offsetX,e.offsetY);this.getNodeFromHit(t)},e.prototype.handleTap=function(e){var t=this.getOffset(e),n=this.getHit(t.offsetX,t.offsetY),l=this.getNodeFromHit(n);this.store.dispatch(new fi(l,e,n))},e.prototype.handleDoubleTap=function(e){var t=this.getOffset(e),n=this.getHit(t.offsetX,t.offsetY),l=this.getNodeFromHit(n);l&&this.store.dispatch(new yi(l.id))},e.prototype.handlePress=function(e){var t=this.getOffset(e),n=this.getHit(t.offsetX,t.offsetY),l=this.getNodeFromHit(n);l&&this.store.dispatch(new yi(l.id))},e.prototype.handlePan=function(e){var t=this.store.selectSnapshot(Tc.getPanMode),n=e.velocityX,l=e.velocityY;e.srcEvent.shiftKey||"pan"===t?this.cameraService.setCameraPan(n,l):this.cameraService.setCameraRotation(n*uS.Rotate,l*uS.Rotate)},e.prototype.handleMouseInputEngineTick=function(){var e=this.cameraService.tickCameraRotation(),t=this.cameraService.tickCameraPan(),n=this.cameraService.tickCameraZoom();if((e.vx||e.vy)&&this.cameraService.rotateCameraStatic(0!==e.vx?e.vx*rS.Rotate:0,0!==e.vy?e.vy*rS.Rotate:0),t.x||t.y){var l=Math.max(Human.renderer.camera.lookDistance/80,.01);this.cameraService.panCameraStatic(t.x*l*rS.Pan,t.y*l*rS.Pan,t.z*l*rS.Pan)}0!==n&&this.cameraService.setHumanZoom(n*rS.Zoom)},e.prototype.handleCameraTick=function(){var e=this.store.selectSnapshot(Tc.getCameraMotion);this.cameraService.setCameraPan(e.panX,e.panY),this.cameraService.setCameraRotation(e.rotateX,e.rotateY),this.cameraService.setCameraZoom(e.zoom)},e.prototype.flyToObject=function(e,t){Human.renderer.camera.fly.flyTo({objectId:e,animationDuration:t})},e.prototype.jumpToObject=function(e){Human.renderer.camera.fly.jumpTo({objectId:e})},e.prototype.flyToPoint=function(e,t){var n=this;Human.renderer.camera.fly.flyTo(iS({},e,{animationDuration:t}),(function(){n.store.dispatch(new gc)}))},e.prototype.jumpToPoint=function(e){Human.renderer.camera.fly.jumpTo(e)},e.prototype.getNodeFromHit=function(e){var t;if(e.objectId){var n=this.store.selectSnapshot(Fc.getViewGraph);t=this.engineEventsService.getNode(n,e.objectId)}return t},e.prototype.getHit=function(e,t){return Human.renderer.pick.pick(e,t,{rayPick:!0})},e.prototype.getContainerStyles=function(){var e={};return this.background&&!this.isTransparentBackground&&(e["background-image"]=Xa.toCSS(this.background)),this.display||(e.display="none"),this.engineVisible||(e.opacity=0),e},e.prototype.getOffset=function(e){var t=0,n=0;e.center?(t=e.center.x,n=e.center.y):(t=e.clientX,n=e.clientY);var l=this.engineElement.nativeElement.getBoundingClientRect();return{offsetX:t-l.left,offsetY:n-l.top}},e.prototype.calculateSelectedObjectsUpdate=function(e,t){var n=this.createNodeStateMap(e,!1),l=this.createNodeStateMap(t,!0);return iS({},n,l)},e.prototype.createNodeStateMap=function(e,t){return e.reduce((function(e,n){return e[n.id]=t,e}),{})},Object(g.__decorate)([Object(h.e)(Fc.getReady),Object(g.__metadata)("design:type",Q.a)],e.prototype,"ready$",void 0),Object(g.__decorate)([Object(h.e)(Fc.getViewGraph),Object(g.__metadata)("design:type",Q.a)],e.prototype,"viewGraph$",void 0),Object(g.__decorate)([Object(h.e)(Fc.getEnginePosition),Object(g.__metadata)("design:type",Q.a)],e.prototype,"enginePosition$",void 0),Object(g.__decorate)([Object(h.e)(ay.getHoveredNode),Object(g.__metadata)("design:type",Q.a)],e.prototype,"hoveredNode$",void 0),Object(g.__decorate)([Object(h.e)(Fc.getChapter),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapter$",void 0),Object(g.__decorate)([Object(h.e)(Fc.getChapterInit),Object(g.__metadata)("design:type",Q.a)],e.prototype,"chapterInit$",void 0),Object(g.__decorate)([Object(h.e)(ay.getCheckedNodes),Object(g.__metadata)("design:type",Q.a)],e.prototype,"checkedNodes$",void 0),Object(g.__decorate)([Object(h.e)(Fc.getActiveTool),Object(g.__metadata)("design:type",Q.a)],e.prototype,"activeTool$",void 0),Object(g.__decorate)([Object(h.e)(Fc.getAnimationPlaying),Object(g.__metadata)("design:type",Q.a)],e.prototype,"animationPlaying$",void 0),Object(g.__decorate)([Object(h.e)(Fc.getDisplay),Object(g.__metadata)("design:type",Q.a)],e.prototype,"engineDisplay$",void 0),Object(g.__decorate)([Object(h.e)(Fc.getVisible),Object(g.__metadata)("design:type",Q.a)],e.prototype,"engineVisible$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapter),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedChapter$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterId),Object(g.__metadata)("design:type",Q.a)],e.prototype,"selectedChapterId$",void 0),Object(g.__decorate)([Object(h.e)(Tc.getCameraMotion),Object(g.__metadata)("design:type",Q.a)],e.prototype,"cameraMotion$",void 0),Object(g.__decorate)([Object(h.e)(Zc.getSelectedChapterBackground),Object(g.__metadata)("design:type",Q.a)],e.prototype,"background$",void 0),e}(),dS=i.wb({encapsulation:0,styles:[[".engine[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;position:fixed;width:100vw;height:100vh;overflow:hidden;visibility:hidden;z-index:-1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.engine__canvas[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%;z-index:1}.engine__annotations[_ngcontent-%COMP%]{display:none}.engine--cursor-paint[_ngcontent-%COMP%]:hover{cursor:url(/assets/images/cursor-paint.png) 7 20,pointer}.engine--cursor-hide[_ngcontent-%COMP%]:hover{cursor:url(/assets/images/cursor-hide.png) 7 20,pointer}.engine--cursor-label[_ngcontent-%COMP%]:hover{cursor:url(/assets/images/cursor-label.png) 7 20,pointer}.engine--cursor-crosshair[_ngcontent-%COMP%]:hover{cursor:crosshair}.engine--checkered[_ngcontent-%COMP%]{background-color:#fff;background-size:24px 24px;background-position:0 0,12px 12px;background-image:linear-gradient(45deg,#d7e0ea 25%,transparent 25%,transparent 75%,#d7e0ea 75%,#d7e0ea),linear-gradient(45deg,#d7e0ea 25%,transparent 25%,transparent 75%,#d7e0ea 75%,#d7e0ea)}.engine__controls[_ngcontent-%COMP%]{position:absolute;right:16px;bottom:16px;z-index:2}.engine__progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:2}.engine__progress--hide[_ngcontent-%COMP%]{display:none}.engine__input-blocking[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:3}@media (max-width:768px){.engine__controls[_ngcontent-%COMP%]{bottom:96px}}"]],data:{}});function bS(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,0,"div",[["class","engine__input-blocking"]],null,null,null,null,null))],null,null)}function gS(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i.yb(1,0,null,null,1,"app-engine-camera-position",[],null,null,null,Ok,xk)),i.xb(2,114688,null,0,vk,[au,Pt,i.i],null,null)],(function(e,t){e(t,2,0)}),null)}function hS(e){return i.Ub(2,[i.Qb(402653184,1,{engineElement:0}),i.Qb(402653184,2,{engineCanvasElement:0}),i.Qb(402653184,3,{engineAnnotationsElement:0}),(e()(),i.yb(3,0,[[1,0],["engine",1]],null,16,"div",[["class","engine"],["id","container"],["role","main"]],[[2,"engine--checkered",null]],null,null,null,null)),i.Pb(512,null,te.C,te.D,[i.l,i.w,i.I]),i.xb(5,278528,null,0,te.p,[te.C],{ngStyle:[0,"ngStyle"]},null),(e()(),i.yb(6,0,[[2,0],["engineCanvas",1]],null,0,"canvas",[["class","engine__canvas"],["id","theCanvas"]],null,null,null,null,null)),(e()(),i.yb(7,0,[[3,0],["engineAnnotations",1]],null,0,"canvas",[["class","engine__annotations"],["id","annotationCanvas"]],null,null,null,null,null)),(e()(),i.yb(8,0,null,null,1,"app-labels",[],null,null,null,Bk,Ak)),i.xb(9,245760,null,0,Fk,[h.i,h.b,au,Pt,i.i,Au,i.l],null,null),(e()(),i.ob(16777216,null,null,1,null,bS)),i.xb(11,16384,null,0,te.m,[i.T,i.Q],{ngIf:[0,"ngIf"]},null),(e()(),i.yb(12,0,null,null,1,"app-engine-progress",[],null,null,null,Wk,Gk)),i.xb(13,245760,null,0,Qk,[h.i,i.i],null,null),(e()(),i.yb(14,0,null,null,1,"app-engine-scroll",[],null,null,null,Jk,Yk)),i.xb(15,245760,null,0,qk,[h.b,i.i],null,null),(e()(),i.yb(16,0,null,null,1,"app-engine-fade",[],null,null,null,tS,eS)),i.xb(17,245760,null,0,Zk,[h.b,i.i,h.i],null,null),(e()(),i.ob(16777216,null,null,1,null,gS)),i.xb(19,81920,null,0,Yv,[i.Q,i.T,p.m],{appFlagApplication:[0,"appFlagApplication"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.getContainerStyles()),e(t,9,0),e(t,11,0,!n.inputEnabled),e(t,13,0),e(t,15,0),e(t,17,0),e(t,19,0,n.application.Loft)}),(function(e,t){e(t,3,0,t.component.isBackgroundCheckered)}))}var mS=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},fS=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mS(arguments[t]));return e},yS=function(e){return e.JS="js",e.Config="config",e.Event="event",e}({}),_S=function(){function e(){var e=window;e.gtag||(e.dataLayer=e.dataLayer||[],e.gtag=function(){e.dataLayer.push(arguments)})}return e.prototype.init=function(e){this.analyticsId=e,this.gtag(yS.JS,new Date),this.gtag(yS.Config,e,{send_page_view:!1})},e.prototype.logPageView=function(e){this.gtag(yS.Config,this.analyticsId,{page_path:e})},e.prototype.logEvent=function(e,t){this.gtag(yS.Event,e,t)},e.prototype.gtag=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=window).gtag.apply(e,fS(t))},e.ngInjectableDef=i.Xb({factory:function(){return new e},token:e,providedIn:"root"}),e}(),vS=i.wb({encapsulation:0,styles:[[""]],data:{}});function xS(e){return i.Ub(2,[(e()(),i.yb(0,0,null,null,2,"app-engine",[],null,[[null,"wheel"],[null,"contextmenu"],[null,"mouseout"]],(function(e,t,n){var l=!0;return"wheel"===t&&(l=!1!==i.Kb(e,1).wheel(n)&&l),"contextmenu"===t&&(l=!1!==i.Kb(e,1).contextmenu(n)&&l),"mouseout"===t&&(l=!1!==i.Kb(e,1).mouseout(n)&&l),l}),hS,dS)),i.xb(1,245760,null,0,pS,[h.b,Gc,Pt,i.i,au,ty,i.I,h.i,Zr],{inputEnabled:[0,"inputEnabled"]},null),i.Mb(131072,te.b,[i.i]),(e()(),i.yb(3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i.xb(4,212992,null,0,p.q,[p.b,i.T,i.k,[8,null],i.i],null,null)],(function(e,t){var n=t.component;e(t,1,0,i.Tb(t,1,0,i.Kb(t,2).transform(n.inputEnabled$))),e(t,4,0)}),null)}function OS(e){return i.Ub(0,[(e()(),i.yb(0,0,null,null,1,"app-root",[],null,null,null,xS,vS)),i.xb(1,245760,null,0,q,[h.i,p.m,_S],null,null)],(function(e,t){e(t,1,0)}),null)}var wS=i.ub("app-root",q,OS,{},{},[]),CS=n("Wf4p"),jS=n("NSYL"),kS=n("M2Lx"),SS=n("uGex"),PS=n("OBdK"),IS=function(){return function(){}}(),MS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.accountUrl="biodigital.zendesk.com",t}return Object(g.__extends)(t,e),t.prototype.beforePageLoad=function(e){e.setLocale("en"),e.hide()},t}(IS),TS=function(){return function(){}}();function KS(){return window}var zS=function(){function e(e){var t=this;if(!e.accountUrl)throw new Error("Missing accountUrl. Please set in app config via ZendeskWidgetProvider");this.window=KS();var n=this.window;n.zEmbed||function(t,l){var i,o,a,r,u=[],c=document.createElement("iframe");n.zEmbed=function(){u.push(arguments)},n.zE=n.zE||n.zEmbed,c.src="javascript:false",c.title="",c.style.cssText="display: none",(a=(a=document.getElementsByTagName("script"))[a.length-1]).parentNode.insertBefore(c,a),r=c.contentWindow.document;try{o=r}catch(t){i=document.domain,c.src='javascript:var d=document.open();d.domain="'+i+'";void(0);',o=r}o.open()._l=function(){var t=this.createElement("script");i&&(this.domain=i),t.id="js-iframe-async",t.src="https://assets.zendesk.com/embeddable_framework/main.js",this.t=+new Date,this.zendeskHost=e.accountUrl,this.zEQueue=u,this.body.appendChild(t)},o.write('<body onload="document._l();">'),o.close()}(),this.window.zE((function(){e.beforePageLoad(t.window.zE)}))}return e.prototype.setLocale=function(e){var t=this;this.window.zE((function(){t.window.zE.setLocale(e)}))},e.prototype.identify=function(e){var t=this;this.window.zE((function(){t.window.zE.identify(e)}))},e.prototype.hide=function(){var e=this;this.window.zE((function(){e.window.zE.hide()}))},e.prototype.show=function(){var e=this;this.window.zE((function(){e.window.zE.show()}))},e.prototype.activate=function(e){var t=this;this.window.zE((function(){t.window.zE.activate(e)}))},e.prototype.setHelpCenterSuggestions=function(e){var t=this;this.window.zE((function(){t.window.zE.setHelpCenterSuggestions(e)}))},e.prototype.setSettings=function(e){this.window.zESettings=e},e.ngInjectableDef=i.Xb({factory:function(){return new e(i.Yb(IS))},token:e,providedIn:"root"}),e}(),LS=function(){return function(){}}(),ES=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)a.push(l.value)}catch(r){i={error:r}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},US=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ES(arguments[t]));return e},FS=Zs.categories,AS={query:"",loading:!0,searching:!1,searchResults:[],sort:Ip,checkedSearchResults:[],selectedCategory:null},DS=function(){function e(e,t,n){this.exploreService=e,this.bookmarksService=t,this.store=n}return e.getSearchResults=function(e){var t=e.searchResults;if(e.searching)return t;var n=e.sort;return Dp(t,n.fields,n.ascending)},e.getCheckedSearchResults=function(e){return e.checkedSearchResults},e.getLoading=function(e){return e.loading},e.getSort=function(e){return e.sort},e.getSelectedCategory=function(e){return e.selectedCategory},e.getSearchQuery=function(e){return e.query},e.prototype.load=function(e,t){var n=t.category;e.patchState({loading:!0});var l=this.store.selectSnapshot(Ra.getUserLanguage);(n===ip.Public?this.bookmarksService.getPublicBookmarks():this.exploreService.getAnatomyCategory("",n,l)).pipe(Object(L.a)((function(){e.patchState({loading:!1})}))).subscribe((function(t){t.forEach((function(e){"module"===e.type&&(e.id=e.module_name.replace(".json",""))})),e.dispatch(new Ni(t))}))},e.prototype.search=function(e,t){var n=t.query;e.patchState({query:n,searching:!0,loading:!0});var l=this.store.selectSnapshot(Ra.getUserLanguage);this.exploreService.search(n,[],l).pipe(Object(L.a)((function(){return e.patchState({loading:!1})}))).subscribe((function(t){return e.dispatch(new Ni(t))}))},e.prototype.setSearching=function(e,t){e.patchState({searching:t.searching})},e.prototype.loadSuccess=function(e,t){(0,e.patchState)({searchResults:t.searchResults})},e.prototype.sortSearchResults=function(e,t){var n=e.getState().searchResults;e.patchState({sort:t.sort,searchResults:US(n)})},e.prototype.resetSearchResults=function(e,t){e.patchState({searchResults:[],checkedSearchResults:[]})},e.prototype.checkSearchResult=function(e,t){var n=e.getState().checkedSearchResults,l=n.some((function(e){return e===t.id}));t.checked&&!l?n=US(n,[t.id]):t.checked||(n=n.filter((function(e){return e!==t.id}))),e.patchState({checkedSearchResults:n})},e.prototype.setCheckedSearchResults=function(e,t){e.patchState({checkedSearchResults:t.ids})},e.prototype.selectCategory=function(e,t){var n=t.tag?t.tag.toLowerCase():"";e.patchState({selectedCategory:FS.find((function(e){return e.id.toLowerCase()===n}))})},e.prototype.resetExplore=function(e,t){e.setState(AS)},Object(g.__decorate)([Object(h.a)(Fi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Fi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"load",null),Object(g.__decorate)([Object(h.a)(Ai),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ai]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"search",null),Object(g.__decorate)([Object(h.a)(Di),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Di]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setSearching",null),Object(g.__decorate)([Object(h.a)(Ni),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ni]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"loadSuccess",null),Object(g.__decorate)([Object(h.a)(Ri),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Ri]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"sortSearchResults",null),Object(g.__decorate)([Object(h.a)(Bi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Bi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetSearchResults",null),Object(g.__decorate)([Object(h.a)(Hi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Hi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"checkSearchResult",null),Object(g.__decorate)([Object(h.a)(Vi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Vi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setCheckedSearchResults",null),Object(g.__decorate)([Object(h.a)($i),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,$i]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"selectCategory",null),Object(g.__decorate)([Object(h.a)(Qi),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,Qi]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetExplore",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[LS]),Object(g.__metadata)("design:returntype",void 0)],e,"getSearchResults",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[LS]),Object(g.__metadata)("design:returntype",void 0)],e,"getCheckedSearchResults",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[LS]),Object(g.__metadata)("design:returntype",void 0)],e,"getLoading",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[LS]),Object(g.__metadata)("design:returntype",void 0)],e,"getSort",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[LS]),Object(g.__metadata)("design:returntype",void 0)],e,"getSelectedCategory",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[LS]),Object(g.__metadata)("design:returntype",void 0)],e,"getSearchQuery",null),Object(g.__decorate)([Object(h.g)({name:"explore",defaults:AS})],e)}(),NS=function(){return function(){}}(),RS={theme:function(e){return e.Light="theme-light",e.Dark="theme-dark",e}({}).Light},BS=function(){function e(){}return e.getTheme=function(e){return e.theme},e.prototype.setTheme=function(e,t){(0,e.patchState)({theme:t.theme})},e.prototype.resetLayout=function(e,t){e.setState(RS)},Object(g.__decorate)([Object(h.a)(ga),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ga]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"setTheme",null),Object(g.__decorate)([Object(h.a)(ha),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,ha]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"resetLayout",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[NS]),Object(g.__metadata)("design:returntype",void 0)],e,"getTheme",null),Object(g.__decorate)([Object(h.g)({name:"layout",defaults:RS})],e)}(),HS=function(){return function(){}}(),VS=function(){function e(e){this.dialogService=e}return e.getOpenDialog=function(e){return e.openDialog},e.prototype.openPremiumContent=function(e,t){this.dialogService.openPremiumContentDialog().afterClosed().subscribe((function(t){e.dispatch(new kd.ClosePremiumContent(t))}))},e.prototype.closePremiumContent=function(e,t){t.confirmed&&e.dispatch(new kd.OpenUpgrade)},e.prototype.openUpgrade=function(e,t){this.dialogService.openUpgradeDialog()},Object(g.__decorate)([Object(h.a)(kd.OpenPremiumContent),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,kd.OpenPremiumContent]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"openPremiumContent",null),Object(g.__decorate)([Object(h.a)(kd.ClosePremiumContent),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,kd.ClosePremiumContent]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"closePremiumContent",null),Object(g.__decorate)([Object(h.a)(kd.OpenUpgrade),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[Object,kd.OpenUpgrade]),Object(g.__metadata)("design:returntype",void 0)],e.prototype,"openUpgrade",null),Object(g.__decorate)([Object(h.f)(),Object(g.__metadata)("design:type",Function),Object(g.__metadata)("design:paramtypes",[HS]),Object(g.__metadata)("design:returntype",void 0)],e,"getOpenDialog",null),Object(g.__decorate)([Object(h.g)({name:"dialog",defaults:{openDialog:null}})],e)}(),$S=function(){return($S=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},QS=function(){function e(){}return e.prototype.resolve=function(e){var t=$S({},e.queryParams);return Ey(Object.keys(t).reduce((function(e,n){var l=Array.isArray(t[n]);return e[n]=l?Object(jt.last)(t[n]):t[n],e}),{}))},e}(),GS=n("1mzF"),WS=function(){return function(){}}(),qS=function(){return function(){}}(),YS=n("y4qS"),XS=n("UodH"),JS=n("8mMr"),ZS=n("u7R8"),eP=n("/dO6"),tP={duration:3e3},nP={disabled:!0,animation:{enterDuration:0,exitDuration:0}},lP=function(){return function(){}}(),iP=function(){return function(){}}(),oP=function(){return function(){}}(),aP=function(){return function(){}}(),rP=function(){return function(){}}(),uP=function(){return function(){}}(),cP=function(){return function(){}}(),sP=function(){return function(){}}(),pP=function(){return function(){}}(),dP=function(){return function(){}}(),bP=function(){return function(){}}(),gP=function(){return function(){}}(),hP=function(){return function(){}}(),mP=function(){return function(){}}(),fP=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:t,useClass:t},{provide:zS,useClass:zS,deps:[t]}]}},e}(),yP=function(){return function(){}}(),_P=function(){return function(){}}(),vP=function(){return function(){}}(),xP=function(){return function(){}}(),OP=function(){return function(){}}(),wP=function(){return function(){}}(),CP=function(){return function(){}}(),jP=function(){return function(){}}(),kP=function(){return function(){}}(),SP=function(){return function(){}}(),PP=function(){return function(){}}(),IP=function(){return function(){}}(),MP=function(){return function(){}}(),TP=function(){return function(){}}(),KP=function(){return function(){}}(),zP=function(){return function(){}}(),LP=function(){return function(){}}(),EP=function(){return function(){}}(),UP=function(){return function(){}}(),FP=function(){return function(){}}(),AP=function(){return function(){}}(),DP=function(){return function(){}}(),NP=function(){return function(){}}(),RP=function(){return function(){}}(),BP=function(){return function(){}}(),HP=function(){return function(){}}(),VP=function(){return function(){}}(),$P=function(){return function(){}}(),QP=function(){return function(){}}(),GP=function(){return function(){}}(),WP=function(){return function(){}}(),qP=n("YSh2"),YP=i.vb(b,[q],(function(e){return i.Hb([i.Ib(512,i.k,i.hb,[[8,[Y.a,X.a,J.a,J.b,Z.a,ee.a,yb,Ob,Pb,Hb,cg,bg,vg,jg,Tg,Ug,Ng,Vg,sh,Kh,Bh,Pf,Nf,r_,Hv,ak,_k,wS]],[3,i.k],i.A]),i.Ib(5120,i.x,al,[]),i.Ib(4608,te.o,te.n,[i.x,[2,te.F]]),i.Ib(4608,Ny,Ny,[Rj.a,h.i]),i.Ib(5120,i.pb,i.tb,[i.C]),i.Ib(5120,i.c,i.qb,[]),i.Ib(5120,i.v,i.rb,[]),i.Ib(5120,i.w,i.sb,[]),i.Ib(4608,$a.b,$a.l,[te.d]),i.Ib(6144,i.L,null,[$a.b]),i.Ib(4608,$a.e,CS.b,[[2,CS.d],[2,CS.f]]),i.Ib(5120,$a.c,(function(e,t,n,l,i,o,a,r){return[new $a.j(e,t,n),new $a.o(l),new $a.n(i,o,a,r)]}),[te.d,i.C,i.E,te.d,te.d,$a.e,i.ib,[2,$a.f]]),i.Ib(4608,$a.d,$a.d,[$a.c,i.C]),i.Ib(135680,$a.m,$a.m,[te.d]),i.Ib(4608,$a.k,$a.k,[$a.d,$a.m,i.c]),i.Ib(5120,jS.a,ge.e,[]),i.Ib(5120,jS.c,ge.f,[]),i.Ib(4608,jS.b,ge.d,[te.d,jS.a,jS.c]),i.Ib(5120,i.J,ge.g,[$a.k,jS.b,i.C]),i.Ib(6144,$a.p,null,[$a.m]),i.Ib(4608,i.R,i.R,[i.C]),i.Ib(4608,VC.b,ge.c,[i.J,te.d]),i.Ib(4608,u.j,u.p,[te.d,i.E,u.n]),i.Ib(4608,u.q,u.q,[u.j,u.o]),i.Ib(5120,u.a,(function(e){return[e,new s]}),[u.q]),i.Ib(4608,u.m,u.m,[]),i.Ib(6144,u.k,null,[u.m]),i.Ib(4608,u.i,u.i,[u.k]),i.Ib(6144,u.b,null,[u.i]),i.Ib(4608,u.f,u.l,[u.b,i.t]),i.Ib(4608,u.c,u.c,[u.f]),i.Ib(4608,Kw.d,Kw.d,[te.d,i.C,dh.j,Kw.f]),i.Ib(4608,kS.c,kS.c,[]),i.Ib(4608,We.a,We.a,[We.g,We.c,i.k,We.f,We.d,i.t,i.C,te.d,qe.b,[2,te.h]]),i.Ib(5120,We.h,We.i,[We.a]),i.Ib(5120,SS.a,SS.b,[We.a]),i.Ib(5120,ke.c,ke.j,[We.a]),i.Ib(4608,CS.a,CS.a,[]),i.Ib(5120,Zd.c,Zd.d,[We.a]),i.Ib(135680,Zd.e,Zd.e,[We.a,i.t,[2,te.h],[2,Zd.b],Zd.c,[3,Zd.e],We.c]),i.Ib(5120,ph.b,ph.c,[We.a]),i.Ib(135680,be.e,be.e,[i.C,bh.a]),i.Ib(4608,PS.b,PS.b,[i.Q]),i.Ib(4608,ae.z,ae.z,[]),i.Ib(4608,Ye.d,Ye.d,[]),i.Ib(4608,It.a,It.a,[[2,"PapaParseGlobalConfig"]]),i.Ib(4608,ae.f,ae.f,[]),i.Ib(4608,MS,MS,[]),i.Ib(4608,zS,zS,[MS]),i.Ib(4608,Js,Js,[h.i,tc,Gs]),i.Ib(4608,Zc,Zc,[Wu,Pt,ac,h.i,Zr,Gc]),i.Ib(4608,Fp,Fp,[Au]),i.Ib(4608,Fc,Fc,[Zr,au]),i.Ib(4608,Tc,Tc,[Pt]),i.Ib(4608,ay,ay,[h.i,Zr,au,Qf,ty]),i.Ib(4608,M_,M_,[h.i]),i.Ib(4608,Ha,Ha,[Vt,h.i]),i.Ib(4608,Vp,Vp,[h.i,tc,op,tp,Vt,rp]),i.Ib(4608,Wy,Wy,[h.i,au,Wu]),i.Ib(4608,DS,DS,[tp,op,h.i]),i.Ib(4608,BS,BS,[]),i.Ib(4608,sp,sp,[rp,Vt]),i.Ib(5120,"virtual-scroller-default-options",Km.a,[]),i.Ib(4608,$d,$d,[rp,xd,tp,op]),i.Ib(4608,VS,VS,[tb]),i.Ib(4608,jy,jy,[]),i.Ib(4608,V,V,[z,K]),i.Ib(4608,QS,QS,[]),i.Ib(5120,p.a,p.A,[p.m]),i.Ib(4608,p.f,p.f,[]),i.Ib(6144,p.h,null,[p.f]),i.Ib(135680,p.r,p.r,[p.m,i.z,i.j,i.t,p.h]),i.Ib(4608,p.g,p.g,[]),i.Ib(5120,p.F,p.w,[p.m,te.w,p.i]),i.Ib(5120,p.j,p.D,[p.B]),i.Ib(5120,i.b,(function(e,t){return[e,h.d.appBootstrapListenerFactory(t)]}),[p.j,GS.c]),i.Ib(4608,h.b,h.b,[h.m,h.A]),i.Ib(256,h.d.ROOT_OPTIONS,{},[]),i.Ib(1024,h.r,h.d.ngxsConfigFactory,[h.d.ROOT_OPTIONS]),i.Ib(512,h.m,h.m,[]),i.Ib(512,h.v,h.v,[]),i.Ib(512,h.h,h.h,[]),i.Ib(1024,i.n,$a.q,[]),i.Ib(512,h.z,h.z,[[3,h.z],[2,h.c]]),i.Ib(512,h.s,h.G,[i.C,i.E]),i.Ib(512,h.A,h.A,[h.s]),i.Ib(512,h.w,h.w,[i.n,h.m,h.v,h.z,h.h,h.A]),i.Ib(1024,h.q,h.d.isAngularInTestMode,[]),i.Ib(1024,h.p,h.d.isAngularDevMode,[]),i.Ib(512,h.C,h.C,[h.q,h.p]),i.Ib(512,h.B,h.B,[h.C,h.r]),i.Ib(512,h.y,h.y,[h.h,h.w,h.r,h.B]),i.Ib(512,h.x,h.x,[h.y]),i.Ib(1024,GS.a,h.d.getInitialState,[]),i.Ib(512,h.u,h.u,[i.t,h.r,[3,h.u],h.m,h.v,h.x,[2,GS.a]]),i.Ib(512,h.i,h.i,[h.h,h.y,h.r,h.A,[2,GS.a]]),i.Ib(512,h.D,h.D,[h.i,h.r]),i.Ib(256,h.n,[],[]),i.Ib(512,GS.c,GS.c,[]),i.Ib(512,h.E,h.E,[h.y,h.x,GS.c]),i.Ib(1073742336,h.t,h.t,[h.u,h.y,h.i,h.D,[2,h.n],h.r,h.E]),i.Ib(1024,h.o,(function(){return[[Ny],[Js,Zc,Fp],[Fc,Tc,ay,M_],[Ha],[Vp],[Wy],[DS,BS],[sp],[$d],[VS],[jy],[V]]}),[]),i.Ib(1073742336,h.F,h.F,[h.i,h.y,h.u,[2,h.o],h.E]),i.Ib(1073742336,te.c,te.c,[]),i.Ib(1073742336,WS,WS,[]),i.Ib(1073742336,ul,ul,[]),i.Ib(1024,i.B,(function(){return[p.v()]}),[]),i.Ib(512,p.B,p.B,[i.t]),i.Ib(1024,i.d,(function(e,t){return[$a.r(e),p.C(t)]}),[[2,i.B],p.B]),i.Ib(512,i.e,i.e,[[2,i.d]]),i.Ib(131584,i.g,i.g,[i.C,i.ib,i.t,i.n,i.k,i.e]),i.Ib(1073742336,i.f,i.f,[i.g]),i.Ib(1073742336,$a.a,$a.a,[[3,$a.a]]),i.Ib(1073742336,ge.b,ge.b,[]),i.Ib(1073742336,u.e,u.e,[]),i.Ib(1073742336,u.d,u.d,[]),i.Ib(1073742336,qS,qS,[]),i.Ib(1073742336,Kw.e,Kw.e,[]),i.Ib(1073742336,YS.a,YS.a,[]),i.Ib(1073742336,qe.a,qe.a,[]),i.Ib(1073742336,CS.f,CS.f,[[2,CS.c],[2,$a.f]]),i.Ib(1073742336,bh.b,bh.b,[]),i.Ib(1073742336,CS.j,CS.j,[]),i.Ib(1073742336,kS.d,kS.d,[]),i.Ib(1073742336,de.d,de.d,[]),i.Ib(1073742336,de.c,de.c,[]),i.Ib(1073742336,XS.c,XS.c,[]),i.Ib(1073742336,Oe.d,Oe.d,[]),i.Ib(1073742336,Nw.f,Nw.f,[]),i.Ib(1073742336,dh.g,dh.g,[]),i.Ib(1073742336,We.e,We.e,[]),i.Ib(1073742336,CS.h,CS.h,[]),i.Ib(1073742336,CS.g,CS.g,[]),i.Ib(1073742336,$g.b,$g.b,[]),i.Ib(1073742336,SS.c,SS.c,[]),i.Ib(1073742336,ke.i,ke.i,[]),i.Ib(1073742336,ke.f,ke.f,[]),i.Ib(1073742336,JS.a,JS.a,[]),i.Ib(1073742336,ZS.a,ZS.a,[]),i.Ib(1073742336,eP.b,eP.b,[]),i.Ib(1073742336,Zd.k,Zd.k,[]),i.Ib(1073742336,be.a,be.a,[]),i.Ib(1073742336,ph.e,ph.e,[]),i.Ib(1073742336,nb.f,nb.f,[]),i.Ib(1073742336,hh.b,hh.b,[]),i.Ib(1073742336,PS.a,PS.a,[]),i.Ib(1073742336,lP,lP,[]),i.Ib(1073742336,ae.y,ae.y,[]),i.Ib(1073742336,ae.j,ae.j,[]),i.Ib(1073742336,iP,iP,[]),i.Ib(1073742336,oP,oP,[]),i.Ib(1073742336,Rf.b,Rf.b,[]),i.Ib(1073742336,aP,aP,[]),i.Ib(1073742336,rP,rP,[]),i.Ib(1073742336,Ye.c,Ye.c,[]),i.Ib(1073742336,uP,uP,[]),i.Ib(1073742336,cP,cP,[]),i.Ib(1073742336,sP,sP,[]),i.Ib(1073742336,pP,pP,[]),i.Ib(1073742336,It.b,It.b,[]),i.Ib(1073742336,dP,dP,[]),i.Ib(1073742336,bP,bP,[]),i.Ib(1073742336,ae.u,ae.u,[]),i.Ib(1073742336,gP,gP,[]),i.Ib(1073742336,hP,hP,[]),i.Ib(1073742336,mP,mP,[]),i.Ib(1073742336,fP,fP,[]),i.Ib(1073742336,TS,TS,[]),i.Ib(1073742336,yP,yP,[]),i.Ib(1073742336,_P,_P,[]),i.Ib(1073742336,vP,vP,[]),i.Ib(1024,p.u,p.y,[[3,p.m]]),i.Ib(512,p.t,d,[]),i.Ib(512,p.b,p.b,[]),i.Ib(256,p.i,{},[]),i.Ib(1024,te.i,p.x,[te.v,[2,te.a],p.i]),i.Ib(512,te.h,te.h,[te.i,te.v]),i.Ib(512,i.j,i.j,[]),i.Ib(512,i.z,i.O,[i.j,[2,i.P]]),i.Ib(1024,p.k,(function(){return[[],[{path:"",component:L_,resolve:{widgetUrlConfig:QS},children:[{path:"",component:Nj},{path:"error",component:bk}]}]]}),[]),i.Ib(1024,p.m,p.z,[i.g,p.t,p.b,te.h,i.t,i.z,i.j,p.k,p.i,[2,p.s],[2,p.l]]),i.Ib(1073742336,p.p,p.p,[[2,p.u],[2,p.m]]),i.Ib(1073742336,xP,xP,[]),i.Ib(1073742336,OP,OP,[]),i.Ib(1073742336,wP,wP,[]),i.Ib(1073742336,CP,CP,[]),i.Ib(1073742336,jP,jP,[]),i.Ib(1073742336,kP,kP,[]),i.Ib(1073742336,SP,SP,[]),i.Ib(1073742336,PP,PP,[]),i.Ib(1073742336,IP,IP,[]),i.Ib(1073742336,MP,MP,[]),i.Ib(1073742336,TP,TP,[]),i.Ib(1073742336,KP,KP,[]),i.Ib(1073742336,zP,zP,[]),i.Ib(1073742336,LP,LP,[]),i.Ib(1073742336,EP,EP,[]),i.Ib(1073742336,UP,UP,[]),i.Ib(1073742336,FP,FP,[]),i.Ib(1073742336,AP,AP,[]),i.Ib(1073742336,DP,DP,[]),i.Ib(1073742336,Km.c,Km.c,[]),i.Ib(1073742336,NP,NP,[]),i.Ib(1073742336,RP,RP,[]),i.Ib(1073742336,BP,BP,[]),i.Ib(1073742336,HP,HP,[]),i.Ib(1073742336,VP,VP,[]),i.Ib(1073742336,$P,$P,[]),i.Ib(1073742336,QP,QP,[]),i.Ib(1073742336,GP,GP,[]),i.Ib(1073742336,WP,WP,[]),i.Ib(1073742336,b,b,[]),i.Ib(256,i.gb,!0,[]),i.Ib(256,ge.a,"BrowserAnimations",[]),i.Ib(256,u.n,"XSRF-TOKEN",[]),i.Ib(256,u.o,"X-XSRF-TOKEN",[]),i.Ib(256,eP.a,{separatorKeyCodes:[qP.f]},[]),i.Ib(256,nb.b,tP,[]),i.Ib(256,CS.e,nP,[]),i.Ib(256,"options",{preset:Rf.c},[])])}));r.production&&Object(i.Y)(),$a.i().bootstrapModuleFactory(YP).catch((function(e){return console.error(e)}))},crnd:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},qpAl:function(e,t){!function(t){var n="Modernizr"in t,l=t.Modernizr;!function(e,t,n){function l(e,t){return typeof e===t}function i(e,t){return!!~(""+e).indexOf(t)}function o(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):_?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function a(e,n,l,i){var a,r,u,c,s="modernizr",p=o("div"),d=function(){var e=t.body;return e||((e=o(_?"svg":"body")).fake=!0),e}();if(parseInt(l,10))for(;l--;)(u=o("div")).id=i?i[l]:s+(l+1),p.appendChild(u);return(a=o("style")).type="text/css",a.id="s"+s,(d.fake?d:p).appendChild(a),d.appendChild(p),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),p.id=s,d.fake&&(d.style.background="",d.style.overflow="hidden",c=y.style.overflow,y.style.overflow="hidden",y.appendChild(d)),r=n(p,e),d.fake?(d.parentNode.removeChild(d),y.style.overflow=c):p.parentNode.removeChild(p),!!r}function r(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function u(t,n,l){var i;if("getComputedStyle"in e){i=getComputedStyle.call(e,t,n);var o=e.console;null!==i?l&&(i=i.getPropertyValue(l)):o&&o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else i=!n&&t.currentStyle&&t.currentStyle[l];return i}function c(t,l){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(r(t[i]),l))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];i--;)o.push("("+r(t[i])+":"+l+")");return a("@supports ("+(o=o.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"===u(e,null,"position")}))}return n}function s(e){return e.replace(/([a-z])-([a-z])/g,(function(e,t,n){return t+n.toUpperCase()})).replace(/^-/,"")}function p(e,t,a,r){function u(){d&&(delete w.style,delete w.modElem)}if(r=!l(r,"undefined")&&r,!l(a,"undefined")){var p=c(e,a);if(!l(p,"undefined"))return p}for(var d,b,g,h,m,f=["modernizr","tspan","samp"];!w.style&&f.length;)d=!0,w.modElem=o(f.shift()),w.style=w.modElem.style;for(g=e.length,b=0;b<g;b++)if(m=w.style[h=e[b]],i(h,"-")&&(h=s(h)),w.style[h]!==n){if(r||l(a,"undefined"))return u(),"pfx"!==t||h;try{w.style[h]=a}catch(e){}if(w.style[h]!==m)return u(),"pfx"!==t||h}return u(),!1}function d(e,t){return function(){return e.apply(t,arguments)}}function b(e,t,n,i,o){var a=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+x.join(a+" ")+a).split(" ");return l(t,"string")||l(t,"undefined")?p(r,t,i,o):function(e,t,n){var i;for(var o in e)if(e[o]in t)return!1===n?e[o]:l(i=t[e[o]],"function")?d(i,n||t):i;return!1}(r=(e+" "+C.join(a+" ")+a).split(" "),t,n)}var g=[],h={_version:"3.8.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){g.push({name:e,fn:t,options:n})},addAsyncTest:function(e){g.push({name:null,fn:e})}},m=function(){};m.prototype=h,m=new m;var f=[],y=t.documentElement,_="svg"===y.nodeName.toLowerCase(),v="Moz O ms Webkit",x=h._config.usePrefixes?v.split(" "):[];h._cssomPrefixes=x;var O={elem:o("modernizr")};m._q.push((function(){delete O.elem}));var w={style:O.elem.style};m._q.unshift((function(){delete w.style}));var C=h._config.usePrefixes?v.toLowerCase().split(" "):[];h._domPrefixes=C,h.testAllProps=b;var j=function(t){var l,i=prefixes.length,o=e.CSSRule;if(void 0===o)return n;if(!t)return!1;if((l=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in o)return"@"+t;for(var a=0;a<i;a++){var r=prefixes[a];if(r.toUpperCase()+"_"+l in o)return"@-"+r.toLowerCase()+"-"+t}return!1};h.atRule=j;var k=h.prefixed=function(e,t,n){return 0===e.indexOf("@")?j(e):(-1!==e.indexOf("-")&&(e=s(e)),t?b(e,t,n):b(e,"pfx"))};m.addTest("fullscreen",!(!k("exitFullscreen",t,!1)&&!k("cancelFullScreen",t,!1))),function(){var e,t,n,i,o,a;for(var r in g)if(g.hasOwnProperty(r)){if(e=[],(t=g[r]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i=l(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)1===(a=e[o].split(".")).length?m[a[0]]=i:(m[a[0]]&&(!m[a[0]]||m[a[0]]instanceof Boolean)||(m[a[0]]=new Boolean(m[a[0]])),m[a[0]][a[1]]=i),f.push((i?"":"no-")+a.join("-"))}}(),function(e){var t=y.className,n=m._config.classPrefix||"";if(_&&(t=t.baseVal),m._config.enableJSClass){var l=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(l,"$1"+n+"js$2")}m._config.enableClasses&&(e.length>0&&(t+=" "+n+e.join(" "+n)),_?y.className.baseVal=t:y.className=t)}(f),delete h.addTest,delete h.addAsyncTest;for(var S=0;S<m._q.length;S++)m._q[S]();e.Modernizr=m}(t,document),e.exports=t.Modernizr,n?t.Modernizr=l:delete t.Modernizr}(window)}},[[0,0,3]]]);
//# sourceMappingURL=main-es5.206715556218748f2243.js.map